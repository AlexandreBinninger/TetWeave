function qU(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function wu(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var $_={exports:{}},Xm={},H_={exports:{}},gn={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var d2;function YU(){if(d2)return gn;d2=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),s=Symbol.for("react.context"),a=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),m=Symbol.iterator;function g(W){return W===null||typeof W!="object"?null:(W=m&&W[m]||W["@@iterator"],typeof W=="function"?W:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,S={};function _(W,le,Ie){this.props=W,this.context=le,this.refs=S,this.updater=Ie||y}_.prototype.isReactComponent={},_.prototype.setState=function(W,le){if(typeof W!="object"&&typeof W!="function"&&W!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,W,le,"setState")},_.prototype.forceUpdate=function(W){this.updater.enqueueForceUpdate(this,W,"forceUpdate")};function b(){}b.prototype=_.prototype;function C(W,le,Ie){this.props=W,this.context=le,this.refs=S,this.updater=Ie||y}var T=C.prototype=new b;T.constructor=C,x(T,_.prototype),T.isPureReactComponent=!0;var A=Array.isArray,P=Object.prototype.hasOwnProperty,R={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function z(W,le,Ie){var fe,Me={},De=null,Le=null;if(le!=null)for(fe in le.ref!==void 0&&(Le=le.ref),le.key!==void 0&&(De=""+le.key),le)P.call(le,fe)&&!k.hasOwnProperty(fe)&&(Me[fe]=le[fe]);var ge=arguments.length-2;if(ge===1)Me.children=Ie;else if(1<ge){for(var be=Array(ge),Fe=0;Fe<ge;Fe++)be[Fe]=arguments[Fe+2];Me.children=be}if(W&&W.defaultProps)for(fe in ge=W.defaultProps,ge)Me[fe]===void 0&&(Me[fe]=ge[fe]);return{$$typeof:t,type:W,key:De,ref:Le,props:Me,_owner:R.current}}function L(W,le){return{$$typeof:t,type:W.type,key:le,ref:W.ref,props:W.props,_owner:W._owner}}function O(W){return typeof W=="object"&&W!==null&&W.$$typeof===t}function B(W){var le={"=":"=0",":":"=2"};return"$"+W.replace(/[=:]/g,function(Ie){return le[Ie]})}var j=/\/+/g;function X(W,le){return typeof W=="object"&&W!==null&&W.key!=null?B(""+W.key):le.toString(36)}function ee(W,le,Ie,fe,Me){var De=typeof W;(De==="undefined"||De==="boolean")&&(W=null);var Le=!1;if(W===null)Le=!0;else switch(De){case"string":case"number":Le=!0;break;case"object":switch(W.$$typeof){case t:case e:Le=!0}}if(Le)return Le=W,Me=Me(Le),W=fe===""?"."+X(Le,0):fe,A(Me)?(Ie="",W!=null&&(Ie=W.replace(j,"$&/")+"/"),ee(Me,le,Ie,"",function(Fe){return Fe})):Me!=null&&(O(Me)&&(Me=L(Me,Ie+(!Me.key||Le&&Le.key===Me.key?"":(""+Me.key).replace(j,"$&/")+"/")+W)),le.push(Me)),1;if(Le=0,fe=fe===""?".":fe+":",A(W))for(var ge=0;ge<W.length;ge++){De=W[ge];var be=fe+X(De,ge);Le+=ee(De,le,Ie,be,Me)}else if(be=g(W),typeof be=="function")for(W=be.call(W),ge=0;!(De=W.next()).done;)De=De.value,be=fe+X(De,ge++),Le+=ee(De,le,Ie,be,Me);else if(De==="object")throw le=String(W),Error("Objects are not valid as a React child (found: "+(le==="[object Object]"?"object with keys {"+Object.keys(W).join(", ")+"}":le)+"). If you meant to render a collection of children, use an array instead.");return Le}function K(W,le,Ie){if(W==null)return W;var fe=[],Me=0;return ee(W,fe,"","",function(De){return le.call(Ie,De,Me++)}),fe}function ne(W){if(W._status===-1){var le=W._result;le=le(),le.then(function(Ie){(W._status===0||W._status===-1)&&(W._status=1,W._result=Ie)},function(Ie){(W._status===0||W._status===-1)&&(W._status=2,W._result=Ie)}),W._status===-1&&(W._status=0,W._result=le)}if(W._status===1)return W._result.default;throw W._result}var se={current:null},V={transition:null},Q={ReactCurrentDispatcher:se,ReactCurrentBatchConfig:V,ReactCurrentOwner:R};function Z(){throw Error("act(...) is not supported in production builds of React.")}return gn.Children={map:K,forEach:function(W,le,Ie){K(W,function(){le.apply(this,arguments)},Ie)},count:function(W){var le=0;return K(W,function(){le++}),le},toArray:function(W){return K(W,function(le){return le})||[]},only:function(W){if(!O(W))throw Error("React.Children.only expected to receive a single React element child.");return W}},gn.Component=_,gn.Fragment=n,gn.Profiler=i,gn.PureComponent=C,gn.StrictMode=r,gn.Suspense=c,gn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Q,gn.act=Z,gn.cloneElement=function(W,le,Ie){if(W==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+W+".");var fe=x({},W.props),Me=W.key,De=W.ref,Le=W._owner;if(le!=null){if(le.ref!==void 0&&(De=le.ref,Le=R.current),le.key!==void 0&&(Me=""+le.key),W.type&&W.type.defaultProps)var ge=W.type.defaultProps;for(be in le)P.call(le,be)&&!k.hasOwnProperty(be)&&(fe[be]=le[be]===void 0&&ge!==void 0?ge[be]:le[be])}var be=arguments.length-2;if(be===1)fe.children=Ie;else if(1<be){ge=Array(be);for(var Fe=0;Fe<be;Fe++)ge[Fe]=arguments[Fe+2];fe.children=ge}return{$$typeof:t,type:W.type,key:Me,ref:De,props:fe,_owner:Le}},gn.createContext=function(W){return W={$$typeof:s,_currentValue:W,_currentValue2:W,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},W.Provider={$$typeof:o,_context:W},W.Consumer=W},gn.createElement=z,gn.createFactory=function(W){var le=z.bind(null,W);return le.type=W,le},gn.createRef=function(){return{current:null}},gn.forwardRef=function(W){return{$$typeof:a,render:W}},gn.isValidElement=O,gn.lazy=function(W){return{$$typeof:f,_payload:{_status:-1,_result:W},_init:ne}},gn.memo=function(W,le){return{$$typeof:d,type:W,compare:le===void 0?null:le}},gn.startTransition=function(W){var le=V.transition;V.transition={};try{W()}finally{V.transition=le}},gn.unstable_act=Z,gn.useCallback=function(W,le){return se.current.useCallback(W,le)},gn.useContext=function(W){return se.current.useContext(W)},gn.useDebugValue=function(){},gn.useDeferredValue=function(W){return se.current.useDeferredValue(W)},gn.useEffect=function(W,le){return se.current.useEffect(W,le)},gn.useId=function(){return se.current.useId()},gn.useImperativeHandle=function(W,le,Ie){return se.current.useImperativeHandle(W,le,Ie)},gn.useInsertionEffect=function(W,le){return se.current.useInsertionEffect(W,le)},gn.useLayoutEffect=function(W,le){return se.current.useLayoutEffect(W,le)},gn.useMemo=function(W,le){return se.current.useMemo(W,le)},gn.useReducer=function(W,le,Ie){return se.current.useReducer(W,le,Ie)},gn.useRef=function(W){return se.current.useRef(W)},gn.useState=function(W){return se.current.useState(W)},gn.useSyncExternalStore=function(W,le,Ie){return se.current.useSyncExternalStore(W,le,Ie)},gn.useTransition=function(){return se.current.useTransition()},gn.version="18.3.1",gn}var f2;function Np(){return f2||(f2=1,H_.exports=YU()),H_.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var h2;function KU(){if(h2)return Xm;h2=1;var t=Np(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function s(a,c,d){var f,m={},g=null,y=null;d!==void 0&&(g=""+d),c.key!==void 0&&(g=""+c.key),c.ref!==void 0&&(y=c.ref);for(f in c)r.call(c,f)&&!o.hasOwnProperty(f)&&(m[f]=c[f]);if(a&&a.defaultProps)for(f in c=a.defaultProps,c)m[f]===void 0&&(m[f]=c[f]);return{$$typeof:e,type:a,key:g,ref:y,props:m,_owner:i.current}}return Xm.Fragment=n,Xm.jsx=s,Xm.jsxs=s,Xm}var p2;function ZU(){return p2||(p2=1,$_.exports=KU()),$_.exports}var ie=ZU(),D=Np();const ae=wu(D),Qw=qU({__proto__:null,default:ae},[D]),ho=(...t)=>t.filter(Boolean).map(e=>e.trim()).join(" ");function JU(t,e){return`${t} returned \`undefined\`. Seems you forgot to wrap component within ${e}`}function Ig(t={}){const{name:e,strict:n=!0,hookName:r="useContext",providerName:i="Provider",errorMessage:o,defaultValue:s}=t,a=D.createContext(s);a.displayName=e;function c(){var f;const d=D.useContext(a);if(!d&&n){const m=new Error(o??JU(r,i));throw m.name="ContextError",(f=Error.captureStackTrace)==null||f.call(Error,m,c),m}return d}return[a.Provider,c,a]}function QU(...t){return function(...n){t.forEach(r=>r==null?void 0:r(...n))}}const eB=(...t)=>t.map(e=>{var n;return(n=e==null?void 0:e.trim)==null?void 0:n.call(e)}).filter(Boolean).join(" "),tB=/^on[A-Z]/;function vp(...t){let e={};for(let n of t){for(let r in e){if(tB.test(r)&&typeof e[r]=="function"&&typeof n[r]=="function"){e[r]=QU(e[r],n[r]);continue}if(r==="className"||r==="class"){e[r]=eB(e[r],n[r]);continue}if(r==="style"){e[r]=Object.assign({},e[r]??{},n[r]??{});continue}e[r]=n[r]!==void 0?n[r]:e[r]}for(let r in n)e[r]===void 0&&(e[r]=n[r])}return e}const nB=Object.freeze({}),rB=Object.freeze({});function LO(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var iB=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,oB=LO(function(t){return iB.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91});function sB(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function aB(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var lB=function(){function t(n){var r=this;this._insertTag=function(i){var o;r.tags.length===0?r.insertionPoint?o=r.insertionPoint.nextSibling:r.prepend?o=r.container.firstChild:o=r.before:o=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,o),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(aB(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var o=sB(i);try{o.insertRule(r,o.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){var i;return(i=r.parentNode)==null?void 0:i.removeChild(r)}),this.tags=[],this.ctr=0},t}(),$i="-ms-",kx="-moz-",An="-webkit-",NO="comm",bC="rule",_C="decl",cB="@import",DO="@keyframes",uB="@layer",dB=Math.abs,rb=String.fromCharCode,fB=Object.assign;function hB(t,e){return Mi(t,0)^45?(((e<<2^Mi(t,0))<<2^Mi(t,1))<<2^Mi(t,2))<<2^Mi(t,3):0}function FO(t){return t.trim()}function pB(t,e){return(t=e.exec(t))?t[0]:t}function In(t,e,n){return t.replace(e,n)}function eE(t,e){return t.indexOf(e)}function Mi(t,e){return t.charCodeAt(e)|0}function Zg(t,e,n){return t.slice(e,n)}function $a(t){return t.length}function SC(t){return t.length}function q0(t,e){return e.push(t),t}function mB(t,e){return t.map(e).join("")}var ib=1,yp=1,zO=0,Uo=0,Hr=0,Dp="";function ob(t,e,n,r,i,o,s){return{value:t,root:e,parent:n,type:r,props:i,children:o,line:ib,column:yp,length:s,return:""}}function qm(t,e){return fB(ob("",null,null,"",null,null,0),t,{length:-t.length},e)}function gB(){return Hr}function vB(){return Hr=Uo>0?Mi(Dp,--Uo):0,yp--,Hr===10&&(yp=1,ib--),Hr}function rs(){return Hr=Uo<zO?Mi(Dp,Uo++):0,yp++,Hr===10&&(yp=1,ib++),Hr}function Ga(){return Mi(Dp,Uo)}function ux(){return Uo}function Tv(t,e){return Zg(Dp,t,e)}function Jg(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function UO(t){return ib=yp=1,zO=$a(Dp=t),Uo=0,[]}function BO(t){return Dp="",t}function dx(t){return FO(Tv(Uo-1,tE(t===91?t+2:t===40?t+1:t)))}function yB(t){for(;(Hr=Ga())&&Hr<33;)rs();return Jg(t)>2||Jg(Hr)>3?"":" "}function xB(t,e){for(;--e&&rs()&&!(Hr<48||Hr>102||Hr>57&&Hr<65||Hr>70&&Hr<97););return Tv(t,ux()+(e<6&&Ga()==32&&rs()==32))}function tE(t){for(;rs();)switch(Hr){case t:return Uo;case 34:case 39:t!==34&&t!==39&&tE(Hr);break;case 40:t===41&&tE(t);break;case 92:rs();break}return Uo}function bB(t,e){for(;rs()&&t+Hr!==57;)if(t+Hr===84&&Ga()===47)break;return"/*"+Tv(e,Uo-1)+"*"+rb(t===47?t:rs())}function _B(t){for(;!Jg(Ga());)rs();return Tv(t,Uo)}function SB(t){return BO(fx("",null,null,null,[""],t=UO(t),0,[0],t))}function fx(t,e,n,r,i,o,s,a,c){for(var d=0,f=0,m=s,g=0,y=0,x=0,S=1,_=1,b=1,C=0,T="",A=i,P=o,R=r,k=T;_;)switch(x=C,C=rs()){case 40:if(x!=108&&Mi(k,m-1)==58){eE(k+=In(dx(C),"&","&\f"),"&\f")!=-1&&(b=-1);break}case 34:case 39:case 91:k+=dx(C);break;case 9:case 10:case 13:case 32:k+=yB(x);break;case 92:k+=xB(ux()-1,7);continue;case 47:switch(Ga()){case 42:case 47:q0(wB(bB(rs(),ux()),e,n),c);break;default:k+="/"}break;case 123*S:a[d++]=$a(k)*b;case 125*S:case 59:case 0:switch(C){case 0:case 125:_=0;case 59+f:b==-1&&(k=In(k,/\f/g,"")),y>0&&$a(k)-m&&q0(y>32?g2(k+";",r,n,m-1):g2(In(k," ","")+";",r,n,m-2),c);break;case 59:k+=";";default:if(q0(R=m2(k,e,n,d,f,i,a,T,A=[],P=[],m),o),C===123)if(f===0)fx(k,e,R,R,A,o,m,a,P);else switch(g===99&&Mi(k,3)===110?100:g){case 100:case 108:case 109:case 115:fx(t,R,R,r&&q0(m2(t,R,R,0,0,i,a,T,i,A=[],m),P),i,P,m,a,r?A:P);break;default:fx(k,R,R,R,[""],P,0,a,P)}}d=f=y=0,S=b=1,T=k="",m=s;break;case 58:m=1+$a(k),y=x;default:if(S<1){if(C==123)--S;else if(C==125&&S++==0&&vB()==125)continue}switch(k+=rb(C),C*S){case 38:b=f>0?1:(k+="\f",-1);break;case 44:a[d++]=($a(k)-1)*b,b=1;break;case 64:Ga()===45&&(k+=dx(rs())),g=Ga(),f=m=$a(T=k+=_B(ux())),C++;break;case 45:x===45&&$a(k)==2&&(S=0)}}return o}function m2(t,e,n,r,i,o,s,a,c,d,f){for(var m=i-1,g=i===0?o:[""],y=SC(g),x=0,S=0,_=0;x<r;++x)for(var b=0,C=Zg(t,m+1,m=dB(S=s[x])),T=t;b<y;++b)(T=FO(S>0?g[b]+" "+C:In(C,/&\f/g,g[b])))&&(c[_++]=T);return ob(t,e,n,i===0?bC:a,c,d,f)}function wB(t,e,n){return ob(t,e,n,NO,rb(gB()),Zg(t,2,-2),0)}function g2(t,e,n,r){return ob(t,e,n,_C,Zg(t,0,r),Zg(t,r+1,-1),r)}function dp(t,e){for(var n="",r=SC(t),i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function EB(t,e,n,r){switch(t.type){case uB:if(t.children.length)break;case cB:case _C:return t.return=t.return||t.value;case NO:return"";case DO:return t.return=t.value+"{"+dp(t.children,r)+"}";case bC:t.value=t.props.join(",")}return $a(n=dp(t.children,r))?t.return=t.value+"{"+n+"}":""}function CB(t){var e=SC(t);return function(n,r,i,o){for(var s="",a=0;a<e;a++)s+=t[a](n,r,i,o)||"";return s}}function MB(t){return function(e){e.root||(e=e.return)&&t(e)}}var TB=function(e,n,r){for(var i=0,o=0;i=o,o=Ga(),i===38&&o===12&&(n[r]=1),!Jg(o);)rs();return Tv(e,Uo)},PB=function(e,n){var r=-1,i=44;do switch(Jg(i)){case 0:i===38&&Ga()===12&&(n[r]=1),e[r]+=TB(Uo-1,n,r);break;case 2:e[r]+=dx(i);break;case 4:if(i===44){e[++r]=Ga()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=rb(i)}while(i=rs());return e},RB=function(e,n){return BO(PB(UO(e),n))},v2=new WeakMap,AB=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!v2.get(r))&&!i){v2.set(e,!0);for(var o=[],s=RB(n,o),a=r.props,c=0,d=0;c<s.length;c++)for(var f=0;f<a.length;f++,d++)e.props[d]=o[c]?s[c].replace(/&\f/g,a[f]):a[f]+" "+s[c]}}},IB=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function VO(t,e){switch(hB(t,e)){case 5103:return An+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return An+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return An+t+kx+t+$i+t+t;case 6828:case 4268:return An+t+$i+t+t;case 6165:return An+t+$i+"flex-"+t+t;case 5187:return An+t+In(t,/(\w+).+(:[^]+)/,An+"box-$1$2"+$i+"flex-$1$2")+t;case 5443:return An+t+$i+"flex-item-"+In(t,/flex-|-self/,"")+t;case 4675:return An+t+$i+"flex-line-pack"+In(t,/align-content|flex-|-self/,"")+t;case 5548:return An+t+$i+In(t,"shrink","negative")+t;case 5292:return An+t+$i+In(t,"basis","preferred-size")+t;case 6060:return An+"box-"+In(t,"-grow","")+An+t+$i+In(t,"grow","positive")+t;case 4554:return An+In(t,/([^-])(transform)/g,"$1"+An+"$2")+t;case 6187:return In(In(In(t,/(zoom-|grab)/,An+"$1"),/(image-set)/,An+"$1"),t,"")+t;case 5495:case 3959:return In(t,/(image-set\([^]*)/,An+"$1$`$1");case 4968:return In(In(t,/(.+:)(flex-)?(.*)/,An+"box-pack:$3"+$i+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+An+t+t;case 4095:case 3583:case 4068:case 2532:return In(t,/(.+)-inline(.+)/,An+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if($a(t)-1-e>6)switch(Mi(t,e+1)){case 109:if(Mi(t,e+4)!==45)break;case 102:return In(t,/(.+:)(.+)-([^]+)/,"$1"+An+"$2-$3$1"+kx+(Mi(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~eE(t,"stretch")?VO(In(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(Mi(t,e+1)!==115)break;case 6444:switch(Mi(t,$a(t)-3-(~eE(t,"!important")&&10))){case 107:return In(t,":",":"+An)+t;case 101:return In(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+An+(Mi(t,14)===45?"inline-":"")+"box$3$1"+An+"$2$3$1"+$i+"$2box$3")+t}break;case 5936:switch(Mi(t,e+11)){case 114:return An+t+$i+In(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return An+t+$i+In(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return An+t+$i+In(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return An+t+$i+t+t}return t}var kB=function(e,n,r,i){if(e.length>-1&&!e.return)switch(e.type){case _C:e.return=VO(e.value,e.length);break;case DO:return dp([qm(e,{value:In(e.value,"@","@"+An)})],i);case bC:if(e.length)return mB(e.props,function(o){switch(pB(o,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return dp([qm(e,{props:[In(o,/:(read-\w+)/,":"+kx+"$1")]})],i);case"::placeholder":return dp([qm(e,{props:[In(o,/:(plac\w+)/,":"+An+"input-$1")]}),qm(e,{props:[In(o,/:(plac\w+)/,":"+kx+"$1")]}),qm(e,{props:[In(o,/:(plac\w+)/,$i+"input-$1")]})],i)}return""})}},OB=[kB],LB=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(S){var _=S.getAttribute("data-emotion");_.indexOf(" ")!==-1&&(document.head.appendChild(S),S.setAttribute("data-s",""))})}var i=e.stylisPlugins||OB,o={},s,a=[];s=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(S){for(var _=S.getAttribute("data-emotion").split(" "),b=1;b<_.length;b++)o[_[b]]=!0;a.push(S)});var c,d=[AB,IB];{var f,m=[EB,MB(function(S){f.insert(S)})],g=CB(d.concat(i,m)),y=function(_){return dp(SB(_),g)};c=function(_,b,C,T){f=C,y(_?_+"{"+b.styles+"}":b.styles),T&&(x.inserted[b.name]=!0)}}var x={key:n,sheet:new lB({key:n,container:s,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:o,registered:{},insert:c};return x.sheet.hydrate(a),x};function Sr(){return Sr=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Sr.apply(null,arguments)}var W_={exports:{}},Ln={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var y2;function NB(){if(y2)return Ln;y2=1;var t=typeof Symbol=="function"&&Symbol.for,e=t?Symbol.for("react.element"):60103,n=t?Symbol.for("react.portal"):60106,r=t?Symbol.for("react.fragment"):60107,i=t?Symbol.for("react.strict_mode"):60108,o=t?Symbol.for("react.profiler"):60114,s=t?Symbol.for("react.provider"):60109,a=t?Symbol.for("react.context"):60110,c=t?Symbol.for("react.async_mode"):60111,d=t?Symbol.for("react.concurrent_mode"):60111,f=t?Symbol.for("react.forward_ref"):60112,m=t?Symbol.for("react.suspense"):60113,g=t?Symbol.for("react.suspense_list"):60120,y=t?Symbol.for("react.memo"):60115,x=t?Symbol.for("react.lazy"):60116,S=t?Symbol.for("react.block"):60121,_=t?Symbol.for("react.fundamental"):60117,b=t?Symbol.for("react.responder"):60118,C=t?Symbol.for("react.scope"):60119;function T(P){if(typeof P=="object"&&P!==null){var R=P.$$typeof;switch(R){case e:switch(P=P.type,P){case c:case d:case r:case o:case i:case m:return P;default:switch(P=P&&P.$$typeof,P){case a:case f:case x:case y:case s:return P;default:return R}}case n:return R}}}function A(P){return T(P)===d}return Ln.AsyncMode=c,Ln.ConcurrentMode=d,Ln.ContextConsumer=a,Ln.ContextProvider=s,Ln.Element=e,Ln.ForwardRef=f,Ln.Fragment=r,Ln.Lazy=x,Ln.Memo=y,Ln.Portal=n,Ln.Profiler=o,Ln.StrictMode=i,Ln.Suspense=m,Ln.isAsyncMode=function(P){return A(P)||T(P)===c},Ln.isConcurrentMode=A,Ln.isContextConsumer=function(P){return T(P)===a},Ln.isContextProvider=function(P){return T(P)===s},Ln.isElement=function(P){return typeof P=="object"&&P!==null&&P.$$typeof===e},Ln.isForwardRef=function(P){return T(P)===f},Ln.isFragment=function(P){return T(P)===r},Ln.isLazy=function(P){return T(P)===x},Ln.isMemo=function(P){return T(P)===y},Ln.isPortal=function(P){return T(P)===n},Ln.isProfiler=function(P){return T(P)===o},Ln.isStrictMode=function(P){return T(P)===i},Ln.isSuspense=function(P){return T(P)===m},Ln.isValidElementType=function(P){return typeof P=="string"||typeof P=="function"||P===r||P===d||P===o||P===i||P===m||P===g||typeof P=="object"&&P!==null&&(P.$$typeof===x||P.$$typeof===y||P.$$typeof===s||P.$$typeof===a||P.$$typeof===f||P.$$typeof===_||P.$$typeof===b||P.$$typeof===C||P.$$typeof===S)},Ln.typeOf=T,Ln}var x2;function DB(){return x2||(x2=1,W_.exports=NB()),W_.exports}var G_,b2;function FB(){if(b2)return G_;b2=1;var t=DB(),e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},n={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},r={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},i={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},o={};o[t.ForwardRef]=r,o[t.Memo]=i;function s(x){return t.isMemo(x)?i:o[x.$$typeof]||e}var a=Object.defineProperty,c=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,f=Object.getOwnPropertyDescriptor,m=Object.getPrototypeOf,g=Object.prototype;function y(x,S,_){if(typeof S!="string"){if(g){var b=m(S);b&&b!==g&&y(x,b,_)}var C=c(S);d&&(C=C.concat(d(S)));for(var T=s(x),A=s(S),P=0;P<C.length;++P){var R=C[P];if(!n[R]&&!(_&&_[R])&&!(A&&A[R])&&!(T&&T[R])){var k=f(S,R);try{a(x,R,k)}catch{}}}}return x}return G_=y,G_}FB();var zB=!0;function $O(t,e,n){var r="";return n.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):i&&(r+=i+" ")}),r}var wC=function(e,n,r){var i=e.key+"-"+n.name;(r===!1||zB===!1)&&e.registered[i]===void 0&&(e.registered[i]=n.styles)},EC=function(e,n,r){wC(e,n,r);var i=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var o=n;do e.insert(n===o?"."+i:"",o,e.sheet,!0),o=o.next;while(o!==void 0)}};function UB(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var BB={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},VB=/[A-Z]|^ms/g,$B=/_EMO_([^_]+?)_([^]*?)_EMO_/g,HO=function(e){return e.charCodeAt(1)===45},_2=function(e){return e!=null&&typeof e!="boolean"},j_=LO(function(t){return HO(t)?t:t.replace(VB,"-$&").toLowerCase()}),S2=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace($B,function(r,i,o){return Ha={name:i,styles:o,next:Ha},i})}return BB[e]!==1&&!HO(e)&&typeof n=="number"&&n!==0?n+"px":n};function Qg(t,e,n){if(n==null)return"";var r=n;if(r.__emotion_styles!==void 0)return r;switch(typeof n){case"boolean":return"";case"object":{var i=n;if(i.anim===1)return Ha={name:i.name,styles:i.styles,next:Ha},i.name;var o=n;if(o.styles!==void 0){var s=o.next;if(s!==void 0)for(;s!==void 0;)Ha={name:s.name,styles:s.styles,next:Ha},s=s.next;var a=o.styles+";";return a}return HB(t,e,n)}case"function":{if(t!==void 0){var c=Ha,d=n(t);return Ha=c,Qg(t,e,d)}break}}var f=n;if(e==null)return f;var m=e[f];return m!==void 0?m:f}function HB(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=Qg(t,e,n[i])+";";else for(var o in n){var s=n[o];if(typeof s!="object"){var a=s;e!=null&&e[a]!==void 0?r+=o+"{"+e[a]+"}":_2(a)&&(r+=j_(o)+":"+S2(o,a)+";")}else if(Array.isArray(s)&&typeof s[0]=="string"&&(e==null||e[s[0]]===void 0))for(var c=0;c<s.length;c++)_2(s[c])&&(r+=j_(o)+":"+S2(o,s[c])+";");else{var d=Qg(t,e,s);switch(o){case"animation":case"animationName":{r+=j_(o)+":"+d+";";break}default:r+=o+"{"+d+"}"}}}return r}var w2=/label:\s*([^\s;{]+)\s*(;|$)/g,Ha;function CC(t,e,n){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var r=!0,i="";Ha=void 0;var o=t[0];if(o==null||o.raw===void 0)r=!1,i+=Qg(n,e,o);else{var s=o;i+=s[0]}for(var a=1;a<t.length;a++)if(i+=Qg(n,e,t[a]),r){var c=o;i+=c[a]}w2.lastIndex=0;for(var d="",f;(f=w2.exec(i))!==null;)d+="-"+f[1];var m=UB(i)+d;return{name:m,styles:i,next:Ha}}var WB=function(e){return e()},WO=Qw.useInsertionEffect?Qw.useInsertionEffect:!1,GO=WO||WB,E2=WO||D.useLayoutEffect,jO=D.createContext(typeof HTMLElement<"u"?LB({key:"css"}):null);jO.Provider;var MC=function(e){return D.forwardRef(function(n,r){var i=D.useContext(jO);return e(n,i,r)})},TC=D.createContext({}),PC={}.hasOwnProperty,nE="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",GB=function(e,n){var r={};for(var i in n)PC.call(n,i)&&(r[i]=n[i]);return r[nE]=e,r},jB=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return wC(n,r,i),GO(function(){return EC(n,r,i)}),null},XB=MC(function(t,e,n){var r=t.css;typeof r=="string"&&e.registered[r]!==void 0&&(r=e.registered[r]);var i=t[nE],o=[r],s="";typeof t.className=="string"?s=$O(e.registered,o,t.className):t.className!=null&&(s=t.className+" ");var a=CC(o,void 0,D.useContext(TC));s+=e.key+"-"+a.name;var c={};for(var d in t)PC.call(t,d)&&d!=="css"&&d!==nE&&(c[d]=t[d]);return c.className=s,n&&(c.ref=n),D.createElement(D.Fragment,null,D.createElement(jB,{cache:e,serialized:a,isStringTag:typeof i=="string"}),D.createElement(i,c))}),qB=XB,C2=function(e,n){var r=arguments;if(n==null||!PC.call(n,"css"))return D.createElement.apply(void 0,r);var i=r.length,o=new Array(i);o[0]=qB,o[1]=GB(e,n);for(var s=2;s<i;s++)o[s]=r[s];return D.createElement.apply(null,o)};(function(t){var e;e||(e=t.JSX||(t.JSX={}))})(C2||(C2={}));var M2=MC(function(t,e){var n=t.styles,r=CC([n],void 0,D.useContext(TC)),i=D.useRef();return E2(function(){var o=e.key+"-global",s=new e.sheet.constructor({key:o,nonce:e.sheet.nonce,container:e.sheet.container,speedy:e.sheet.isSpeedy}),a=!1,c=document.querySelector('style[data-emotion="'+o+" "+r.name+'"]');return e.sheet.tags.length&&(s.before=e.sheet.tags[0]),c!==null&&(a=!0,c.setAttribute("data-emotion",o),s.hydrate([c])),i.current=[s,a],function(){s.flush()}},[e]),E2(function(){var o=i.current,s=o[0],a=o[1];if(a){o[1]=!1;return}if(r.next!==void 0&&EC(e,r.next,!0),s.tags.length){var c=s.tags[s.tags.length-1].nextElementSibling;s.before=c,s.flush()}e.insert("",r,s,!1)},[e,r.name]),null});function YB(t,e){if(t!=null){if(typeof t=="function"){t(e);return}try{t.current=e}catch{throw new Error(`Cannot assign value '${e}' to ref '${t}'`)}}}function KB(...t){return e=>{t.forEach(n=>{YB(n,e)})}}function Pv(t){const e=Object.assign({},t);for(let n in e)e[n]===void 0&&delete e[n];return e}function ZB(t){return t.default||t}const Oo=t=>t!=null&&typeof t=="object"&&!Array.isArray(t),Is=t=>typeof t=="string",RC=t=>typeof t=="function";function JB(t){var n;const e=D.version;return!Is(e)||e.startsWith("18.")?t==null?void 0:t.ref:(n=t==null?void 0:t.props)==null?void 0:n.ref}const[QB,Fp]=Ig({name:"ChakraContext",strict:!0,providerName:"<ChakraProvider />"});function eV(t){const{value:e,children:n}=t;return ie.jsxs(QB,{value:e,children:[!e._config.disableLayers&&ie.jsx(M2,{styles:e.layers.atRule}),ie.jsx(M2,{styles:e._global}),n]})}const tV=(t,e)=>{const n={},r={},i=Object.keys(t);for(const o of i)e(o)?r[o]=t[o]:n[o]=t[o];return[r,n]},fp=(t,e)=>{const n=RC(e)?e:r=>e.includes(r);return tV(t,n)},nV=new Set(["htmlWidth","htmlHeight","htmlSize","htmlTranslate"]);function rV(t){return typeof t=="string"&&nV.has(t)}function iV(t,e,n){const{css:r,isValidProperty:i}=Fp(),{children:o,...s}=t,a=D.useMemo(()=>{const[g,y]=fp(s,C=>n(C,e.variantKeys)),[x,S]=fp(y,e.variantKeys),[_,b]=fp(S,i);return{forwardedProps:g,variantProps:x,styleProps:_,elementProps:b}},[e.variantKeys,n,s,i]),{css:c,...d}=a.styleProps,f=D.useMemo(()=>{const g={...a.variantProps};return e.variantKeys.includes("colorPalette")||(g.colorPalette=s.colorPalette),e.variantKeys.includes("orientation")||(g.orientation=s.orientation),e(g)},[e,a.variantProps,s.colorPalette,s.orientation]);return{styles:D.useMemo(()=>r(f,...oV(c),d),[r,f,c,d]),props:{...a.forwardedProps,...a.elementProps,children:o}}}const oV=t=>(Array.isArray(t)?t:[t]).filter(Boolean).flat(),sV=ZB(oB),aV=sV,lV=t=>t!=="theme",cV=(t,e,n)=>{let r;if(e){const i=e.shouldForwardProp;r=t.__emotion_forwardProp&&i?o=>t.__emotion_forwardProp(o)&&i(o):i}return typeof r!="function"&&n&&(r=t.__emotion_forwardProp),r};let uV=typeof document<"u";const T2=({cache:t,serialized:e,isStringTag:n})=>{wC(t,e,n);const r=GO(()=>EC(t,e,n));if(!uV&&r!==void 0){let i=e.name,o=e.next;for(;o!==void 0;)i=ho(i,o.name),o=o.next;return ie.jsx("style",{"data-emotion":ho(t.key,i),dangerouslySetInnerHTML:{__html:r},nonce:t.sheet.nonce})}return null},dV=(t,e={},n={})=>{const r=t.__emotion_real===t,i=r&&t.__emotion_base||t;let o,s;n!==void 0&&(o=n.label,s=n.target);let a=[];const c=MC((d,f,m)=>{var ee;const{cva:g,isValidProperty:y}=Fp(),x=e.__cva__?e:g(e),S=hV(t.__emotion_cva,x),_=K=>(ne,se)=>K.includes(ne)?!0:!(se!=null&&se.includes(ne))&&!y(ne);!n.shouldForwardProp&&n.forwardProps&&(n.shouldForwardProp=_(n.forwardProps));const b=(K,ne)=>{const se=typeof t=="string"&&t.charCodeAt(0)>96?aV:lV,V=!(ne!=null&&ne.includes(K))&&!y(K);return se(K)&&V},C=cV(t,n,r)||b,T=D.useMemo(()=>Object.assign({},n.defaultProps,Pv(d)),[d]),{props:A,styles:P}=iV(T,S,C);let R="",k=[P],z=A;if(A.theme==null){z={};for(let K in A)z[K]=A[K];z.theme=D.useContext(TC)}typeof A.className=="string"?R=$O(f.registered,k,A.className):A.className!=null&&(R=ho(R,A.className));const L=CC(a.concat(k),f.registered,z);R=ho(R,`${f.key}-${L.name}`),s!==void 0&&(R=ho(R,s));const O=!C("as");let B=O&&A.as||i,j={};for(let K in A)if(!(O&&K==="as")){if(rV(K)){const ne=K.replace("html","").toLowerCase();j[ne]=A[K];continue}C(K)&&(j[K]=A[K])}j.className=R.trim(),j.ref=m;const X=n.forwardAsChild||((ee=n.forwardProps)==null?void 0:ee.includes("asChild"));if(A.asChild&&!X){const K=D.Children.only(A.children);B=K.type,j.children=null,Reflect.deleteProperty(j,"asChild"),j=vp(j,K.props),j.ref=KB(m,JB(K))}return j.as&&X?(j.as=void 0,ie.jsxs(D.Fragment,{children:[ie.jsx(T2,{cache:f,serialized:L,isStringTag:typeof B=="string"}),ie.jsx(B,{asChild:!0,...j,children:ie.jsx(A.as,{children:j.children})})]})):ie.jsxs(D.Fragment,{children:[ie.jsx(T2,{cache:f,serialized:L,isStringTag:typeof B=="string"}),ie.jsx(B,{...j})]})});return c.displayName=o!==void 0?o:`chakra(${typeof i=="string"?i:i.displayName||i.name||"Component"})`,c.__emotion_real=c,c.__emotion_base=i,c.__emotion_forwardProp=n.shouldForwardProp,c.__emotion_cva=e,Object.defineProperty(c,"toString",{value(){return`.${s}`}}),c},X_=dV.bind(),q_=new Map,fV=new Proxy(X_,{apply(t,e,n){return X_(...n)},get(t,e){return q_.has(e)||q_.set(e,X_(e)),q_.get(e)}}),Bo=fV,hV=(t,e)=>t&&!e?t:!t&&e?e:t.merge(e);function XO(t){const{key:e,recipe:n}=t,r=Fp();return D.useMemo(()=>{const i=n||(e!=null?r.getRecipe(e):{});return r.cva(structuredClone(i))},[e,n,r])}const pV=t=>t.charAt(0).toUpperCase()+t.slice(1);function Eu(t){const{key:e,recipe:n}=t,r=pV(e||n.className||"Component"),[i,o]=Ig({strict:!1,name:`${r}PropsContext`,providerName:`${r}PropsContext`});function s(d){const{unstyled:f,...m}=d,g=XO({key:e,recipe:m.recipe||n}),[y,x]=D.useMemo(()=>g.splitVariantProps(m),[g,m]);return{styles:f?nB:g(y),className:g.className,props:x}}const a=(d,f)=>{const m=Bo(d,{},f),g=D.forwardRef((y,x)=>{const S=o(),_=D.useMemo(()=>vp(S,y),[y,S]),{styles:b,className:C,props:T}=s(_);return ie.jsx(m,{...T,ref:x,css:[b,_.css],className:ho(C,_.className)})});return g.displayName=d.displayName||d.name,g};function c(){return i}return{withContext:a,PropsProvider:i,withPropsProvider:c,usePropsContext:o,useRecipeResult:s}}var P2=t=>Math.max(0,Math.min(1,t)),mV=(t,e)=>t.map((n,r)=>t[(Math.max(e,0)+r)%t.length]),gV=()=>{},sb=t=>typeof t=="object"&&t!==null,vV=2147483647,cn=t=>t?"":void 0,yV=1,xV=9,bV=11,go=t=>sb(t)&&t.nodeType===yV&&typeof t.nodeName=="string",qO=t=>sb(t)&&t.nodeType===xV,_V=t=>sb(t)&&t===t.window,YO=t=>go(t)?t.localName||"":"#document";function SV(t){return["html","body","#document"].includes(YO(t))}var wV=t=>sb(t)&&t.nodeType!==void 0,xp=t=>wV(t)&&t.nodeType===bV&&"host"in t,EV=t=>go(t)&&t.localName==="input",CV=t=>go(t)?t.offsetWidth>0||t.offsetHeight>0||t.getClientRects().length>0:!1,MV=/(textarea|select)/;function TV(t){if(t==null||!go(t))return!1;try{return EV(t)&&t.selectionStart!=null||MV.test(t.localName)||t.isContentEditable||t.getAttribute("contenteditable")==="true"||t.getAttribute("contenteditable")===""}catch{return!1}}function bp(t,e){var r;if(!t||!e||!go(t)||!go(e))return!1;const n=(r=e.getRootNode)==null?void 0:r.call(e);if(t===e||t.contains(e))return!0;if(n&&xp(n)){let i=e;for(;i;){if(t===i)return!0;i=i.parentNode||i.host}}return!1}function tl(t){return qO(t)?t:_V(t)?t.document:(t==null?void 0:t.ownerDocument)??document}function PV(t){return tl(t).documentElement}function Xi(t){var e;return xp(t)?Xi(t.host):qO(t)?t.defaultView??window:go(t)?((e=t.ownerDocument)==null?void 0:e.defaultView)??window:window}function RV(t){let e=t.activeElement;for(;e!=null&&e.shadowRoot;){const n=e.shadowRoot.activeElement;if(n===e)break;e=n}return e}function AV(t){if(YO(t)==="html")return t;const e=t.assignedSlot||t.parentNode||xp(t)&&t.host||PV(t);return xp(e)?e.host:e}var Y_=new WeakMap;function KO(t){return Y_.has(t)||Y_.set(t,Xi(t).getComputedStyle(t)),Y_.get(t)}var ab=()=>typeof document<"u";function IV(){const t=navigator.userAgentData;return(t==null?void 0:t.platform)??navigator.platform}function kV(){const t=navigator.userAgentData;return t&&Array.isArray(t.brands)?t.brands.map(({brand:e,version:n})=>`${e}/${n}`).join(" "):navigator.userAgent}var AC=t=>ab()&&t.test(IV()),ZO=t=>ab()&&t.test(kV()),OV=t=>ab()&&t.test(navigator.vendor),R2=()=>ab()&&!!navigator.maxTouchPoints,LV=()=>AC(/^iPhone/i),NV=()=>AC(/^iPad/i)||lb()&&navigator.maxTouchPoints>1,IC=()=>LV()||NV(),DV=()=>lb()||IC(),lb=()=>AC(/^Mac/i),JO=()=>DV()&&OV(/apple/i),FV=()=>ZO(/Firefox/i),zV=()=>ZO(/Android/i);function UV(t){var e,n,r;return((e=t.composedPath)==null?void 0:e.call(t))??((r=(n=t.nativeEvent)==null?void 0:n.composedPath)==null?void 0:r.call(n))}function pu(t){const e=UV(t);return(e==null?void 0:e[0])??t.target}function BV(t){return GV(t).isComposing||t.keyCode===229}function VV(t){return t.mozInputSource===0&&t.isTrusted?!0:zV()&&t.pointerType?t.type==="click"&&t.buttons===1:t.detail===0&&!t.pointerType}var A2=t=>t.button===0,$V=t=>t.button===2||lb()&&t.ctrlKey&&t.button===0,I2=t=>t.ctrlKey||t.altKey||t.metaKey,HV=t=>"touches"in t&&t.touches.length>0,WV={Up:"ArrowUp",Down:"ArrowDown",Esc:"Escape"," ":"Space",",":"Comma",Left:"ArrowLeft",Right:"ArrowRight"},k2={ArrowLeft:"ArrowRight",ArrowRight:"ArrowLeft"};function O2(t,e={}){const{dir:n="ltr",orientation:r="horizontal"}=e;let i=t.key;return i=WV[i]??i,n==="rtl"&&r==="horizontal"&&i in k2&&(i=k2[i]),i}function GV(t){return t.nativeEvent??t}var jV=new Set(["PageUp","PageDown"]),XV=new Set(["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"]);function L2(t){return t.ctrlKey||t.metaKey?.1:jV.has(t.key)||t.shiftKey&&XV.has(t.key)?10:1}function rE(t,e="client"){const n=HV(t)?t.touches[0]||t.changedTouches[0]:t;return{x:n[`${e}X`],y:n[`${e}Y`]}}var Ti=(t,e,n,r)=>{const i=typeof t=="function"?t():t;return i==null||i.addEventListener(e,n,r),()=>{i==null||i.removeEventListener(e,n,r)}};function qV(t,e){const{type:n="HTMLInputElement",property:r="value"}=e,i=Xi(t)[n].prototype;return Object.getOwnPropertyDescriptor(i,r)??{}}function YV(t){if(t.localName==="input")return"HTMLInputElement";if(t.localName==="textarea")return"HTMLTextAreaElement";if(t.localName==="select")return"HTMLSelectElement"}function Rv(t,e,n="value"){var i;if(!t)return;const r=YV(t);r&&((i=qV(t,{type:r,property:n}).set)==null||i.call(t,e)),t.setAttribute(n,e)}function KV(t,e){const{value:n,bubbles:r=!0}=e;if(!t)return;const i=Xi(t);t instanceof i.HTMLInputElement&&(Rv(t,`${n}`),t.dispatchEvent(new i.Event("input",{bubbles:r})))}function ZV(t){return JV(t)?t.form:t.closest("form")}function JV(t){return t.matches("textarea, input, select, button")}function QV(t,e){if(!t)return;const n=ZV(t),r=i=>{i.defaultPrevented||e()};return n==null||n.addEventListener("reset",r,{passive:!0}),()=>n==null?void 0:n.removeEventListener("reset",r)}function e6(t,e){const n=t==null?void 0:t.closest("fieldset");if(!n)return;e(n.disabled);const r=Xi(n),i=new r.MutationObserver(()=>e(n.disabled));return i.observe(n,{attributes:!0,attributeFilter:["disabled"]}),()=>i.disconnect()}function kC(t,e){if(!t)return;const{onFieldsetDisabledChange:n,onFormReset:r}=e,i=[QV(t,r),e6(t,n)];return()=>i.forEach(o=>o==null?void 0:o())}var t6=t=>go(t)&&t.tagName==="IFRAME",n6=t=>parseInt(t.getAttribute("tabindex")||"0",10)<0,QO="input:not([type='hidden']):not([disabled]), select:not([disabled]), textarea:not([disabled]), a[href], button:not([disabled]), [tabindex], iframe, object, embed, area[href], audio[controls], video[controls], [contenteditable]:not([contenteditable='false']), details > summary:first-of-type";function OC(t){return!t||t.closest("[inert]")?!1:t.matches(QO)&&CV(t)}function eL(t,e){if(!t)return[];const r=Array.from(t.querySelectorAll(QO)).filter(r6);return r.forEach((i,o)=>{if(t6(i)&&i.contentDocument){const s=i.contentDocument.body,a=eL(s);r.splice(o,1,...a)}}),r.length,r}function r6(t){return t!=null&&t.tabIndex>0?!0:OC(t)&&!n6(t)}function LC(t){const{root:e,getInitialEl:n,filter:r,enabled:i=!0}=t;if(!i)return;let o=null;if(o||(o=typeof n=="function"?n():n),o||(o=e==null?void 0:e.querySelector("[data-autofocus],[autofocus]")),!o){const s=eL(e);o=r?s.filter(r)[0]:s[0]}return o||e||void 0}function tL(t){const e=new Set;function n(r){const i=globalThis.requestAnimationFrame(r);e.add(()=>globalThis.cancelAnimationFrame(i))}return n(()=>n(t)),function(){e.forEach(i=>i())}}function sr(t){let e;const n=globalThis.requestAnimationFrame(()=>{e=t()});return()=>{globalThis.cancelAnimationFrame(n),e==null||e()}}function i6(t,e,n){const r=sr(()=>{t.removeEventListener(e,i,!0),n()}),i=()=>{r(),n()};return t.addEventListener(e,i,{once:!0,capture:!0}),r}function o6(t,e){if(!t)return;const{attributes:n,callback:r}=e,i=t.ownerDocument.defaultView||window,o=new i.MutationObserver(s=>{for(const a of s)a.type==="attributes"&&a.attributeName&&n.includes(a.attributeName)&&r(a)});return o.observe(t,{attributes:!0,attributeFilter:n}),()=>o.disconnect()}function NC(t,e){const{defer:n}=e,r=n?sr:o=>o(),i=[];return i.push(r(()=>{const o=typeof t=="function"?t():t;i.push(o6(o,e))})),()=>{i.forEach(o=>o==null?void 0:o())}}function s6(t){const e=()=>t.click();FV()?i6(t,"keyup",e):queueMicrotask(e)}function Ox(t){const e=AV(t);return SV(e)?tl(e).body:go(e)&&DC(e)?e:Ox(e)}function nL(t,e=[]){const n=Ox(t),r=n===t.ownerDocument.body,i=Xi(n);return r?e.concat(i,i.visualViewport||[],DC(n)?n:[]):e.concat(n,nL(n,[]))}var a6=/auto|scroll|overlay|hidden|clip/;function DC(t){const e=Xi(t),{overflow:n,overflowX:r,overflowY:i,display:o}=e.getComputedStyle(t);return a6.test(n+i+r)&&!["inline","contents"].includes(o)}function l6(t){return t.scrollHeight>t.clientHeight||t.scrollWidth>t.clientWidth}function rL(t,e){const{rootEl:n,...r}=e||{};!t||!n||!DC(n)||!l6(n)||t.scrollIntoView(r)}function iL(t,e){const{left:n,top:r,width:i,height:o}=e.getBoundingClientRect(),s={x:t.x-n,y:t.y-r},a={x:P2(s.x/i),y:P2(s.y/o)};function c(d={}){const{dir:f="ltr",orientation:m="horizontal",inverted:g}=d,y=typeof g=="object"?g.x:g,x=typeof g=="object"?g.y:g;return m==="horizontal"?f==="rtl"||y?1-a.x:a.x:x?1-a.y:a.y}return{offset:s,percent:a,getPercentValue:c}}function c6(t,e){const n=t.body,r="pointerLockElement"in t||"mozPointerLockElement"in t,i=()=>!!t.pointerLockElement;function o(){}function s(c){i(),console.error("PointerLock error occurred:",c),t.exitPointerLock()}if(!r)return;try{n.requestPointerLock()}catch{}const a=[Ti(t,"pointerlockchange",o,!1),Ti(t,"pointerlockerror",s,!1)];return()=>{a.forEach(c=>c()),t.exitPointerLock()}}var tp="default",iE="",hx=new WeakMap;function u6(t={}){const{target:e,doc:n}=t,r=n??document,i=r.documentElement;return IC()?(tp==="default"&&(iE=i.style.webkitUserSelect,i.style.webkitUserSelect="none"),tp="disabled"):e&&(hx.set(e,e.style.userSelect),e.style.userSelect="none"),()=>d6({target:e,doc:r})}function d6(t={}){const{target:e,doc:n}=t,i=(n??document).documentElement;if(IC()){if(tp!=="disabled")return;tp="restoring",setTimeout(()=>{tL(()=>{tp==="restoring"&&(i.style.webkitUserSelect==="none"&&(i.style.webkitUserSelect=iE||""),iE="",tp="default")})},300)}else if(e&&hx.has(e)){const o=hx.get(e);e.style.userSelect==="none"&&(e.style.userSelect=o??""),e.getAttribute("style")===""&&e.removeAttribute("style"),hx.delete(e)}}function oL(t={}){const{defer:e,target:n,...r}=t,i=e?sr:s=>s(),o=[];return o.push(i(()=>{const s=typeof n=="function"?n():n;o.push(u6({...r,target:s}))})),()=>{o.forEach(s=>s==null?void 0:s())}}function f6(t,e){const{onPointerMove:n,onPointerUp:r}=e,o=[Ti(t,"pointermove",s=>{const a=rE(s),c=Math.sqrt(a.x**2+a.y**2),d=s.pointerType==="touch"?10:5;if(!(c<d)){if(s.pointerType==="mouse"&&s.button===0){r();return}n({point:a,event:s})}},!1),Ti(t,"pointerup",r,!1),Ti(t,"pointercancel",r,!1),Ti(t,"contextmenu",r,!1),oL({doc:t})];return()=>{o.forEach(s=>s())}}function Lx(t,e){return Array.from((t==null?void 0:t.querySelectorAll(e))??[])}function h6(t,e){return(t==null?void 0:t.querySelector(e))??null}var FC=t=>t.id;function p6(t,e,n=FC){return t.find(r=>n(r)===e)}function zC(t,e,n=FC){const r=p6(t,e,n);return r?t.indexOf(r):-1}function m6(t,e,n=!0){let r=zC(t,e);return r=n?(r+1)%t.length:Math.min(r+1,t.length-1),t[r]}function g6(t,e,n=!0){let r=zC(t,e);return r===-1?n?t[t.length-1]:null:(r=n?(r-1+t.length)%t.length:Math.max(0,r-1),t[r])}var v6=t=>t.split("").map(e=>{const n=e.charCodeAt(0);return n>0&&n<128?e:n>=128&&n<=255?`/x${n.toString(16)}`.replace("/","\\"):""}).join("").trim(),y6=t=>{var e;return v6(((e=t.dataset)==null?void 0:e.valuetext)??t.textContent??"")},x6=(t,e)=>t.trim().toLowerCase().startsWith(e.toLowerCase());function b6(t,e,n,r=FC){const i=n?zC(t,n,r):-1;let o=n?mV(t,i):t;return e.length===1&&(o=o.filter(a=>r(a)!==n)),o.find(a=>x6(y6(a),e))}function sL(t,e){if(!t)return gV;const n=Object.keys(e).reduce((r,i)=>(r[i]=t.style.getPropertyValue(i),r),{});return Object.assign(t.style,e),()=>{Object.assign(t.style,n),t.style.length===0&&t.removeAttribute("style")}}function _6(t,e){const{state:n,activeId:r,key:i,timeout:o=350,itemToId:s}=e,a=n.keysSoFar+i,d=a.length>1&&Array.from(a).every(x=>x===a[0])?a[0]:a;let f=t.slice();const m=b6(f,d,r,s);function g(){clearTimeout(n.timer),n.timer=-1}function y(x){n.keysSoFar=x,g(),x!==""&&(n.timer=+setTimeout(()=>{y(""),g()},o))}return y(a),m}var UC=Object.assign(_6,{defaultOptions:{keysSoFar:"",timer:-1},isValidEvent:S6});function S6(t){return t.key.length===1&&!t.ctrlKey&&!t.metaKey}var w6={border:"0",clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:"0",position:"absolute",width:"1px",whiteSpace:"nowrap",wordWrap:"normal"},E6=1e3/60;function C6(t,e){const n=t();if(go(n)&&n.isConnected)return e(n),()=>{};{const r=setInterval(()=>{const i=t();go(i)&&i.isConnected&&(e(i),clearInterval(r))},E6);return()=>clearInterval(r)}}function M6(t,e){const n=[];return t==null||t.forEach(r=>{const i=C6(r,e);n.push(i)}),()=>{n.forEach(r=>r())}}function T6(t,e){return`${t} returned \`undefined\`. Seems you forgot to wrap component within ${e}`}function mc(t={}){const{name:e,strict:n=!0,hookName:r="useContext",providerName:i="Provider",errorMessage:o,defaultValue:s}=t,a=D.createContext(s);a.displayName=e;function c(){var f;const d=D.useContext(a);if(!d&&n){const m=new Error(o??T6(r,i));throw m.name="ContextError",(f=Error.captureStackTrace)==null||f.call(Error,m,c),m}return d}return[a.Provider,c,a]}const[ape,aL]=mc({name:"LocaleContext",hookName:"useLocaleContext",providerName:"<LocaleProvider />",strict:!1,defaultValue:{dir:"ltr",locale:"en-US"}});function lL(...t){return e=>{const n=[];for(const r of t)if(typeof r=="function"){const i=r(e);typeof i=="function"&&n.push(i)}else r&&(r.current=e);if(n.length)return()=>{for(const r of n)r()}}}function P6(t){return t?Array.isArray(t)?t:[t]:[]}var cL=t=>t[0],uL=t=>t[t.length-1],R6=(t,e)=>t.indexOf(e)!==-1,dL=(t,...e)=>t.concat(e),fL=(t,...e)=>t.filter(n=>!e.includes(n)),N2=(t,e)=>R6(t,e)?fL(t,e):dL(t,e);function hL(t,e,n={}){const{step:r=1,loop:i=!0}=n,o=e+r,s=t.length,a=s-1;return e===-1?r>0?0:a:o<0?i?a:0:o>=s?i?0:e>s?s:e:o}function A6(t,e,n={}){return t[hL(t,e,n)]}function I6(t,e,n={}){const{step:r=1,loop:i=!0}=n;return hL(t,e,{step:-r,loop:i})}function k6(t,e,n={}){return t[I6(t,e,n)]}var D2=t=>(t==null?void 0:t.constructor.name)==="Array",O6=(t,e)=>{if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(!Av(t[n],e[n]))return!1;return!0},Av=(t,e)=>{if(Object.is(t,e))return!0;if(t==null&&e!=null||t!=null&&e==null)return!1;if(typeof(t==null?void 0:t.isEqual)=="function"&&typeof(e==null?void 0:e.isEqual)=="function")return t.isEqual(e);if(typeof t=="function"&&typeof e=="function")return t.toString()===e.toString();if(D2(t)&&D2(e))return O6(Array.from(t),Array.from(e));if(typeof t!="object"||typeof e!="object")return!1;const n=Object.keys(e??Object.create(null)),r=n.length;for(let i=0;i<r;i++)if(!Reflect.has(t,n[i]))return!1;for(let i=0;i<r;i++){const o=n[i];if(!Av(t[o],e[o]))return!1}return!0},L6=t=>Array.isArray(t),N6=t=>t!=null&&typeof t=="object",K_=t=>N6(t)&&!L6(t),px=t=>typeof t=="string",np=t=>typeof t=="function",D6=t=>t==null,Z_=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),F6=Function.prototype.toString;F6.call(Object);var z6=(t,...e)=>(typeof t=="function"?t(...e):t)??void 0,U6=t=>t(),B6=()=>{},Nx=(...t)=>(...e)=>{t.forEach(function(n){n==null||n(...e)})},pL=(t,e)=>{var n;try{return t()}catch(r){return r instanceof Error&&((n=Error.captureStackTrace)==null||n.call(Error,r,pL)),e==null?void 0:e()}},{floor:oE,abs:F2,round:cb,min:V6,max:$6,pow:H6,sign:W6}=Math,Sg=t=>Number.isNaN(t),sc=t=>Sg(t)?0:t,mL=(t,e)=>(t%e+e)%e,G6=(t,e)=>(t%e+e)%e,j6=(t,e)=>sc(t)>=e,X6=(t,e)=>sc(t)<=e,q6=(t,e,n)=>sc(t)>=e&&sc(t)<=n,Y6=(t,e,n)=>cb((sc(t)-e)/n)*n+e,Do=(t,e,n)=>V6($6(sc(t),e),n),K6=(t,e,n)=>(sc(t)-e)/(n-e),Z6=(t,e,n,r)=>Do(Y6(t*(n-e)+e,e,r),e,n),Y0=(t,e)=>{let n=t,r=e.toString(),i=r.indexOf("."),o=i>=0?r.length-i:0;if(o>0){let s=H6(10,o);n=cb(n*s)/s}return n},J_=(t,e)=>typeof e=="number"?oE(t*e+.5)/e:cb(t),z2=(t,e,n,r)=>{e=Number(e),n=Number(n);let i=(t-(Sg(e)?0:e))%r,o=Y0(F2(i)*2>=r?t+W6(i)*(r-F2(i)):t-i,r);return Sg(e)?!Sg(n)&&o>n&&(o=e+oE(Y0((n-e)/r,r))*r):o<e?o=e:!Sg(n)&&o>n&&(o=e+oE(Y0((n-e)/r,r))*r),Y0(o,r)},nr=(t,e=0,n=10)=>{const r=Math.pow(n,e);return cb(t*r)/r},U2=t=>{if(!Number.isFinite(t))return 0;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n+=1;return n},gL=(t,e,n)=>{let r=e==="+"?t+n:t-n;if(t%1!==0||n%1!==0){const i=10**Math.max(U2(t),U2(n));t=Math.round(t*i),n=Math.round(n*i),r=e==="+"?t+n:t-n,r/=i}return r},J6=(t,e)=>gL(sc(t),"+",e),Q6=(t,e)=>gL(sc(t),"-",e);function BC(t){if(!e8(t)||t===void 0)return t;const e=Reflect.ownKeys(t).filter(r=>typeof r=="string"),n={};for(const r of e){const i=t[r];i!==void 0&&(n[r]=BC(i))}return n}var e8=t=>t&&typeof t=="object"&&t.constructor===Object;function t8(t,e){const n=performance.now();let r;function i(o){r=requestAnimationFrame(i),o-n>=e&&t()}return r=requestAnimationFrame(i),()=>cancelAnimationFrame(r)}function Dx(...t){t.length===1?t[0]:t[1],t.length===2&&t[0]}function n8(t,e){if(t==null)throw new Error(e())}var r8=(...t)=>t.map(e=>{var n;return(n=e==null?void 0:e.trim)==null?void 0:n.call(e)}).filter(Boolean).join(" "),i8=/((?:--)?(?:\w+-?)+)\s*:\s*([^;]*)/g,B2=t=>{const e={};let n;for(;n=i8.exec(t);)e[n[1]]=n[2];return e},o8=(t,e)=>{if(px(t)){if(px(e))return`${t};${e}`;t=B2(t)}else px(e)&&(e=B2(e));return Object.assign({},t??{},e??{})};function Nn(...t){let e={};for(let n of t){for(let r in e){if(r.startsWith("on")&&typeof e[r]=="function"&&typeof n[r]=="function"){e[r]=Nx(n[r],e[r]);continue}if(r==="className"||r==="class"){e[r]=r8(e[r],n[r]);continue}if(r==="style"){e[r]=o8(e[r],n[r]);continue}e[r]=n[r]!==void 0?n[r]:e[r]}for(let r in n)e[r]===void 0&&(e[r]=n[r])}return e}function V2(t,e,n){let r=[],i;return o=>{const s=t(o);return(s.length!==r.length||s.some((c,d)=>!Av(r[d],c)))&&(r=s,i=e(...s)),i}}function lf(){return{and:(...t)=>function(n){return t.every(r=>n.guard(r))},or:(...t)=>function(n){return t.some(r=>n.guard(r))},not:t=>function(n){return!n.guard(t)}}}function s8(){return{guards:lf(),createMachine:t=>t,choose:t=>function({choose:n}){var r;return(r=n(t))==null?void 0:r.actions}}}var Zh=(t=>(t.NotStarted="Not Started",t.Started="Started",t.Stopped="Stopped",t))(Zh||{}),Q_="__init__";function a8(t){const e=()=>{var a;return((a=t.getRootNode)==null?void 0:a.call(t))??document},n=()=>tl(e()),r=()=>n().defaultView??window,i=()=>RV(e());return{...t,getRootNode:e,getDoc:n,getWin:r,getActiveElement:i,isActiveElement:a=>a===i(),getById:a=>e().getElementById(a)}}function l8(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}const eS=t=>{const e=D.memo(D.forwardRef((n,r)=>{const{asChild:i,children:o,...s}=n;if(!i)return D.createElement(t,{...s,ref:r},o);const a=D.Children.only(o);if(!D.isValidElement(a))return null;const c=l8(a);return D.cloneElement(a,{...Nn(s,a.props),ref:r?lL(r,c):c})}));return e.displayName=t.displayName||t.name,e},c8=()=>{const t=new Map;return new Proxy(eS,{apply(e,n,r){return eS(r[0])},get(e,n){const r=n;return t.has(r)||t.set(r,eS(r)),t.get(r)}})},zn=c8(),_a=()=>(t,e)=>e.reduce((n,r)=>{const[i,o]=n,s=r;return o[s]!==void 0&&(i[s]=o[s]),delete o[s],[i,o]},[{},{...t}]),vL=t=>_a()(t,["immediate","lazyMount","onExitComplete","present","skipAnimationOnMount","unmountOnExit"]);function u8(t){return new Proxy({},{get(e,n){return n==="style"?r=>t({style:r}).style:t}})}var dn=()=>t=>Array.from(new Set(t));function d8(t,e){const{state:n,send:r,context:i}=t,o=n.matches("mounted","unmountSuspended");return{skip:!i.get("initial"),present:o,setNode(s){s&&r({type:"NODE.SET",node:s})},unmount(){r({type:"UNMOUNT"})}}}var f8={props({props:t}){return{...t,present:!!t.present}},initialState({prop:t}){return t("present")?"mounted":"unmounted"},refs(){return{node:null,styles:null}},context({bindable:t}){return{unmountAnimationName:t(()=>({defaultValue:null})),prevAnimationName:t(()=>({defaultValue:null})),present:t(()=>({defaultValue:!1})),initial:t(()=>({sync:!0,defaultValue:!1}))}},exit:["clearInitial","cleanupNode"],watch({track:t,action:e,prop:n}){t([()=>n("present")],()=>{e(["setInitial","syncPresence"])})},on:{"NODE.SET":{actions:["setNode","setStyles"]}},states:{mounted:{on:{UNMOUNT:{target:"unmounted",actions:["clearPrevAnimationName","invokeOnExitComplete"]},"UNMOUNT.SUSPEND":{target:"unmountSuspended"}}},unmountSuspended:{effects:["trackAnimationEvents"],on:{MOUNT:{target:"mounted",actions:["setPrevAnimationName"]},UNMOUNT:{target:"unmounted",actions:["clearPrevAnimationName","invokeOnExitComplete"]}}},unmounted:{on:{MOUNT:{target:"mounted",actions:["setPrevAnimationName"]}}}},implementations:{actions:{setInitial:({context:t})=>{t.get("initial")||queueMicrotask(()=>{t.set("initial",!0)})},clearInitial:({context:t})=>{t.set("initial",!1)},cleanupNode:({refs:t})=>{t.set("node",null),t.set("styles",null)},invokeOnExitComplete:({prop:t})=>{var e;(e=t("onExitComplete"))==null||e()},setNode:({refs:t,event:e})=>{t.set("node",e.node)},setStyles:({refs:t,event:e})=>{t.set("styles",KO(e.node))},syncPresence:({context:t,refs:e,send:n,prop:r})=>{const i=r("present");if(i)return n({type:"MOUNT",src:"presence.changed"});const o=e.get("node");if(!i&&(o==null?void 0:o.ownerDocument.visibilityState)==="hidden")return n({type:"UNMOUNT",src:"visibilitychange"});sr(()=>{var a,c;const s=K0(e.get("styles"));t.set("unmountAnimationName",s),s==="none"||s===t.get("prevAnimationName")||((a=e.get("styles"))==null?void 0:a.display)==="none"||((c=e.get("styles"))==null?void 0:c.animationDuration)==="0s"?n({type:"UNMOUNT",src:"presence.changed"}):n({type:"UNMOUNT.SUSPEND"})})},setPrevAnimationName:({context:t,refs:e})=>{sr(()=>{t.set("prevAnimationName",K0(e.get("styles")))})},clearPrevAnimationName:({context:t})=>{t.set("prevAnimationName",null)}},effects:{trackAnimationEvents:({context:t,refs:e,send:n})=>{const r=e.get("node");if(!r)return;const i=a=>{var d,f;(((f=(d=a.composedPath)==null?void 0:d.call(a))==null?void 0:f[0])??a.target)===r&&t.set("prevAnimationName",K0(e.get("styles")))},o=a=>{const c=K0(e.get("styles"));pu(a)===r&&c===t.get("unmountAnimationName")&&n({type:"UNMOUNT",src:"animationend"})};r.addEventListener("animationstart",i),r.addEventListener("animationcancel",o),r.addEventListener("animationend",o);const s=sL(r,{animationFillMode:"forwards"});return()=>{r.removeEventListener("animationstart",i),r.removeEventListener("animationcancel",o),r.removeEventListener("animationend",o),tL(()=>s())}}}}};function K0(t){return(t==null?void 0:t.animationName)||"none"}dn()(["onExitComplete","present","immediate"]);var tS={exports:{}},Ro={},nS={exports:{}},rS={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $2;function h8(){return $2||($2=1,function(t){function e(V,Q){var Z=V.length;V.push(Q);e:for(;0<Z;){var W=Z-1>>>1,le=V[W];if(0<i(le,Q))V[W]=Q,V[Z]=le,Z=W;else break e}}function n(V){return V.length===0?null:V[0]}function r(V){if(V.length===0)return null;var Q=V[0],Z=V.pop();if(Z!==Q){V[0]=Z;e:for(var W=0,le=V.length,Ie=le>>>1;W<Ie;){var fe=2*(W+1)-1,Me=V[fe],De=fe+1,Le=V[De];if(0>i(Me,Z))De<le&&0>i(Le,Me)?(V[W]=Le,V[De]=Z,W=De):(V[W]=Me,V[fe]=Z,W=fe);else if(De<le&&0>i(Le,Z))V[W]=Le,V[De]=Z,W=De;else break e}}return Q}function i(V,Q){var Z=V.sortIndex-Q.sortIndex;return Z!==0?Z:V.id-Q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var c=[],d=[],f=1,m=null,g=3,y=!1,x=!1,S=!1,_=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(V){for(var Q=n(d);Q!==null;){if(Q.callback===null)r(d);else if(Q.startTime<=V)r(d),Q.sortIndex=Q.expirationTime,e(c,Q);else break;Q=n(d)}}function A(V){if(S=!1,T(V),!x)if(n(c)!==null)x=!0,ne(P);else{var Q=n(d);Q!==null&&se(A,Q.startTime-V)}}function P(V,Q){x=!1,S&&(S=!1,b(z),z=-1),y=!0;var Z=g;try{for(T(Q),m=n(c);m!==null&&(!(m.expirationTime>Q)||V&&!B());){var W=m.callback;if(typeof W=="function"){m.callback=null,g=m.priorityLevel;var le=W(m.expirationTime<=Q);Q=t.unstable_now(),typeof le=="function"?m.callback=le:m===n(c)&&r(c),T(Q)}else r(c);m=n(c)}if(m!==null)var Ie=!0;else{var fe=n(d);fe!==null&&se(A,fe.startTime-Q),Ie=!1}return Ie}finally{m=null,g=Z,y=!1}}var R=!1,k=null,z=-1,L=5,O=-1;function B(){return!(t.unstable_now()-O<L)}function j(){if(k!==null){var V=t.unstable_now();O=V;var Q=!0;try{Q=k(!0,V)}finally{Q?X():(R=!1,k=null)}}else R=!1}var X;if(typeof C=="function")X=function(){C(j)};else if(typeof MessageChannel<"u"){var ee=new MessageChannel,K=ee.port2;ee.port1.onmessage=j,X=function(){K.postMessage(null)}}else X=function(){_(j,0)};function ne(V){k=V,R||(R=!0,X())}function se(V,Q){z=_(function(){V(t.unstable_now())},Q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(V){V.callback=null},t.unstable_continueExecution=function(){x||y||(x=!0,ne(P))},t.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<V?Math.floor(1e3/V):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(V){switch(g){case 1:case 2:case 3:var Q=3;break;default:Q=g}var Z=g;g=Q;try{return V()}finally{g=Z}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(V,Q){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var Z=g;g=V;try{return Q()}finally{g=Z}},t.unstable_scheduleCallback=function(V,Q,Z){var W=t.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?W+Z:W):Z=W,V){case 1:var le=-1;break;case 2:le=250;break;case 5:le=1073741823;break;case 4:le=1e4;break;default:le=5e3}return le=Z+le,V={id:f++,callback:Q,priorityLevel:V,startTime:Z,expirationTime:le,sortIndex:-1},Z>W?(V.sortIndex=Z,e(d,V),n(c)===null&&V===n(d)&&(S?(b(z),z=-1):S=!0,se(A,Z-W))):(V.sortIndex=le,e(c,V),x||y||(x=!0,ne(P))),V},t.unstable_shouldYield=B,t.unstable_wrapCallback=function(V){var Q=g;return function(){var Z=g;g=Q;try{return V.apply(this,arguments)}finally{g=Z}}}}(rS)),rS}var H2;function p8(){return H2||(H2=1,nS.exports=h8()),nS.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var W2;function m8(){if(W2)return Ro;W2=1;var t=Np(),e=p8();function n(l){for(var u="https://reactjs.org/docs/error-decoder.html?invariant="+l,v=1;v<arguments.length;v++)u+="&args[]="+encodeURIComponent(arguments[v]);return"Minified React error #"+l+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function o(l,u){s(l,u),s(l+"Capture",u)}function s(l,u){for(i[l]=u,l=0;l<u.length;l++)r.add(u[l])}var a=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},m={};function g(l){return c.call(m,l)?!0:c.call(f,l)?!1:d.test(l)?m[l]=!0:(f[l]=!0,!1)}function y(l,u,v,E){if(v!==null&&v.type===0)return!1;switch(typeof u){case"function":case"symbol":return!0;case"boolean":return E?!1:v!==null?!v.acceptsBooleans:(l=l.toLowerCase().slice(0,5),l!=="data-"&&l!=="aria-");default:return!1}}function x(l,u,v,E){if(u===null||typeof u>"u"||y(l,u,v,E))return!0;if(E)return!1;if(v!==null)switch(v.type){case 3:return!u;case 4:return u===!1;case 5:return isNaN(u);case 6:return isNaN(u)||1>u}return!1}function S(l,u,v,E,I,F,H){this.acceptsBooleans=u===2||u===3||u===4,this.attributeName=E,this.attributeNamespace=I,this.mustUseProperty=v,this.propertyName=l,this.type=u,this.sanitizeURL=F,this.removeEmptyString=H}var _={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(l){_[l]=new S(l,0,!1,l,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(l){var u=l[0];_[u]=new S(u,1,!1,l[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(l){_[l]=new S(l,2,!1,l.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(l){_[l]=new S(l,2,!1,l,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(l){_[l]=new S(l,3,!1,l.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(l){_[l]=new S(l,3,!0,l,null,!1,!1)}),["capture","download"].forEach(function(l){_[l]=new S(l,4,!1,l,null,!1,!1)}),["cols","rows","size","span"].forEach(function(l){_[l]=new S(l,6,!1,l,null,!1,!1)}),["rowSpan","start"].forEach(function(l){_[l]=new S(l,5,!1,l.toLowerCase(),null,!1,!1)});var b=/[\-:]([a-z])/g;function C(l){return l[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(l){var u=l.replace(b,C);_[u]=new S(u,1,!1,l,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(l){var u=l.replace(b,C);_[u]=new S(u,1,!1,l,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(l){var u=l.replace(b,C);_[u]=new S(u,1,!1,l,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(l){_[l]=new S(l,1,!1,l.toLowerCase(),null,!1,!1)}),_.xlinkHref=new S("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(l){_[l]=new S(l,1,!1,l.toLowerCase(),null,!0,!0)});function T(l,u,v,E){var I=_.hasOwnProperty(u)?_[u]:null;(I!==null?I.type!==0:E||!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(x(u,v,I,E)&&(v=null),E||I===null?g(u)&&(v===null?l.removeAttribute(u):l.setAttribute(u,""+v)):I.mustUseProperty?l[I.propertyName]=v===null?I.type===3?!1:"":v:(u=I.attributeName,E=I.attributeNamespace,v===null?l.removeAttribute(u):(I=I.type,v=I===3||I===4&&v===!0?"":""+v,E?l.setAttributeNS(E,u,v):l.setAttribute(u,v))))}var A=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,P=Symbol.for("react.element"),R=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),z=Symbol.for("react.strict_mode"),L=Symbol.for("react.profiler"),O=Symbol.for("react.provider"),B=Symbol.for("react.context"),j=Symbol.for("react.forward_ref"),X=Symbol.for("react.suspense"),ee=Symbol.for("react.suspense_list"),K=Symbol.for("react.memo"),ne=Symbol.for("react.lazy"),se=Symbol.for("react.offscreen"),V=Symbol.iterator;function Q(l){return l===null||typeof l!="object"?null:(l=V&&l[V]||l["@@iterator"],typeof l=="function"?l:null)}var Z=Object.assign,W;function le(l){if(W===void 0)try{throw Error()}catch(v){var u=v.stack.trim().match(/\n( *(at )?)/);W=u&&u[1]||""}return`
`+W+l}var Ie=!1;function fe(l,u){if(!l||Ie)return"";Ie=!0;var v=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(u)if(u=function(){throw Error()},Object.defineProperty(u.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(u,[])}catch(Pe){var E=Pe}Reflect.construct(l,[],u)}else{try{u.call()}catch(Pe){E=Pe}l.call(u.prototype)}else{try{throw Error()}catch(Pe){E=Pe}l()}}catch(Pe){if(Pe&&E&&typeof Pe.stack=="string"){for(var I=Pe.stack.split(`
`),F=E.stack.split(`
`),H=I.length-1,oe=F.length-1;1<=H&&0<=oe&&I[H]!==F[oe];)oe--;for(;1<=H&&0<=oe;H--,oe--)if(I[H]!==F[oe]){if(H!==1||oe!==1)do if(H--,oe--,0>oe||I[H]!==F[oe]){var de=`
`+I[H].replace(" at new "," at ");return l.displayName&&de.includes("<anonymous>")&&(de=de.replace("<anonymous>",l.displayName)),de}while(1<=H&&0<=oe);break}}}finally{Ie=!1,Error.prepareStackTrace=v}return(l=l?l.displayName||l.name:"")?le(l):""}function Me(l){switch(l.tag){case 5:return le(l.type);case 16:return le("Lazy");case 13:return le("Suspense");case 19:return le("SuspenseList");case 0:case 2:case 15:return l=fe(l.type,!1),l;case 11:return l=fe(l.type.render,!1),l;case 1:return l=fe(l.type,!0),l;default:return""}}function De(l){if(l==null)return null;if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l;switch(l){case k:return"Fragment";case R:return"Portal";case L:return"Profiler";case z:return"StrictMode";case X:return"Suspense";case ee:return"SuspenseList"}if(typeof l=="object")switch(l.$$typeof){case B:return(l.displayName||"Context")+".Consumer";case O:return(l._context.displayName||"Context")+".Provider";case j:var u=l.render;return l=l.displayName,l||(l=u.displayName||u.name||"",l=l!==""?"ForwardRef("+l+")":"ForwardRef"),l;case K:return u=l.displayName||null,u!==null?u:De(l.type)||"Memo";case ne:u=l._payload,l=l._init;try{return De(l(u))}catch{}}return null}function Le(l){var u=l.type;switch(l.tag){case 24:return"Cache";case 9:return(u.displayName||"Context")+".Consumer";case 10:return(u._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return l=u.render,l=l.displayName||l.name||"",u.displayName||(l!==""?"ForwardRef("+l+")":"ForwardRef");case 7:return"Fragment";case 5:return u;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return De(u);case 8:return u===z?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u}return null}function ge(l){switch(typeof l){case"boolean":case"number":case"string":case"undefined":return l;case"object":return l;default:return""}}function be(l){var u=l.type;return(l=l.nodeName)&&l.toLowerCase()==="input"&&(u==="checkbox"||u==="radio")}function Fe(l){var u=be(l)?"checked":"value",v=Object.getOwnPropertyDescriptor(l.constructor.prototype,u),E=""+l[u];if(!l.hasOwnProperty(u)&&typeof v<"u"&&typeof v.get=="function"&&typeof v.set=="function"){var I=v.get,F=v.set;return Object.defineProperty(l,u,{configurable:!0,get:function(){return I.call(this)},set:function(H){E=""+H,F.call(this,H)}}),Object.defineProperty(l,u,{enumerable:v.enumerable}),{getValue:function(){return E},setValue:function(H){E=""+H},stopTracking:function(){l._valueTracker=null,delete l[u]}}}}function Ye(l){l._valueTracker||(l._valueTracker=Fe(l))}function at(l){if(!l)return!1;var u=l._valueTracker;if(!u)return!0;var v=u.getValue(),E="";return l&&(E=be(l)?l.checked?"true":"false":l.value),l=E,l!==v?(u.setValue(l),!0):!1}function Ge(l){if(l=l||(typeof document<"u"?document:void 0),typeof l>"u")return null;try{return l.activeElement||l.body}catch{return l.body}}function q(l,u){var v=u.checked;return Z({},u,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:v??l._wrapperState.initialChecked})}function Xe(l,u){var v=u.defaultValue==null?"":u.defaultValue,E=u.checked!=null?u.checked:u.defaultChecked;v=ge(u.value!=null?u.value:v),l._wrapperState={initialChecked:E,initialValue:v,controlled:u.type==="checkbox"||u.type==="radio"?u.checked!=null:u.value!=null}}function Ve(l,u){u=u.checked,u!=null&&T(l,"checked",u,!1)}function He(l,u){Ve(l,u);var v=ge(u.value),E=u.type;if(v!=null)E==="number"?(v===0&&l.value===""||l.value!=v)&&(l.value=""+v):l.value!==""+v&&(l.value=""+v);else if(E==="submit"||E==="reset"){l.removeAttribute("value");return}u.hasOwnProperty("value")?ot(l,u.type,v):u.hasOwnProperty("defaultValue")&&ot(l,u.type,ge(u.defaultValue)),u.checked==null&&u.defaultChecked!=null&&(l.defaultChecked=!!u.defaultChecked)}function ze(l,u,v){if(u.hasOwnProperty("value")||u.hasOwnProperty("defaultValue")){var E=u.type;if(!(E!=="submit"&&E!=="reset"||u.value!==void 0&&u.value!==null))return;u=""+l._wrapperState.initialValue,v||u===l.value||(l.value=u),l.defaultValue=u}v=l.name,v!==""&&(l.name=""),l.defaultChecked=!!l._wrapperState.initialChecked,v!==""&&(l.name=v)}function ot(l,u,v){(u!=="number"||Ge(l.ownerDocument)!==l)&&(v==null?l.defaultValue=""+l._wrapperState.initialValue:l.defaultValue!==""+v&&(l.defaultValue=""+v))}var Be=Array.isArray;function Y(l,u,v,E){if(l=l.options,u){u={};for(var I=0;I<v.length;I++)u["$"+v[I]]=!0;for(v=0;v<l.length;v++)I=u.hasOwnProperty("$"+l[v].value),l[v].selected!==I&&(l[v].selected=I),I&&E&&(l[v].defaultSelected=!0)}else{for(v=""+ge(v),u=null,I=0;I<l.length;I++){if(l[I].value===v){l[I].selected=!0,E&&(l[I].defaultSelected=!0);return}u!==null||l[I].disabled||(u=l[I])}u!==null&&(u.selected=!0)}}function $(l,u){if(u.dangerouslySetInnerHTML!=null)throw Error(n(91));return Z({},u,{value:void 0,defaultValue:void 0,children:""+l._wrapperState.initialValue})}function re(l,u){var v=u.value;if(v==null){if(v=u.children,u=u.defaultValue,v!=null){if(u!=null)throw Error(n(92));if(Be(v)){if(1<v.length)throw Error(n(93));v=v[0]}u=v}u==null&&(u=""),v=u}l._wrapperState={initialValue:ge(v)}}function pe(l,u){var v=ge(u.value),E=ge(u.defaultValue);v!=null&&(v=""+v,v!==l.value&&(l.value=v),u.defaultValue==null&&l.defaultValue!==v&&(l.defaultValue=v)),E!=null&&(l.defaultValue=""+E)}function ke(l){var u=l.textContent;u===l._wrapperState.initialValue&&u!==""&&u!==null&&(l.value=u)}function Ce(l){switch(l){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function tt(l,u){return l==null||l==="http://www.w3.org/1999/xhtml"?Ce(u):l==="http://www.w3.org/2000/svg"&&u==="foreignObject"?"http://www.w3.org/1999/xhtml":l}var Qe,St=function(l){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(u,v,E,I){MSApp.execUnsafeLocalFunction(function(){return l(u,v,E,I)})}:l}(function(l,u){if(l.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in l)l.innerHTML=u;else{for(Qe=Qe||document.createElement("div"),Qe.innerHTML="<svg>"+u.valueOf().toString()+"</svg>",u=Qe.firstChild;l.firstChild;)l.removeChild(l.firstChild);for(;u.firstChild;)l.appendChild(u.firstChild)}});function Mt(l,u){if(u){var v=l.firstChild;if(v&&v===l.lastChild&&v.nodeType===3){v.nodeValue=u;return}}l.textContent=u}var We={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},dt=["Webkit","ms","Moz","O"];Object.keys(We).forEach(function(l){dt.forEach(function(u){u=u+l.charAt(0).toUpperCase()+l.substring(1),We[u]=We[l]})});function Pt(l,u,v){return u==null||typeof u=="boolean"||u===""?"":v||typeof u!="number"||u===0||We.hasOwnProperty(l)&&We[l]?(""+u).trim():u+"px"}function Lt(l,u){l=l.style;for(var v in u)if(u.hasOwnProperty(v)){var E=v.indexOf("--")===0,I=Pt(v,u[v],E);v==="float"&&(v="cssFloat"),E?l.setProperty(v,I):l[v]=I}}var pt=Z({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ue(l,u){if(u){if(pt[l]&&(u.children!=null||u.dangerouslySetInnerHTML!=null))throw Error(n(137,l));if(u.dangerouslySetInnerHTML!=null){if(u.children!=null)throw Error(n(60));if(typeof u.dangerouslySetInnerHTML!="object"||!("__html"in u.dangerouslySetInnerHTML))throw Error(n(61))}if(u.style!=null&&typeof u.style!="object")throw Error(n(62))}}function Ne(l,u){if(l.indexOf("-")===-1)return typeof u.is=="string";switch(l){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var st=null;function ce(l){return l=l.target||l.srcElement||window,l.correspondingUseElement&&(l=l.correspondingUseElement),l.nodeType===3?l.parentNode:l}var Ze=null,Re=null,Ue=null;function mt(l){if(l=js(l)){if(typeof Ze!="function")throw Error(n(280));var u=l.stateNode;u&&(u=th(u),Ze(l.stateNode,l.type,u))}}function lt(l){Re?Ue?Ue.push(l):Ue=[l]:Re=l}function Nt(){if(Re){var l=Re,u=Ue;if(Ue=Re=null,mt(l),u)for(l=0;l<u.length;l++)mt(u[l])}}function vn(l,u){return l(u)}function Un(){}var tn=!1;function fr(l,u,v){if(tn)return l(u,v);tn=!0;try{return vn(l,u,v)}finally{tn=!1,(Re!==null||Ue!==null)&&(Un(),Nt())}}function wr(l,u){var v=l.stateNode;if(v===null)return null;var E=th(v);if(E===null)return null;v=E[u];e:switch(u){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(E=!E.disabled)||(l=l.type,E=!(l==="button"||l==="input"||l==="select"||l==="textarea")),l=!E;break e;default:l=!1}if(l)return null;if(v&&typeof v!="function")throw Error(n(231,u,typeof v));return v}var bc=!1;if(a)try{var Ea={};Object.defineProperty(Ea,"passive",{get:function(){bc=!0}}),window.addEventListener("test",Ea,Ea),window.removeEventListener("test",Ea,Ea)}catch{bc=!1}function as(l,u,v,E,I,F,H,oe,de){var Pe=Array.prototype.slice.call(arguments,3);try{u.apply(v,Pe)}catch(qe){this.onError(qe)}}var Vo=!1,il=null,$o=!1,Ca=null,mf={onError:function(l){Vo=!0,il=l}};function _c(l,u,v,E,I,F,H,oe,de){Vo=!1,il=null,as.apply(mf,arguments)}function gf(l,u,v,E,I,F,H,oe,de){if(_c.apply(this,arguments),Vo){if(Vo){var Pe=il;Vo=!1,il=null}else throw Error(n(198));$o||($o=!0,Ca=Pe)}}function ls(l){var u=l,v=l;if(l.alternate)for(;u.return;)u=u.return;else{l=u;do u=l,(u.flags&4098)!==0&&(v=u.return),l=u.return;while(l)}return u.tag===3?v:null}function vf(l){if(l.tag===13){var u=l.memoizedState;if(u===null&&(l=l.alternate,l!==null&&(u=l.memoizedState)),u!==null)return u.dehydrated}return null}function yf(l){if(ls(l)!==l)throw Error(n(188))}function xf(l){var u=l.alternate;if(!u){if(u=ls(l),u===null)throw Error(n(188));return u!==l?null:l}for(var v=l,E=u;;){var I=v.return;if(I===null)break;var F=I.alternate;if(F===null){if(E=I.return,E!==null){v=E;continue}break}if(I.child===F.child){for(F=I.child;F;){if(F===v)return yf(I),l;if(F===E)return yf(I),u;F=F.sibling}throw Error(n(188))}if(v.return!==E.return)v=I,E=F;else{for(var H=!1,oe=I.child;oe;){if(oe===v){H=!0,v=I,E=F;break}if(oe===E){H=!0,E=I,v=F;break}oe=oe.sibling}if(!H){for(oe=F.child;oe;){if(oe===v){H=!0,v=F,E=I;break}if(oe===E){H=!0,E=F,v=I;break}oe=oe.sibling}if(!H)throw Error(n(189))}}if(v.alternate!==E)throw Error(n(190))}if(v.tag!==3)throw Error(n(188));return v.stateNode.current===v?l:u}function bf(l){return l=xf(l),l!==null?_f(l):null}function _f(l){if(l.tag===5||l.tag===6)return l;for(l=l.child;l!==null;){var u=_f(l);if(u!==null)return u;l=l.sibling}return null}var Sf=e.unstable_scheduleCallback,G=e.unstable_cancelCallback,xe=e.unstable_shouldYield,Te=e.unstable_requestPaint,_e=e.unstable_now,ye=e.unstable_getCurrentPriorityLevel,Ke=e.unstable_ImmediatePriority,ut=e.unstable_UserBlockingPriority,vt=e.unstable_NormalPriority,bt=e.unstable_LowPriority,Dt=e.unstable_IdlePriority,kt=null,nt=null;function Rt(l){if(nt&&typeof nt.onCommitFiberRoot=="function")try{nt.onCommitFiberRoot(kt,l,void 0,(l.current.flags&128)===128)}catch{}}var $t=Math.clz32?Math.clz32:nn,fn=Math.log,hn=Math.LN2;function nn(l){return l>>>=0,l===0?32:31-(fn(l)/hn|0)|0}var Tt=64,yn=4194304;function sn(l){switch(l&-l){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return l&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return l}}function Gr(l,u){var v=l.pendingLanes;if(v===0)return 0;var E=0,I=l.suspendedLanes,F=l.pingedLanes,H=v&268435455;if(H!==0){var oe=H&~I;oe!==0?E=sn(oe):(F&=H,F!==0&&(E=sn(F)))}else H=v&~I,H!==0?E=sn(H):F!==0&&(E=sn(F));if(E===0)return 0;if(u!==0&&u!==E&&(u&I)===0&&(I=E&-E,F=u&-u,I>=F||I===16&&(F&4194240)!==0))return u;if((E&4)!==0&&(E|=v&16),u=l.entangledLanes,u!==0)for(l=l.entanglements,u&=E;0<u;)v=31-$t(u),I=1<<v,E|=l[v],u&=~I;return E}function Fs(l,u){switch(l){case 1:case 2:case 4:return u+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Or(l,u){for(var v=l.suspendedLanes,E=l.pingedLanes,I=l.expirationTimes,F=l.pendingLanes;0<F;){var H=31-$t(F),oe=1<<H,de=I[H];de===-1?((oe&v)===0||(oe&E)!==0)&&(I[H]=Fs(oe,u)):de<=u&&(l.expiredLanes|=oe),F&=~oe}}function cs(l){return l=l.pendingLanes&-1073741825,l!==0?l:l&1073741824?1073741824:0}function pn(){var l=Tt;return Tt<<=1,(Tt&4194240)===0&&(Tt=64),l}function oi(l){for(var u=[],v=0;31>v;v++)u.push(l);return u}function Lr(l,u,v){l.pendingLanes|=u,u!==536870912&&(l.suspendedLanes=0,l.pingedLanes=0),l=l.eventTimes,u=31-$t(u),l[u]=v}function jr(l,u){var v=l.pendingLanes&~u;l.pendingLanes=u,l.suspendedLanes=0,l.pingedLanes=0,l.expiredLanes&=u,l.mutableReadLanes&=u,l.entangledLanes&=u,u=l.entanglements;var E=l.eventTimes;for(l=l.expirationTimes;0<v;){var I=31-$t(v),F=1<<I;u[I]=0,E[I]=-1,l[I]=-1,v&=~F}}function hr(l,u){var v=l.entangledLanes|=u;for(l=l.entanglements;v;){var E=31-$t(v),I=1<<E;I&u|l[E]&u&&(l[E]|=u),v&=~I}}var mn=0;function Ii(l){return l&=-l,1<l?4<l?(l&268435455)!==0?16:536870912:4:1}var Ru,Qp,n0,wf,Ef,ol=!1,Cf=[],us=null,an=null,zs=null,sl=new Map,Sc=new Map,Ma=[],h_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Rr(l,u){switch(l){case"focusin":case"focusout":us=null;break;case"dragenter":case"dragleave":an=null;break;case"mouseover":case"mouseout":zs=null;break;case"pointerover":case"pointerout":sl.delete(u.pointerId);break;case"gotpointercapture":case"lostpointercapture":Sc.delete(u.pointerId)}}function al(l,u,v,E,I,F){return l===null||l.nativeEvent!==F?(l={blockedOn:u,domEventName:v,eventSystemFlags:E,nativeEvent:F,targetContainers:[I]},u!==null&&(u=js(u),u!==null&&Qp(u)),l):(l.eventSystemFlags|=E,u=l.targetContainers,I!==null&&u.indexOf(I)===-1&&u.push(I),l)}function p_(l,u,v,E,I){switch(u){case"focusin":return us=al(us,l,u,v,E,I),!0;case"dragenter":return an=al(an,l,u,v,E,I),!0;case"mouseover":return zs=al(zs,l,u,v,E,I),!0;case"pointerover":var F=I.pointerId;return sl.set(F,al(sl.get(F)||null,l,u,v,E,I)),!0;case"gotpointercapture":return F=I.pointerId,Sc.set(F,al(Sc.get(F)||null,l,u,v,E,I)),!0}return!1}function Mf(l){var u=Oa(l.target);if(u!==null){var v=ls(u);if(v!==null){if(u=v.tag,u===13){if(u=vf(v),u!==null){l.blockedOn=u,Ef(l.priority,function(){n0(v)});return}}else if(u===3&&v.stateNode.current.memoizedState.isDehydrated){l.blockedOn=v.tag===3?v.stateNode.containerInfo:null;return}}}l.blockedOn=null}function Tf(l){if(l.blockedOn!==null)return!1;for(var u=l.targetContainers;0<u.length;){var v=xo(l.domEventName,l.eventSystemFlags,u[0],l.nativeEvent);if(v===null){v=l.nativeEvent;var E=new v.constructor(v.type,v);st=E,v.target.dispatchEvent(E),st=null}else return u=js(v),u!==null&&Qp(u),l.blockedOn=v,!1;u.shift()}return!0}function Au(l,u,v){Tf(l)&&v.delete(u)}function ds(){ol=!1,us!==null&&Tf(us)&&(us=null),an!==null&&Tf(an)&&(an=null),zs!==null&&Tf(zs)&&(zs=null),sl.forEach(Au),Sc.forEach(Au)}function Iu(l,u){l.blockedOn===u&&(l.blockedOn=null,ol||(ol=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,ds)))}function ku(l){function u(I){return Iu(I,l)}if(0<Cf.length){Iu(Cf[0],l);for(var v=1;v<Cf.length;v++){var E=Cf[v];E.blockedOn===l&&(E.blockedOn=null)}}for(us!==null&&Iu(us,l),an!==null&&Iu(an,l),zs!==null&&Iu(zs,l),sl.forEach(u),Sc.forEach(u),v=0;v<Ma.length;v++)E=Ma[v],E.blockedOn===l&&(E.blockedOn=null);for(;0<Ma.length&&(v=Ma[0],v.blockedOn===null);)Mf(v),v.blockedOn===null&&Ma.shift()}var mi=A.ReactCurrentBatchConfig,yo=!0;function Pf(l,u,v,E){var I=mn,F=mi.transition;mi.transition=null;try{mn=1,Rf(l,u,v,E)}finally{mn=I,mi.transition=F}}function em(l,u,v,E){var I=mn,F=mi.transition;mi.transition=null;try{mn=4,Rf(l,u,v,E)}finally{mn=I,mi.transition=F}}function Rf(l,u,v,E){if(yo){var I=xo(l,u,v,E);if(I===null)Yf(l,u,E,Af,v),Rr(l,E);else if(p_(I,l,u,v,E))E.stopPropagation();else if(Rr(l,E),u&4&&-1<h_.indexOf(l)){for(;I!==null;){var F=js(I);if(F!==null&&Ru(F),F=xo(l,u,v,E),F===null&&Yf(l,u,E,Af,v),F===I)break;I=F}I!==null&&E.stopPropagation()}else Yf(l,u,E,null,v)}}var Af=null;function xo(l,u,v,E){if(Af=null,l=ce(E),l=Oa(l),l!==null)if(u=ls(l),u===null)l=null;else if(v=u.tag,v===13){if(l=vf(u),l!==null)return l;l=null}else if(v===3){if(u.stateNode.current.memoizedState.isDehydrated)return u.tag===3?u.stateNode.containerInfo:null;l=null}else u!==l&&(l=null);return Af=l,null}function r0(l){switch(l){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ye()){case Ke:return 1;case ut:return 4;case vt:case bt:return 16;case Dt:return 536870912;default:return 16}default:return 16}}var Ho=null,tm=null,ki=null;function Ou(){if(ki)return ki;var l,u=tm,v=u.length,E,I="value"in Ho?Ho.value:Ho.textContent,F=I.length;for(l=0;l<v&&u[l]===I[l];l++);var H=v-l;for(E=1;E<=H&&u[v-E]===I[F-E];E++);return ki=I.slice(l,1<E?1-E:void 0)}function ll(l){var u=l.keyCode;return"charCode"in l?(l=l.charCode,l===0&&u===13&&(l=13)):l=u,l===10&&(l=13),32<=l||l===13?l:0}function Us(){return!0}function If(){return!1}function gi(l){function u(v,E,I,F,H){this._reactName=v,this._targetInst=I,this.type=E,this.nativeEvent=F,this.target=H,this.currentTarget=null;for(var oe in l)l.hasOwnProperty(oe)&&(v=l[oe],this[oe]=v?v(F):F[oe]);return this.isDefaultPrevented=(F.defaultPrevented!=null?F.defaultPrevented:F.returnValue===!1)?Us:If,this.isPropagationStopped=If,this}return Z(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var v=this.nativeEvent;v&&(v.preventDefault?v.preventDefault():typeof v.returnValue!="unknown"&&(v.returnValue=!1),this.isDefaultPrevented=Us)},stopPropagation:function(){var v=this.nativeEvent;v&&(v.stopPropagation?v.stopPropagation():typeof v.cancelBubble!="unknown"&&(v.cancelBubble=!0),this.isPropagationStopped=Us)},persist:function(){},isPersistent:Us}),u}var cl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(l){return l.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Lu=gi(cl),ul=Z({},cl,{view:0,detail:0}),wc=gi(ul),Oi,bo,_o,Ec=Z({},ul,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Pa,button:0,buttons:0,relatedTarget:function(l){return l.relatedTarget===void 0?l.fromElement===l.srcElement?l.toElement:l.fromElement:l.relatedTarget},movementX:function(l){return"movementX"in l?l.movementX:(l!==_o&&(_o&&l.type==="mousemove"?(Oi=l.screenX-_o.screenX,bo=l.screenY-_o.screenY):bo=Oi=0,_o=l),Oi)},movementY:function(l){return"movementY"in l?l.movementY:bo}}),nm=gi(Ec),Bs=Z({},Ec,{dataTransfer:0}),Ta=gi(Bs),kf=Z({},ul,{relatedTarget:0}),Of=gi(kf),Lf=Z({},cl,{animationName:0,elapsedTime:0,pseudoElement:0}),i0=gi(Lf),o0=Z({},cl,{clipboardData:function(l){return"clipboardData"in l?l.clipboardData:window.clipboardData}}),rm=gi(o0),Nf=Z({},cl,{data:0}),im=gi(Nf),s0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},a0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},om={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cc(l){var u=this.nativeEvent;return u.getModifierState?u.getModifierState(l):(l=om[l])?!!u[l]:!1}function Pa(){return Cc}var Df=Z({},ul,{key:function(l){if(l.key){var u=s0[l.key]||l.key;if(u!=="Unidentified")return u}return l.type==="keypress"?(l=ll(l),l===13?"Enter":String.fromCharCode(l)):l.type==="keydown"||l.type==="keyup"?a0[l.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Pa,charCode:function(l){return l.type==="keypress"?ll(l):0},keyCode:function(l){return l.type==="keydown"||l.type==="keyup"?l.keyCode:0},which:function(l){return l.type==="keypress"?ll(l):l.type==="keydown"||l.type==="keyup"?l.keyCode:0}}),Ff=gi(Df),So=Z({},Ec,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Yi=gi(So),dl=Z({},ul,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Pa}),Vs=gi(dl),$s=Z({},cl,{propertyName:0,elapsedTime:0,pseudoElement:0}),fl=gi($s),l0=Z({},Ec,{deltaX:function(l){return"deltaX"in l?l.deltaX:"wheelDeltaX"in l?-l.wheelDeltaX:0},deltaY:function(l){return"deltaY"in l?l.deltaY:"wheelDeltaY"in l?-l.wheelDeltaY:"wheelDelta"in l?-l.wheelDelta:0},deltaZ:0,deltaMode:0}),sm=gi(l0),am=[9,13,27,32],vi=a&&"CompositionEvent"in window,Xr=null;a&&"documentMode"in document&&(Xr=document.documentMode);var Jn=a&&"TextEvent"in window&&!Xr,Mc=a&&(!vi||Xr&&8<Xr&&11>=Xr),wo=" ",lm=!1;function cm(l,u){switch(l){case"keyup":return am.indexOf(u.keyCode)!==-1;case"keydown":return u.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zf(l){return l=l.detail,typeof l=="object"&&"data"in l?l.data:null}var Ra=!1;function c0(l,u){switch(l){case"compositionend":return zf(u);case"keypress":return u.which!==32?null:(lm=!0,wo);case"textInput":return l=u.data,l===wo&&lm?null:l;default:return null}}function Nu(l,u){if(Ra)return l==="compositionend"||!vi&&cm(l,u)?(l=Ou(),ki=tm=Ho=null,Ra=!1,l):null;switch(l){case"paste":return null;case"keypress":if(!(u.ctrlKey||u.altKey||u.metaKey)||u.ctrlKey&&u.altKey){if(u.char&&1<u.char.length)return u.char;if(u.which)return String.fromCharCode(u.which)}return null;case"compositionend":return Mc&&u.locale!=="ko"?null:u.data;default:return null}}var Tc={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Uf(l){var u=l&&l.nodeName&&l.nodeName.toLowerCase();return u==="input"?!!Tc[l.type]:u==="textarea"}function Pc(l,u,v,E){lt(E),u=Kf(u,"onChange"),0<u.length&&(v=new Lu("onChange","change",null,v,E),l.push({event:v,listeners:u}))}var Aa=null,Rc=null;function u0(l){Oc(l,0)}function Hs(l){var u=pr(l);if(at(u))return l}function d0(l,u){if(l==="change")return u}var Ac=!1;if(a){var Li;if(a){var hl="oninput"in document;if(!hl){var pl=document.createElement("div");pl.setAttribute("oninput","return;"),hl=typeof pl.oninput=="function"}Li=hl}else Li=!1;Ac=Li&&(!document.documentMode||9<document.documentMode)}function Wo(){Aa&&(Aa.detachEvent("onpropertychange",Bf),Rc=Aa=null)}function Bf(l){if(l.propertyName==="value"&&Hs(Rc)){var u=[];Pc(u,Rc,l,ce(l)),fr(u0,u)}}function Ic(l,u,v){l==="focusin"?(Wo(),Aa=u,Rc=v,Aa.attachEvent("onpropertychange",Bf)):l==="focusout"&&Wo()}function f0(l){if(l==="selectionchange"||l==="keyup"||l==="keydown")return Hs(Rc)}function um(l,u){if(l==="click")return Hs(u)}function ir(l,u){if(l==="input"||l==="change")return Hs(u)}function Vf(l,u){return l===u&&(l!==0||1/l===1/u)||l!==l&&u!==u}var Ki=typeof Object.is=="function"?Object.is:Vf;function ml(l,u){if(Ki(l,u))return!0;if(typeof l!="object"||l===null||typeof u!="object"||u===null)return!1;var v=Object.keys(l),E=Object.keys(u);if(v.length!==E.length)return!1;for(E=0;E<v.length;E++){var I=v[E];if(!c.call(u,I)||!Ki(l[I],u[I]))return!1}return!0}function Du(l){for(;l&&l.firstChild;)l=l.firstChild;return l}function Zi(l,u){var v=Du(l);l=0;for(var E;v;){if(v.nodeType===3){if(E=l+v.textContent.length,l<=u&&E>=u)return{node:v,offset:u-l};l=E}e:{for(;v;){if(v.nextSibling){v=v.nextSibling;break e}v=v.parentNode}v=void 0}v=Du(v)}}function gl(l,u){return l&&u?l===u?!0:l&&l.nodeType===3?!1:u&&u.nodeType===3?gl(l,u.parentNode):"contains"in l?l.contains(u):l.compareDocumentPosition?!!(l.compareDocumentPosition(u)&16):!1:!1}function or(){for(var l=window,u=Ge();u instanceof l.HTMLIFrameElement;){try{var v=typeof u.contentWindow.location.href=="string"}catch{v=!1}if(v)l=u.contentWindow;else break;u=Ge(l.document)}return u}function Nr(l){var u=l&&l.nodeName&&l.nodeName.toLowerCase();return u&&(u==="input"&&(l.type==="text"||l.type==="search"||l.type==="tel"||l.type==="url"||l.type==="password")||u==="textarea"||l.contentEditable==="true")}function Dr(l){var u=or(),v=l.focusedElem,E=l.selectionRange;if(u!==v&&v&&v.ownerDocument&&gl(v.ownerDocument.documentElement,v)){if(E!==null&&Nr(v)){if(u=E.start,l=E.end,l===void 0&&(l=u),"selectionStart"in v)v.selectionStart=u,v.selectionEnd=Math.min(l,v.value.length);else if(l=(u=v.ownerDocument||document)&&u.defaultView||window,l.getSelection){l=l.getSelection();var I=v.textContent.length,F=Math.min(E.start,I);E=E.end===void 0?F:Math.min(E.end,I),!l.extend&&F>E&&(I=E,E=F,F=I),I=Zi(v,F);var H=Zi(v,E);I&&H&&(l.rangeCount!==1||l.anchorNode!==I.node||l.anchorOffset!==I.offset||l.focusNode!==H.node||l.focusOffset!==H.offset)&&(u=u.createRange(),u.setStart(I.node,I.offset),l.removeAllRanges(),F>E?(l.addRange(u),l.extend(H.node,H.offset)):(u.setEnd(H.node,H.offset),l.addRange(u)))}}for(u=[],l=v;l=l.parentNode;)l.nodeType===1&&u.push({element:l,left:l.scrollLeft,top:l.scrollTop});for(typeof v.focus=="function"&&v.focus(),v=0;v<u.length;v++)l=u[v],l.element.scrollLeft=l.left,l.element.scrollTop=l.top}}var $f=a&&"documentMode"in document&&11>=document.documentMode,fs=null,vl=null,Fu=null,Fr=!1;function Hf(l,u,v){var E=v.window===v?v.document:v.nodeType===9?v:v.ownerDocument;Fr||fs==null||fs!==Ge(E)||(E=fs,"selectionStart"in E&&Nr(E)?E={start:E.selectionStart,end:E.selectionEnd}:(E=(E.ownerDocument&&E.ownerDocument.defaultView||window).getSelection(),E={anchorNode:E.anchorNode,anchorOffset:E.anchorOffset,focusNode:E.focusNode,focusOffset:E.focusOffset}),Fu&&ml(Fu,E)||(Fu=E,E=Kf(vl,"onSelect"),0<E.length&&(u=new Lu("onSelect","select",null,u,v),l.push({event:u,listeners:E}),u.target=fs)))}function kc(l,u){var v={};return v[l.toLowerCase()]=u.toLowerCase(),v["Webkit"+l]="webkit"+u,v["Moz"+l]="moz"+u,v}var Ia={animationend:kc("Animation","AnimationEnd"),animationiteration:kc("Animation","AnimationIteration"),animationstart:kc("Animation","AnimationStart"),transitionend:kc("Transition","TransitionEnd")},Go={},jo={};a&&(jo=document.createElement("div").style,"AnimationEvent"in window||(delete Ia.animationend.animation,delete Ia.animationiteration.animation,delete Ia.animationstart.animation),"TransitionEvent"in window||delete Ia.transitionend.transition);function hs(l){if(Go[l])return Go[l];if(!Ia[l])return l;var u=Ia[l],v;for(v in u)if(u.hasOwnProperty(v)&&v in jo)return Go[l]=u[v];return l}var zu=hs("animationend"),Uu=hs("animationiteration"),dm=hs("animationstart"),fm=hs("transitionend"),hm=new Map,pm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ws(l,u){hm.set(l,u),o(u,[l])}for(var Wf=0;Wf<pm.length;Wf++){var Bu=pm[Wf],Vu=Bu.toLowerCase(),h0=Bu[0].toUpperCase()+Bu.slice(1);Ws(Vu,"on"+h0)}Ws(zu,"onAnimationEnd"),Ws(Uu,"onAnimationIteration"),Ws(dm,"onAnimationStart"),Ws("dblclick","onDoubleClick"),Ws("focusin","onFocus"),Ws("focusout","onBlur"),Ws(fm,"onTransitionEnd"),s("onMouseEnter",["mouseout","mouseover"]),s("onMouseLeave",["mouseout","mouseover"]),s("onPointerEnter",["pointerout","pointerover"]),s("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ka="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Gf=new Set("cancel close invalid load scroll toggle".split(" ").concat(ka));function jf(l,u,v){var E=l.type||"unknown-event";l.currentTarget=v,gf(E,u,void 0,l),l.currentTarget=null}function Oc(l,u){u=(u&4)!==0;for(var v=0;v<l.length;v++){var E=l[v],I=E.event;E=E.listeners;e:{var F=void 0;if(u)for(var H=E.length-1;0<=H;H--){var oe=E[H],de=oe.instance,Pe=oe.currentTarget;if(oe=oe.listener,de!==F&&I.isPropagationStopped())break e;jf(I,oe,Pe),F=de}else for(H=0;H<E.length;H++){if(oe=E[H],de=oe.instance,Pe=oe.currentTarget,oe=oe.listener,de!==F&&I.isPropagationStopped())break e;jf(I,oe,Pe),F=de}}}if($o)throw l=Ca,$o=!1,Ca=null,l}function Bn(l,u){var v=u[bl];v===void 0&&(v=u[bl]=new Set);var E=l+"__bubble";v.has(E)||(qf(u,l,2,!1),v.add(E))}function Xf(l,u,v){var E=0;u&&(E|=4),qf(v,l,E,u)}var $u="_reactListening"+Math.random().toString(36).slice(2);function Lc(l){if(!l[$u]){l[$u]=!0,r.forEach(function(v){v!=="selectionchange"&&(Gf.has(v)||Xf(v,!1,l),Xf(v,!0,l))});var u=l.nodeType===9?l:l.ownerDocument;u===null||u[$u]||(u[$u]=!0,Xf("selectionchange",!1,u))}}function qf(l,u,v,E){switch(r0(u)){case 1:var I=Pf;break;case 4:I=em;break;default:I=Rf}v=I.bind(null,u,v,l),I=void 0,!bc||u!=="touchstart"&&u!=="touchmove"&&u!=="wheel"||(I=!0),E?I!==void 0?l.addEventListener(u,v,{capture:!0,passive:I}):l.addEventListener(u,v,!0):I!==void 0?l.addEventListener(u,v,{passive:I}):l.addEventListener(u,v,!1)}function Yf(l,u,v,E,I){var F=E;if((u&1)===0&&(u&2)===0&&E!==null)e:for(;;){if(E===null)return;var H=E.tag;if(H===3||H===4){var oe=E.stateNode.containerInfo;if(oe===I||oe.nodeType===8&&oe.parentNode===I)break;if(H===4)for(H=E.return;H!==null;){var de=H.tag;if((de===3||de===4)&&(de=H.stateNode.containerInfo,de===I||de.nodeType===8&&de.parentNode===I))return;H=H.return}for(;oe!==null;){if(H=Oa(oe),H===null)return;if(de=H.tag,de===5||de===6){E=F=H;continue e}oe=oe.parentNode}}E=E.return}fr(function(){var Pe=F,qe=ce(v),Je=[];e:{var je=hm.get(l);if(je!==void 0){var yt=Lu,Ct=l;switch(l){case"keypress":if(ll(v)===0)break e;case"keydown":case"keyup":yt=Ff;break;case"focusin":Ct="focus",yt=Of;break;case"focusout":Ct="blur",yt=Of;break;case"beforeblur":case"afterblur":yt=Of;break;case"click":if(v.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":yt=nm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":yt=Ta;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":yt=Vs;break;case zu:case Uu:case dm:yt=i0;break;case fm:yt=fl;break;case"scroll":yt=wc;break;case"wheel":yt=sm;break;case"copy":case"cut":case"paste":yt=rm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":yt=Yi}var At=(u&4)!==0,Ir=!At&&l==="scroll",Se=At?je!==null?je+"Capture":null:je;At=[];for(var he=Pe,we;he!==null;){we=he;var rt=we.stateNode;if(we.tag===5&&rt!==null&&(we=rt,Se!==null&&(rt=wr(he,Se),rt!=null&&At.push(Nc(he,rt,we)))),Ir)break;he=he.return}0<At.length&&(je=new yt(je,Ct,null,v,qe),Je.push({event:je,listeners:At}))}}if((u&7)===0){e:{if(je=l==="mouseover"||l==="pointerover",yt=l==="mouseout"||l==="pointerout",je&&v!==st&&(Ct=v.relatedTarget||v.fromElement)&&(Oa(Ct)||Ct[Ji]))break e;if((yt||je)&&(je=qe.window===qe?qe:(je=qe.ownerDocument)?je.defaultView||je.parentWindow:window,yt?(Ct=v.relatedTarget||v.toElement,yt=Pe,Ct=Ct?Oa(Ct):null,Ct!==null&&(Ir=ls(Ct),Ct!==Ir||Ct.tag!==5&&Ct.tag!==6)&&(Ct=null)):(yt=null,Ct=Pe),yt!==Ct)){if(At=nm,rt="onMouseLeave",Se="onMouseEnter",he="mouse",(l==="pointerout"||l==="pointerover")&&(At=Yi,rt="onPointerLeave",Se="onPointerEnter",he="pointer"),Ir=yt==null?je:pr(yt),we=Ct==null?je:pr(Ct),je=new At(rt,he+"leave",yt,v,qe),je.target=Ir,je.relatedTarget=we,rt=null,Oa(qe)===Pe&&(At=new At(Se,he+"enter",Ct,v,qe),At.target=we,At.relatedTarget=Ir,rt=At),Ir=rt,yt&&Ct)t:{for(At=yt,Se=Ct,he=0,we=At;we;we=yl(we))he++;for(we=0,rt=Se;rt;rt=yl(rt))we++;for(;0<he-we;)At=yl(At),he--;for(;0<we-he;)Se=yl(Se),we--;for(;he--;){if(At===Se||Se!==null&&At===Se.alternate)break t;At=yl(At),Se=yl(Se)}At=null}else At=null;yt!==null&&p0(Je,je,yt,At,!1),Ct!==null&&Ir!==null&&p0(Je,Ir,Ct,At,!0)}}e:{if(je=Pe?pr(Pe):window,yt=je.nodeName&&je.nodeName.toLowerCase(),yt==="select"||yt==="input"&&je.type==="file")var Ot=d0;else if(Uf(je))if(Ac)Ot=ir;else{Ot=f0;var zt=Ic}else(yt=je.nodeName)&&yt.toLowerCase()==="input"&&(je.type==="checkbox"||je.type==="radio")&&(Ot=um);if(Ot&&(Ot=Ot(l,Pe))){Pc(Je,Ot,v,qe);break e}zt&&zt(l,je,Pe),l==="focusout"&&(zt=je._wrapperState)&&zt.controlled&&je.type==="number"&&ot(je,"number",je.value)}switch(zt=Pe?pr(Pe):window,l){case"focusin":(Uf(zt)||zt.contentEditable==="true")&&(fs=zt,vl=Pe,Fu=null);break;case"focusout":Fu=vl=fs=null;break;case"mousedown":Fr=!0;break;case"contextmenu":case"mouseup":case"dragend":Fr=!1,Hf(Je,v,qe);break;case"selectionchange":if($f)break;case"keydown":case"keyup":Hf(Je,v,qe)}var Ut;if(vi)e:{switch(l){case"compositionstart":var Gt="onCompositionStart";break e;case"compositionend":Gt="onCompositionEnd";break e;case"compositionupdate":Gt="onCompositionUpdate";break e}Gt=void 0}else Ra?cm(l,v)&&(Gt="onCompositionEnd"):l==="keydown"&&v.keyCode===229&&(Gt="onCompositionStart");Gt&&(Mc&&v.locale!=="ko"&&(Ra||Gt!=="onCompositionStart"?Gt==="onCompositionEnd"&&Ra&&(Ut=Ou()):(Ho=qe,tm="value"in Ho?Ho.value:Ho.textContent,Ra=!0)),zt=Kf(Pe,Gt),0<zt.length&&(Gt=new im(Gt,l,null,v,qe),Je.push({event:Gt,listeners:zt}),Ut?Gt.data=Ut:(Ut=zf(v),Ut!==null&&(Gt.data=Ut)))),(Ut=Jn?c0(l,v):Nu(l,v))&&(Pe=Kf(Pe,"onBeforeInput"),0<Pe.length&&(qe=new im("onBeforeInput","beforeinput",null,v,qe),Je.push({event:qe,listeners:Pe}),qe.data=Ut))}Oc(Je,u)})}function Nc(l,u,v){return{instance:l,listener:u,currentTarget:v}}function Kf(l,u){for(var v=u+"Capture",E=[];l!==null;){var I=l,F=I.stateNode;I.tag===5&&F!==null&&(I=F,F=wr(l,v),F!=null&&E.unshift(Nc(l,F,I)),F=wr(l,u),F!=null&&E.push(Nc(l,F,I))),l=l.return}return E}function yl(l){if(l===null)return null;do l=l.return;while(l&&l.tag!==5);return l||null}function p0(l,u,v,E,I){for(var F=u._reactName,H=[];v!==null&&v!==E;){var oe=v,de=oe.alternate,Pe=oe.stateNode;if(de!==null&&de===E)break;oe.tag===5&&Pe!==null&&(oe=Pe,I?(de=wr(v,F),de!=null&&H.unshift(Nc(v,de,oe))):I||(de=wr(v,F),de!=null&&H.push(Nc(v,de,oe)))),v=v.return}H.length!==0&&l.push({event:u,listeners:H})}var m_=/\r\n?/g,m0=/\u0000|\uFFFD/g;function mm(l){return(typeof l=="string"?l:""+l).replace(m_,`
`).replace(m0,"")}function Hu(l,u,v){if(u=mm(u),mm(l)!==u&&v)throw Error(n(425))}function Wu(){}var Dc=null,gm=null;function vm(l,u){return l==="textarea"||l==="noscript"||typeof u.children=="string"||typeof u.children=="number"||typeof u.dangerouslySetInnerHTML=="object"&&u.dangerouslySetInnerHTML!==null&&u.dangerouslySetInnerHTML.__html!=null}var ym=typeof setTimeout=="function"?setTimeout:void 0,xm=typeof clearTimeout=="function"?clearTimeout:void 0,Zf=typeof Promise=="function"?Promise:void 0,g_=typeof queueMicrotask=="function"?queueMicrotask:typeof Zf<"u"?function(l){return Zf.resolve(null).then(l).catch(g0)}:ym;function g0(l){setTimeout(function(){throw l})}function Jf(l,u){var v=u,E=0;do{var I=v.nextSibling;if(l.removeChild(v),I&&I.nodeType===8)if(v=I.data,v==="/$"){if(E===0){l.removeChild(I),ku(u);return}E--}else v!=="$"&&v!=="$?"&&v!=="$!"||E++;v=I}while(v);ku(u)}function Gs(l){for(;l!=null;l=l.nextSibling){var u=l.nodeType;if(u===1||u===3)break;if(u===8){if(u=l.data,u==="$"||u==="$!"||u==="$?")break;if(u==="/$")return null}}return l}function bm(l){l=l.previousSibling;for(var u=0;l;){if(l.nodeType===8){var v=l.data;if(v==="$"||v==="$!"||v==="$?"){if(u===0)return l;u--}else v==="/$"&&u++}l=l.previousSibling}return null}var xl=Math.random().toString(36).slice(2),Ar="__reactFiber$"+xl,Fc="__reactProps$"+xl,Ji="__reactContainer$"+xl,bl="__reactEvents$"+xl,Qf="__reactListeners$"+xl,eh="__reactHandles$"+xl;function Oa(l){var u=l[Ar];if(u)return u;for(var v=l.parentNode;v;){if(u=v[Ji]||v[Ar]){if(v=u.alternate,u.child!==null||v!==null&&v.child!==null)for(l=bm(l);l!==null;){if(v=l[Ar])return v;l=bm(l)}return u}l=v,v=l.parentNode}return null}function js(l){return l=l[Ar]||l[Ji],!l||l.tag!==5&&l.tag!==6&&l.tag!==13&&l.tag!==3?null:l}function pr(l){if(l.tag===5||l.tag===6)return l.stateNode;throw Error(n(33))}function th(l){return l[Fc]||null}var _m=[],zr=-1;function lr(l){return{current:l}}function Vn(l){0>zr||(l.current=_m[zr],_m[zr]=null,zr--)}function Dn(l,u){zr++,_m[zr]=l.current,l.current=u}var Xs={},qr=lr(Xs),yi=lr(!1),qs=Xs;function _l(l,u){var v=l.type.contextTypes;if(!v)return Xs;var E=l.stateNode;if(E&&E.__reactInternalMemoizedUnmaskedChildContext===u)return E.__reactInternalMemoizedMaskedChildContext;var I={},F;for(F in v)I[F]=u[F];return E&&(l=l.stateNode,l.__reactInternalMemoizedUnmaskedChildContext=u,l.__reactInternalMemoizedMaskedChildContext=I),I}function si(l){return l=l.childContextTypes,l!=null}function Gu(){Vn(yi),Vn(qr)}function Sm(l,u,v){if(qr.current!==Xs)throw Error(n(168));Dn(qr,u),Dn(yi,v)}function ju(l,u,v){var E=l.stateNode;if(u=u.childContextTypes,typeof E.getChildContext!="function")return v;E=E.getChildContext();for(var I in E)if(!(I in u))throw Error(n(108,Le(l)||"Unknown",I));return Z({},v,E)}function Sl(l){return l=(l=l.stateNode)&&l.__reactInternalMemoizedMergedChildContext||Xs,qs=qr.current,Dn(qr,l),Dn(yi,yi.current),!0}function wm(l,u,v){var E=l.stateNode;if(!E)throw Error(n(169));v?(l=ju(l,u,qs),E.__reactInternalMemoizedMergedChildContext=l,Vn(yi),Vn(qr),Dn(qr,l)):Vn(yi),Dn(yi,v)}var Xo=null,Xu=!1,nh=!1;function qu(l){Xo===null?Xo=[l]:Xo.push(l)}function v0(l){Xu=!0,qu(l)}function ps(){if(!nh&&Xo!==null){nh=!0;var l=0,u=mn;try{var v=Xo;for(mn=1;l<v.length;l++){var E=v[l];do E=E(!0);while(E!==null)}Xo=null,Xu=!1}catch(I){throw Xo!==null&&(Xo=Xo.slice(l+1)),Sf(Ke,ps),I}finally{mn=u,nh=!1}}return null}var wl=[],Ni=0,rh=null,ih=0,xi=[],Ur=0,El=null,it=1,Eo="";function Ys(l,u){wl[Ni++]=ih,wl[Ni++]=rh,rh=l,ih=u}function Em(l,u,v){xi[Ur++]=it,xi[Ur++]=Eo,xi[Ur++]=El,El=l;var E=it;l=Eo;var I=32-$t(E)-1;E&=~(1<<I),v+=1;var F=32-$t(u)+I;if(30<F){var H=I-I%5;F=(E&(1<<H)-1).toString(32),E>>=H,I-=H,it=1<<32-$t(u)+I|v<<I|E,Eo=F+l}else it=1<<F|v<<I|E,Eo=l}function Cm(l){l.return!==null&&(Ys(l,1),Em(l,1,0))}function Ks(l){for(;l===rh;)rh=wl[--Ni],wl[Ni]=null,ih=wl[--Ni],wl[Ni]=null;for(;l===El;)El=xi[--Ur],xi[Ur]=null,Eo=xi[--Ur],xi[Ur]=null,it=xi[--Ur],xi[Ur]=null}var Yr=null,bi=null,jn=!1,Co=null;function Mm(l,u){var v=xs(5,null,null,0);v.elementType="DELETED",v.stateNode=u,v.return=l,u=l.deletions,u===null?(l.deletions=[v],l.flags|=16):u.push(v)}function Tm(l,u){switch(l.tag){case 5:var v=l.type;return u=u.nodeType!==1||v.toLowerCase()!==u.nodeName.toLowerCase()?null:u,u!==null?(l.stateNode=u,Yr=l,bi=Gs(u.firstChild),!0):!1;case 6:return u=l.pendingProps===""||u.nodeType!==3?null:u,u!==null?(l.stateNode=u,Yr=l,bi=null,!0):!1;case 13:return u=u.nodeType!==8?null:u,u!==null?(v=El!==null?{id:it,overflow:Eo}:null,l.memoizedState={dehydrated:u,treeContext:v,retryLane:1073741824},v=xs(18,null,null,0),v.stateNode=u,v.return=l,l.child=v,Yr=l,bi=null,!0):!1;default:return!1}}function oh(l){return(l.mode&1)!==0&&(l.flags&128)===0}function sh(l){if(jn){var u=bi;if(u){var v=u;if(!Tm(l,u)){if(oh(l))throw Error(n(418));u=Gs(v.nextSibling);var E=Yr;u&&Tm(l,u)?Mm(E,v):(l.flags=l.flags&-4097|2,jn=!1,Yr=l)}}else{if(oh(l))throw Error(n(418));l.flags=l.flags&-4097|2,jn=!1,Yr=l}}}function ah(l){for(l=l.return;l!==null&&l.tag!==5&&l.tag!==3&&l.tag!==13;)l=l.return;Yr=l}function zc(l){if(l!==Yr)return!1;if(!jn)return ah(l),jn=!0,!1;var u;if((u=l.tag!==3)&&!(u=l.tag!==5)&&(u=l.type,u=u!=="head"&&u!=="body"&&!vm(l.type,l.memoizedProps)),u&&(u=bi)){if(oh(l))throw Pm(),Error(n(418));for(;u;)Mm(l,u),u=Gs(u.nextSibling)}if(ah(l),l.tag===13){if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(n(317));e:{for(l=l.nextSibling,u=0;l;){if(l.nodeType===8){var v=l.data;if(v==="/$"){if(u===0){bi=Gs(l.nextSibling);break e}u--}else v!=="$"&&v!=="$!"&&v!=="$?"||u++}l=l.nextSibling}bi=null}}else bi=Yr?Gs(l.stateNode.nextSibling):null;return!0}function Pm(){for(var l=bi;l;)l=Gs(l.nextSibling)}function La(){bi=Yr=null,jn=!1}function Uc(l){Co===null?Co=[l]:Co.push(l)}var v_=A.ReactCurrentBatchConfig;function Yu(l,u,v){if(l=v.ref,l!==null&&typeof l!="function"&&typeof l!="object"){if(v._owner){if(v=v._owner,v){if(v.tag!==1)throw Error(n(309));var E=v.stateNode}if(!E)throw Error(n(147,l));var I=E,F=""+l;return u!==null&&u.ref!==null&&typeof u.ref=="function"&&u.ref._stringRef===F?u.ref:(u=function(H){var oe=I.refs;H===null?delete oe[F]:oe[F]=H},u._stringRef=F,u)}if(typeof l!="string")throw Error(n(284));if(!v._owner)throw Error(n(290,l))}return l}function Ku(l,u){throw l=Object.prototype.toString.call(u),Error(n(31,l==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":l))}function Rm(l){var u=l._init;return u(l._payload)}function Am(l){function u(Se,he){if(l){var we=Se.deletions;we===null?(Se.deletions=[he],Se.flags|=16):we.push(he)}}function v(Se,he){if(!l)return null;for(;he!==null;)u(Se,he),he=he.sibling;return null}function E(Se,he){for(Se=new Map;he!==null;)he.key!==null?Se.set(he.key,he):Se.set(he.index,he),he=he.sibling;return Se}function I(Se,he){return Se=Kc(Se,he),Se.index=0,Se.sibling=null,Se}function F(Se,he,we){return Se.index=we,l?(we=Se.alternate,we!==null?(we=we.index,we<he?(Se.flags|=2,he):we):(Se.flags|=2,he)):(Se.flags|=1048576,he)}function H(Se){return l&&Se.alternate===null&&(Se.flags|=2),Se}function oe(Se,he,we,rt){return he===null||he.tag!==6?(he=D_(we,Se.mode,rt),he.return=Se,he):(he=I(he,we),he.return=Se,he)}function de(Se,he,we,rt){var Ot=we.type;return Ot===k?qe(Se,he,we.props.children,rt,we.key):he!==null&&(he.elementType===Ot||typeof Ot=="object"&&Ot!==null&&Ot.$$typeof===ne&&Rm(Ot)===he.type)?(rt=I(he,we.props),rt.ref=Yu(Se,he,we),rt.return=Se,rt):(rt=B0(we.type,we.key,we.props,null,Se.mode,rt),rt.ref=Yu(Se,he,we),rt.return=Se,rt)}function Pe(Se,he,we,rt){return he===null||he.tag!==4||he.stateNode.containerInfo!==we.containerInfo||he.stateNode.implementation!==we.implementation?(he=F_(we,Se.mode,rt),he.return=Se,he):(he=I(he,we.children||[]),he.return=Se,he)}function qe(Se,he,we,rt,Ot){return he===null||he.tag!==7?(he=hd(we,Se.mode,rt,Ot),he.return=Se,he):(he=I(he,we),he.return=Se,he)}function Je(Se,he,we){if(typeof he=="string"&&he!==""||typeof he=="number")return he=D_(""+he,Se.mode,we),he.return=Se,he;if(typeof he=="object"&&he!==null){switch(he.$$typeof){case P:return we=B0(he.type,he.key,he.props,null,Se.mode,we),we.ref=Yu(Se,null,he),we.return=Se,we;case R:return he=F_(he,Se.mode,we),he.return=Se,he;case ne:var rt=he._init;return Je(Se,rt(he._payload),we)}if(Be(he)||Q(he))return he=hd(he,Se.mode,we,null),he.return=Se,he;Ku(Se,he)}return null}function je(Se,he,we,rt){var Ot=he!==null?he.key:null;if(typeof we=="string"&&we!==""||typeof we=="number")return Ot!==null?null:oe(Se,he,""+we,rt);if(typeof we=="object"&&we!==null){switch(we.$$typeof){case P:return we.key===Ot?de(Se,he,we,rt):null;case R:return we.key===Ot?Pe(Se,he,we,rt):null;case ne:return Ot=we._init,je(Se,he,Ot(we._payload),rt)}if(Be(we)||Q(we))return Ot!==null?null:qe(Se,he,we,rt,null);Ku(Se,we)}return null}function yt(Se,he,we,rt,Ot){if(typeof rt=="string"&&rt!==""||typeof rt=="number")return Se=Se.get(we)||null,oe(he,Se,""+rt,Ot);if(typeof rt=="object"&&rt!==null){switch(rt.$$typeof){case P:return Se=Se.get(rt.key===null?we:rt.key)||null,de(he,Se,rt,Ot);case R:return Se=Se.get(rt.key===null?we:rt.key)||null,Pe(he,Se,rt,Ot);case ne:var zt=rt._init;return yt(Se,he,we,zt(rt._payload),Ot)}if(Be(rt)||Q(rt))return Se=Se.get(we)||null,qe(he,Se,rt,Ot,null);Ku(he,rt)}return null}function Ct(Se,he,we,rt){for(var Ot=null,zt=null,Ut=he,Gt=he=0,ui=null;Ut!==null&&Gt<we.length;Gt++){Ut.index>Gt?(ui=Ut,Ut=null):ui=Ut.sibling;var Rn=je(Se,Ut,we[Gt],rt);if(Rn===null){Ut===null&&(Ut=ui);break}l&&Ut&&Rn.alternate===null&&u(Se,Ut),he=F(Rn,he,Gt),zt===null?Ot=Rn:zt.sibling=Rn,zt=Rn,Ut=ui}if(Gt===we.length)return v(Se,Ut),jn&&Ys(Se,Gt),Ot;if(Ut===null){for(;Gt<we.length;Gt++)Ut=Je(Se,we[Gt],rt),Ut!==null&&(he=F(Ut,he,Gt),zt===null?Ot=Ut:zt.sibling=Ut,zt=Ut);return jn&&Ys(Se,Gt),Ot}for(Ut=E(Se,Ut);Gt<we.length;Gt++)ui=yt(Ut,Se,Gt,we[Gt],rt),ui!==null&&(l&&ui.alternate!==null&&Ut.delete(ui.key===null?Gt:ui.key),he=F(ui,he,Gt),zt===null?Ot=ui:zt.sibling=ui,zt=ui);return l&&Ut.forEach(function(Zc){return u(Se,Zc)}),jn&&Ys(Se,Gt),Ot}function At(Se,he,we,rt){var Ot=Q(we);if(typeof Ot!="function")throw Error(n(150));if(we=Ot.call(we),we==null)throw Error(n(151));for(var zt=Ot=null,Ut=he,Gt=he=0,ui=null,Rn=we.next();Ut!==null&&!Rn.done;Gt++,Rn=we.next()){Ut.index>Gt?(ui=Ut,Ut=null):ui=Ut.sibling;var Zc=je(Se,Ut,Rn.value,rt);if(Zc===null){Ut===null&&(Ut=ui);break}l&&Ut&&Zc.alternate===null&&u(Se,Ut),he=F(Zc,he,Gt),zt===null?Ot=Zc:zt.sibling=Zc,zt=Zc,Ut=ui}if(Rn.done)return v(Se,Ut),jn&&Ys(Se,Gt),Ot;if(Ut===null){for(;!Rn.done;Gt++,Rn=we.next())Rn=Je(Se,Rn.value,rt),Rn!==null&&(he=F(Rn,he,Gt),zt===null?Ot=Rn:zt.sibling=Rn,zt=Rn);return jn&&Ys(Se,Gt),Ot}for(Ut=E(Se,Ut);!Rn.done;Gt++,Rn=we.next())Rn=yt(Ut,Se,Gt,Rn.value,rt),Rn!==null&&(l&&Rn.alternate!==null&&Ut.delete(Rn.key===null?Gt:Rn.key),he=F(Rn,he,Gt),zt===null?Ot=Rn:zt.sibling=Rn,zt=Rn);return l&&Ut.forEach(function(XU){return u(Se,XU)}),jn&&Ys(Se,Gt),Ot}function Ir(Se,he,we,rt){if(typeof we=="object"&&we!==null&&we.type===k&&we.key===null&&(we=we.props.children),typeof we=="object"&&we!==null){switch(we.$$typeof){case P:e:{for(var Ot=we.key,zt=he;zt!==null;){if(zt.key===Ot){if(Ot=we.type,Ot===k){if(zt.tag===7){v(Se,zt.sibling),he=I(zt,we.props.children),he.return=Se,Se=he;break e}}else if(zt.elementType===Ot||typeof Ot=="object"&&Ot!==null&&Ot.$$typeof===ne&&Rm(Ot)===zt.type){v(Se,zt.sibling),he=I(zt,we.props),he.ref=Yu(Se,zt,we),he.return=Se,Se=he;break e}v(Se,zt);break}else u(Se,zt);zt=zt.sibling}we.type===k?(he=hd(we.props.children,Se.mode,rt,we.key),he.return=Se,Se=he):(rt=B0(we.type,we.key,we.props,null,Se.mode,rt),rt.ref=Yu(Se,he,we),rt.return=Se,Se=rt)}return H(Se);case R:e:{for(zt=we.key;he!==null;){if(he.key===zt)if(he.tag===4&&he.stateNode.containerInfo===we.containerInfo&&he.stateNode.implementation===we.implementation){v(Se,he.sibling),he=I(he,we.children||[]),he.return=Se,Se=he;break e}else{v(Se,he);break}else u(Se,he);he=he.sibling}he=F_(we,Se.mode,rt),he.return=Se,Se=he}return H(Se);case ne:return zt=we._init,Ir(Se,he,zt(we._payload),rt)}if(Be(we))return Ct(Se,he,we,rt);if(Q(we))return At(Se,he,we,rt);Ku(Se,we)}return typeof we=="string"&&we!==""||typeof we=="number"?(we=""+we,he!==null&&he.tag===6?(v(Se,he.sibling),he=I(he,we),he.return=Se,Se=he):(v(Se,he),he=D_(we,Se.mode,rt),he.return=Se,Se=he),H(Se)):v(Se,he)}return Ir}var Cl=Am(!0),Zu=Am(!1),Ml=lr(null),Tl=null,Zs=null,Bc=null;function Pl(){Bc=Zs=Tl=null}function Ju(l){var u=Ml.current;Vn(Ml),l._currentValue=u}function Qu(l,u,v){for(;l!==null;){var E=l.alternate;if((l.childLanes&u)!==u?(l.childLanes|=u,E!==null&&(E.childLanes|=u)):E!==null&&(E.childLanes&u)!==u&&(E.childLanes|=u),l===v)break;l=l.return}}function Na(l,u){Tl=l,Bc=Zs=null,l=l.dependencies,l!==null&&l.firstContext!==null&&((l.lanes&u)!==0&&(rn=!0),l.firstContext=null)}function Qi(l){var u=l._currentValue;if(Bc!==l)if(l={context:l,memoizedValue:u,next:null},Zs===null){if(Tl===null)throw Error(n(308));Zs=l,Tl.dependencies={lanes:0,firstContext:l}}else Zs=Zs.next=l;return u}var Js=null;function Im(l){Js===null?Js=[l]:Js.push(l)}function ed(l,u,v,E){var I=u.interleaved;return I===null?(v.next=v,Im(u)):(v.next=I.next,I.next=v),u.interleaved=v,qo(l,E)}function qo(l,u){l.lanes|=u;var v=l.alternate;for(v!==null&&(v.lanes|=u),v=l,l=l.return;l!==null;)l.childLanes|=u,v=l.alternate,v!==null&&(v.childLanes|=u),v=l,l=l.return;return v.tag===3?v.stateNode:null}var kn=!1;function Qt(l){l.updateQueue={baseState:l.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function mr(l,u){l=l.updateQueue,u.updateQueue===l&&(u.updateQueue={baseState:l.baseState,firstBaseUpdate:l.firstBaseUpdate,lastBaseUpdate:l.lastBaseUpdate,shared:l.shared,effects:l.effects})}function On(l,u){return{eventTime:l,lane:u,tag:0,payload:null,callback:null,next:null}}function Qn(l,u,v){var E=l.updateQueue;if(E===null)return null;if(E=E.shared,(En&2)!==0){var I=E.pending;return I===null?u.next=u:(u.next=I.next,I.next=u),E.pending=u,qo(l,v)}return I=E.interleaved,I===null?(u.next=u,Im(E)):(u.next=I.next,I.next=u),E.interleaved=u,qo(l,v)}function ai(l,u,v){if(u=u.updateQueue,u!==null&&(u=u.shared,(v&4194240)!==0)){var E=u.lanes;E&=l.pendingLanes,v|=E,u.lanes=v,hr(l,v)}}function Rl(l,u){var v=l.updateQueue,E=l.alternate;if(E!==null&&(E=E.updateQueue,v===E)){var I=null,F=null;if(v=v.firstBaseUpdate,v!==null){do{var H={eventTime:v.eventTime,lane:v.lane,tag:v.tag,payload:v.payload,callback:v.callback,next:null};F===null?I=F=H:F=F.next=H,v=v.next}while(v!==null);F===null?I=F=u:F=F.next=u}else I=F=u;v={baseState:E.baseState,firstBaseUpdate:I,lastBaseUpdate:F,shared:E.shared,effects:E.effects},l.updateQueue=v;return}l=v.lastBaseUpdate,l===null?v.firstBaseUpdate=u:l.next=u,v.lastBaseUpdate=u}function cr(l,u,v,E){var I=l.updateQueue;kn=!1;var F=I.firstBaseUpdate,H=I.lastBaseUpdate,oe=I.shared.pending;if(oe!==null){I.shared.pending=null;var de=oe,Pe=de.next;de.next=null,H===null?F=Pe:H.next=Pe,H=de;var qe=l.alternate;qe!==null&&(qe=qe.updateQueue,oe=qe.lastBaseUpdate,oe!==H&&(oe===null?qe.firstBaseUpdate=Pe:oe.next=Pe,qe.lastBaseUpdate=de))}if(F!==null){var Je=I.baseState;H=0,qe=Pe=de=null,oe=F;do{var je=oe.lane,yt=oe.eventTime;if((E&je)===je){qe!==null&&(qe=qe.next={eventTime:yt,lane:0,tag:oe.tag,payload:oe.payload,callback:oe.callback,next:null});e:{var Ct=l,At=oe;switch(je=u,yt=v,At.tag){case 1:if(Ct=At.payload,typeof Ct=="function"){Je=Ct.call(yt,Je,je);break e}Je=Ct;break e;case 3:Ct.flags=Ct.flags&-65537|128;case 0:if(Ct=At.payload,je=typeof Ct=="function"?Ct.call(yt,Je,je):Ct,je==null)break e;Je=Z({},Je,je);break e;case 2:kn=!0}}oe.callback!==null&&oe.lane!==0&&(l.flags|=64,je=I.effects,je===null?I.effects=[oe]:je.push(oe))}else yt={eventTime:yt,lane:je,tag:oe.tag,payload:oe.payload,callback:oe.callback,next:null},qe===null?(Pe=qe=yt,de=Je):qe=qe.next=yt,H|=je;if(oe=oe.next,oe===null){if(oe=I.shared.pending,oe===null)break;je=oe,oe=je.next,je.next=null,I.lastBaseUpdate=je,I.shared.pending=null}}while(!0);if(qe===null&&(de=Je),I.baseState=de,I.firstBaseUpdate=Pe,I.lastBaseUpdate=qe,u=I.shared.interleaved,u!==null){I=u;do H|=I.lane,I=I.next;while(I!==u)}else F===null&&(I.shared.lanes=0);cd|=H,l.lanes=H,l.memoizedState=Je}}function Vc(l,u,v){if(l=u.effects,u.effects=null,l!==null)for(u=0;u<l.length;u++){var E=l[u],I=E.callback;if(I!==null){if(E.callback=null,E=v,typeof I!="function")throw Error(n(191,I));I.call(E)}}}var ms={},eo=lr(ms),Al=lr(ms),Qs=lr(ms);function Er(l){if(l===ms)throw Error(n(174));return l}function td(l,u){switch(Dn(Qs,u),Dn(Al,l),Dn(eo,ms),l=u.nodeType,l){case 9:case 11:u=(u=u.documentElement)?u.namespaceURI:tt(null,"");break;default:l=l===8?u.parentNode:u,u=l.namespaceURI||null,l=l.tagName,u=tt(u,l)}Vn(eo),Dn(eo,u)}function Da(){Vn(eo),Vn(Al),Vn(Qs)}function Il(l){Er(Qs.current);var u=Er(eo.current),v=tt(u,l.type);u!==v&&(Dn(Al,l),Dn(eo,v))}function $c(l){Al.current===l&&(Vn(eo),Vn(Al))}var Xn=lr(0);function Yo(l){for(var u=l;u!==null;){if(u.tag===13){var v=u.memoizedState;if(v!==null&&(v=v.dehydrated,v===null||v.data==="$?"||v.data==="$!"))return u}else if(u.tag===19&&u.memoizedProps.revealOrder!==void 0){if((u.flags&128)!==0)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===l)break;for(;u.sibling===null;){if(u.return===null||u.return===l)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}var Hc=[];function gs(){for(var l=0;l<Hc.length;l++)Hc[l]._workInProgressVersionPrimary=null;Hc.length=0}var kl=A.ReactCurrentDispatcher,Ol=A.ReactCurrentBatchConfig,ea=0,$n=null,ur=null,Sn=null,Ko=!1,li=!1,Fa=0,Di=0;function Kr(){throw Error(n(321))}function nd(l,u){if(u===null)return!1;for(var v=0;v<u.length&&v<l.length;v++)if(!Ki(l[v],u[v]))return!1;return!0}function rd(l,u,v,E,I,F){if(ea=F,$n=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,kl.current=l===null||l.memoizedState===null?E0:C0,l=v(E,I),li){F=0;do{if(li=!1,Fa=0,25<=F)throw Error(n(301));F+=1,Sn=ur=null,u.updateQueue=null,kl.current=M0,l=v(E,I)}while(li)}if(kl.current=ph,u=ur!==null&&ur.next!==null,ea=0,Sn=ur=$n=null,Ko=!1,u)throw Error(n(300));return l}function km(){var l=Fa!==0;return Fa=0,l}function Zr(){var l={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Sn===null?$n.memoizedState=Sn=l:Sn=Sn.next=l,Sn}function to(){if(ur===null){var l=$n.alternate;l=l!==null?l.memoizedState:null}else l=ur.next;var u=Sn===null?$n.memoizedState:Sn.next;if(u!==null)Sn=u,ur=l;else{if(l===null)throw Error(n(310));ur=l,l={memoizedState:ur.memoizedState,baseState:ur.baseState,baseQueue:ur.baseQueue,queue:ur.queue,next:null},Sn===null?$n.memoizedState=Sn=l:Sn=Sn.next=l}return Sn}function Wc(l,u){return typeof u=="function"?u(l):u}function id(l){var u=to(),v=u.queue;if(v===null)throw Error(n(311));v.lastRenderedReducer=l;var E=ur,I=E.baseQueue,F=v.pending;if(F!==null){if(I!==null){var H=I.next;I.next=F.next,F.next=H}E.baseQueue=I=F,v.pending=null}if(I!==null){F=I.next,E=E.baseState;var oe=H=null,de=null,Pe=F;do{var qe=Pe.lane;if((ea&qe)===qe)de!==null&&(de=de.next={lane:0,action:Pe.action,hasEagerState:Pe.hasEagerState,eagerState:Pe.eagerState,next:null}),E=Pe.hasEagerState?Pe.eagerState:l(E,Pe.action);else{var Je={lane:qe,action:Pe.action,hasEagerState:Pe.hasEagerState,eagerState:Pe.eagerState,next:null};de===null?(oe=de=Je,H=E):de=de.next=Je,$n.lanes|=qe,cd|=qe}Pe=Pe.next}while(Pe!==null&&Pe!==F);de===null?H=E:de.next=oe,Ki(E,u.memoizedState)||(rn=!0),u.memoizedState=E,u.baseState=H,u.baseQueue=de,v.lastRenderedState=E}if(l=v.interleaved,l!==null){I=l;do F=I.lane,$n.lanes|=F,cd|=F,I=I.next;while(I!==l)}else I===null&&(v.lanes=0);return[u.memoizedState,v.dispatch]}function ta(l){var u=to(),v=u.queue;if(v===null)throw Error(n(311));v.lastRenderedReducer=l;var E=v.dispatch,I=v.pending,F=u.memoizedState;if(I!==null){v.pending=null;var H=I=I.next;do F=l(F,H.action),H=H.next;while(H!==I);Ki(F,u.memoizedState)||(rn=!0),u.memoizedState=F,u.baseQueue===null&&(u.baseState=F),v.lastRenderedState=F}return[F,E]}function Om(){}function Lm(l,u){var v=$n,E=to(),I=u(),F=!Ki(E.memoizedState,I);if(F&&(E.memoizedState=I,rn=!0),E=E.queue,Fm(y0.bind(null,v,E,l),[l]),E.getSnapshot!==u||F||Sn!==null&&Sn.memoizedState.tag&1){if(v.flags|=2048,Zo(9,od.bind(null,v,E,I,u),void 0,null),ci===null)throw Error(n(349));(ea&30)!==0||lh(v,u,I)}return I}function lh(l,u,v){l.flags|=16384,l={getSnapshot:u,value:v},u=$n.updateQueue,u===null?(u={lastEffect:null,stores:null},$n.updateQueue=u,u.stores=[l]):(v=u.stores,v===null?u.stores=[l]:v.push(l))}function od(l,u,v,E){u.value=v,u.getSnapshot=E,x0(u)&&Nm(l)}function y0(l,u,v){return v(function(){x0(u)&&Nm(l)})}function x0(l){var u=l.getSnapshot;l=l.value;try{var v=u();return!Ki(l,v)}catch{return!0}}function Nm(l){var u=qo(l,1);u!==null&&sa(u,l,1,-1)}function Dm(l){var u=Zr();return typeof l=="function"&&(l=l()),u.memoizedState=u.baseState=l,l={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Wc,lastRenderedState:l},u.queue=l,l=l.dispatch=Ll.bind(null,$n,l),[u.memoizedState,l]}function Zo(l,u,v,E){return l={tag:l,create:u,destroy:v,deps:E,next:null},u=$n.updateQueue,u===null?(u={lastEffect:null,stores:null},$n.updateQueue=u,u.lastEffect=l.next=l):(v=u.lastEffect,v===null?u.lastEffect=l.next=l:(E=v.next,v.next=l,l.next=E,u.lastEffect=l)),l}function b0(){return to().memoizedState}function vs(l,u,v,E){var I=Zr();$n.flags|=l,I.memoizedState=Zo(1|u,v,void 0,E===void 0?null:E)}function sd(l,u,v,E){var I=to();E=E===void 0?null:E;var F=void 0;if(ur!==null){var H=ur.memoizedState;if(F=H.destroy,E!==null&&nd(E,H.deps)){I.memoizedState=Zo(u,v,F,E);return}}$n.flags|=l,I.memoizedState=Zo(1|u,v,F,E)}function _i(l,u){return vs(8390656,8,l,u)}function Fm(l,u){return sd(2048,8,l,u)}function zm(l,u){return sd(4,2,l,u)}function _0(l,u){return sd(4,4,l,u)}function S0(l,u){if(typeof u=="function")return l=l(),u(l),function(){u(null)};if(u!=null)return l=l(),u.current=l,function(){u.current=null}}function Um(l,u,v){return v=v!=null?v.concat([l]):null,sd(4,4,S0.bind(null,u,l),v)}function ch(){}function w0(l,u){var v=to();u=u===void 0?null:u;var E=v.memoizedState;return E!==null&&u!==null&&nd(u,E[1])?E[0]:(v.memoizedState=[l,u],l)}function no(l,u){var v=to();u=u===void 0?null:u;var E=v.memoizedState;return E!==null&&u!==null&&nd(u,E[1])?E[0]:(l=l(),v.memoizedState=[l,u],l)}function uh(l,u,v){return(ea&21)===0?(l.baseState&&(l.baseState=!1,rn=!0),l.memoizedState=v):(Ki(v,u)||(v=pn(),$n.lanes|=v,cd|=v,l.baseState=!0),u)}function y_(l,u){var v=mn;mn=v!==0&&4>v?v:4,l(!0);var E=Ol.transition;Ol.transition={};try{l(!1),u()}finally{mn=v,Ol.transition=E}}function na(){return to().memoizedState}function dh(l,u,v){var E=qc(l);if(v={lane:E,action:v,hasEagerState:!1,eagerState:null,next:null},ad(l))fh(u,v);else if(v=ed(l,u,v,E),v!==null){var I=io();sa(v,l,E,I),hh(v,u,E)}}function Ll(l,u,v){var E=qc(l),I={lane:E,action:v,hasEagerState:!1,eagerState:null,next:null};if(ad(l))fh(u,I);else{var F=l.alternate;if(l.lanes===0&&(F===null||F.lanes===0)&&(F=u.lastRenderedReducer,F!==null))try{var H=u.lastRenderedState,oe=F(H,v);if(I.hasEagerState=!0,I.eagerState=oe,Ki(oe,H)){var de=u.interleaved;de===null?(I.next=I,Im(u)):(I.next=de.next,de.next=I),u.interleaved=I;return}}catch{}finally{}v=ed(l,u,I,E),v!==null&&(I=io(),sa(v,l,E,I),hh(v,u,E))}}function ad(l){var u=l.alternate;return l===$n||u!==null&&u===$n}function fh(l,u){li=Ko=!0;var v=l.pending;v===null?u.next=u:(u.next=v.next,v.next=u),l.pending=u}function hh(l,u,v){if((v&4194240)!==0){var E=u.lanes;E&=l.pendingLanes,v|=E,u.lanes=v,hr(l,v)}}var ph={readContext:Qi,useCallback:Kr,useContext:Kr,useEffect:Kr,useImperativeHandle:Kr,useInsertionEffect:Kr,useLayoutEffect:Kr,useMemo:Kr,useReducer:Kr,useRef:Kr,useState:Kr,useDebugValue:Kr,useDeferredValue:Kr,useTransition:Kr,useMutableSource:Kr,useSyncExternalStore:Kr,useId:Kr,unstable_isNewReconciler:!1},E0={readContext:Qi,useCallback:function(l,u){return Zr().memoizedState=[l,u===void 0?null:u],l},useContext:Qi,useEffect:_i,useImperativeHandle:function(l,u,v){return v=v!=null?v.concat([l]):null,vs(4194308,4,S0.bind(null,u,l),v)},useLayoutEffect:function(l,u){return vs(4194308,4,l,u)},useInsertionEffect:function(l,u){return vs(4,2,l,u)},useMemo:function(l,u){var v=Zr();return u=u===void 0?null:u,l=l(),v.memoizedState=[l,u],l},useReducer:function(l,u,v){var E=Zr();return u=v!==void 0?v(u):u,E.memoizedState=E.baseState=u,l={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:l,lastRenderedState:u},E.queue=l,l=l.dispatch=dh.bind(null,$n,l),[E.memoizedState,l]},useRef:function(l){var u=Zr();return l={current:l},u.memoizedState=l},useState:Dm,useDebugValue:ch,useDeferredValue:function(l){return Zr().memoizedState=l},useTransition:function(){var l=Dm(!1),u=l[0];return l=y_.bind(null,l[1]),Zr().memoizedState=l,[u,l]},useMutableSource:function(){},useSyncExternalStore:function(l,u,v){var E=$n,I=Zr();if(jn){if(v===void 0)throw Error(n(407));v=v()}else{if(v=u(),ci===null)throw Error(n(349));(ea&30)!==0||lh(E,u,v)}I.memoizedState=v;var F={value:v,getSnapshot:u};return I.queue=F,_i(y0.bind(null,E,F,l),[l]),E.flags|=2048,Zo(9,od.bind(null,E,F,v,u),void 0,null),v},useId:function(){var l=Zr(),u=ci.identifierPrefix;if(jn){var v=Eo,E=it;v=(E&~(1<<32-$t(E)-1)).toString(32)+v,u=":"+u+"R"+v,v=Fa++,0<v&&(u+="H"+v.toString(32)),u+=":"}else v=Di++,u=":"+u+"r"+v.toString(32)+":";return l.memoizedState=u},unstable_isNewReconciler:!1},C0={readContext:Qi,useCallback:w0,useContext:Qi,useEffect:Fm,useImperativeHandle:Um,useInsertionEffect:zm,useLayoutEffect:_0,useMemo:no,useReducer:id,useRef:b0,useState:function(){return id(Wc)},useDebugValue:ch,useDeferredValue:function(l){var u=to();return uh(u,ur.memoizedState,l)},useTransition:function(){var l=id(Wc)[0],u=to().memoizedState;return[l,u]},useMutableSource:Om,useSyncExternalStore:Lm,useId:na,unstable_isNewReconciler:!1},M0={readContext:Qi,useCallback:w0,useContext:Qi,useEffect:Fm,useImperativeHandle:Um,useInsertionEffect:zm,useLayoutEffect:_0,useMemo:no,useReducer:ta,useRef:b0,useState:function(){return ta(Wc)},useDebugValue:ch,useDeferredValue:function(l){var u=to();return ur===null?u.memoizedState=l:uh(u,ur.memoizedState,l)},useTransition:function(){var l=ta(Wc)[0],u=to().memoizedState;return[l,u]},useMutableSource:Om,useSyncExternalStore:Lm,useId:na,unstable_isNewReconciler:!1};function Mo(l,u){if(l&&l.defaultProps){u=Z({},u),l=l.defaultProps;for(var v in l)u[v]===void 0&&(u[v]=l[v]);return u}return u}function ld(l,u,v,E){u=l.memoizedState,v=v(E,u),v=v==null?u:Z({},u,v),l.memoizedState=v,l.lanes===0&&(l.updateQueue.baseState=v)}var mh={isMounted:function(l){return(l=l._reactInternals)?ls(l)===l:!1},enqueueSetState:function(l,u,v){l=l._reactInternals;var E=io(),I=qc(l),F=On(E,I);F.payload=u,v!=null&&(F.callback=v),u=Qn(l,F,I),u!==null&&(sa(u,l,I,E),ai(u,l,I))},enqueueReplaceState:function(l,u,v){l=l._reactInternals;var E=io(),I=qc(l),F=On(E,I);F.tag=1,F.payload=u,v!=null&&(F.callback=v),u=Qn(l,F,I),u!==null&&(sa(u,l,I,E),ai(u,l,I))},enqueueForceUpdate:function(l,u){l=l._reactInternals;var v=io(),E=qc(l),I=On(v,E);I.tag=2,u!=null&&(I.callback=u),u=Qn(l,I,E),u!==null&&(sa(u,l,E,v),ai(u,l,E))}};function T0(l,u,v,E,I,F,H){return l=l.stateNode,typeof l.shouldComponentUpdate=="function"?l.shouldComponentUpdate(E,F,H):u.prototype&&u.prototype.isPureReactComponent?!ml(v,E)||!ml(I,F):!0}function h(l,u,v){var E=!1,I=Xs,F=u.contextType;return typeof F=="object"&&F!==null?F=Qi(F):(I=si(u)?qs:qr.current,E=u.contextTypes,F=(E=E!=null)?_l(l,I):Xs),u=new u(v,F),l.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=mh,l.stateNode=u,u._reactInternals=l,E&&(l=l.stateNode,l.__reactInternalMemoizedUnmaskedChildContext=I,l.__reactInternalMemoizedMaskedChildContext=F),u}function p(l,u,v,E){l=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(v,E),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(v,E),u.state!==l&&mh.enqueueReplaceState(u,u.state,null)}function w(l,u,v,E){var I=l.stateNode;I.props=v,I.state=l.memoizedState,I.refs={},Qt(l);var F=u.contextType;typeof F=="object"&&F!==null?I.context=Qi(F):(F=si(u)?qs:qr.current,I.context=_l(l,F)),I.state=l.memoizedState,F=u.getDerivedStateFromProps,typeof F=="function"&&(ld(l,u,F,v),I.state=l.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof I.getSnapshotBeforeUpdate=="function"||typeof I.UNSAFE_componentWillMount!="function"&&typeof I.componentWillMount!="function"||(u=I.state,typeof I.componentWillMount=="function"&&I.componentWillMount(),typeof I.UNSAFE_componentWillMount=="function"&&I.UNSAFE_componentWillMount(),u!==I.state&&mh.enqueueReplaceState(I,I.state,null),cr(l,v,I,E),I.state=l.memoizedState),typeof I.componentDidMount=="function"&&(l.flags|=4194308)}function M(l,u){try{var v="",E=u;do v+=Me(E),E=E.return;while(E);var I=v}catch(F){I=`
Error generating stack: `+F.message+`
`+F.stack}return{value:l,source:u,stack:I,digest:null}}function N(l,u,v){return{value:l,source:null,stack:v??null,digest:u??null}}function U(l,u){try{console.error(u.value)}catch(v){setTimeout(function(){throw v})}}var te=typeof WeakMap=="function"?WeakMap:Map;function me(l,u,v){v=On(-1,v),v.tag=3,v.payload={element:null};var E=u.value;return v.callback=function(){L0||(L0=!0,P_=E),U(l,u)},v}function Oe(l,u,v){v=On(-1,v),v.tag=3;var E=l.type.getDerivedStateFromError;if(typeof E=="function"){var I=u.value;v.payload=function(){return E(I)},v.callback=function(){U(l,u)}}var F=l.stateNode;return F!==null&&typeof F.componentDidCatch=="function"&&(v.callback=function(){U(l,u),typeof E!="function"&&(jc===null?jc=new Set([this]):jc.add(this));var H=u.stack;this.componentDidCatch(u.value,{componentStack:H!==null?H:""})}),v}function et(l,u,v){var E=l.pingCache;if(E===null){E=l.pingCache=new te;var I=new Set;E.set(u,I)}else I=E.get(u),I===void 0&&(I=new Set,E.set(u,I));I.has(v)||(I.add(v),l=DU.bind(null,l,u,v),u.then(l,l))}function _t(l){do{var u;if((u=l.tag===13)&&(u=l.memoizedState,u=u!==null?u.dehydrated!==null:!0),u)return l;l=l.return}while(l!==null);return null}function jt(l,u,v,E,I){return(l.mode&1)===0?(l===u?l.flags|=65536:(l.flags|=128,v.flags|=131072,v.flags&=-52805,v.tag===1&&(v.alternate===null?v.tag=17:(u=On(-1,1),u.tag=2,Qn(v,u,1))),v.lanes|=1),l):(l.flags|=65536,l.lanes=I,l)}var Ft=A.ReactCurrentOwner,rn=!1;function gt(l,u,v,E){u.child=l===null?Zu(u,null,v,E):Cl(u,l.child,v,E)}function Jr(l,u,v,E,I){v=v.render;var F=u.ref;return Na(u,I),E=rd(l,u,v,E,F,I),v=km(),l!==null&&!rn?(u.updateQueue=l.updateQueue,u.flags&=-2053,l.lanes&=~I,Nl(l,u,I)):(jn&&v&&Cm(u),u.flags|=1,gt(l,u,E,I),u.child)}function ro(l,u,v,E,I){if(l===null){var F=v.type;return typeof F=="function"&&!N_(F)&&F.defaultProps===void 0&&v.compare===null&&v.defaultProps===void 0?(u.tag=15,u.type=F,Ee(l,u,F,E,I)):(l=B0(v.type,null,E,u,u.mode,I),l.ref=u.ref,l.return=u,u.child=l)}if(F=l.child,(l.lanes&I)===0){var H=F.memoizedProps;if(v=v.compare,v=v!==null?v:ml,v(H,E)&&l.ref===u.ref)return Nl(l,u,I)}return u.flags|=1,l=Kc(F,E),l.ref=u.ref,l.return=u,u.child=l}function Ee(l,u,v,E,I){if(l!==null){var F=l.memoizedProps;if(ml(F,E)&&l.ref===u.ref)if(rn=!1,u.pendingProps=E=F,(l.lanes&I)!==0)(l.flags&131072)!==0&&(rn=!0);else return u.lanes=l.lanes,Nl(l,u,I)}return ft(l,u,v,E,I)}function ve(l,u,v){var E=u.pendingProps,I=E.children,F=l!==null?l.memoizedState:null;if(E.mode==="hidden")if((u.mode&1)===0)u.memoizedState={baseLanes:0,cachePool:null,transitions:null},Dn(vh,Jo),Jo|=v;else{if((v&1073741824)===0)return l=F!==null?F.baseLanes|v:v,u.lanes=u.childLanes=1073741824,u.memoizedState={baseLanes:l,cachePool:null,transitions:null},u.updateQueue=null,Dn(vh,Jo),Jo|=l,null;u.memoizedState={baseLanes:0,cachePool:null,transitions:null},E=F!==null?F.baseLanes:v,Dn(vh,Jo),Jo|=E}else F!==null?(E=F.baseLanes|v,u.memoizedState=null):E=v,Dn(vh,Jo),Jo|=E;return gt(l,u,I,v),u.child}function Ae(l,u){var v=u.ref;(l===null&&v!==null||l!==null&&l.ref!==v)&&(u.flags|=512,u.flags|=2097152)}function ft(l,u,v,E,I){var F=si(v)?qs:qr.current;return F=_l(u,F),Na(u,I),v=rd(l,u,v,E,F,I),E=km(),l!==null&&!rn?(u.updateQueue=l.updateQueue,u.flags&=-2053,l.lanes&=~I,Nl(l,u,I)):(jn&&E&&Cm(u),u.flags|=1,gt(l,u,v,I),u.child)}function It(l,u,v,E,I){if(si(v)){var F=!0;Sl(u)}else F=!1;if(Na(u,I),u.stateNode===null)R0(l,u),h(u,v,E),w(u,v,E,I),E=!0;else if(l===null){var H=u.stateNode,oe=u.memoizedProps;H.props=oe;var de=H.context,Pe=v.contextType;typeof Pe=="object"&&Pe!==null?Pe=Qi(Pe):(Pe=si(v)?qs:qr.current,Pe=_l(u,Pe));var qe=v.getDerivedStateFromProps,Je=typeof qe=="function"||typeof H.getSnapshotBeforeUpdate=="function";Je||typeof H.UNSAFE_componentWillReceiveProps!="function"&&typeof H.componentWillReceiveProps!="function"||(oe!==E||de!==Pe)&&p(u,H,E,Pe),kn=!1;var je=u.memoizedState;H.state=je,cr(u,E,H,I),de=u.memoizedState,oe!==E||je!==de||yi.current||kn?(typeof qe=="function"&&(ld(u,v,qe,E),de=u.memoizedState),(oe=kn||T0(u,v,oe,E,je,de,Pe))?(Je||typeof H.UNSAFE_componentWillMount!="function"&&typeof H.componentWillMount!="function"||(typeof H.componentWillMount=="function"&&H.componentWillMount(),typeof H.UNSAFE_componentWillMount=="function"&&H.UNSAFE_componentWillMount()),typeof H.componentDidMount=="function"&&(u.flags|=4194308)):(typeof H.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=E,u.memoizedState=de),H.props=E,H.state=de,H.context=Pe,E=oe):(typeof H.componentDidMount=="function"&&(u.flags|=4194308),E=!1)}else{H=u.stateNode,mr(l,u),oe=u.memoizedProps,Pe=u.type===u.elementType?oe:Mo(u.type,oe),H.props=Pe,Je=u.pendingProps,je=H.context,de=v.contextType,typeof de=="object"&&de!==null?de=Qi(de):(de=si(v)?qs:qr.current,de=_l(u,de));var yt=v.getDerivedStateFromProps;(qe=typeof yt=="function"||typeof H.getSnapshotBeforeUpdate=="function")||typeof H.UNSAFE_componentWillReceiveProps!="function"&&typeof H.componentWillReceiveProps!="function"||(oe!==Je||je!==de)&&p(u,H,E,de),kn=!1,je=u.memoizedState,H.state=je,cr(u,E,H,I);var Ct=u.memoizedState;oe!==Je||je!==Ct||yi.current||kn?(typeof yt=="function"&&(ld(u,v,yt,E),Ct=u.memoizedState),(Pe=kn||T0(u,v,Pe,E,je,Ct,de)||!1)?(qe||typeof H.UNSAFE_componentWillUpdate!="function"&&typeof H.componentWillUpdate!="function"||(typeof H.componentWillUpdate=="function"&&H.componentWillUpdate(E,Ct,de),typeof H.UNSAFE_componentWillUpdate=="function"&&H.UNSAFE_componentWillUpdate(E,Ct,de)),typeof H.componentDidUpdate=="function"&&(u.flags|=4),typeof H.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof H.componentDidUpdate!="function"||oe===l.memoizedProps&&je===l.memoizedState||(u.flags|=4),typeof H.getSnapshotBeforeUpdate!="function"||oe===l.memoizedProps&&je===l.memoizedState||(u.flags|=1024),u.memoizedProps=E,u.memoizedState=Ct),H.props=E,H.state=Ct,H.context=de,E=Pe):(typeof H.componentDidUpdate!="function"||oe===l.memoizedProps&&je===l.memoizedState||(u.flags|=4),typeof H.getSnapshotBeforeUpdate!="function"||oe===l.memoizedProps&&je===l.memoizedState||(u.flags|=1024),E=!1)}return Zt(l,u,v,E,F,I)}function Zt(l,u,v,E,I,F){Ae(l,u);var H=(u.flags&128)!==0;if(!E&&!H)return I&&wm(u,v,!1),Nl(l,u,F);E=u.stateNode,Ft.current=u;var oe=H&&typeof v.getDerivedStateFromError!="function"?null:E.render();return u.flags|=1,l!==null&&H?(u.child=Cl(u,l.child,null,F),u.child=Cl(u,null,oe,F)):gt(l,u,oe,F),u.memoizedState=E.state,I&&wm(u,v,!0),u.child}function Xt(l){var u=l.stateNode;u.pendingContext?Sm(l,u.pendingContext,u.pendingContext!==u.context):u.context&&Sm(l,u.context,!1),td(l,u.containerInfo)}function _n(l,u,v,E,I){return La(),Uc(I),u.flags|=256,gt(l,u,v,E),u.child}var Cr={dehydrated:null,treeContext:null,retryLane:0};function bn(l){return{baseLanes:l,cachePool:null,transitions:null}}function ra(l,u,v){var E=u.pendingProps,I=Xn.current,F=!1,H=(u.flags&128)!==0,oe;if((oe=H)||(oe=l!==null&&l.memoizedState===null?!1:(I&2)!==0),oe?(F=!0,u.flags&=-129):(l===null||l.memoizedState!==null)&&(I|=1),Dn(Xn,I&1),l===null)return sh(u),l=u.memoizedState,l!==null&&(l=l.dehydrated,l!==null)?((u.mode&1)===0?u.lanes=1:l.data==="$!"?u.lanes=8:u.lanes=1073741824,null):(H=E.children,l=E.fallback,F?(E=u.mode,F=u.child,H={mode:"hidden",children:H},(E&1)===0&&F!==null?(F.childLanes=0,F.pendingProps=H):F=V0(H,E,0,null),l=hd(l,E,v,null),F.return=u,l.return=u,F.sibling=l,u.child=F,u.child.memoizedState=bn(v),u.memoizedState=Cr,l):Bm(u,H));if(I=l.memoizedState,I!==null&&(oe=I.dehydrated,oe!==null))return EU(l,u,H,E,oe,I,v);if(F){F=E.fallback,H=u.mode,I=l.child,oe=I.sibling;var de={mode:"hidden",children:E.children};return(H&1)===0&&u.child!==I?(E=u.child,E.childLanes=0,E.pendingProps=de,u.deletions=null):(E=Kc(I,de),E.subtreeFlags=I.subtreeFlags&14680064),oe!==null?F=Kc(oe,F):(F=hd(F,H,v,null),F.flags|=2),F.return=u,E.return=u,E.sibling=F,u.child=E,E=F,F=u.child,H=l.child.memoizedState,H=H===null?bn(v):{baseLanes:H.baseLanes|v,cachePool:null,transitions:H.transitions},F.memoizedState=H,F.childLanes=l.childLanes&~v,u.memoizedState=Cr,E}return F=l.child,l=F.sibling,E=Kc(F,{mode:"visible",children:E.children}),(u.mode&1)===0&&(E.lanes=v),E.return=u,E.sibling=null,l!==null&&(v=u.deletions,v===null?(u.deletions=[l],u.flags|=16):v.push(l)),u.child=E,u.memoizedState=null,E}function Bm(l,u){return u=V0({mode:"visible",children:u},l.mode,0,null),u.return=l,l.child=u}function P0(l,u,v,E){return E!==null&&Uc(E),Cl(u,l.child,null,v),l=Bm(u,u.pendingProps.children),l.flags|=2,u.memoizedState=null,l}function EU(l,u,v,E,I,F,H){if(v)return u.flags&256?(u.flags&=-257,E=N(Error(n(422))),P0(l,u,H,E)):u.memoizedState!==null?(u.child=l.child,u.flags|=128,null):(F=E.fallback,I=u.mode,E=V0({mode:"visible",children:E.children},I,0,null),F=hd(F,I,H,null),F.flags|=2,E.return=u,F.return=u,E.sibling=F,u.child=E,(u.mode&1)!==0&&Cl(u,l.child,null,H),u.child.memoizedState=bn(H),u.memoizedState=Cr,F);if((u.mode&1)===0)return P0(l,u,H,null);if(I.data==="$!"){if(E=I.nextSibling&&I.nextSibling.dataset,E)var oe=E.dgst;return E=oe,F=Error(n(419)),E=N(F,E,void 0),P0(l,u,H,E)}if(oe=(H&l.childLanes)!==0,rn||oe){if(E=ci,E!==null){switch(H&-H){case 4:I=2;break;case 16:I=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:I=32;break;case 536870912:I=268435456;break;default:I=0}I=(I&(E.suspendedLanes|H))!==0?0:I,I!==0&&I!==F.retryLane&&(F.retryLane=I,qo(l,I),sa(E,l,I,-1))}return L_(),E=N(Error(n(421))),P0(l,u,H,E)}return I.data==="$?"?(u.flags|=128,u.child=l.child,u=FU.bind(null,l),I._reactRetry=u,null):(l=F.treeContext,bi=Gs(I.nextSibling),Yr=u,jn=!0,Co=null,l!==null&&(xi[Ur++]=it,xi[Ur++]=Eo,xi[Ur++]=El,it=l.id,Eo=l.overflow,El=u),u=Bm(u,E.children),u.flags|=4096,u)}function LT(l,u,v){l.lanes|=u;var E=l.alternate;E!==null&&(E.lanes|=u),Qu(l.return,u,v)}function x_(l,u,v,E,I){var F=l.memoizedState;F===null?l.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:E,tail:v,tailMode:I}:(F.isBackwards=u,F.rendering=null,F.renderingStartTime=0,F.last=E,F.tail=v,F.tailMode=I)}function NT(l,u,v){var E=u.pendingProps,I=E.revealOrder,F=E.tail;if(gt(l,u,E.children,v),E=Xn.current,(E&2)!==0)E=E&1|2,u.flags|=128;else{if(l!==null&&(l.flags&128)!==0)e:for(l=u.child;l!==null;){if(l.tag===13)l.memoizedState!==null&&LT(l,v,u);else if(l.tag===19)LT(l,v,u);else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===u)break e;for(;l.sibling===null;){if(l.return===null||l.return===u)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}E&=1}if(Dn(Xn,E),(u.mode&1)===0)u.memoizedState=null;else switch(I){case"forwards":for(v=u.child,I=null;v!==null;)l=v.alternate,l!==null&&Yo(l)===null&&(I=v),v=v.sibling;v=I,v===null?(I=u.child,u.child=null):(I=v.sibling,v.sibling=null),x_(u,!1,I,v,F);break;case"backwards":for(v=null,I=u.child,u.child=null;I!==null;){if(l=I.alternate,l!==null&&Yo(l)===null){u.child=I;break}l=I.sibling,I.sibling=v,v=I,I=l}x_(u,!0,v,null,F);break;case"together":x_(u,!1,null,null,void 0);break;default:u.memoizedState=null}return u.child}function R0(l,u){(u.mode&1)===0&&l!==null&&(l.alternate=null,u.alternate=null,u.flags|=2)}function Nl(l,u,v){if(l!==null&&(u.dependencies=l.dependencies),cd|=u.lanes,(v&u.childLanes)===0)return null;if(l!==null&&u.child!==l.child)throw Error(n(153));if(u.child!==null){for(l=u.child,v=Kc(l,l.pendingProps),u.child=v,v.return=u;l.sibling!==null;)l=l.sibling,v=v.sibling=Kc(l,l.pendingProps),v.return=u;v.sibling=null}return u.child}function CU(l,u,v){switch(u.tag){case 3:Xt(u),La();break;case 5:Il(u);break;case 1:si(u.type)&&Sl(u);break;case 4:td(u,u.stateNode.containerInfo);break;case 10:var E=u.type._context,I=u.memoizedProps.value;Dn(Ml,E._currentValue),E._currentValue=I;break;case 13:if(E=u.memoizedState,E!==null)return E.dehydrated!==null?(Dn(Xn,Xn.current&1),u.flags|=128,null):(v&u.child.childLanes)!==0?ra(l,u,v):(Dn(Xn,Xn.current&1),l=Nl(l,u,v),l!==null?l.sibling:null);Dn(Xn,Xn.current&1);break;case 19:if(E=(v&u.childLanes)!==0,(l.flags&128)!==0){if(E)return NT(l,u,v);u.flags|=128}if(I=u.memoizedState,I!==null&&(I.rendering=null,I.tail=null,I.lastEffect=null),Dn(Xn,Xn.current),E)break;return null;case 22:case 23:return u.lanes=0,ve(l,u,v)}return Nl(l,u,v)}var DT,b_,FT,zT;DT=function(l,u){for(var v=u.child;v!==null;){if(v.tag===5||v.tag===6)l.appendChild(v.stateNode);else if(v.tag!==4&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===u)break;for(;v.sibling===null;){if(v.return===null||v.return===u)return;v=v.return}v.sibling.return=v.return,v=v.sibling}},b_=function(){},FT=function(l,u,v,E){var I=l.memoizedProps;if(I!==E){l=u.stateNode,Er(eo.current);var F=null;switch(v){case"input":I=q(l,I),E=q(l,E),F=[];break;case"select":I=Z({},I,{value:void 0}),E=Z({},E,{value:void 0}),F=[];break;case"textarea":I=$(l,I),E=$(l,E),F=[];break;default:typeof I.onClick!="function"&&typeof E.onClick=="function"&&(l.onclick=Wu)}ue(v,E);var H;v=null;for(Pe in I)if(!E.hasOwnProperty(Pe)&&I.hasOwnProperty(Pe)&&I[Pe]!=null)if(Pe==="style"){var oe=I[Pe];for(H in oe)oe.hasOwnProperty(H)&&(v||(v={}),v[H]="")}else Pe!=="dangerouslySetInnerHTML"&&Pe!=="children"&&Pe!=="suppressContentEditableWarning"&&Pe!=="suppressHydrationWarning"&&Pe!=="autoFocus"&&(i.hasOwnProperty(Pe)?F||(F=[]):(F=F||[]).push(Pe,null));for(Pe in E){var de=E[Pe];if(oe=I!=null?I[Pe]:void 0,E.hasOwnProperty(Pe)&&de!==oe&&(de!=null||oe!=null))if(Pe==="style")if(oe){for(H in oe)!oe.hasOwnProperty(H)||de&&de.hasOwnProperty(H)||(v||(v={}),v[H]="");for(H in de)de.hasOwnProperty(H)&&oe[H]!==de[H]&&(v||(v={}),v[H]=de[H])}else v||(F||(F=[]),F.push(Pe,v)),v=de;else Pe==="dangerouslySetInnerHTML"?(de=de?de.__html:void 0,oe=oe?oe.__html:void 0,de!=null&&oe!==de&&(F=F||[]).push(Pe,de)):Pe==="children"?typeof de!="string"&&typeof de!="number"||(F=F||[]).push(Pe,""+de):Pe!=="suppressContentEditableWarning"&&Pe!=="suppressHydrationWarning"&&(i.hasOwnProperty(Pe)?(de!=null&&Pe==="onScroll"&&Bn("scroll",l),F||oe===de||(F=[])):(F=F||[]).push(Pe,de))}v&&(F=F||[]).push("style",v);var Pe=F;(u.updateQueue=Pe)&&(u.flags|=4)}},zT=function(l,u,v,E){v!==E&&(u.flags|=4)};function Vm(l,u){if(!jn)switch(l.tailMode){case"hidden":u=l.tail;for(var v=null;u!==null;)u.alternate!==null&&(v=u),u=u.sibling;v===null?l.tail=null:v.sibling=null;break;case"collapsed":v=l.tail;for(var E=null;v!==null;)v.alternate!==null&&(E=v),v=v.sibling;E===null?u||l.tail===null?l.tail=null:l.tail.sibling=null:E.sibling=null}}function Fi(l){var u=l.alternate!==null&&l.alternate.child===l.child,v=0,E=0;if(u)for(var I=l.child;I!==null;)v|=I.lanes|I.childLanes,E|=I.subtreeFlags&14680064,E|=I.flags&14680064,I.return=l,I=I.sibling;else for(I=l.child;I!==null;)v|=I.lanes|I.childLanes,E|=I.subtreeFlags,E|=I.flags,I.return=l,I=I.sibling;return l.subtreeFlags|=E,l.childLanes=v,u}function MU(l,u,v){var E=u.pendingProps;switch(Ks(u),u.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Fi(u),null;case 1:return si(u.type)&&Gu(),Fi(u),null;case 3:return E=u.stateNode,Da(),Vn(yi),Vn(qr),gs(),E.pendingContext&&(E.context=E.pendingContext,E.pendingContext=null),(l===null||l.child===null)&&(zc(u)?u.flags|=4:l===null||l.memoizedState.isDehydrated&&(u.flags&256)===0||(u.flags|=1024,Co!==null&&(I_(Co),Co=null))),b_(l,u),Fi(u),null;case 5:$c(u);var I=Er(Qs.current);if(v=u.type,l!==null&&u.stateNode!=null)FT(l,u,v,E,I),l.ref!==u.ref&&(u.flags|=512,u.flags|=2097152);else{if(!E){if(u.stateNode===null)throw Error(n(166));return Fi(u),null}if(l=Er(eo.current),zc(u)){E=u.stateNode,v=u.type;var F=u.memoizedProps;switch(E[Ar]=u,E[Fc]=F,l=(u.mode&1)!==0,v){case"dialog":Bn("cancel",E),Bn("close",E);break;case"iframe":case"object":case"embed":Bn("load",E);break;case"video":case"audio":for(I=0;I<ka.length;I++)Bn(ka[I],E);break;case"source":Bn("error",E);break;case"img":case"image":case"link":Bn("error",E),Bn("load",E);break;case"details":Bn("toggle",E);break;case"input":Xe(E,F),Bn("invalid",E);break;case"select":E._wrapperState={wasMultiple:!!F.multiple},Bn("invalid",E);break;case"textarea":re(E,F),Bn("invalid",E)}ue(v,F),I=null;for(var H in F)if(F.hasOwnProperty(H)){var oe=F[H];H==="children"?typeof oe=="string"?E.textContent!==oe&&(F.suppressHydrationWarning!==!0&&Hu(E.textContent,oe,l),I=["children",oe]):typeof oe=="number"&&E.textContent!==""+oe&&(F.suppressHydrationWarning!==!0&&Hu(E.textContent,oe,l),I=["children",""+oe]):i.hasOwnProperty(H)&&oe!=null&&H==="onScroll"&&Bn("scroll",E)}switch(v){case"input":Ye(E),ze(E,F,!0);break;case"textarea":Ye(E),ke(E);break;case"select":case"option":break;default:typeof F.onClick=="function"&&(E.onclick=Wu)}E=I,u.updateQueue=E,E!==null&&(u.flags|=4)}else{H=I.nodeType===9?I:I.ownerDocument,l==="http://www.w3.org/1999/xhtml"&&(l=Ce(v)),l==="http://www.w3.org/1999/xhtml"?v==="script"?(l=H.createElement("div"),l.innerHTML="<script><\/script>",l=l.removeChild(l.firstChild)):typeof E.is=="string"?l=H.createElement(v,{is:E.is}):(l=H.createElement(v),v==="select"&&(H=l,E.multiple?H.multiple=!0:E.size&&(H.size=E.size))):l=H.createElementNS(l,v),l[Ar]=u,l[Fc]=E,DT(l,u,!1,!1),u.stateNode=l;e:{switch(H=Ne(v,E),v){case"dialog":Bn("cancel",l),Bn("close",l),I=E;break;case"iframe":case"object":case"embed":Bn("load",l),I=E;break;case"video":case"audio":for(I=0;I<ka.length;I++)Bn(ka[I],l);I=E;break;case"source":Bn("error",l),I=E;break;case"img":case"image":case"link":Bn("error",l),Bn("load",l),I=E;break;case"details":Bn("toggle",l),I=E;break;case"input":Xe(l,E),I=q(l,E),Bn("invalid",l);break;case"option":I=E;break;case"select":l._wrapperState={wasMultiple:!!E.multiple},I=Z({},E,{value:void 0}),Bn("invalid",l);break;case"textarea":re(l,E),I=$(l,E),Bn("invalid",l);break;default:I=E}ue(v,I),oe=I;for(F in oe)if(oe.hasOwnProperty(F)){var de=oe[F];F==="style"?Lt(l,de):F==="dangerouslySetInnerHTML"?(de=de?de.__html:void 0,de!=null&&St(l,de)):F==="children"?typeof de=="string"?(v!=="textarea"||de!=="")&&Mt(l,de):typeof de=="number"&&Mt(l,""+de):F!=="suppressContentEditableWarning"&&F!=="suppressHydrationWarning"&&F!=="autoFocus"&&(i.hasOwnProperty(F)?de!=null&&F==="onScroll"&&Bn("scroll",l):de!=null&&T(l,F,de,H))}switch(v){case"input":Ye(l),ze(l,E,!1);break;case"textarea":Ye(l),ke(l);break;case"option":E.value!=null&&l.setAttribute("value",""+ge(E.value));break;case"select":l.multiple=!!E.multiple,F=E.value,F!=null?Y(l,!!E.multiple,F,!1):E.defaultValue!=null&&Y(l,!!E.multiple,E.defaultValue,!0);break;default:typeof I.onClick=="function"&&(l.onclick=Wu)}switch(v){case"button":case"input":case"select":case"textarea":E=!!E.autoFocus;break e;case"img":E=!0;break e;default:E=!1}}E&&(u.flags|=4)}u.ref!==null&&(u.flags|=512,u.flags|=2097152)}return Fi(u),null;case 6:if(l&&u.stateNode!=null)zT(l,u,l.memoizedProps,E);else{if(typeof E!="string"&&u.stateNode===null)throw Error(n(166));if(v=Er(Qs.current),Er(eo.current),zc(u)){if(E=u.stateNode,v=u.memoizedProps,E[Ar]=u,(F=E.nodeValue!==v)&&(l=Yr,l!==null))switch(l.tag){case 3:Hu(E.nodeValue,v,(l.mode&1)!==0);break;case 5:l.memoizedProps.suppressHydrationWarning!==!0&&Hu(E.nodeValue,v,(l.mode&1)!==0)}F&&(u.flags|=4)}else E=(v.nodeType===9?v:v.ownerDocument).createTextNode(E),E[Ar]=u,u.stateNode=E}return Fi(u),null;case 13:if(Vn(Xn),E=u.memoizedState,l===null||l.memoizedState!==null&&l.memoizedState.dehydrated!==null){if(jn&&bi!==null&&(u.mode&1)!==0&&(u.flags&128)===0)Pm(),La(),u.flags|=98560,F=!1;else if(F=zc(u),E!==null&&E.dehydrated!==null){if(l===null){if(!F)throw Error(n(318));if(F=u.memoizedState,F=F!==null?F.dehydrated:null,!F)throw Error(n(317));F[Ar]=u}else La(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;Fi(u),F=!1}else Co!==null&&(I_(Co),Co=null),F=!0;if(!F)return u.flags&65536?u:null}return(u.flags&128)!==0?(u.lanes=v,u):(E=E!==null,E!==(l!==null&&l.memoizedState!==null)&&E&&(u.child.flags|=8192,(u.mode&1)!==0&&(l===null||(Xn.current&1)!==0?Qr===0&&(Qr=3):L_())),u.updateQueue!==null&&(u.flags|=4),Fi(u),null);case 4:return Da(),b_(l,u),l===null&&Lc(u.stateNode.containerInfo),Fi(u),null;case 10:return Ju(u.type._context),Fi(u),null;case 17:return si(u.type)&&Gu(),Fi(u),null;case 19:if(Vn(Xn),F=u.memoizedState,F===null)return Fi(u),null;if(E=(u.flags&128)!==0,H=F.rendering,H===null)if(E)Vm(F,!1);else{if(Qr!==0||l!==null&&(l.flags&128)!==0)for(l=u.child;l!==null;){if(H=Yo(l),H!==null){for(u.flags|=128,Vm(F,!1),E=H.updateQueue,E!==null&&(u.updateQueue=E,u.flags|=4),u.subtreeFlags=0,E=v,v=u.child;v!==null;)F=v,l=E,F.flags&=14680066,H=F.alternate,H===null?(F.childLanes=0,F.lanes=l,F.child=null,F.subtreeFlags=0,F.memoizedProps=null,F.memoizedState=null,F.updateQueue=null,F.dependencies=null,F.stateNode=null):(F.childLanes=H.childLanes,F.lanes=H.lanes,F.child=H.child,F.subtreeFlags=0,F.deletions=null,F.memoizedProps=H.memoizedProps,F.memoizedState=H.memoizedState,F.updateQueue=H.updateQueue,F.type=H.type,l=H.dependencies,F.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),v=v.sibling;return Dn(Xn,Xn.current&1|2),u.child}l=l.sibling}F.tail!==null&&_e()>yh&&(u.flags|=128,E=!0,Vm(F,!1),u.lanes=4194304)}else{if(!E)if(l=Yo(H),l!==null){if(u.flags|=128,E=!0,v=l.updateQueue,v!==null&&(u.updateQueue=v,u.flags|=4),Vm(F,!0),F.tail===null&&F.tailMode==="hidden"&&!H.alternate&&!jn)return Fi(u),null}else 2*_e()-F.renderingStartTime>yh&&v!==1073741824&&(u.flags|=128,E=!0,Vm(F,!1),u.lanes=4194304);F.isBackwards?(H.sibling=u.child,u.child=H):(v=F.last,v!==null?v.sibling=H:u.child=H,F.last=H)}return F.tail!==null?(u=F.tail,F.rendering=u,F.tail=u.sibling,F.renderingStartTime=_e(),u.sibling=null,v=Xn.current,Dn(Xn,E?v&1|2:v&1),u):(Fi(u),null);case 22:case 23:return O_(),E=u.memoizedState!==null,l!==null&&l.memoizedState!==null!==E&&(u.flags|=8192),E&&(u.mode&1)!==0?(Jo&1073741824)!==0&&(Fi(u),u.subtreeFlags&6&&(u.flags|=8192)):Fi(u),null;case 24:return null;case 25:return null}throw Error(n(156,u.tag))}function TU(l,u){switch(Ks(u),u.tag){case 1:return si(u.type)&&Gu(),l=u.flags,l&65536?(u.flags=l&-65537|128,u):null;case 3:return Da(),Vn(yi),Vn(qr),gs(),l=u.flags,(l&65536)!==0&&(l&128)===0?(u.flags=l&-65537|128,u):null;case 5:return $c(u),null;case 13:if(Vn(Xn),l=u.memoizedState,l!==null&&l.dehydrated!==null){if(u.alternate===null)throw Error(n(340));La()}return l=u.flags,l&65536?(u.flags=l&-65537|128,u):null;case 19:return Vn(Xn),null;case 4:return Da(),null;case 10:return Ju(u.type._context),null;case 22:case 23:return O_(),null;case 24:return null;default:return null}}var A0=!1,zi=!1,PU=typeof WeakSet=="function"?WeakSet:Set,wt=null;function gh(l,u){var v=l.ref;if(v!==null)if(typeof v=="function")try{v(null)}catch(E){Mr(l,u,E)}else v.current=null}function __(l,u,v){try{v()}catch(E){Mr(l,u,E)}}var UT=!1;function RU(l,u){if(Dc=yo,l=or(),Nr(l)){if("selectionStart"in l)var v={start:l.selectionStart,end:l.selectionEnd};else e:{v=(v=l.ownerDocument)&&v.defaultView||window;var E=v.getSelection&&v.getSelection();if(E&&E.rangeCount!==0){v=E.anchorNode;var I=E.anchorOffset,F=E.focusNode;E=E.focusOffset;try{v.nodeType,F.nodeType}catch{v=null;break e}var H=0,oe=-1,de=-1,Pe=0,qe=0,Je=l,je=null;t:for(;;){for(var yt;Je!==v||I!==0&&Je.nodeType!==3||(oe=H+I),Je!==F||E!==0&&Je.nodeType!==3||(de=H+E),Je.nodeType===3&&(H+=Je.nodeValue.length),(yt=Je.firstChild)!==null;)je=Je,Je=yt;for(;;){if(Je===l)break t;if(je===v&&++Pe===I&&(oe=H),je===F&&++qe===E&&(de=H),(yt=Je.nextSibling)!==null)break;Je=je,je=Je.parentNode}Je=yt}v=oe===-1||de===-1?null:{start:oe,end:de}}else v=null}v=v||{start:0,end:0}}else v=null;for(gm={focusedElem:l,selectionRange:v},yo=!1,wt=u;wt!==null;)if(u=wt,l=u.child,(u.subtreeFlags&1028)!==0&&l!==null)l.return=u,wt=l;else for(;wt!==null;){u=wt;try{var Ct=u.alternate;if((u.flags&1024)!==0)switch(u.tag){case 0:case 11:case 15:break;case 1:if(Ct!==null){var At=Ct.memoizedProps,Ir=Ct.memoizedState,Se=u.stateNode,he=Se.getSnapshotBeforeUpdate(u.elementType===u.type?At:Mo(u.type,At),Ir);Se.__reactInternalSnapshotBeforeUpdate=he}break;case 3:var we=u.stateNode.containerInfo;we.nodeType===1?we.textContent="":we.nodeType===9&&we.documentElement&&we.removeChild(we.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(rt){Mr(u,u.return,rt)}if(l=u.sibling,l!==null){l.return=u.return,wt=l;break}wt=u.return}return Ct=UT,UT=!1,Ct}function $m(l,u,v){var E=u.updateQueue;if(E=E!==null?E.lastEffect:null,E!==null){var I=E=E.next;do{if((I.tag&l)===l){var F=I.destroy;I.destroy=void 0,F!==void 0&&__(u,v,F)}I=I.next}while(I!==E)}}function I0(l,u){if(u=u.updateQueue,u=u!==null?u.lastEffect:null,u!==null){var v=u=u.next;do{if((v.tag&l)===l){var E=v.create;v.destroy=E()}v=v.next}while(v!==u)}}function S_(l){var u=l.ref;if(u!==null){var v=l.stateNode;switch(l.tag){case 5:l=v;break;default:l=v}typeof u=="function"?u(l):u.current=l}}function BT(l){var u=l.alternate;u!==null&&(l.alternate=null,BT(u)),l.child=null,l.deletions=null,l.sibling=null,l.tag===5&&(u=l.stateNode,u!==null&&(delete u[Ar],delete u[Fc],delete u[bl],delete u[Qf],delete u[eh])),l.stateNode=null,l.return=null,l.dependencies=null,l.memoizedProps=null,l.memoizedState=null,l.pendingProps=null,l.stateNode=null,l.updateQueue=null}function VT(l){return l.tag===5||l.tag===3||l.tag===4}function $T(l){e:for(;;){for(;l.sibling===null;){if(l.return===null||VT(l.return))return null;l=l.return}for(l.sibling.return=l.return,l=l.sibling;l.tag!==5&&l.tag!==6&&l.tag!==18;){if(l.flags&2||l.child===null||l.tag===4)continue e;l.child.return=l,l=l.child}if(!(l.flags&2))return l.stateNode}}function w_(l,u,v){var E=l.tag;if(E===5||E===6)l=l.stateNode,u?v.nodeType===8?v.parentNode.insertBefore(l,u):v.insertBefore(l,u):(v.nodeType===8?(u=v.parentNode,u.insertBefore(l,v)):(u=v,u.appendChild(l)),v=v._reactRootContainer,v!=null||u.onclick!==null||(u.onclick=Wu));else if(E!==4&&(l=l.child,l!==null))for(w_(l,u,v),l=l.sibling;l!==null;)w_(l,u,v),l=l.sibling}function E_(l,u,v){var E=l.tag;if(E===5||E===6)l=l.stateNode,u?v.insertBefore(l,u):v.appendChild(l);else if(E!==4&&(l=l.child,l!==null))for(E_(l,u,v),l=l.sibling;l!==null;)E_(l,u,v),l=l.sibling}var Si=null,ia=!1;function Gc(l,u,v){for(v=v.child;v!==null;)HT(l,u,v),v=v.sibling}function HT(l,u,v){if(nt&&typeof nt.onCommitFiberUnmount=="function")try{nt.onCommitFiberUnmount(kt,v)}catch{}switch(v.tag){case 5:zi||gh(v,u);case 6:var E=Si,I=ia;Si=null,Gc(l,u,v),Si=E,ia=I,Si!==null&&(ia?(l=Si,v=v.stateNode,l.nodeType===8?l.parentNode.removeChild(v):l.removeChild(v)):Si.removeChild(v.stateNode));break;case 18:Si!==null&&(ia?(l=Si,v=v.stateNode,l.nodeType===8?Jf(l.parentNode,v):l.nodeType===1&&Jf(l,v),ku(l)):Jf(Si,v.stateNode));break;case 4:E=Si,I=ia,Si=v.stateNode.containerInfo,ia=!0,Gc(l,u,v),Si=E,ia=I;break;case 0:case 11:case 14:case 15:if(!zi&&(E=v.updateQueue,E!==null&&(E=E.lastEffect,E!==null))){I=E=E.next;do{var F=I,H=F.destroy;F=F.tag,H!==void 0&&((F&2)!==0||(F&4)!==0)&&__(v,u,H),I=I.next}while(I!==E)}Gc(l,u,v);break;case 1:if(!zi&&(gh(v,u),E=v.stateNode,typeof E.componentWillUnmount=="function"))try{E.props=v.memoizedProps,E.state=v.memoizedState,E.componentWillUnmount()}catch(oe){Mr(v,u,oe)}Gc(l,u,v);break;case 21:Gc(l,u,v);break;case 22:v.mode&1?(zi=(E=zi)||v.memoizedState!==null,Gc(l,u,v),zi=E):Gc(l,u,v);break;default:Gc(l,u,v)}}function WT(l){var u=l.updateQueue;if(u!==null){l.updateQueue=null;var v=l.stateNode;v===null&&(v=l.stateNode=new PU),u.forEach(function(E){var I=zU.bind(null,l,E);v.has(E)||(v.add(E),E.then(I,I))})}}function oa(l,u){var v=u.deletions;if(v!==null)for(var E=0;E<v.length;E++){var I=v[E];try{var F=l,H=u,oe=H;e:for(;oe!==null;){switch(oe.tag){case 5:Si=oe.stateNode,ia=!1;break e;case 3:Si=oe.stateNode.containerInfo,ia=!0;break e;case 4:Si=oe.stateNode.containerInfo,ia=!0;break e}oe=oe.return}if(Si===null)throw Error(n(160));HT(F,H,I),Si=null,ia=!1;var de=I.alternate;de!==null&&(de.return=null),I.return=null}catch(Pe){Mr(I,u,Pe)}}if(u.subtreeFlags&12854)for(u=u.child;u!==null;)GT(u,l),u=u.sibling}function GT(l,u){var v=l.alternate,E=l.flags;switch(l.tag){case 0:case 11:case 14:case 15:if(oa(u,l),za(l),E&4){try{$m(3,l,l.return),I0(3,l)}catch(At){Mr(l,l.return,At)}try{$m(5,l,l.return)}catch(At){Mr(l,l.return,At)}}break;case 1:oa(u,l),za(l),E&512&&v!==null&&gh(v,v.return);break;case 5:if(oa(u,l),za(l),E&512&&v!==null&&gh(v,v.return),l.flags&32){var I=l.stateNode;try{Mt(I,"")}catch(At){Mr(l,l.return,At)}}if(E&4&&(I=l.stateNode,I!=null)){var F=l.memoizedProps,H=v!==null?v.memoizedProps:F,oe=l.type,de=l.updateQueue;if(l.updateQueue=null,de!==null)try{oe==="input"&&F.type==="radio"&&F.name!=null&&Ve(I,F),Ne(oe,H);var Pe=Ne(oe,F);for(H=0;H<de.length;H+=2){var qe=de[H],Je=de[H+1];qe==="style"?Lt(I,Je):qe==="dangerouslySetInnerHTML"?St(I,Je):qe==="children"?Mt(I,Je):T(I,qe,Je,Pe)}switch(oe){case"input":He(I,F);break;case"textarea":pe(I,F);break;case"select":var je=I._wrapperState.wasMultiple;I._wrapperState.wasMultiple=!!F.multiple;var yt=F.value;yt!=null?Y(I,!!F.multiple,yt,!1):je!==!!F.multiple&&(F.defaultValue!=null?Y(I,!!F.multiple,F.defaultValue,!0):Y(I,!!F.multiple,F.multiple?[]:"",!1))}I[Fc]=F}catch(At){Mr(l,l.return,At)}}break;case 6:if(oa(u,l),za(l),E&4){if(l.stateNode===null)throw Error(n(162));I=l.stateNode,F=l.memoizedProps;try{I.nodeValue=F}catch(At){Mr(l,l.return,At)}}break;case 3:if(oa(u,l),za(l),E&4&&v!==null&&v.memoizedState.isDehydrated)try{ku(u.containerInfo)}catch(At){Mr(l,l.return,At)}break;case 4:oa(u,l),za(l);break;case 13:oa(u,l),za(l),I=l.child,I.flags&8192&&(F=I.memoizedState!==null,I.stateNode.isHidden=F,!F||I.alternate!==null&&I.alternate.memoizedState!==null||(T_=_e())),E&4&&WT(l);break;case 22:if(qe=v!==null&&v.memoizedState!==null,l.mode&1?(zi=(Pe=zi)||qe,oa(u,l),zi=Pe):oa(u,l),za(l),E&8192){if(Pe=l.memoizedState!==null,(l.stateNode.isHidden=Pe)&&!qe&&(l.mode&1)!==0)for(wt=l,qe=l.child;qe!==null;){for(Je=wt=qe;wt!==null;){switch(je=wt,yt=je.child,je.tag){case 0:case 11:case 14:case 15:$m(4,je,je.return);break;case 1:gh(je,je.return);var Ct=je.stateNode;if(typeof Ct.componentWillUnmount=="function"){E=je,v=je.return;try{u=E,Ct.props=u.memoizedProps,Ct.state=u.memoizedState,Ct.componentWillUnmount()}catch(At){Mr(E,v,At)}}break;case 5:gh(je,je.return);break;case 22:if(je.memoizedState!==null){qT(Je);continue}}yt!==null?(yt.return=je,wt=yt):qT(Je)}qe=qe.sibling}e:for(qe=null,Je=l;;){if(Je.tag===5){if(qe===null){qe=Je;try{I=Je.stateNode,Pe?(F=I.style,typeof F.setProperty=="function"?F.setProperty("display","none","important"):F.display="none"):(oe=Je.stateNode,de=Je.memoizedProps.style,H=de!=null&&de.hasOwnProperty("display")?de.display:null,oe.style.display=Pt("display",H))}catch(At){Mr(l,l.return,At)}}}else if(Je.tag===6){if(qe===null)try{Je.stateNode.nodeValue=Pe?"":Je.memoizedProps}catch(At){Mr(l,l.return,At)}}else if((Je.tag!==22&&Je.tag!==23||Je.memoizedState===null||Je===l)&&Je.child!==null){Je.child.return=Je,Je=Je.child;continue}if(Je===l)break e;for(;Je.sibling===null;){if(Je.return===null||Je.return===l)break e;qe===Je&&(qe=null),Je=Je.return}qe===Je&&(qe=null),Je.sibling.return=Je.return,Je=Je.sibling}}break;case 19:oa(u,l),za(l),E&4&&WT(l);break;case 21:break;default:oa(u,l),za(l)}}function za(l){var u=l.flags;if(u&2){try{e:{for(var v=l.return;v!==null;){if(VT(v)){var E=v;break e}v=v.return}throw Error(n(160))}switch(E.tag){case 5:var I=E.stateNode;E.flags&32&&(Mt(I,""),E.flags&=-33);var F=$T(l);E_(l,F,I);break;case 3:case 4:var H=E.stateNode.containerInfo,oe=$T(l);w_(l,oe,H);break;default:throw Error(n(161))}}catch(de){Mr(l,l.return,de)}l.flags&=-3}u&4096&&(l.flags&=-4097)}function AU(l,u,v){wt=l,jT(l)}function jT(l,u,v){for(var E=(l.mode&1)!==0;wt!==null;){var I=wt,F=I.child;if(I.tag===22&&E){var H=I.memoizedState!==null||A0;if(!H){var oe=I.alternate,de=oe!==null&&oe.memoizedState!==null||zi;oe=A0;var Pe=zi;if(A0=H,(zi=de)&&!Pe)for(wt=I;wt!==null;)H=wt,de=H.child,H.tag===22&&H.memoizedState!==null?YT(I):de!==null?(de.return=H,wt=de):YT(I);for(;F!==null;)wt=F,jT(F),F=F.sibling;wt=I,A0=oe,zi=Pe}XT(l)}else(I.subtreeFlags&8772)!==0&&F!==null?(F.return=I,wt=F):XT(l)}}function XT(l){for(;wt!==null;){var u=wt;if((u.flags&8772)!==0){var v=u.alternate;try{if((u.flags&8772)!==0)switch(u.tag){case 0:case 11:case 15:zi||I0(5,u);break;case 1:var E=u.stateNode;if(u.flags&4&&!zi)if(v===null)E.componentDidMount();else{var I=u.elementType===u.type?v.memoizedProps:Mo(u.type,v.memoizedProps);E.componentDidUpdate(I,v.memoizedState,E.__reactInternalSnapshotBeforeUpdate)}var F=u.updateQueue;F!==null&&Vc(u,F,E);break;case 3:var H=u.updateQueue;if(H!==null){if(v=null,u.child!==null)switch(u.child.tag){case 5:v=u.child.stateNode;break;case 1:v=u.child.stateNode}Vc(u,H,v)}break;case 5:var oe=u.stateNode;if(v===null&&u.flags&4){v=oe;var de=u.memoizedProps;switch(u.type){case"button":case"input":case"select":case"textarea":de.autoFocus&&v.focus();break;case"img":de.src&&(v.src=de.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(u.memoizedState===null){var Pe=u.alternate;if(Pe!==null){var qe=Pe.memoizedState;if(qe!==null){var Je=qe.dehydrated;Je!==null&&ku(Je)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}zi||u.flags&512&&S_(u)}catch(je){Mr(u,u.return,je)}}if(u===l){wt=null;break}if(v=u.sibling,v!==null){v.return=u.return,wt=v;break}wt=u.return}}function qT(l){for(;wt!==null;){var u=wt;if(u===l){wt=null;break}var v=u.sibling;if(v!==null){v.return=u.return,wt=v;break}wt=u.return}}function YT(l){for(;wt!==null;){var u=wt;try{switch(u.tag){case 0:case 11:case 15:var v=u.return;try{I0(4,u)}catch(de){Mr(u,v,de)}break;case 1:var E=u.stateNode;if(typeof E.componentDidMount=="function"){var I=u.return;try{E.componentDidMount()}catch(de){Mr(u,I,de)}}var F=u.return;try{S_(u)}catch(de){Mr(u,F,de)}break;case 5:var H=u.return;try{S_(u)}catch(de){Mr(u,H,de)}}}catch(de){Mr(u,u.return,de)}if(u===l){wt=null;break}var oe=u.sibling;if(oe!==null){oe.return=u.return,wt=oe;break}wt=u.return}}var IU=Math.ceil,k0=A.ReactCurrentDispatcher,C_=A.ReactCurrentOwner,ys=A.ReactCurrentBatchConfig,En=0,ci=null,Br=null,wi=0,Jo=0,vh=lr(0),Qr=0,Hm=null,cd=0,O0=0,M_=0,Wm=null,To=null,T_=0,yh=1/0,Dl=null,L0=!1,P_=null,jc=null,N0=!1,Xc=null,D0=0,Gm=0,R_=null,F0=-1,z0=0;function io(){return(En&6)!==0?_e():F0!==-1?F0:F0=_e()}function qc(l){return(l.mode&1)===0?1:(En&2)!==0&&wi!==0?wi&-wi:v_.transition!==null?(z0===0&&(z0=pn()),z0):(l=mn,l!==0||(l=window.event,l=l===void 0?16:r0(l.type)),l)}function sa(l,u,v,E){if(50<Gm)throw Gm=0,R_=null,Error(n(185));Lr(l,v,E),((En&2)===0||l!==ci)&&(l===ci&&((En&2)===0&&(O0|=v),Qr===4&&Yc(l,wi)),Po(l,E),v===1&&En===0&&(u.mode&1)===0&&(yh=_e()+500,Xu&&ps()))}function Po(l,u){var v=l.callbackNode;Or(l,u);var E=Gr(l,l===ci?wi:0);if(E===0)v!==null&&G(v),l.callbackNode=null,l.callbackPriority=0;else if(u=E&-E,l.callbackPriority!==u){if(v!=null&&G(v),u===1)l.tag===0?v0(ZT.bind(null,l)):qu(ZT.bind(null,l)),g_(function(){(En&6)===0&&ps()}),v=null;else{switch(Ii(E)){case 1:v=Ke;break;case 4:v=ut;break;case 16:v=vt;break;case 536870912:v=Dt;break;default:v=vt}v=o2(v,KT.bind(null,l))}l.callbackPriority=u,l.callbackNode=v}}function KT(l,u){if(F0=-1,z0=0,(En&6)!==0)throw Error(n(327));var v=l.callbackNode;if(xh()&&l.callbackNode!==v)return null;var E=Gr(l,l===ci?wi:0);if(E===0)return null;if((E&30)!==0||(E&l.expiredLanes)!==0||u)u=U0(l,E);else{u=E;var I=En;En|=2;var F=QT();(ci!==l||wi!==u)&&(Dl=null,yh=_e()+500,dd(l,u));do try{LU();break}catch(oe){JT(l,oe)}while(!0);Pl(),k0.current=F,En=I,Br!==null?u=0:(ci=null,wi=0,u=Qr)}if(u!==0){if(u===2&&(I=cs(l),I!==0&&(E=I,u=A_(l,I))),u===1)throw v=Hm,dd(l,0),Yc(l,E),Po(l,_e()),v;if(u===6)Yc(l,E);else{if(I=l.current.alternate,(E&30)===0&&!kU(I)&&(u=U0(l,E),u===2&&(F=cs(l),F!==0&&(E=F,u=A_(l,F))),u===1))throw v=Hm,dd(l,0),Yc(l,E),Po(l,_e()),v;switch(l.finishedWork=I,l.finishedLanes=E,u){case 0:case 1:throw Error(n(345));case 2:fd(l,To,Dl);break;case 3:if(Yc(l,E),(E&130023424)===E&&(u=T_+500-_e(),10<u)){if(Gr(l,0)!==0)break;if(I=l.suspendedLanes,(I&E)!==E){io(),l.pingedLanes|=l.suspendedLanes&I;break}l.timeoutHandle=ym(fd.bind(null,l,To,Dl),u);break}fd(l,To,Dl);break;case 4:if(Yc(l,E),(E&4194240)===E)break;for(u=l.eventTimes,I=-1;0<E;){var H=31-$t(E);F=1<<H,H=u[H],H>I&&(I=H),E&=~F}if(E=I,E=_e()-E,E=(120>E?120:480>E?480:1080>E?1080:1920>E?1920:3e3>E?3e3:4320>E?4320:1960*IU(E/1960))-E,10<E){l.timeoutHandle=ym(fd.bind(null,l,To,Dl),E);break}fd(l,To,Dl);break;case 5:fd(l,To,Dl);break;default:throw Error(n(329))}}}return Po(l,_e()),l.callbackNode===v?KT.bind(null,l):null}function A_(l,u){var v=Wm;return l.current.memoizedState.isDehydrated&&(dd(l,u).flags|=256),l=U0(l,u),l!==2&&(u=To,To=v,u!==null&&I_(u)),l}function I_(l){To===null?To=l:To.push.apply(To,l)}function kU(l){for(var u=l;;){if(u.flags&16384){var v=u.updateQueue;if(v!==null&&(v=v.stores,v!==null))for(var E=0;E<v.length;E++){var I=v[E],F=I.getSnapshot;I=I.value;try{if(!Ki(F(),I))return!1}catch{return!1}}}if(v=u.child,u.subtreeFlags&16384&&v!==null)v.return=u,u=v;else{if(u===l)break;for(;u.sibling===null;){if(u.return===null||u.return===l)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function Yc(l,u){for(u&=~M_,u&=~O0,l.suspendedLanes|=u,l.pingedLanes&=~u,l=l.expirationTimes;0<u;){var v=31-$t(u),E=1<<v;l[v]=-1,u&=~E}}function ZT(l){if((En&6)!==0)throw Error(n(327));xh();var u=Gr(l,0);if((u&1)===0)return Po(l,_e()),null;var v=U0(l,u);if(l.tag!==0&&v===2){var E=cs(l);E!==0&&(u=E,v=A_(l,E))}if(v===1)throw v=Hm,dd(l,0),Yc(l,u),Po(l,_e()),v;if(v===6)throw Error(n(345));return l.finishedWork=l.current.alternate,l.finishedLanes=u,fd(l,To,Dl),Po(l,_e()),null}function k_(l,u){var v=En;En|=1;try{return l(u)}finally{En=v,En===0&&(yh=_e()+500,Xu&&ps())}}function ud(l){Xc!==null&&Xc.tag===0&&(En&6)===0&&xh();var u=En;En|=1;var v=ys.transition,E=mn;try{if(ys.transition=null,mn=1,l)return l()}finally{mn=E,ys.transition=v,En=u,(En&6)===0&&ps()}}function O_(){Jo=vh.current,Vn(vh)}function dd(l,u){l.finishedWork=null,l.finishedLanes=0;var v=l.timeoutHandle;if(v!==-1&&(l.timeoutHandle=-1,xm(v)),Br!==null)for(v=Br.return;v!==null;){var E=v;switch(Ks(E),E.tag){case 1:E=E.type.childContextTypes,E!=null&&Gu();break;case 3:Da(),Vn(yi),Vn(qr),gs();break;case 5:$c(E);break;case 4:Da();break;case 13:Vn(Xn);break;case 19:Vn(Xn);break;case 10:Ju(E.type._context);break;case 22:case 23:O_()}v=v.return}if(ci=l,Br=l=Kc(l.current,null),wi=Jo=u,Qr=0,Hm=null,M_=O0=cd=0,To=Wm=null,Js!==null){for(u=0;u<Js.length;u++)if(v=Js[u],E=v.interleaved,E!==null){v.interleaved=null;var I=E.next,F=v.pending;if(F!==null){var H=F.next;F.next=I,E.next=H}v.pending=E}Js=null}return l}function JT(l,u){do{var v=Br;try{if(Pl(),kl.current=ph,Ko){for(var E=$n.memoizedState;E!==null;){var I=E.queue;I!==null&&(I.pending=null),E=E.next}Ko=!1}if(ea=0,Sn=ur=$n=null,li=!1,Fa=0,C_.current=null,v===null||v.return===null){Qr=1,Hm=u,Br=null;break}e:{var F=l,H=v.return,oe=v,de=u;if(u=wi,oe.flags|=32768,de!==null&&typeof de=="object"&&typeof de.then=="function"){var Pe=de,qe=oe,Je=qe.tag;if((qe.mode&1)===0&&(Je===0||Je===11||Je===15)){var je=qe.alternate;je?(qe.updateQueue=je.updateQueue,qe.memoizedState=je.memoizedState,qe.lanes=je.lanes):(qe.updateQueue=null,qe.memoizedState=null)}var yt=_t(H);if(yt!==null){yt.flags&=-257,jt(yt,H,oe,F,u),yt.mode&1&&et(F,Pe,u),u=yt,de=Pe;var Ct=u.updateQueue;if(Ct===null){var At=new Set;At.add(de),u.updateQueue=At}else Ct.add(de);break e}else{if((u&1)===0){et(F,Pe,u),L_();break e}de=Error(n(426))}}else if(jn&&oe.mode&1){var Ir=_t(H);if(Ir!==null){(Ir.flags&65536)===0&&(Ir.flags|=256),jt(Ir,H,oe,F,u),Uc(M(de,oe));break e}}F=de=M(de,oe),Qr!==4&&(Qr=2),Wm===null?Wm=[F]:Wm.push(F),F=H;do{switch(F.tag){case 3:F.flags|=65536,u&=-u,F.lanes|=u;var Se=me(F,de,u);Rl(F,Se);break e;case 1:oe=de;var he=F.type,we=F.stateNode;if((F.flags&128)===0&&(typeof he.getDerivedStateFromError=="function"||we!==null&&typeof we.componentDidCatch=="function"&&(jc===null||!jc.has(we)))){F.flags|=65536,u&=-u,F.lanes|=u;var rt=Oe(F,oe,u);Rl(F,rt);break e}}F=F.return}while(F!==null)}t2(v)}catch(Ot){u=Ot,Br===v&&v!==null&&(Br=v=v.return);continue}break}while(!0)}function QT(){var l=k0.current;return k0.current=ph,l===null?ph:l}function L_(){(Qr===0||Qr===3||Qr===2)&&(Qr=4),ci===null||(cd&268435455)===0&&(O0&268435455)===0||Yc(ci,wi)}function U0(l,u){var v=En;En|=2;var E=QT();(ci!==l||wi!==u)&&(Dl=null,dd(l,u));do try{OU();break}catch(I){JT(l,I)}while(!0);if(Pl(),En=v,k0.current=E,Br!==null)throw Error(n(261));return ci=null,wi=0,Qr}function OU(){for(;Br!==null;)e2(Br)}function LU(){for(;Br!==null&&!xe();)e2(Br)}function e2(l){var u=i2(l.alternate,l,Jo);l.memoizedProps=l.pendingProps,u===null?t2(l):Br=u,C_.current=null}function t2(l){var u=l;do{var v=u.alternate;if(l=u.return,(u.flags&32768)===0){if(v=MU(v,u,Jo),v!==null){Br=v;return}}else{if(v=TU(v,u),v!==null){v.flags&=32767,Br=v;return}if(l!==null)l.flags|=32768,l.subtreeFlags=0,l.deletions=null;else{Qr=6,Br=null;return}}if(u=u.sibling,u!==null){Br=u;return}Br=u=l}while(u!==null);Qr===0&&(Qr=5)}function fd(l,u,v){var E=mn,I=ys.transition;try{ys.transition=null,mn=1,NU(l,u,v,E)}finally{ys.transition=I,mn=E}return null}function NU(l,u,v,E){do xh();while(Xc!==null);if((En&6)!==0)throw Error(n(327));v=l.finishedWork;var I=l.finishedLanes;if(v===null)return null;if(l.finishedWork=null,l.finishedLanes=0,v===l.current)throw Error(n(177));l.callbackNode=null,l.callbackPriority=0;var F=v.lanes|v.childLanes;if(jr(l,F),l===ci&&(Br=ci=null,wi=0),(v.subtreeFlags&2064)===0&&(v.flags&2064)===0||N0||(N0=!0,o2(vt,function(){return xh(),null})),F=(v.flags&15990)!==0,(v.subtreeFlags&15990)!==0||F){F=ys.transition,ys.transition=null;var H=mn;mn=1;var oe=En;En|=4,C_.current=null,RU(l,v),GT(v,l),Dr(gm),yo=!!Dc,gm=Dc=null,l.current=v,AU(v),Te(),En=oe,mn=H,ys.transition=F}else l.current=v;if(N0&&(N0=!1,Xc=l,D0=I),F=l.pendingLanes,F===0&&(jc=null),Rt(v.stateNode),Po(l,_e()),u!==null)for(E=l.onRecoverableError,v=0;v<u.length;v++)I=u[v],E(I.value,{componentStack:I.stack,digest:I.digest});if(L0)throw L0=!1,l=P_,P_=null,l;return(D0&1)!==0&&l.tag!==0&&xh(),F=l.pendingLanes,(F&1)!==0?l===R_?Gm++:(Gm=0,R_=l):Gm=0,ps(),null}function xh(){if(Xc!==null){var l=Ii(D0),u=ys.transition,v=mn;try{if(ys.transition=null,mn=16>l?16:l,Xc===null)var E=!1;else{if(l=Xc,Xc=null,D0=0,(En&6)!==0)throw Error(n(331));var I=En;for(En|=4,wt=l.current;wt!==null;){var F=wt,H=F.child;if((wt.flags&16)!==0){var oe=F.deletions;if(oe!==null){for(var de=0;de<oe.length;de++){var Pe=oe[de];for(wt=Pe;wt!==null;){var qe=wt;switch(qe.tag){case 0:case 11:case 15:$m(8,qe,F)}var Je=qe.child;if(Je!==null)Je.return=qe,wt=Je;else for(;wt!==null;){qe=wt;var je=qe.sibling,yt=qe.return;if(BT(qe),qe===Pe){wt=null;break}if(je!==null){je.return=yt,wt=je;break}wt=yt}}}var Ct=F.alternate;if(Ct!==null){var At=Ct.child;if(At!==null){Ct.child=null;do{var Ir=At.sibling;At.sibling=null,At=Ir}while(At!==null)}}wt=F}}if((F.subtreeFlags&2064)!==0&&H!==null)H.return=F,wt=H;else e:for(;wt!==null;){if(F=wt,(F.flags&2048)!==0)switch(F.tag){case 0:case 11:case 15:$m(9,F,F.return)}var Se=F.sibling;if(Se!==null){Se.return=F.return,wt=Se;break e}wt=F.return}}var he=l.current;for(wt=he;wt!==null;){H=wt;var we=H.child;if((H.subtreeFlags&2064)!==0&&we!==null)we.return=H,wt=we;else e:for(H=he;wt!==null;){if(oe=wt,(oe.flags&2048)!==0)try{switch(oe.tag){case 0:case 11:case 15:I0(9,oe)}}catch(Ot){Mr(oe,oe.return,Ot)}if(oe===H){wt=null;break e}var rt=oe.sibling;if(rt!==null){rt.return=oe.return,wt=rt;break e}wt=oe.return}}if(En=I,ps(),nt&&typeof nt.onPostCommitFiberRoot=="function")try{nt.onPostCommitFiberRoot(kt,l)}catch{}E=!0}return E}finally{mn=v,ys.transition=u}}return!1}function n2(l,u,v){u=M(v,u),u=me(l,u,1),l=Qn(l,u,1),u=io(),l!==null&&(Lr(l,1,u),Po(l,u))}function Mr(l,u,v){if(l.tag===3)n2(l,l,v);else for(;u!==null;){if(u.tag===3){n2(u,l,v);break}else if(u.tag===1){var E=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof E.componentDidCatch=="function"&&(jc===null||!jc.has(E))){l=M(v,l),l=Oe(u,l,1),u=Qn(u,l,1),l=io(),u!==null&&(Lr(u,1,l),Po(u,l));break}}u=u.return}}function DU(l,u,v){var E=l.pingCache;E!==null&&E.delete(u),u=io(),l.pingedLanes|=l.suspendedLanes&v,ci===l&&(wi&v)===v&&(Qr===4||Qr===3&&(wi&130023424)===wi&&500>_e()-T_?dd(l,0):M_|=v),Po(l,u)}function r2(l,u){u===0&&((l.mode&1)===0?u=1:(u=yn,yn<<=1,(yn&130023424)===0&&(yn=4194304)));var v=io();l=qo(l,u),l!==null&&(Lr(l,u,v),Po(l,v))}function FU(l){var u=l.memoizedState,v=0;u!==null&&(v=u.retryLane),r2(l,v)}function zU(l,u){var v=0;switch(l.tag){case 13:var E=l.stateNode,I=l.memoizedState;I!==null&&(v=I.retryLane);break;case 19:E=l.stateNode;break;default:throw Error(n(314))}E!==null&&E.delete(u),r2(l,v)}var i2;i2=function(l,u,v){if(l!==null)if(l.memoizedProps!==u.pendingProps||yi.current)rn=!0;else{if((l.lanes&v)===0&&(u.flags&128)===0)return rn=!1,CU(l,u,v);rn=(l.flags&131072)!==0}else rn=!1,jn&&(u.flags&1048576)!==0&&Em(u,ih,u.index);switch(u.lanes=0,u.tag){case 2:var E=u.type;R0(l,u),l=u.pendingProps;var I=_l(u,qr.current);Na(u,v),I=rd(null,u,E,l,I,v);var F=km();return u.flags|=1,typeof I=="object"&&I!==null&&typeof I.render=="function"&&I.$$typeof===void 0?(u.tag=1,u.memoizedState=null,u.updateQueue=null,si(E)?(F=!0,Sl(u)):F=!1,u.memoizedState=I.state!==null&&I.state!==void 0?I.state:null,Qt(u),I.updater=mh,u.stateNode=I,I._reactInternals=u,w(u,E,l,v),u=Zt(null,u,E,!0,F,v)):(u.tag=0,jn&&F&&Cm(u),gt(null,u,I,v),u=u.child),u;case 16:E=u.elementType;e:{switch(R0(l,u),l=u.pendingProps,I=E._init,E=I(E._payload),u.type=E,I=u.tag=BU(E),l=Mo(E,l),I){case 0:u=ft(null,u,E,l,v);break e;case 1:u=It(null,u,E,l,v);break e;case 11:u=Jr(null,u,E,l,v);break e;case 14:u=ro(null,u,E,Mo(E.type,l),v);break e}throw Error(n(306,E,""))}return u;case 0:return E=u.type,I=u.pendingProps,I=u.elementType===E?I:Mo(E,I),ft(l,u,E,I,v);case 1:return E=u.type,I=u.pendingProps,I=u.elementType===E?I:Mo(E,I),It(l,u,E,I,v);case 3:e:{if(Xt(u),l===null)throw Error(n(387));E=u.pendingProps,F=u.memoizedState,I=F.element,mr(l,u),cr(u,E,null,v);var H=u.memoizedState;if(E=H.element,F.isDehydrated)if(F={element:E,isDehydrated:!1,cache:H.cache,pendingSuspenseBoundaries:H.pendingSuspenseBoundaries,transitions:H.transitions},u.updateQueue.baseState=F,u.memoizedState=F,u.flags&256){I=M(Error(n(423)),u),u=_n(l,u,E,v,I);break e}else if(E!==I){I=M(Error(n(424)),u),u=_n(l,u,E,v,I);break e}else for(bi=Gs(u.stateNode.containerInfo.firstChild),Yr=u,jn=!0,Co=null,v=Zu(u,null,E,v),u.child=v;v;)v.flags=v.flags&-3|4096,v=v.sibling;else{if(La(),E===I){u=Nl(l,u,v);break e}gt(l,u,E,v)}u=u.child}return u;case 5:return Il(u),l===null&&sh(u),E=u.type,I=u.pendingProps,F=l!==null?l.memoizedProps:null,H=I.children,vm(E,I)?H=null:F!==null&&vm(E,F)&&(u.flags|=32),Ae(l,u),gt(l,u,H,v),u.child;case 6:return l===null&&sh(u),null;case 13:return ra(l,u,v);case 4:return td(u,u.stateNode.containerInfo),E=u.pendingProps,l===null?u.child=Cl(u,null,E,v):gt(l,u,E,v),u.child;case 11:return E=u.type,I=u.pendingProps,I=u.elementType===E?I:Mo(E,I),Jr(l,u,E,I,v);case 7:return gt(l,u,u.pendingProps,v),u.child;case 8:return gt(l,u,u.pendingProps.children,v),u.child;case 12:return gt(l,u,u.pendingProps.children,v),u.child;case 10:e:{if(E=u.type._context,I=u.pendingProps,F=u.memoizedProps,H=I.value,Dn(Ml,E._currentValue),E._currentValue=H,F!==null)if(Ki(F.value,H)){if(F.children===I.children&&!yi.current){u=Nl(l,u,v);break e}}else for(F=u.child,F!==null&&(F.return=u);F!==null;){var oe=F.dependencies;if(oe!==null){H=F.child;for(var de=oe.firstContext;de!==null;){if(de.context===E){if(F.tag===1){de=On(-1,v&-v),de.tag=2;var Pe=F.updateQueue;if(Pe!==null){Pe=Pe.shared;var qe=Pe.pending;qe===null?de.next=de:(de.next=qe.next,qe.next=de),Pe.pending=de}}F.lanes|=v,de=F.alternate,de!==null&&(de.lanes|=v),Qu(F.return,v,u),oe.lanes|=v;break}de=de.next}}else if(F.tag===10)H=F.type===u.type?null:F.child;else if(F.tag===18){if(H=F.return,H===null)throw Error(n(341));H.lanes|=v,oe=H.alternate,oe!==null&&(oe.lanes|=v),Qu(H,v,u),H=F.sibling}else H=F.child;if(H!==null)H.return=F;else for(H=F;H!==null;){if(H===u){H=null;break}if(F=H.sibling,F!==null){F.return=H.return,H=F;break}H=H.return}F=H}gt(l,u,I.children,v),u=u.child}return u;case 9:return I=u.type,E=u.pendingProps.children,Na(u,v),I=Qi(I),E=E(I),u.flags|=1,gt(l,u,E,v),u.child;case 14:return E=u.type,I=Mo(E,u.pendingProps),I=Mo(E.type,I),ro(l,u,E,I,v);case 15:return Ee(l,u,u.type,u.pendingProps,v);case 17:return E=u.type,I=u.pendingProps,I=u.elementType===E?I:Mo(E,I),R0(l,u),u.tag=1,si(E)?(l=!0,Sl(u)):l=!1,Na(u,v),h(u,E,I),w(u,E,I,v),Zt(null,u,E,!0,l,v);case 19:return NT(l,u,v);case 22:return ve(l,u,v)}throw Error(n(156,u.tag))};function o2(l,u){return Sf(l,u)}function UU(l,u,v,E){this.tag=l,this.key=v,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=E,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xs(l,u,v,E){return new UU(l,u,v,E)}function N_(l){return l=l.prototype,!(!l||!l.isReactComponent)}function BU(l){if(typeof l=="function")return N_(l)?1:0;if(l!=null){if(l=l.$$typeof,l===j)return 11;if(l===K)return 14}return 2}function Kc(l,u){var v=l.alternate;return v===null?(v=xs(l.tag,u,l.key,l.mode),v.elementType=l.elementType,v.type=l.type,v.stateNode=l.stateNode,v.alternate=l,l.alternate=v):(v.pendingProps=u,v.type=l.type,v.flags=0,v.subtreeFlags=0,v.deletions=null),v.flags=l.flags&14680064,v.childLanes=l.childLanes,v.lanes=l.lanes,v.child=l.child,v.memoizedProps=l.memoizedProps,v.memoizedState=l.memoizedState,v.updateQueue=l.updateQueue,u=l.dependencies,v.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},v.sibling=l.sibling,v.index=l.index,v.ref=l.ref,v}function B0(l,u,v,E,I,F){var H=2;if(E=l,typeof l=="function")N_(l)&&(H=1);else if(typeof l=="string")H=5;else e:switch(l){case k:return hd(v.children,I,F,u);case z:H=8,I|=8;break;case L:return l=xs(12,v,u,I|2),l.elementType=L,l.lanes=F,l;case X:return l=xs(13,v,u,I),l.elementType=X,l.lanes=F,l;case ee:return l=xs(19,v,u,I),l.elementType=ee,l.lanes=F,l;case se:return V0(v,I,F,u);default:if(typeof l=="object"&&l!==null)switch(l.$$typeof){case O:H=10;break e;case B:H=9;break e;case j:H=11;break e;case K:H=14;break e;case ne:H=16,E=null;break e}throw Error(n(130,l==null?l:typeof l,""))}return u=xs(H,v,u,I),u.elementType=l,u.type=E,u.lanes=F,u}function hd(l,u,v,E){return l=xs(7,l,E,u),l.lanes=v,l}function V0(l,u,v,E){return l=xs(22,l,E,u),l.elementType=se,l.lanes=v,l.stateNode={isHidden:!1},l}function D_(l,u,v){return l=xs(6,l,null,u),l.lanes=v,l}function F_(l,u,v){return u=xs(4,l.children!==null?l.children:[],l.key,u),u.lanes=v,u.stateNode={containerInfo:l.containerInfo,pendingChildren:null,implementation:l.implementation},u}function VU(l,u,v,E,I){this.tag=u,this.containerInfo=l,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=oi(0),this.expirationTimes=oi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=oi(0),this.identifierPrefix=E,this.onRecoverableError=I,this.mutableSourceEagerHydrationData=null}function z_(l,u,v,E,I,F,H,oe,de){return l=new VU(l,u,v,oe,de),u===1?(u=1,F===!0&&(u|=8)):u=0,F=xs(3,null,null,u),l.current=F,F.stateNode=l,F.memoizedState={element:E,isDehydrated:v,cache:null,transitions:null,pendingSuspenseBoundaries:null},Qt(F),l}function $U(l,u,v){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:R,key:E==null?null:""+E,children:l,containerInfo:u,implementation:v}}function s2(l){if(!l)return Xs;l=l._reactInternals;e:{if(ls(l)!==l||l.tag!==1)throw Error(n(170));var u=l;do{switch(u.tag){case 3:u=u.stateNode.context;break e;case 1:if(si(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break e}}u=u.return}while(u!==null);throw Error(n(171))}if(l.tag===1){var v=l.type;if(si(v))return ju(l,v,u)}return u}function a2(l,u,v,E,I,F,H,oe,de){return l=z_(v,E,!0,l,I,F,H,oe,de),l.context=s2(null),v=l.current,E=io(),I=qc(v),F=On(E,I),F.callback=u??null,Qn(v,F,I),l.current.lanes=I,Lr(l,I,E),Po(l,E),l}function $0(l,u,v,E){var I=u.current,F=io(),H=qc(I);return v=s2(v),u.context===null?u.context=v:u.pendingContext=v,u=On(F,H),u.payload={element:l},E=E===void 0?null:E,E!==null&&(u.callback=E),l=Qn(I,u,H),l!==null&&(sa(l,I,H,F),ai(l,I,H)),H}function H0(l){if(l=l.current,!l.child)return null;switch(l.child.tag){case 5:return l.child.stateNode;default:return l.child.stateNode}}function l2(l,u){if(l=l.memoizedState,l!==null&&l.dehydrated!==null){var v=l.retryLane;l.retryLane=v!==0&&v<u?v:u}}function U_(l,u){l2(l,u),(l=l.alternate)&&l2(l,u)}function HU(){return null}var c2=typeof reportError=="function"?reportError:function(l){console.error(l)};function B_(l){this._internalRoot=l}W0.prototype.render=B_.prototype.render=function(l){var u=this._internalRoot;if(u===null)throw Error(n(409));$0(l,u,null,null)},W0.prototype.unmount=B_.prototype.unmount=function(){var l=this._internalRoot;if(l!==null){this._internalRoot=null;var u=l.containerInfo;ud(function(){$0(null,l,null,null)}),u[Ji]=null}};function W0(l){this._internalRoot=l}W0.prototype.unstable_scheduleHydration=function(l){if(l){var u=wf();l={blockedOn:null,target:l,priority:u};for(var v=0;v<Ma.length&&u!==0&&u<Ma[v].priority;v++);Ma.splice(v,0,l),v===0&&Mf(l)}};function V_(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11)}function G0(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11&&(l.nodeType!==8||l.nodeValue!==" react-mount-point-unstable "))}function u2(){}function WU(l,u,v,E,I){if(I){if(typeof E=="function"){var F=E;E=function(){var Pe=H0(H);F.call(Pe)}}var H=a2(u,E,l,0,null,!1,!1,"",u2);return l._reactRootContainer=H,l[Ji]=H.current,Lc(l.nodeType===8?l.parentNode:l),ud(),H}for(;I=l.lastChild;)l.removeChild(I);if(typeof E=="function"){var oe=E;E=function(){var Pe=H0(de);oe.call(Pe)}}var de=z_(l,0,!1,null,null,!1,!1,"",u2);return l._reactRootContainer=de,l[Ji]=de.current,Lc(l.nodeType===8?l.parentNode:l),ud(function(){$0(u,de,v,E)}),de}function j0(l,u,v,E,I){var F=v._reactRootContainer;if(F){var H=F;if(typeof I=="function"){var oe=I;I=function(){var de=H0(H);oe.call(de)}}$0(u,H,l,I)}else H=WU(v,u,l,I,E);return H0(H)}Ru=function(l){switch(l.tag){case 3:var u=l.stateNode;if(u.current.memoizedState.isDehydrated){var v=sn(u.pendingLanes);v!==0&&(hr(u,v|1),Po(u,_e()),(En&6)===0&&(yh=_e()+500,ps()))}break;case 13:ud(function(){var E=qo(l,1);if(E!==null){var I=io();sa(E,l,1,I)}}),U_(l,1)}},Qp=function(l){if(l.tag===13){var u=qo(l,134217728);if(u!==null){var v=io();sa(u,l,134217728,v)}U_(l,134217728)}},n0=function(l){if(l.tag===13){var u=qc(l),v=qo(l,u);if(v!==null){var E=io();sa(v,l,u,E)}U_(l,u)}},wf=function(){return mn},Ef=function(l,u){var v=mn;try{return mn=l,u()}finally{mn=v}},Ze=function(l,u,v){switch(u){case"input":if(He(l,v),u=v.name,v.type==="radio"&&u!=null){for(v=l;v.parentNode;)v=v.parentNode;for(v=v.querySelectorAll("input[name="+JSON.stringify(""+u)+'][type="radio"]'),u=0;u<v.length;u++){var E=v[u];if(E!==l&&E.form===l.form){var I=th(E);if(!I)throw Error(n(90));at(E),He(E,I)}}}break;case"textarea":pe(l,v);break;case"select":u=v.value,u!=null&&Y(l,!!v.multiple,u,!1)}},vn=k_,Un=ud;var GU={usingClientEntryPoint:!1,Events:[js,pr,th,lt,Nt,k_]},jm={findFiberByHostInstance:Oa,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},jU={bundleType:jm.bundleType,version:jm.version,rendererPackageName:jm.rendererPackageName,rendererConfig:jm.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:A.ReactCurrentDispatcher,findHostInstanceByFiber:function(l){return l=bf(l),l===null?null:l.stateNode},findFiberByHostInstance:jm.findFiberByHostInstance||HU,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var X0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!X0.isDisabled&&X0.supportsFiber)try{kt=X0.inject(jU),nt=X0}catch{}}return Ro.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=GU,Ro.createPortal=function(l,u){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!V_(u))throw Error(n(200));return $U(l,u,null,v)},Ro.createRoot=function(l,u){if(!V_(l))throw Error(n(299));var v=!1,E="",I=c2;return u!=null&&(u.unstable_strictMode===!0&&(v=!0),u.identifierPrefix!==void 0&&(E=u.identifierPrefix),u.onRecoverableError!==void 0&&(I=u.onRecoverableError)),u=z_(l,1,!1,null,null,v,!1,E,I),l[Ji]=u.current,Lc(l.nodeType===8?l.parentNode:l),new B_(u)},Ro.findDOMNode=function(l){if(l==null)return null;if(l.nodeType===1)return l;var u=l._reactInternals;if(u===void 0)throw typeof l.render=="function"?Error(n(188)):(l=Object.keys(l).join(","),Error(n(268,l)));return l=bf(u),l=l===null?null:l.stateNode,l},Ro.flushSync=function(l){return ud(l)},Ro.hydrate=function(l,u,v){if(!G0(u))throw Error(n(200));return j0(null,l,u,!0,v)},Ro.hydrateRoot=function(l,u,v){if(!V_(l))throw Error(n(405));var E=v!=null&&v.hydratedSources||null,I=!1,F="",H=c2;if(v!=null&&(v.unstable_strictMode===!0&&(I=!0),v.identifierPrefix!==void 0&&(F=v.identifierPrefix),v.onRecoverableError!==void 0&&(H=v.onRecoverableError)),u=a2(u,null,l,1,v??null,I,!1,F,H),l[Ji]=u.current,Lc(l),E)for(l=0;l<E.length;l++)v=E[l],I=v._getVersion,I=I(v._source),u.mutableSourceEagerHydrationData==null?u.mutableSourceEagerHydrationData=[v,I]:u.mutableSourceEagerHydrationData.push(v,I);return new W0(u)},Ro.render=function(l,u,v){if(!G0(u))throw Error(n(200));return j0(null,l,u,!1,v)},Ro.unmountComponentAtNode=function(l){if(!G0(l))throw Error(n(40));return l._reactRootContainer?(ud(function(){j0(null,null,l,!1,function(){l._reactRootContainer=null,l[Ji]=null})}),!0):!1},Ro.unstable_batchedUpdates=k_,Ro.unstable_renderSubtreeIntoContainer=function(l,u,v,E){if(!G0(v))throw Error(n(200));if(l==null||l._reactInternals===void 0)throw Error(n(38));return j0(l,u,v,!1,E)},Ro.version="18.3.1-next-f1338f8080-20240426",Ro}var G2;function yL(){if(G2)return tS.exports;G2=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),tS.exports=m8(),tS.exports}var gc=yL();const g8=wu(gc);var xL=typeof globalThis.document<"u"?D.useLayoutEffect:D.useEffect;function Fx(t){const e=t().value??t().defaultValue,n=t().isEqual??Object.is,[r]=D.useState(e),[i,o]=D.useState(r),s=t().value!==void 0,a=D.useRef(i);a.current=s?t().value:i;const c=D.useRef(a.current);xL(()=>{c.current=a.current},[i,t().value]);const d=m=>{var x,S;const g=c.current,y=np(m)?m(g):m;t().debug&&console.log(`[bindable > ${t().debug}] setValue`,{next:y,prev:g}),s||o(y),n(y,g)||(S=(x=t()).onChange)==null||S.call(x,y,g)};function f(){return s?t().value:i}return{initial:r,ref:a,get:f,set(m){(t().sync?gc.flushSync:U6)(()=>d(m))},invoke(m,g){var y,x;(x=(y=t()).onChange)==null||x.call(y,m,g)},hash(m){var g,y;return((y=(g=t()).hash)==null?void 0:y.call(g,m))??String(m)}}}Fx.cleanup=t=>{D.useEffect(()=>t,[])};Fx.ref=t=>{const e=D.useRef(t);return{get:()=>e.current,set:n=>{e.current=n}}};function v8(t){const e=D.useRef(t);return{get(n){return e.current[n]},set(n,r){e.current[n]=r}}}var y8=(t,e)=>{const n=D.useRef(!1),r=D.useRef(!1);D.useEffect(()=>{if(n.current&&r.current)return e();r.current=!0},[...(t??[]).map(i=>typeof i=="function"?i():i)]),D.useEffect(()=>(n.current=!0,()=>{n.current=!1}),[])};function VC(t,e={}){var B,j,X,ee;const n=D.useMemo(()=>{const{id:K,ids:ne,getRootNode:se}=e;return a8({id:K,ids:ne,getRootNode:se})},[e]),r=(...K)=>{t.debug&&console.log(...K)},i=((B=t.props)==null?void 0:B.call(t,{props:BC(e),scope:n}))??e,o=x8(i),s=(j=t.context)==null?void 0:j.call(t,{prop:o,bindable:Fx,scope:n,flush:j2,getContext(){return c},getComputed(){return P},getRefs(){return S}}),a=bL(s),c={get(K){var ne;return(ne=a.current)==null?void 0:ne[K].ref.current},set(K,ne){var se;(se=a.current)==null||se[K].set(ne)},initial(K){var ne;return(ne=a.current)==null?void 0:ne[K].initial},hash(K){var se,V;const ne=(se=a.current)==null?void 0:se[K].get();return(V=a.current)==null?void 0:V[K].hash(ne)}},d=D.useRef(new Map),f=D.useRef(null),m=D.useRef(null),g=D.useRef({type:""}),y=()=>({...g.current,current(){return g.current},previous(){return m.current}}),x=()=>({...R,matches(...K){return K.includes(R.ref.current)},hasTag(K){var ne,se;return!!((se=(ne=t.states[R.ref.current])==null?void 0:ne.tags)!=null&&se.includes(K))}}),S=v8(((X=t.refs)==null?void 0:X.call(t,{prop:o,context:c}))??{}),_=()=>({state:x(),context:c,event:y(),prop:o,send:O,action:b,guard:C,track:y8,refs:S,computed:P,flush:j2,scope:n,choose:A}),b=K=>{const ne=np(K)?K(_()):K;if(!ne)return;const se=ne.map(V=>{var Z,W;const Q=(W=(Z=t.implementations)==null?void 0:Z.actions)==null?void 0:W[V];return Q||Dx(`[zag-js] No implementation found for action "${JSON.stringify(V)}"`),Q});for(const V of se)V==null||V(_())},C=K=>{var ne,se;return np(K)?K(_()):(se=(ne=t.implementations)==null?void 0:ne.guards)==null?void 0:se[K](_())},T=K=>{const ne=np(K)?K(_()):K;if(!ne)return;const se=ne.map(Q=>{var W,le;const Z=(le=(W=t.implementations)==null?void 0:W.effects)==null?void 0:le[Q];return Z||Dx(`[zag-js] No implementation found for effect "${JSON.stringify(Q)}"`),Z}),V=[];for(const Q of se){const Z=Q==null?void 0:Q(_());Z&&V.push(Z)}return()=>V.forEach(Q=>Q==null?void 0:Q())},A=K=>P6(K).find(ne=>{let se=!ne.guard;return px(ne.guard)?se=!!C(ne.guard):np(ne.guard)&&(se=ne.guard(_())),se}),P=K=>{n8(t.computed,()=>"[zag-js] No computed object found on machine");const ne=t.computed[K];return ne({context:c,event:y(),prop:o,refs:S,scope:n,computed:P})},R=Fx(()=>({defaultValue:t.initialState({prop:o}),onChange(K,ne){var V,Q,Z,W;if(ne){const le=d.current.get(ne);le==null||le(),d.current.delete(ne)}ne&&b((V=t.states[ne])==null?void 0:V.exit),b((Q=f.current)==null?void 0:Q.actions);const se=T((Z=t.states[K])==null?void 0:Z.effects);if(se&&d.current.set(K,se),ne===Q_){b(t.entry);const le=T(t.effects);le&&d.current.set(Q_,le)}b((W=t.states[K])==null?void 0:W.entry)}})),k=D.useRef(void 0),z=D.useRef(Zh.NotStarted);xL(()=>{queueMicrotask(()=>{const se=z.current===Zh.Started;z.current=Zh.Started,r(se?"rehydrating...":"initializing...");const V=k.current??R.initial;R.invoke(V,se?R.get():Q_)});const K=d.current,ne=R.ref.current;return()=>{r("unmounting..."),k.current=ne,z.current=Zh.Stopped,K.forEach(se=>se==null?void 0:se()),d.current=new Map,f.current=null,queueMicrotask(()=>{b(t.exit)})}},[]);const L=()=>"ref"in R?R.ref.current:R.get(),O=K=>{queueMicrotask(()=>{var W,le;if(z.current!==Zh.Started)return;m.current=g.current,g.current=K,r("send",K);let ne=L();const se=((W=t.states[ne].on)==null?void 0:W[K.type])??((le=t.on)==null?void 0:le[K.type]),V=A(se);if(!V)return;f.current=V;const Q=V.target??ne;r("transition",V);const Z=Q!==ne;Z?gc.flushSync(()=>R.set(Q)):V.reenter&&!Z?R.invoke(ne,ne):b(V.actions??[])})};return(ee=t.watch)==null||ee.call(t,_()),{state:x(),send:O,context:c,prop:o,scope:n,refs:S,computed:P,event:y(),getStatus:()=>z.current}}function bL(t){const e=D.useRef(t);return e.current=t,e}function x8(t){const e=bL(t);return function(r){return e.current[r]}}function j2(t){queueMicrotask(()=>{gc.flushSync(()=>t())})}var _L=u8(t=>t);function b8(t,e={}){const{sync:n=!1}=e,r=_8(t);return D.useCallback((...i)=>{var o;return n?queueMicrotask(()=>{var s;return(s=r.current)==null?void 0:s.call(r,...i)}):(o=r.current)==null?void 0:o.call(r,...i)},[n,r])}function _8(t){const e=D.useRef(t);return e.current=t,e}const SL=(t={})=>{const{lazyMount:e,unmountOnExit:n,present:r,skipAnimationOnMount:i=!1,...o}=t,s=D.useRef(!1),a={...o,present:r,onExitComplete:b8(t.onExitComplete)},c=VC(f8,a),d=d8(c);d.present&&(s.current=!0);const f=!d.present&&!s.current&&e||n&&!d.present&&s.current,m=()=>({"data-state":d.skip&&i?void 0:r?"open":"closed",hidden:!d.present});return{ref:d.setNode,getPresenceProps:m,present:d.present,unmounted:f}},[wL,EL]=mc({name:"PresenceContext",hookName:"usePresenceContext",providerName:"<PresenceProvider />"});function S8(t){const{key:e,recipe:n}=t,r=Fp();return D.useMemo(()=>{const i=n||(e!=null?r.getSlotRecipe(e):{});return r.sva(structuredClone(i))},[e,n,r])}const w8=t=>t.charAt(0).toUpperCase()+t.slice(1),E8=t=>{const{key:e,recipe:n}=t,r=w8(e||n.className||"Component"),[i,o]=Ig({name:`${r}StylesContext`,errorMessage:`use${r}Styles returned is 'undefined'. Seems you forgot to wrap the components in "<${r}.Root />" `}),[s,a]=Ig({name:`${r}ClassNameContext`,errorMessage:`use${r}ClassNames returned is 'undefined'. Seems you forgot to wrap the components in "<${r}.Root />" `,strict:!1}),[c,d]=Ig({strict:!1,name:`${r}PropsContext`,providerName:`${r}PropsContext`,defaultValue:{}});function f(x){const{unstyled:S,..._}=x,b=S8({key:e,recipe:_.recipe||n}),[C,T]=D.useMemo(()=>b.splitVariantProps(_),[_,b]);return{styles:D.useMemo(()=>S?rB:b(C),[S,C,b]),classNames:b.classNameMap,props:T}}function m(x,S={}){const{defaultProps:_}=S,b=C=>{const T=d(),A=D.useMemo(()=>vp(_,T,C),[T,C]),{styles:P,classNames:R,props:k}=f(A);return ie.jsx(i,{value:P,children:ie.jsx(s,{value:R,children:ie.jsx(x,{...k})})})};return b.displayName=x.displayName||x.name,b}return{StylesProvider:i,ClassNamesProvider:s,PropsProvider:c,usePropsContext:d,useRecipeResult:f,withProvider:(x,S,_)=>{const{defaultProps:b,...C}=_??{},T=Bo(x,{},C),A=D.forwardRef((P,R)=>{var ee;const k=d(),z=D.useMemo(()=>vp(b??{},k,P),[k,P]),{styles:L,props:O,classNames:B}=f(z),j=B[S],X=ie.jsx(i,{value:L,children:ie.jsx(s,{value:B,children:ie.jsx(T,{ref:R,...O,css:[L[S],z.css],className:ho(z.className,j)})})});return((ee=_==null?void 0:_.wrapElement)==null?void 0:ee.call(_,X,z))??X});return A.displayName=x.displayName||x.name,A},withContext:(x,S,_)=>{const b=Bo(x,{},_),C=D.forwardRef((T,A)=>{const P=o(),R=a(),k=R==null?void 0:R[S];return ie.jsx(b,{...T,css:[S?P[S]:void 0,T.css],ref:A,className:ho(T.className,k)})});return C.displayName=x.displayName||x.name,C},withRootProvider:m,useStyles:o,useClassNames:a}},C8=t=>ie.jsxs(Bo.svg,{stroke:"currentColor",fill:"none",strokeWidth:"2",viewBox:"0 0 24 24",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[ie.jsx("path",{d:"m2 22 1-1h3l9-9"}),ie.jsx("path",{d:"M3 21v-3l9-9"}),ie.jsx("path",{d:"m15 6 3.4-3.4a2.1 2.1 0 1 1 3 3L18 9l.4.4a2.1 2.1 0 1 1-3 3l-3.8-3.8a2.1 2.1 0 1 1 3-3l.4.4Z"})]});function M8(t,e=[]){const n=D.useRef(()=>{throw new Error("Cannot call an event handler while rendering.")});return D.useInsertionEffect(()=>{n.current=t}),D.useCallback((...r)=>{var i;return(i=n.current)==null?void 0:i.call(n,...r)},e)}function T8(t,e){try{return t.addEventListener("change",e),()=>t.removeEventListener("change",e)}catch{return t.addListener(e),()=>t.removeListener(e)}}function P8(t,e={}){const{fallback:n=[],ssr:r=!0,getWindow:i}=e,o=M8(i),s=Array.isArray(t)?t:[t],a=n==null?void 0:n.filter(f=>f!=null),[c,d]=D.useState(()=>s.map((f,m)=>{if(!r){const{media:g,matches:y}=((i==null?void 0:i())??window).matchMedia(f);return{media:g,matches:y}}return{media:f,matches:!!a[m]}}));return D.useEffect(()=>{const f=o()??window;d(x=>{const S=s.map(_=>{const{media:b,matches:C}=f.matchMedia(_);return{media:b,matches:C}});return x.every((_,b)=>_.matches===S[b].matches&&_.media===S[b].media)?x:S});const m=s.map(x=>f.matchMedia(x)),g=x=>{d(S=>S.slice().map(_=>_.media===x.media?{..._,matches:x.matches}:_))},y=m.map(x=>T8(x,g));return()=>y.forEach(x=>x())},[o]),c.map(f=>f.matches)}function R8(t={}){var c;t.fallback||(t.fallback="base");const e=Fp();let n=!1;const i=e.breakpoints.values.map(({min:d,name:f})=>{const m={breakpoint:f,query:`(min-width: ${d})`,fallback:!n};return f===t.fallback&&(n=!0),m}).filter(({breakpoint:d})=>{var f;return!!((f=t.breakpoints)!=null&&f.includes(d))}),o=i.map(({fallback:d})=>d),a=P8(i.map(d=>d.query),{fallback:o,ssr:t.ssr}).lastIndexOf(!0);return((c=i[a])==null?void 0:c.breakpoint)??t.fallback}function vc(t,e){const r=Fp().normalizeValue(t),i=R8({breakpoints:Object.keys(r),...e});return r[i]}var qt=(t,e=[])=>({parts:(...n)=>{if(A8(e))return qt(t,n);throw new Error("createAnatomy().parts(...) should only be called once. Did you mean to use .extendWith(...) ?")},extendWith:(...n)=>qt(t,[...e,...n]),rename:n=>qt(n,e),keys:()=>e,build:()=>[...new Set(e)].reduce((n,r)=>Object.assign(n,{[r]:{selector:[`&[data-scope="${bh(t)}"][data-part="${bh(r)}"]`,`& [data-scope="${bh(t)}"][data-part="${bh(r)}"]`].join(", "),attrs:{"data-scope":bh(t),"data-part":bh(r)}}}),{})}),bh=t=>t.replace(/([A-Z])([A-Z])/g,"$1-$2").replace(/([a-z])([A-Z])/g,"$1-$2").replace(/[\s_]+/g,"-").toLowerCase(),A8=t=>t.length===0,CL=qt("collapsible").parts("root","trigger","content","indicator");CL.build();dn()(["dir","disabled","getRootNode","id","ids","onExitComplete","onOpenChange","defaultOpen","open"]);const[lpe,$C]=mc({name:"EnvironmentContext",hookName:"useEnvironmentContext",providerName:"<EnvironmentProvider />",strict:!1,defaultValue:{getRootNode:()=>document,getDocument:()=>document,getWindow:()=>window}});var I8=Object.defineProperty,k8=(t,e,n)=>e in t?I8(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,HC=(t,e,n)=>k8(t,e+"",n),O8=(t,e,n)=>{const r=`linear-gradient(to ${t[+!e]}, transparent, #000)`;return{areaStyles:{backgroundImage:`linear-gradient(to ${t[Number(e)]},rgb(${n},0,0),rgb(${n},255,0))`},areaGradientStyles:{backgroundImage:`linear-gradient(to ${t[Number(e)]},rgb(${n},0,255),rgb(${n},255,255))`,WebkitMaskImage:r,maskImage:r}}},L8=(t,e,n)=>{const r=`linear-gradient(to ${t[+!e]}, transparent, #000)`;return{areaStyles:{backgroundImage:`linear-gradient(to ${t[Number(e)]},rgb(0,${n},0),rgb(255,${n},0))`},areaGradientStyles:{backgroundImage:`linear-gradient(to ${t[Number(e)]},rgb(0,${n},255),rgb(255,${n},255))`,WebkitMaskImage:r,maskImage:r}}},N8=(t,e,n)=>{const r=`linear-gradient(to ${t[+!e]}, transparent, #000)`;return{areaStyles:{backgroundImage:`linear-gradient(to ${t[Number(e)]},rgb(0,0,${n}),rgb(255,0,${n}))`},areaGradientStyles:{backgroundImage:`linear-gradient(to ${t[Number(e)]},rgb(0,255,${n}),rgb(255,255,${n}))`,WebkitMaskImage:r,maskImage:r}}},D8=(t,e,n)=>({areaStyles:{},areaGradientStyles:{background:[`linear-gradient(to ${t[Number(e)]}, hsla(0,0%,0%,1) 0%, hsla(0,0%,0%,0) 50%, hsla(0,0%,100%,0) 50%, hsla(0,0%,100%,1) 100%)`,`linear-gradient(to ${t[+!e]},hsl(0,0%,50%),hsla(0,0%,50%,0))`,`hsl(${n}, 100%, 50%)`].join(",")}}),F8=(t,e,n)=>({areaStyles:{},areaGradientStyles:{background:[`linear-gradient(to ${t[+!e]}, hsla(0,0%,0%,${n}) 0%, hsla(0,0%,0%,0) 50%, hsla(0,0%,100%,0) 50%, hsla(0,0%,100%,${n}) 100%)`,`linear-gradient(to ${t[Number(e)]},hsla(0,100%,50%,${n}),hsla(60,100%,50%,${n}),hsla(120,100%,50%,${n}),hsla(180,100%,50%,${n}),hsla(240,100%,50%,${n}),hsla(300,100%,50%,${n}),hsla(359,100%,50%,${n}))`,"hsl(0, 0%, 50%)"].join(",")}}),z8=(t,e,n)=>({areaStyles:{},areaGradientStyles:{backgroundImage:[`linear-gradient(to ${t[+!e]},hsl(0,0%,${n}%),hsla(0,0%,${n}%,0))`,`linear-gradient(to ${t[Number(e)]},hsl(0,100%,${n}%),hsl(60,100%,${n}%),hsl(120,100%,${n}%),hsl(180,100%,${n}%),hsl(240,100%,${n}%),hsl(300,100%,${n}%),hsl(360,100%,${n}%))`].join(",")}}),U8=(t,e,n)=>({areaStyles:{},areaGradientStyles:{background:[`linear-gradient(to ${t[Number(e)]},hsl(0,0%,0%),hsla(0,0%,0%,0))`,`linear-gradient(to ${t[+!e]},hsl(0,0%,100%),hsla(0,0%,100%,0))`,`hsl(${n}, 100%, 50%)`].join(",")}}),B8=(t,e,n)=>({areaStyles:{},areaGradientStyles:{background:[`linear-gradient(to ${t[+!e]},hsla(0,0%,0%,${n}),hsla(0,0%,0%,0))`,`linear-gradient(to ${t[Number(e)]},hsla(0,100%,50%,${n}),hsla(60,100%,50%,${n}),hsla(120,100%,50%,${n}),hsla(180,100%,50%,${n}),hsla(240,100%,50%,${n}),hsla(300,100%,50%,${n}),hsla(359,100%,50%,${n}))`,`linear-gradient(to ${t[+!e]},hsl(0,0%,0%),hsl(0,0%,100%))`].join(",")}}),V8=(t,e,n)=>({areaStyles:{},areaGradientStyles:{background:[`linear-gradient(to ${t[+!e]},hsla(0,0%,100%,${n}),hsla(0,0%,100%,0))`,`linear-gradient(to ${t[Number(e)]},hsla(0,100%,50%,${n}),hsla(60,100%,50%,${n}),hsla(120,100%,50%,${n}),hsla(180,100%,50%,${n}),hsla(240,100%,50%,${n}),hsla(300,100%,50%,${n}),hsla(359,100%,50%,${n}))`,"#000"].join(",")}});function X2(t,e){const{xChannel:n,yChannel:r,dir:i="ltr"}=e,{zChannel:o}=t.getColorAxes({xChannel:n,yChannel:r}),s=t.getChannelValue(o),{minValue:a,maxValue:c}=t.getChannelRange(o),d=["top",i==="rtl"?"left":"right"];let f=!1,m={areaStyles:{},areaGradientStyles:{}},g=(s-a)/(c-a),y=t.getFormat()==="hsla";switch(o){case"red":{f=n==="green",m=O8(d,f,s);break}case"green":{f=n==="red",m=L8(d,f,s);break}case"blue":{f=n==="red",m=N8(d,f,s);break}case"hue":{f=n!=="saturation",y?m=D8(d,f,s):m=U8(d,f,s);break}case"saturation":{f=n==="hue",y?m=F8(d,f,g):m=B8(d,f,g);break}case"brightness":{f=n==="hue",m=V8(d,f,g);break}case"lightness":{f=n==="hue",m=z8(d,f,s);break}}return m}var $8=(t,e)=>{if(Object.keys(t).length!==Object.keys(e).length)return!1;for(let n in t)if(t[n]!==e[n])return!1;return!0},WC=class{toHexInt(){return this.toFormat("rgba").toHexInt()}getChannelValue(e){if(e in this)return this[e];throw new Error("Unsupported color channel: "+e)}getChannelValuePercent(e,n){const r=n??this.getChannelValue(e),{minValue:i,maxValue:o}=this.getChannelRange(e);return K6(r,i,o)}getChannelPercentValue(e,n){const{minValue:r,maxValue:i,step:o}=this.getChannelRange(e),s=Z6(n,r,i,o);return z2(s,r,i,o)}withChannelValue(e,n){const{minValue:r,maxValue:i}=this.getChannelRange(e);if(e in this){let o=this.clone();return o[e]=Do(n,r,i),o}throw new Error("Unsupported color channel: "+e)}getColorAxes(e){let{xChannel:n,yChannel:r}=e,i=n||this.getChannels().find(a=>a!==r),o=r||this.getChannels().find(a=>a!==i),s=this.getChannels().find(a=>a!==i&&a!==o);return{xChannel:i,yChannel:o,zChannel:s}}incrementChannel(e,n){const{minValue:r,maxValue:i,step:o}=this.getChannelRange(e),s=z2(Do(this.getChannelValue(e)+n,r,i),r,i,o);return this.withChannelValue(e,s)}decrementChannel(e,n){return this.incrementChannel(e,-n)}isEqual(e){return $8(this.toJSON(),e.toJSON())&&this.getChannelValue("alpha")===e.getChannelValue("alpha")}},ML=class mx extends WC{constructor(e,n,r,i){super(),this.red=e,this.green=n,this.blue=r,this.alpha=i}static parse(e){let n=[];if(/^#[\da-f]+$/i.test(e)&&[4,5,7,9].includes(e.length)){const i=(e.length<6?e.replace(/[^#]/gi,"$&$&"):e).slice(1).split("");for(;i.length>0;)n.push(parseInt(i.splice(0,2).join(""),16));n[3]=n[3]!==void 0?n[3]/255:void 0}const r=e.match(/^rgba?\((.*)\)$/);return r!=null&&r[1]&&(n=r[1].split(",").map(i=>Number(i.trim())).map((i,o)=>Do(i,0,o<3?255:1))),n.length<3?void 0:new mx(n[0],n[1],n[2],n[3]??1)}toString(e){switch(e){case"hex":return"#"+(this.red.toString(16).padStart(2,"0")+this.green.toString(16).padStart(2,"0")+this.blue.toString(16).padStart(2,"0")).toUpperCase();case"hexa":return"#"+(this.red.toString(16).padStart(2,"0")+this.green.toString(16).padStart(2,"0")+this.blue.toString(16).padStart(2,"0")+Math.round(this.alpha*255).toString(16).padStart(2,"0")).toUpperCase();case"rgb":return`rgb(${this.red}, ${this.green}, ${this.blue})`;case"css":case"rgba":return`rgba(${this.red}, ${this.green}, ${this.blue}, ${this.alpha})`;case"hsl":return this.toHSL().toString("hsl");case"hsb":return this.toHSB().toString("hsb");default:return this.toFormat(e).toString(e)}}toFormat(e){switch(e){case"rgba":return this;case"hsba":return this.toHSB();case"hsla":return this.toHSL();default:throw new Error("Unsupported color conversion: rgb -> "+e)}}toHexInt(){return this.red<<16|this.green<<8|this.blue}toHSB(){const e=this.red/255,n=this.green/255,r=this.blue/255,i=Math.min(e,n,r),o=Math.max(e,n,r),s=o-i,a=o===0?0:s/o;let c=0;if(s!==0){switch(o){case e:c=(n-r)/s+(n<r?6:0);break;case n:c=(r-e)/s+2;break;case r:c=(e-n)/s+4;break}c/=6}return new XC(nr(c*360,2),nr(a*100,2),nr(o*100,2),nr(this.alpha,2))}toHSL(){const e=this.red/255,n=this.green/255,r=this.blue/255,i=Math.min(e,n,r),o=Math.max(e,n,r),s=(o+i)/2,a=o-i;let c=-1,d=-1;if(a===0)c=d=0;else{switch(d=a/(s<.5?o+i:2-o-i),o){case e:c=(n-r)/a+(n<r?6:0);break;case n:c=(r-e)/a+2;break;case r:c=(e-n)/a+4;break}c/=6}return new jC(nr(c*360,2),nr(d*100,2),nr(s*100,2),nr(this.alpha,2))}clone(){return new mx(this.red,this.green,this.blue,this.alpha)}getChannelFormatOptions(e){switch(e){case"red":case"green":case"blue":return{style:"decimal"};case"alpha":return{style:"percent"};default:throw new Error("Unknown color channel: "+e)}}formatChannelValue(e,n){let r=this.getChannelFormatOptions(e),i=this.getChannelValue(e);return new Intl.NumberFormat(n,r).format(i)}getChannelRange(e){switch(e){case"red":case"green":case"blue":return{minValue:0,maxValue:255,step:1,pageSize:17};case"alpha":return{minValue:0,maxValue:1,step:.01,pageSize:.1};default:throw new Error("Unknown color channel: "+e)}}toJSON(){return{r:this.red,g:this.green,b:this.blue,a:this.alpha}}getFormat(){return"rgba"}getChannels(){return mx.colorChannels}};HC(ML,"colorChannels",["red","green","blue"]);var GC=ML,H8=/hsl\(([-+]?\d+(?:.\d+)?\s*,\s*[-+]?\d+(?:.\d+)?%\s*,\s*[-+]?\d+(?:.\d+)?%)\)|hsla\(([-+]?\d+(?:.\d+)?\s*,\s*[-+]?\d+(?:.\d+)?%\s*,\s*[-+]?\d+(?:.\d+)?%\s*,\s*[-+]?\d(.\d+)?)\)/,TL=class gx extends WC{constructor(e,n,r,i){super(),this.hue=e,this.saturation=n,this.lightness=r,this.alpha=i}static parse(e){let n;if(n=e.match(H8)){const[r,i,o,s]=(n[1]??n[2]).split(",").map(a=>Number(a.trim().replace("%","")));return new gx(mL(r,360),Do(i,0,100),Do(o,0,100),Do(s??1,0,1))}}toString(e){switch(e){case"hex":return this.toRGB().toString("hex");case"hexa":return this.toRGB().toString("hexa");case"hsl":return`hsl(${this.hue}, ${nr(this.saturation,2)}%, ${nr(this.lightness,2)}%)`;case"css":case"hsla":return`hsla(${this.hue}, ${nr(this.saturation,2)}%, ${nr(this.lightness,2)}%, ${this.alpha})`;case"hsb":return this.toHSB().toString("hsb");case"rgb":return this.toRGB().toString("rgb");default:return this.toFormat(e).toString(e)}}toFormat(e){switch(e){case"hsla":return this;case"hsba":return this.toHSB();case"rgba":return this.toRGB();default:throw new Error("Unsupported color conversion: hsl -> "+e)}}toHSB(){let e=this.saturation/100,n=this.lightness/100,r=n+e*Math.min(n,1-n);return e=r===0?0:2*(1-n/r),new XC(nr(this.hue,2),nr(e*100,2),nr(r*100,2),nr(this.alpha,2))}toRGB(){let e=this.hue,n=this.saturation/100,r=this.lightness/100,i=n*Math.min(r,1-r),o=(s,a=(s+e/30)%12)=>r-i*Math.max(Math.min(a-3,9-a,1),-1);return new GC(Math.round(o(0)*255),Math.round(o(8)*255),Math.round(o(4)*255),nr(this.alpha,2))}clone(){return new gx(this.hue,this.saturation,this.lightness,this.alpha)}getChannelFormatOptions(e){switch(e){case"hue":return{style:"unit",unit:"degree",unitDisplay:"narrow"};case"saturation":case"lightness":case"alpha":return{style:"percent"};default:throw new Error("Unknown color channel: "+e)}}formatChannelValue(e,n){let r=this.getChannelFormatOptions(e),i=this.getChannelValue(e);return(e==="saturation"||e==="lightness")&&(i/=100),new Intl.NumberFormat(n,r).format(i)}getChannelRange(e){switch(e){case"hue":return{minValue:0,maxValue:360,step:1,pageSize:15};case"saturation":case"lightness":return{minValue:0,maxValue:100,step:1,pageSize:10};case"alpha":return{minValue:0,maxValue:1,step:.01,pageSize:.1};default:throw new Error("Unknown color channel: "+e)}}toJSON(){return{h:this.hue,s:this.saturation,l:this.lightness,a:this.alpha}}getFormat(){return"hsla"}getChannels(){return gx.colorChannels}};HC(TL,"colorChannels",["hue","saturation","lightness"]);var jC=TL,W8=/hsb\(([-+]?\d+(?:.\d+)?\s*,\s*[-+]?\d+(?:.\d+)?%\s*,\s*[-+]?\d+(?:.\d+)?%)\)|hsba\(([-+]?\d+(?:.\d+)?\s*,\s*[-+]?\d+(?:.\d+)?%\s*,\s*[-+]?\d+(?:.\d+)?%\s*,\s*[-+]?\d(.\d+)?)\)/,PL=class vx extends WC{constructor(e,n,r,i){super(),this.hue=e,this.saturation=n,this.brightness=r,this.alpha=i}static parse(e){let n;if(n=e.match(W8)){const[r,i,o,s]=(n[1]??n[2]).split(",").map(a=>Number(a.trim().replace("%","")));return new vx(mL(r,360),Do(i,0,100),Do(o,0,100),Do(s??1,0,1))}}toString(e){switch(e){case"css":return this.toHSL().toString("css");case"hex":return this.toRGB().toString("hex");case"hexa":return this.toRGB().toString("hexa");case"hsb":return`hsb(${this.hue}, ${nr(this.saturation,2)}%, ${nr(this.brightness,2)}%)`;case"hsba":return`hsba(${this.hue}, ${nr(this.saturation,2)}%, ${nr(this.brightness,2)}%, ${this.alpha})`;case"hsl":return this.toHSL().toString("hsl");case"rgb":return this.toRGB().toString("rgb");default:return this.toFormat(e).toString(e)}}toFormat(e){switch(e){case"hsba":return this;case"hsla":return this.toHSL();case"rgba":return this.toRGB();default:throw new Error("Unsupported color conversion: hsb -> "+e)}}toHSL(){let e=this.saturation/100,n=this.brightness/100,r=n*(1-e/2);return e=r===0||r===1?0:(n-r)/Math.min(r,1-r),new jC(nr(this.hue,2),nr(e*100,2),nr(r*100,2),nr(this.alpha,2))}toRGB(){let e=this.hue,n=this.saturation/100,r=this.brightness/100,i=(o,s=(o+e/60)%6)=>r-n*r*Math.max(Math.min(s,4-s,1),0);return new GC(Math.round(i(5)*255),Math.round(i(3)*255),Math.round(i(1)*255),nr(this.alpha,2))}clone(){return new vx(this.hue,this.saturation,this.brightness,this.alpha)}getChannelFormatOptions(e){switch(e){case"hue":return{style:"unit",unit:"degree",unitDisplay:"narrow"};case"saturation":case"brightness":case"alpha":return{style:"percent"};default:throw new Error("Unknown color channel: "+e)}}formatChannelValue(e,n){let r=this.getChannelFormatOptions(e),i=this.getChannelValue(e);return(e==="saturation"||e==="brightness")&&(i/=100),new Intl.NumberFormat(n,r).format(i)}getChannelRange(e){switch(e){case"hue":return{minValue:0,maxValue:360,step:1,pageSize:15};case"saturation":case"brightness":return{minValue:0,maxValue:100,step:1,pageSize:10};case"alpha":return{minValue:0,maxValue:1,step:.01,pageSize:.1};default:throw new Error("Unknown color channel: "+e)}}toJSON(){return{h:this.hue,s:this.saturation,b:this.brightness,a:this.alpha}}getFormat(){return"hsba"}getChannels(){return vx.colorChannels}};HC(PL,"colorChannels",["hue","saturation","brightness"]);var XC=PL,G8="aliceblue:f0f8ff,antiquewhite:faebd7,aqua:00ffff,aquamarine:7fffd4,azure:f0ffff,beige:f5f5dc,bisque:ffe4c4,black:000000,blanchedalmond:ffebcd,blue:0000ff,blueviolet:8a2be2,brown:a52a2a,burlywood:deb887,cadetblue:5f9ea0,chartreuse:7fff00,chocolate:d2691e,coral:ff7f50,cornflowerblue:6495ed,cornsilk:fff8dc,crimson:dc143c,cyan:00ffff,darkblue:00008b,darkcyan:008b8b,darkgoldenrod:b8860b,darkgray:a9a9a9,darkgreen:006400,darkkhaki:bdb76b,darkmagenta:8b008b,darkolivegreen:556b2f,darkorange:ff8c00,darkorchid:9932cc,darkred:8b0000,darksalmon:e9967a,darkseagreen:8fbc8f,darkslateblue:483d8b,darkslategray:2f4f4f,darkturquoise:00ced1,darkviolet:9400d3,deeppink:ff1493,deepskyblue:00bfff,dimgray:696969,dodgerblue:1e90ff,firebrick:b22222,floralwhite:fffaf0,forestgreen:228b22,fuchsia:ff00ff,gainsboro:dcdcdc,ghostwhite:f8f8ff,gold:ffd700,goldenrod:daa520,gray:808080,green:008000,greenyellow:adff2f,honeydew:f0fff0,hotpink:ff69b4,indianred:cd5c5c,indigo:4b0082,ivory:fffff0,khaki:f0e68c,lavender:e6e6fa,lavenderblush:fff0f5,lawngreen:7cfc00,lemonchiffon:fffacd,lightblue:add8e6,lightcoral:f08080,lightcyan:e0ffff,lightgoldenrodyellow:fafad2,lightgrey:d3d3d3,lightgreen:90ee90,lightpink:ffb6c1,lightsalmon:ffa07a,lightseagreen:20b2aa,lightskyblue:87cefa,lightslategray:778899,lightsteelblue:b0c4de,lightyellow:ffffe0,lime:00ff00,limegreen:32cd32,linen:faf0e6,magenta:ff00ff,maroon:800000,mediumaquamarine:66cdaa,mediumblue:0000cd,mediumorchid:ba55d3,mediumpurple:9370d8,mediumseagreen:3cb371,mediumslateblue:7b68ee,mediumspringgreen:00fa9a,mediumturquoise:48d1cc,mediumvioletred:c71585,midnightblue:191970,mintcream:f5fffa,mistyrose:ffe4e1,moccasin:ffe4b5,navajowhite:ffdead,navy:000080,oldlace:fdf5e6,olive:808000,olivedrab:6b8e23,orange:ffa500,orangered:ff4500,orchid:da70d6,palegoldenrod:eee8aa,palegreen:98fb98,paleturquoise:afeeee,palevioletred:d87093,papayawhip:ffefd5,peachpuff:ffdab9,peru:cd853f,pink:ffc0cb,plum:dda0dd,powderblue:b0e0e6,purple:800080,rebeccapurple:663399,red:ff0000,rosybrown:bc8f8f,royalblue:4169e1,saddlebrown:8b4513,salmon:fa8072,sandybrown:f4a460,seagreen:2e8b57,seashell:fff5ee,sienna:a0522d,silver:c0c0c0,skyblue:87ceeb,slateblue:6a5acd,slategray:708090,snow:fffafa,springgreen:00ff7f,steelblue:4682b4,tan:d2b48c,teal:008080,thistle:d8bfd8,tomato:ff6347,turquoise:40e0d0,violet:ee82ee,wheat:f5deb3,white:ffffff,whitesmoke:f5f5f5,yellow:ffff00,yellowgreen:9acd32",j8=t=>{const e=new Map,n=t.split(",");for(let r=0;r<n.length;r++){const[i,o]=n[r].split(":");e.set(i,`#${o}`),i.includes("gray")&&e.set(i.replace("gray","grey"),`#${o}`)}return e},q2=j8(G8),mu=t=>{var n;if(q2.has(t))return mu(q2.get(t));const e=GC.parse(t)||XC.parse(t)||jC.parse(t);if(!e){const r=new Error("Invalid color value: "+t);throw(n=Error.captureStackTrace)==null||n.call(Error,r,mu),r}return e},Y2=t=>typeof t=="string"?mu(t):t;const X8=["top","right","bottom","left"],gu=Math.min,ts=Math.max,zx=Math.round,Z0=Math.floor,ja=t=>({x:t,y:t}),q8={left:"right",right:"left",bottom:"top",top:"bottom"},Y8={start:"end",end:"start"};function sE(t,e,n){return ts(t,gu(e,n))}function ac(t,e){return typeof t=="function"?t(e):t}function lc(t){return t.split("-")[0]}function zp(t){return t.split("-")[1]}function qC(t){return t==="x"?"y":"x"}function YC(t){return t==="y"?"height":"width"}function vu(t){return["top","bottom"].includes(lc(t))?"y":"x"}function KC(t){return qC(vu(t))}function K8(t,e,n){n===void 0&&(n=!1);const r=zp(t),i=KC(t),o=YC(i);let s=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(s=Ux(s)),[s,Ux(s)]}function Z8(t){const e=Ux(t);return[aE(t),e,aE(e)]}function aE(t){return t.replace(/start|end/g,e=>Y8[e])}function J8(t,e,n){const r=["left","right"],i=["right","left"],o=["top","bottom"],s=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:r:e?r:i;case"left":case"right":return e?o:s;default:return[]}}function Q8(t,e,n,r){const i=zp(t);let o=J8(lc(t),n==="start",r);return i&&(o=o.map(s=>s+"-"+i),e&&(o=o.concat(o.map(aE)))),o}function Ux(t){return t.replace(/left|right|bottom|top/g,e=>q8[e])}function e$(t){return{top:0,right:0,bottom:0,left:0,...t}}function RL(t){return typeof t!="number"?e$(t):{top:t,right:t,bottom:t,left:t}}function Bx(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function K2(t,e,n){let{reference:r,floating:i}=t;const o=vu(e),s=KC(e),a=YC(s),c=lc(e),d=o==="y",f=r.x+r.width/2-i.width/2,m=r.y+r.height/2-i.height/2,g=r[a]/2-i[a]/2;let y;switch(c){case"top":y={x:f,y:r.y-i.height};break;case"bottom":y={x:f,y:r.y+r.height};break;case"right":y={x:r.x+r.width,y:m};break;case"left":y={x:r.x-i.width,y:m};break;default:y={x:r.x,y:r.y}}switch(zp(e)){case"start":y[s]-=g*(n&&d?-1:1);break;case"end":y[s]+=g*(n&&d?-1:1);break}return y}const t$=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:o=[],platform:s}=n,a=o.filter(Boolean),c=await(s.isRTL==null?void 0:s.isRTL(e));let d=await s.getElementRects({reference:t,floating:e,strategy:i}),{x:f,y:m}=K2(d,r,c),g=r,y={},x=0;for(let S=0;S<a.length;S++){const{name:_,fn:b}=a[S],{x:C,y:T,data:A,reset:P}=await b({x:f,y:m,initialPlacement:r,placement:g,strategy:i,middlewareData:y,rects:d,platform:s,elements:{reference:t,floating:e}});f=C??f,m=T??m,y={...y,[_]:{...y[_],...A}},P&&x<=50&&(x++,typeof P=="object"&&(P.placement&&(g=P.placement),P.rects&&(d=P.rects===!0?await s.getElementRects({reference:t,floating:e,strategy:i}):P.rects),{x:f,y:m}=K2(d,g,c)),S=-1)}return{x:f,y:m,placement:g,strategy:i,middlewareData:y}};async function ev(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:o,rects:s,elements:a,strategy:c}=t,{boundary:d="clippingAncestors",rootBoundary:f="viewport",elementContext:m="floating",altBoundary:g=!1,padding:y=0}=ac(e,t),x=RL(y),_=a[g?m==="floating"?"reference":"floating":m],b=Bx(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(_)))==null||n?_:_.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(a.floating)),boundary:d,rootBoundary:f,strategy:c})),C=m==="floating"?{x:r,y:i,width:s.floating.width,height:s.floating.height}:s.reference,T=await(o.getOffsetParent==null?void 0:o.getOffsetParent(a.floating)),A=await(o.isElement==null?void 0:o.isElement(T))?await(o.getScale==null?void 0:o.getScale(T))||{x:1,y:1}:{x:1,y:1},P=Bx(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:C,offsetParent:T,strategy:c}):C);return{top:(b.top-P.top+x.top)/A.y,bottom:(P.bottom-b.bottom+x.bottom)/A.y,left:(b.left-P.left+x.left)/A.x,right:(P.right-b.right+x.right)/A.x}}const n$=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:o,platform:s,elements:a,middlewareData:c}=e,{element:d,padding:f=0}=ac(t,e)||{};if(d==null)return{};const m=RL(f),g={x:n,y:r},y=KC(i),x=YC(y),S=await s.getDimensions(d),_=y==="y",b=_?"top":"left",C=_?"bottom":"right",T=_?"clientHeight":"clientWidth",A=o.reference[x]+o.reference[y]-g[y]-o.floating[x],P=g[y]-o.reference[y],R=await(s.getOffsetParent==null?void 0:s.getOffsetParent(d));let k=R?R[T]:0;(!k||!await(s.isElement==null?void 0:s.isElement(R)))&&(k=a.floating[T]||o.floating[x]);const z=A/2-P/2,L=k/2-S[x]/2-1,O=gu(m[b],L),B=gu(m[C],L),j=O,X=k-S[x]-B,ee=k/2-S[x]/2+z,K=sE(j,ee,X),ne=!c.arrow&&zp(i)!=null&&ee!==K&&o.reference[x]/2-(ee<j?O:B)-S[x]/2<0,se=ne?ee<j?ee-j:ee-X:0;return{[y]:g[y]+se,data:{[y]:K,centerOffset:ee-K-se,...ne&&{alignmentOffset:se}},reset:ne}}}),r$=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:o,rects:s,initialPlacement:a,platform:c,elements:d}=e,{mainAxis:f=!0,crossAxis:m=!0,fallbackPlacements:g,fallbackStrategy:y="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:S=!0,..._}=ac(t,e);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const b=lc(i),C=vu(a),T=lc(a)===a,A=await(c.isRTL==null?void 0:c.isRTL(d.floating)),P=g||(T||!S?[Ux(a)]:Z8(a)),R=x!=="none";!g&&R&&P.push(...Q8(a,S,x,A));const k=[a,...P],z=await ev(e,_),L=[];let O=((r=o.flip)==null?void 0:r.overflows)||[];if(f&&L.push(z[b]),m){const ee=K8(i,s,A);L.push(z[ee[0]],z[ee[1]])}if(O=[...O,{placement:i,overflows:L}],!L.every(ee=>ee<=0)){var B,j;const ee=(((B=o.flip)==null?void 0:B.index)||0)+1,K=k[ee];if(K)return{data:{index:ee,overflows:O},reset:{placement:K}};let ne=(j=O.filter(se=>se.overflows[0]<=0).sort((se,V)=>se.overflows[1]-V.overflows[1])[0])==null?void 0:j.placement;if(!ne)switch(y){case"bestFit":{var X;const se=(X=O.filter(V=>{if(R){const Q=vu(V.placement);return Q===C||Q==="y"}return!0}).map(V=>[V.placement,V.overflows.filter(Q=>Q>0).reduce((Q,Z)=>Q+Z,0)]).sort((V,Q)=>V[1]-Q[1])[0])==null?void 0:X[0];se&&(ne=se);break}case"initialPlacement":ne=a;break}if(i!==ne)return{reset:{placement:ne}}}return{}}}};function Z2(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function J2(t){return X8.some(e=>t[e]>=0)}const i$=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=ac(t,e);switch(r){case"referenceHidden":{const o=await ev(e,{...i,elementContext:"reference"}),s=Z2(o,n.reference);return{data:{referenceHiddenOffsets:s,referenceHidden:J2(s)}}}case"escaped":{const o=await ev(e,{...i,altBoundary:!0}),s=Z2(o,n.floating);return{data:{escapedOffsets:s,escaped:J2(s)}}}default:return{}}}}};async function o$(t,e){const{placement:n,platform:r,elements:i}=t,o=await(r.isRTL==null?void 0:r.isRTL(i.floating)),s=lc(n),a=zp(n),c=vu(n)==="y",d=["left","top"].includes(s)?-1:1,f=o&&c?-1:1,m=ac(e,t);let{mainAxis:g,crossAxis:y,alignmentAxis:x}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return a&&typeof x=="number"&&(y=a==="end"?x*-1:x),c?{x:y*f,y:g*d}:{x:g*d,y:y*f}}const s$=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:o,placement:s,middlewareData:a}=e,c=await o$(e,t);return s===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+c.x,y:o+c.y,data:{...c,placement:s}}}}},a$=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:o=!0,crossAxis:s=!1,limiter:a={fn:_=>{let{x:b,y:C}=_;return{x:b,y:C}}},...c}=ac(t,e),d={x:n,y:r},f=await ev(e,c),m=vu(lc(i)),g=qC(m);let y=d[g],x=d[m];if(o){const _=g==="y"?"top":"left",b=g==="y"?"bottom":"right",C=y+f[_],T=y-f[b];y=sE(C,y,T)}if(s){const _=m==="y"?"top":"left",b=m==="y"?"bottom":"right",C=x+f[_],T=x-f[b];x=sE(C,x,T)}const S=a.fn({...e,[g]:y,[m]:x});return{...S,data:{x:S.x-n,y:S.y-r,enabled:{[g]:o,[m]:s}}}}}},l$=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:o,middlewareData:s}=e,{offset:a=0,mainAxis:c=!0,crossAxis:d=!0}=ac(t,e),f={x:n,y:r},m=vu(i),g=qC(m);let y=f[g],x=f[m];const S=ac(a,e),_=typeof S=="number"?{mainAxis:S,crossAxis:0}:{mainAxis:0,crossAxis:0,...S};if(c){const T=g==="y"?"height":"width",A=o.reference[g]-o.floating[T]+_.mainAxis,P=o.reference[g]+o.reference[T]-_.mainAxis;y<A?y=A:y>P&&(y=P)}if(d){var b,C;const T=g==="y"?"width":"height",A=["top","left"].includes(lc(i)),P=o.reference[m]-o.floating[T]+(A&&((b=s.offset)==null?void 0:b[m])||0)+(A?0:_.crossAxis),R=o.reference[m]+o.reference[T]+(A?0:((C=s.offset)==null?void 0:C[m])||0)-(A?_.crossAxis:0);x<P?x=P:x>R&&(x=R)}return{[g]:y,[m]:x}}}},c$=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:o,platform:s,elements:a}=e,{apply:c=()=>{},...d}=ac(t,e),f=await ev(e,d),m=lc(i),g=zp(i),y=vu(i)==="y",{width:x,height:S}=o.floating;let _,b;m==="top"||m==="bottom"?(_=m,b=g===(await(s.isRTL==null?void 0:s.isRTL(a.floating))?"start":"end")?"left":"right"):(b=m,_=g==="end"?"top":"bottom");const C=S-f.top-f.bottom,T=x-f.left-f.right,A=gu(S-f[_],C),P=gu(x-f[b],T),R=!e.middlewareData.shift;let k=A,z=P;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(z=T),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(k=C),R&&!g){const O=ts(f.left,0),B=ts(f.right,0),j=ts(f.top,0),X=ts(f.bottom,0);y?z=x-2*(O!==0||B!==0?O+B:ts(f.left,f.right)):k=S-2*(j!==0||X!==0?j+X:ts(f.top,f.bottom))}await c({...e,availableWidth:z,availableHeight:k});const L=await s.getDimensions(a.floating);return x!==L.width||S!==L.height?{reset:{rects:!0}}:{}}}};function ub(){return typeof window<"u"}function Up(t){return AL(t)?(t.nodeName||"").toLowerCase():"#document"}function is(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function nl(t){var e;return(e=(AL(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function AL(t){return ub()?t instanceof Node||t instanceof is(t).Node:!1}function ya(t){return ub()?t instanceof Element||t instanceof is(t).Element:!1}function Ka(t){return ub()?t instanceof HTMLElement||t instanceof is(t).HTMLElement:!1}function Q2(t){return!ub()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof is(t).ShadowRoot}function Iv(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=xa(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function u$(t){return["table","td","th"].includes(Up(t))}function db(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function ZC(t){const e=JC(),n=ya(t)?xa(t):t;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function d$(t){let e=yu(t);for(;Ka(e)&&!_p(e);){if(ZC(e))return e;if(db(e))return null;e=yu(e)}return null}function JC(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function _p(t){return["html","body","#document"].includes(Up(t))}function xa(t){return is(t).getComputedStyle(t)}function fb(t){return ya(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function yu(t){if(Up(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Q2(t)&&t.host||nl(t);return Q2(e)?e.host:e}function IL(t){const e=yu(t);return _p(e)?t.ownerDocument?t.ownerDocument.body:t.body:Ka(e)&&Iv(e)?e:IL(e)}function tv(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=IL(t),o=i===((r=t.ownerDocument)==null?void 0:r.body),s=is(i);if(o){const a=lE(s);return e.concat(s,s.visualViewport||[],Iv(i)?i:[],a&&n?tv(a):[])}return e.concat(i,tv(i,[],n))}function lE(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function kL(t){const e=xa(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=Ka(t),o=i?t.offsetWidth:n,s=i?t.offsetHeight:r,a=zx(n)!==o||zx(r)!==s;return a&&(n=o,r=s),{width:n,height:r,$:a}}function QC(t){return ya(t)?t:t.contextElement}function hp(t){const e=QC(t);if(!Ka(e))return ja(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:o}=kL(e);let s=(o?zx(n.width):n.width)/r,a=(o?zx(n.height):n.height)/i;return(!s||!Number.isFinite(s))&&(s=1),(!a||!Number.isFinite(a))&&(a=1),{x:s,y:a}}const f$=ja(0);function OL(t){const e=is(t);return!JC()||!e.visualViewport?f$:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function h$(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==is(t)?!1:e}function ef(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),o=QC(t);let s=ja(1);e&&(r?ya(r)&&(s=hp(r)):s=hp(t));const a=h$(o,n,r)?OL(o):ja(0);let c=(i.left+a.x)/s.x,d=(i.top+a.y)/s.y,f=i.width/s.x,m=i.height/s.y;if(o){const g=is(o),y=r&&ya(r)?is(r):r;let x=g,S=lE(x);for(;S&&r&&y!==x;){const _=hp(S),b=S.getBoundingClientRect(),C=xa(S),T=b.left+(S.clientLeft+parseFloat(C.paddingLeft))*_.x,A=b.top+(S.clientTop+parseFloat(C.paddingTop))*_.y;c*=_.x,d*=_.y,f*=_.x,m*=_.y,c+=T,d+=A,x=is(S),S=lE(x)}}return Bx({width:f,height:m,x:c,y:d})}function eM(t,e){const n=fb(t).scrollLeft;return e?e.left+n:ef(nl(t)).left+n}function LL(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),i=r.left+e.scrollLeft-(n?0:eM(t,r)),o=r.top+e.scrollTop;return{x:i,y:o}}function p$(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const o=i==="fixed",s=nl(r),a=e?db(e.floating):!1;if(r===s||a&&o)return n;let c={scrollLeft:0,scrollTop:0},d=ja(1);const f=ja(0),m=Ka(r);if((m||!m&&!o)&&((Up(r)!=="body"||Iv(s))&&(c=fb(r)),Ka(r))){const y=ef(r);d=hp(r),f.x=y.x+r.clientLeft,f.y=y.y+r.clientTop}const g=s&&!m&&!o?LL(s,c,!0):ja(0);return{width:n.width*d.x,height:n.height*d.y,x:n.x*d.x-c.scrollLeft*d.x+f.x+g.x,y:n.y*d.y-c.scrollTop*d.y+f.y+g.y}}function m$(t){return Array.from(t.getClientRects())}function g$(t){const e=nl(t),n=fb(t),r=t.ownerDocument.body,i=ts(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),o=ts(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let s=-n.scrollLeft+eM(t);const a=-n.scrollTop;return xa(r).direction==="rtl"&&(s+=ts(e.clientWidth,r.clientWidth)-i),{width:i,height:o,x:s,y:a}}function v$(t,e){const n=is(t),r=nl(t),i=n.visualViewport;let o=r.clientWidth,s=r.clientHeight,a=0,c=0;if(i){o=i.width,s=i.height;const d=JC();(!d||d&&e==="fixed")&&(a=i.offsetLeft,c=i.offsetTop)}return{width:o,height:s,x:a,y:c}}function y$(t,e){const n=ef(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,o=Ka(t)?hp(t):ja(1),s=t.clientWidth*o.x,a=t.clientHeight*o.y,c=i*o.x,d=r*o.y;return{width:s,height:a,x:c,y:d}}function eP(t,e,n){let r;if(e==="viewport")r=v$(t,n);else if(e==="document")r=g$(nl(t));else if(ya(e))r=y$(e,n);else{const i=OL(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return Bx(r)}function NL(t,e){const n=yu(t);return n===e||!ya(n)||_p(n)?!1:xa(n).position==="fixed"||NL(n,e)}function x$(t,e){const n=e.get(t);if(n)return n;let r=tv(t,[],!1).filter(a=>ya(a)&&Up(a)!=="body"),i=null;const o=xa(t).position==="fixed";let s=o?yu(t):t;for(;ya(s)&&!_p(s);){const a=xa(s),c=ZC(s);!c&&a.position==="fixed"&&(i=null),(o?!c&&!i:!c&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||Iv(s)&&!c&&NL(t,s))?r=r.filter(f=>f!==s):i=a,s=yu(s)}return e.set(t,r),r}function b$(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const s=[...n==="clippingAncestors"?db(e)?[]:x$(e,this._c):[].concat(n),r],a=s[0],c=s.reduce((d,f)=>{const m=eP(e,f,i);return d.top=ts(m.top,d.top),d.right=gu(m.right,d.right),d.bottom=gu(m.bottom,d.bottom),d.left=ts(m.left,d.left),d},eP(e,a,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function _$(t){const{width:e,height:n}=kL(t);return{width:e,height:n}}function S$(t,e,n){const r=Ka(e),i=nl(e),o=n==="fixed",s=ef(t,!0,o,e);let a={scrollLeft:0,scrollTop:0};const c=ja(0);if(r||!r&&!o)if((Up(e)!=="body"||Iv(i))&&(a=fb(e)),r){const g=ef(e,!0,o,e);c.x=g.x+e.clientLeft,c.y=g.y+e.clientTop}else i&&(c.x=eM(i));const d=i&&!r&&!o?LL(i,a):ja(0),f=s.left+a.scrollLeft-c.x-d.x,m=s.top+a.scrollTop-c.y-d.y;return{x:f,y:m,width:s.width,height:s.height}}function iS(t){return xa(t).position==="static"}function tP(t,e){if(!Ka(t)||xa(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return nl(t)===n&&(n=n.ownerDocument.body),n}function DL(t,e){const n=is(t);if(db(t))return n;if(!Ka(t)){let i=yu(t);for(;i&&!_p(i);){if(ya(i)&&!iS(i))return i;i=yu(i)}return n}let r=tP(t,e);for(;r&&u$(r)&&iS(r);)r=tP(r,e);return r&&_p(r)&&iS(r)&&!ZC(r)?n:r||d$(t)||n}const w$=async function(t){const e=this.getOffsetParent||DL,n=this.getDimensions,r=await n(t.floating);return{reference:S$(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function E$(t){return xa(t).direction==="rtl"}const C$={convertOffsetParentRelativeRectToViewportRelativeRect:p$,getDocumentElement:nl,getClippingRect:b$,getOffsetParent:DL,getElementRects:w$,getClientRects:m$,getDimensions:_$,getScale:hp,isElement:ya,isRTL:E$};function FL(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function M$(t,e){let n=null,r;const i=nl(t);function o(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function s(a,c){a===void 0&&(a=!1),c===void 0&&(c=1),o();const d=t.getBoundingClientRect(),{left:f,top:m,width:g,height:y}=d;if(a||e(),!g||!y)return;const x=Z0(m),S=Z0(i.clientWidth-(f+g)),_=Z0(i.clientHeight-(m+y)),b=Z0(f),T={rootMargin:-x+"px "+-S+"px "+-_+"px "+-b+"px",threshold:ts(0,gu(1,c))||1};let A=!0;function P(R){const k=R[0].intersectionRatio;if(k!==c){if(!A)return s();k?s(!1,k):r=setTimeout(()=>{s(!1,1e-7)},1e3)}k===1&&!FL(d,t.getBoundingClientRect())&&s(),A=!1}try{n=new IntersectionObserver(P,{...T,root:i.ownerDocument})}catch{n=new IntersectionObserver(P,T)}n.observe(t)}return s(!0),o}function T$(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,d=QC(t),f=i||o?[...d?tv(d):[],...tv(e)]:[];f.forEach(b=>{i&&b.addEventListener("scroll",n,{passive:!0}),o&&b.addEventListener("resize",n)});const m=d&&a?M$(d,n):null;let g=-1,y=null;s&&(y=new ResizeObserver(b=>{let[C]=b;C&&C.target===d&&y&&(y.unobserve(e),cancelAnimationFrame(g),g=requestAnimationFrame(()=>{var T;(T=y)==null||T.observe(e)})),n()}),d&&!c&&y.observe(d),y.observe(e));let x,S=c?ef(t):null;c&&_();function _(){const b=ef(t);S&&!FL(S,b)&&n(),S=b,x=requestAnimationFrame(_)}return n(),()=>{var b;f.forEach(C=>{i&&C.removeEventListener("scroll",n),o&&C.removeEventListener("resize",n)}),m==null||m(),(b=y)==null||b.disconnect(),y=null,c&&cancelAnimationFrame(x)}}const P$=s$,R$=a$,A$=r$,I$=c$,k$=i$,O$=n$,L$=l$,N$=(t,e,n)=>{const r=new Map,i={platform:C$,...n},o={...i.platform,_c:r};return t$(t,e,{...i,platform:o})};function nP(t=0,e=0,n=0,r=0){if(typeof DOMRect=="function")return new DOMRect(t,e,n,r);const i={x:t,y:e,width:n,height:r,top:e,right:t+n,bottom:e+r,left:t};return{...i,toJSON:()=>i}}function D$(t){if(!t)return nP();const{x:e,y:n,width:r,height:i}=t;return nP(e,n,r,i)}function F$(t,e){return{contextElement:go(t)?t:void 0,getBoundingClientRect:()=>{const n=t,r=e==null?void 0:e(n);return r||!n?D$(r):n.getBoundingClientRect()}}}var Ym=t=>({variable:t,reference:`var(${t})`}),jl={arrowSize:Ym("--arrow-size"),arrowSizeHalf:Ym("--arrow-size-half"),arrowBg:Ym("--arrow-background"),transformOrigin:Ym("--transform-origin"),arrowOffset:Ym("--arrow-offset")},z$=t=>({top:"bottom center","top-start":t?`${t.x}px bottom`:"left bottom","top-end":t?`${t.x}px bottom`:"right bottom",bottom:"top center","bottom-start":t?`${t.x}px top`:"top left","bottom-end":t?`${t.x}px top`:"top right",left:"right center","left-start":t?`right ${t.y}px`:"right top","left-end":t?`right ${t.y}px`:"right bottom",right:"left center","right-start":t?`left ${t.y}px`:"left top","right-end":t?`left ${t.y}px`:"left bottom"}),U$={name:"transformOrigin",fn({placement:t,elements:e,middlewareData:n}){const{arrow:r}=n,i=z$(r)[t],{floating:o}=e;return o.style.setProperty(jl.transformOrigin.variable,i),{data:{transformOrigin:i}}}},B$={name:"rects",fn({rects:t}){return{data:t}}},V$=t=>{if(t)return{name:"shiftArrow",fn({placement:e,middlewareData:n}){if(!n.arrow)return{};const{x:r,y:i}=n.arrow,o=e.split("-")[0];return Object.assign(t.style,{left:r!=null?`${r}px`:"",top:i!=null?`${i}px`:"",[o]:`calc(100% + ${jl.arrowOffset.reference})`}),{}}}};function $$(t){const[e,n]=t.split("-");return{side:e,align:n,hasAlign:n!=null}}function H$(t){return t.split("-")[0]}var W$={strategy:"absolute",placement:"bottom",listeners:!0,gutter:8,flip:!0,slide:!0,overlap:!1,sameWidth:!1,fitViewport:!1,overflowPadding:8,arrowPadding:4};function rP(t,e){const n=t.devicePixelRatio||1;return Math.round(e*n)/n}function zL(t){return z6(t.boundary)}function G$(t,e){if(t)return O$({element:t,padding:e.arrowPadding})}function j$(t,e){if(!D6(e.offset??e.gutter))return P$(({placement:n})=>{var d,f;const r=((t==null?void 0:t.clientHeight)||0)/2,i=((d=e.offset)==null?void 0:d.mainAxis)??e.gutter,o=typeof i=="number"?i+r:i??r,{hasAlign:s}=$$(n),a=s?void 0:e.shift,c=((f=e.offset)==null?void 0:f.crossAxis)??a;return BC({crossAxis:c,mainAxis:o,alignmentAxis:e.shift})})}function X$(t){if(t.flip)return A$({boundary:zL(t),padding:t.overflowPadding,fallbackPlacements:t.flip===!0?void 0:t.flip})}function q$(t){if(!(!t.slide&&!t.overlap))return R$({boundary:zL(t),mainAxis:t.slide,crossAxis:t.overlap,padding:t.overflowPadding,limiter:L$()})}function Y$(t){return I$({padding:t.overflowPadding,apply({elements:e,rects:n,availableHeight:r,availableWidth:i}){const o=e.floating,s=Math.round(n.reference.width);i=Math.floor(i),r=Math.floor(r),o.style.setProperty("--reference-width",`${s}px`),o.style.setProperty("--available-width",`${i}px`),o.style.setProperty("--available-height",`${r}px`)}})}function K$(t){var e;if(t.hideWhenDetached)return k$({strategy:"referenceHidden",boundary:((e=t.boundary)==null?void 0:e.call(t))??"clippingAncestors"})}function Z$(t){return t?t===!0?{ancestorResize:!0,ancestorScroll:!0,elementResize:!0,layoutShift:!0}:t:{}}function J$(t,e,n={}){const r=F$(t,n.getAnchorRect);if(!e||!r)return;const i=Object.assign({},W$,n),o=e.querySelector("[data-part=arrow]"),s=[j$(o,i),X$(i),q$(i),G$(o,i),V$(o),U$,Y$(i),K$(i),B$],{placement:a,strategy:c,onComplete:d,onPositioned:f}=i,m=async()=>{var A;if(!r||!e)return;const S=await N$(r,e,{placement:a,middleware:s,strategy:c});d==null||d(S),f==null||f({placed:!0});const _=Xi(e),b=rP(_,S.x),C=rP(_,S.y);e.style.setProperty("--x",`${b}px`),e.style.setProperty("--y",`${C}px`),i.hideWhenDetached&&(((A=S.middlewareData.hide)==null?void 0:A.referenceHidden)?(e.style.setProperty("visibility","hidden"),e.style.setProperty("pointer-events","none")):(e.style.removeProperty("visibility"),e.style.removeProperty("pointer-events")));const T=e.firstElementChild;if(T){const P=KO(T);e.style.setProperty("--z-index",P.zIndex)}},g=async()=>{n.updatePosition?(await n.updatePosition({updatePosition:m}),f==null||f({placed:!0})):await m()},y=Z$(i.listeners),x=i.listeners?T$(r,e,g,y):B6;return g(),()=>{x==null||x(),f==null||f({placed:!1})}}function cc(t,e,n={}){const{defer:r,...i}=n,o=r?sr:a=>a(),s=[];return s.push(o(()=>{const a=typeof t=="function"?t():t,c=typeof e=="function"?e():e;s.push(J$(a,c,i))})),()=>{s.forEach(a=>a==null?void 0:a())}}var Q$={bottom:"rotate(45deg)",left:"rotate(135deg)",top:"rotate(225deg)",right:"rotate(315deg)"};function eH(t={}){const{placement:e,sameWidth:n,fitViewport:r,strategy:i="absolute"}=t;return{arrow:{position:"absolute",width:jl.arrowSize.reference,height:jl.arrowSize.reference,[jl.arrowSizeHalf.variable]:`calc(${jl.arrowSize.reference} / 2)`,[jl.arrowOffset.variable]:`calc(${jl.arrowSizeHalf.reference} * -1)`},arrowTip:{transform:e?Q$[e.split("-")[0]]:void 0,background:jl.arrowBg.reference,top:"0",left:"0",width:"100%",height:"100%",position:"absolute",zIndex:"inherit"},floating:{position:i,isolation:"isolate",minWidth:n?void 0:"max-content",width:n?"var(--reference-width)":void 0,maxWidth:r?"var(--available-width)":void 0,maxHeight:r?"var(--available-height)":void 0,pointerEvents:e?void 0:"none",top:"0px",left:"0px",transform:e?"translate3d(var(--x), var(--y), 0)":"translate3d(0, -100vh, 0)",zIndex:"var(--z-index)"}}}function tH(t){const e={each(n){var r;for(let i=0;i<((r=t.frames)==null?void 0:r.length);i+=1){const o=t.frames[i];o&&n(o)}},addEventListener(n,r,i){return e.each(o=>{try{o.document.addEventListener(n,r,i)}catch{}}),()=>{try{e.removeEventListener(n,r,i)}catch{}}},removeEventListener(n,r,i){e.each(o=>{try{o.document.removeEventListener(n,r,i)}catch{}})}};return e}function nH(t){const e=t.frameElement!=null?t.parent:null;return{addEventListener:(n,r,i)=>{try{e==null||e.addEventListener(n,r,i)}catch{}return()=>{try{e==null||e.removeEventListener(n,r,i)}catch{}}},removeEventListener:(n,r,i)=>{try{e==null||e.removeEventListener(n,r,i)}catch{}}}}var iP="pointerdown.outside",oP="focus.outside";function rH(t){for(const e of t)if(go(e)&&OC(e))return!0;return!1}var UL=t=>"clientY"in t;function iH(t,e){if(!UL(e)||!t)return!1;const n=t.getBoundingClientRect();return n.width===0||n.height===0?!1:n.top<=e.clientY&&e.clientY<=n.top+n.height&&n.left<=e.clientX&&e.clientX<=n.left+n.width}function oH(t,e){return t.y<=e.y&&e.y<=t.y+t.height&&t.x<=e.x&&e.x<=t.x+t.width}function sP(t,e){if(!e||!UL(t))return!1;const n=e.scrollHeight>e.clientHeight,r=n&&t.clientX>e.offsetLeft+e.clientWidth,i=e.scrollWidth>e.clientWidth,o=i&&t.clientY>e.offsetTop+e.clientHeight,s={x:e.offsetLeft,y:e.offsetTop,width:e.clientWidth+(n?16:0),height:e.clientHeight+(i?16:0)},a={x:t.clientX,y:t.clientY};return oH(s,a)?r||o:!1}function sH(t,e){const{exclude:n,onFocusOutside:r,onPointerDownOutside:i,onInteractOutside:o,defer:s}=e;if(!t)return;const a=tl(t),c=Xi(t),d=tH(c),f=nH(c);function m(C,T){if(!go(T)||!T.isConnected||bp(t,T)||iH(t,C))return!1;const A=a.querySelector(`[aria-controls="${t.id}"]`);if(A){const R=Ox(A);if(sP(C,R))return!1}const P=Ox(t);return sP(C,P)?!1:!(n!=null&&n(T))}const g=new Set,y=xp(t==null?void 0:t.getRootNode());function x(C){function T(A){var z;const P=s&&!R2()?sr:L=>L(),R=A??C,k=((z=R==null?void 0:R.composedPath)==null?void 0:z.call(R))??[R==null?void 0:R.target];P(()=>{const L=y?k[0]:pu(C);if(!(!t||!m(C,L))){if(i||o){const O=Nx(i,o);t.addEventListener(iP,O,{once:!0})}aP(t,iP,{bubbles:!1,cancelable:!0,detail:{originalEvent:R,contextmenu:$V(R),focusable:rH(k),target:L}})}})}C.pointerType==="touch"?(g.forEach(A=>A()),g.add(Ti(a,"click",T,{once:!0})),g.add(f.addEventListener("click",T,{once:!0})),g.add(d.addEventListener("click",T,{once:!0}))):T()}const S=new Set,_=setTimeout(()=>{S.add(Ti(a,"pointerdown",x,!0)),S.add(f.addEventListener("pointerdown",x,!0)),S.add(d.addEventListener("pointerdown",x,!0))},0);function b(C){(s?sr:A=>A())(()=>{const A=pu(C);if(!(!t||!m(C,A))){if(r||o){const P=Nx(r,o);t.addEventListener(oP,P,{once:!0})}aP(t,oP,{bubbles:!1,cancelable:!0,detail:{originalEvent:C,contextmenu:!1,focusable:OC(A),target:A}})}})}return R2()||(S.add(Ti(a,"focusin",b,!0)),S.add(f.addEventListener("focusin",b,!0)),S.add(d.addEventListener("focusin",b,!0))),()=>{clearTimeout(_),g.forEach(C=>C()),S.forEach(C=>C())}}function aH(t,e){const{defer:n}=e,r=n?sr:o=>o(),i=[];return i.push(r(()=>{const o=typeof t=="function"?t():t;i.push(sH(o,e))})),()=>{i.forEach(o=>o==null?void 0:o())}}function aP(t,e,n){const r=t.ownerDocument.defaultView||window,i=new r.CustomEvent(e,n);return t.dispatchEvent(i)}function lH(t,e){const n=r=>{r.key==="Escape"&&(r.isComposing||e==null||e(r))};return Ti(tl(t),"keydown",n,{capture:!0})}var da={layers:[],branches:[],count(){return this.layers.length},pointerBlockingLayers(){return this.layers.filter(t=>t.pointerBlocking)},topMostPointerBlockingLayer(){return[...this.pointerBlockingLayers()].slice(-1)[0]},hasPointerBlockingLayer(){return this.pointerBlockingLayers().length>0},isBelowPointerBlockingLayer(t){var r;const e=this.indexOf(t),n=this.topMostPointerBlockingLayer()?this.indexOf((r=this.topMostPointerBlockingLayer())==null?void 0:r.node):-1;return e<n},isTopMost(t){const e=this.layers[this.count()-1];return(e==null?void 0:e.node)===t},getNestedLayers(t){return Array.from(this.layers).slice(this.indexOf(t)+1)},isInNestedLayer(t,e){return this.getNestedLayers(t).some(n=>bp(n.node,e))},isInBranch(t){return Array.from(this.branches).some(e=>bp(e,t))},add(t){const e=this.layers.push(t);t.node.style.setProperty("--layer-index",`${e}`)},addBranch(t){this.branches.push(t)},remove(t){const e=this.indexOf(t);e<0||(e<this.count()-1&&this.getNestedLayers(t).forEach(r=>r.dismiss()),this.layers.splice(e,1),t.style.removeProperty("--layer-index"))},removeBranch(t){const e=this.branches.indexOf(t);e>=0&&this.branches.splice(e,1)},indexOf(t){return this.layers.findIndex(e=>e.node===t)},dismiss(t){var e;(e=this.layers[this.indexOf(t)])==null||e.dismiss()},clear(){this.remove(this.layers[0].node)}},lP;function cP(){da.layers.forEach(({node:t})=>{t.style.pointerEvents=da.isBelowPointerBlockingLayer(t)?"none":"auto"})}function cH(t){t.style.pointerEvents=""}function uH(t,e){const n=tl(t),r=[];if(da.hasPointerBlockingLayer()&&!n.body.hasAttribute("data-inert")&&(lP=document.body.style.pointerEvents,queueMicrotask(()=>{n.body.style.pointerEvents="none",n.body.setAttribute("data-inert","")})),e){const i=M6(e,o=>{r.push(sL(o,{pointerEvents:"auto"}))});r.push(i)}return()=>{da.hasPointerBlockingLayer()||(queueMicrotask(()=>{n.body.style.pointerEvents=lP,n.body.removeAttribute("data-inert"),n.body.style.length===0&&n.body.removeAttribute("style")}),r.forEach(i=>i()))}}function dH(t,e){const{warnOnMissingNode:n=!0}=e;if(n&&!t){Dx("[@zag-js/dismissable] node is `null` or `undefined`");return}if(!t)return;const{onDismiss:r,pointerBlocking:i,exclude:o,debug:s}=e,a={dismiss:r,node:t,pointerBlocking:i};da.add(a),cP();function c(y){var S,_;const x=pu(y.detail.originalEvent);da.isBelowPointerBlockingLayer(t)||da.isInBranch(x)||((S=e.onPointerDownOutside)==null||S.call(e,y),(_=e.onInteractOutside)==null||_.call(e,y),!y.defaultPrevented&&(s&&console.log("onPointerDownOutside:",y.detail.originalEvent),r==null||r()))}function d(y){var S,_;const x=pu(y.detail.originalEvent);da.isInBranch(x)||((S=e.onFocusOutside)==null||S.call(e,y),(_=e.onInteractOutside)==null||_.call(e,y),!y.defaultPrevented&&(s&&console.log("onFocusOutside:",y.detail.originalEvent),r==null||r()))}function f(y){var x;da.isTopMost(t)&&((x=e.onEscapeKeyDown)==null||x.call(e,y),!y.defaultPrevented&&r&&(y.preventDefault(),r()))}function m(y){var b;if(!t)return!1;const x=typeof o=="function"?o():o,S=Array.isArray(x)?x:[x],_=(b=e.persistentElements)==null?void 0:b.map(C=>C()).filter(go);return _&&S.push(..._),S.some(C=>bp(C,y))||da.isInNestedLayer(t,y)}const g=[i?uH(t,e.persistentElements):void 0,lH(t,f),aH(t,{exclude:m,onFocusOutside:d,onPointerDownOutside:c,defer:e.defer})];return()=>{da.remove(t),cP(),cH(t),g.forEach(y=>y==null?void 0:y())}}function hb(t,e){const{defer:n}=e,r=n?sr:o=>o(),i=[];return i.push(r(()=>{const o=np(t)?t():t;i.push(dH(o,e))})),()=>{i.forEach(o=>o==null?void 0:o())}}var BL=qt("color-picker",["root","label","control","trigger","positioner","content","area","areaThumb","valueText","areaBackground","channelSlider","channelSliderLabel","channelSliderTrack","channelSliderThumb","channelSliderValueText","channelInput","transparencyGrid","swatchGroup","swatchTrigger","swatchIndicator","swatch","eyeDropperTrigger","formatTrigger","formatSelect"]),dr=BL.build(),fH=t=>{var e;return((e=t.ids)==null?void 0:e.root)??`color-picker:${t.id}`},uP=t=>{var e;return((e=t.ids)==null?void 0:e.label)??`color-picker:${t.id}:label`},cE=t=>{var e;return((e=t.ids)==null?void 0:e.hiddenInput)??`color-picker:${t.id}:hidden-input`},VL=t=>{var e;return((e=t.ids)==null?void 0:e.control)??`color-picker:${t.id}:control`},$L=t=>{var e;return((e=t.ids)==null?void 0:e.trigger)??`color-picker:${t.id}:trigger`},uE=t=>{var e;return((e=t.ids)==null?void 0:e.content)??`color-picker:${t.id}:content`},HL=t=>{var e;return((e=t.ids)==null?void 0:e.positioner)??`color-picker:${t.id}:positioner`},hH=t=>{var e;return((e=t.ids)==null?void 0:e.formatSelect)??`color-picker:${t.id}:format-select`},WL=t=>{var e;return((e=t.ids)==null?void 0:e.area)??`color-picker:${t.id}:area`},pH=t=>{var e;return((e=t.ids)==null?void 0:e.areaGradient)??`color-picker:${t.id}:area-gradient`},GL=t=>{var e;return((e=t.ids)==null?void 0:e.areaThumb)??`color-picker:${t.id}:area-thumb`},jL=(t,e)=>{var n,r;return((r=(n=t.ids)==null?void 0:n.channelSliderTrack)==null?void 0:r.call(n,e))??`color-picker:${t.id}:slider-track:${e}`},dE=(t,e)=>{var n,r;return((r=(n=t.ids)==null?void 0:n.channelSliderThumb)==null?void 0:r.call(n,e))??`color-picker:${t.id}:slider-thumb:${e}`},yx=t=>t.getById(uE(t)),mH=t=>t.getById(GL(t)),gH=(t,e)=>t.getById(dE(t,e)),vH=t=>t.getById(hH(t)),dP=t=>t.getById(cE(t)),yH=t=>t.getById(WL(t)),xH=(t,e)=>{const n=yH(t);if(!n)return;const{percent:r}=iL(e,n);return r},XL=t=>t.getById(VL(t)),oS=t=>t.getById($L(t)),bH=t=>t.getById(HL(t)),_H=(t,e)=>t.getById(jL(t,e)),SH=(t,e,n)=>{const r=_H(t,n);if(!r)return;const{percent:i}=iL(e,r);return i},wH=t=>[...Lx(yx(t),"input[data-channel]"),...Lx(XL(t),"input[data-channel]")];function EH(t,e){switch(e){case"hue":return mu(`hsl(${t.getChannelValue("hue")}, 100%, 50%)`);case"lightness":case"brightness":case"saturation":case"red":case"green":case"blue":return t.withChannelValue("alpha",1);case"alpha":return t;default:throw new Error("Unknown color channel: "+e)}}function fE(t,e){if(e==null)return"";if(e==="hex")return t.toString("hex");if(e==="css")return t.toString("css");if(e in t)return t.getChannelValue(e).toString();const n=t.getFormat()==="hsla";switch(e){case"hue":return n?t.toFormat("hsla").getChannelValue("hue").toString():t.toFormat("hsba").getChannelValue("hue").toString();case"saturation":return n?t.toFormat("hsla").getChannelValue("saturation").toString():t.toFormat("hsba").getChannelValue("saturation").toString();case"lightness":return t.toFormat("hsla").getChannelValue("lightness").toString();case"brightness":return t.toFormat("hsba").getChannelValue("brightness").toString();case"red":case"green":case"blue":return t.toFormat("rgba").getChannelValue(e).toString();default:return t.getChannelValue(e).toString()}}function CH(t,e){switch(e){case"hex":const n=mu("#000000"),r=mu("#FFFFFF");return{minValue:n.toHexInt(),maxValue:r.toHexInt(),pageSize:10,step:1};case"css":return;case"hue":case"saturation":case"lightness":return t.toFormat("hsla").getChannelRange(e);case"brightness":return t.toFormat("hsba").getChannelRange(e);case"red":case"green":case"blue":return t.toFormat("rgba").getChannelRange(e);default:return t.getChannelRange(e)}}function MH(t,e){return t==="vertical"?"top":e==="ltr"?"right":"left"}var TH=t=>{const{channel:e,value:n,dir:r,orientation:i}=t,o=MH(i,r),{minValue:s,maxValue:a}=n.getChannelRange(e);switch(e){case"hue":return`linear-gradient(to ${o}, rgb(255, 0, 0) 0%, rgb(255, 255, 0) 17%, rgb(0, 255, 0) 33%, rgb(0, 255, 255) 50%, rgb(0, 0, 255) 67%, rgb(255, 0, 255) 83%, rgb(255, 0, 0) 100%)`;case"lightness":{let c=n.withChannelValue(e,s).toString("css"),d=n.withChannelValue(e,(a-s)/2).toString("css"),f=n.withChannelValue(e,a).toString("css");return`linear-gradient(to ${o}, ${c}, ${d}, ${f})`}case"saturation":case"brightness":case"red":case"green":case"blue":case"alpha":{let c=n.withChannelValue(e,s).toString("css"),d=n.withChannelValue(e,a).toString("css");return`linear-gradient(to ${o}, ${c}, ${d})`}default:throw new Error("Unknown color channel: "+e)}};function PH(t,e){const{context:n,send:r,prop:i,computed:o,state:s,scope:a}=t,c=n.get("value"),d=n.get("format"),f=o("areaValue"),m=o("valueAsString"),g=o("disabled"),y=o("interactive"),x=s.hasTag("dragging"),S=s.hasTag("open"),_=s.hasTag("focused"),b=P=>{const R=f.getChannels();return{xChannel:P.xChannel??R[1],yChannel:P.yChannel??R[2]}},C=n.get("currentPlacement"),T=eH({...i("positioning"),placement:C});function A(P){const R=Y2(P.value).toFormat(n.get("format"));return{value:R,valueAsString:R.toString("hex"),checked:R.isEqual(c),disabled:P.disabled||!y}}return{dragging:x,open:S,valueAsString:m,value:c,setOpen(P){s.hasTag("open")!==P&&r({type:P?"OPEN":"CLOSE"})},setValue(P){r({type:"VALUE.SET",value:Y2(P),src:"set-color"})},getChannelValue(P){return fE(c,P)},getChannelValueText(P,R){return c.formatChannelValue(P,R)},setChannelValue(P,R){const k=c.withChannelValue(P,R);r({type:"VALUE.SET",value:k,src:"set-channel"})},format:n.get("format"),setFormat(P){const R=c.toFormat(P);r({type:"VALUE.SET",value:R,src:"set-format"})},alpha:c.getChannelValue("alpha"),setAlpha(P){const R=c.withChannelValue("alpha",P);r({type:"VALUE.SET",value:R,src:"set-alpha"})},getRootProps(){return e.element({...dr.root.attrs,dir:i("dir"),id:fH(a),"data-disabled":cn(g),"data-readonly":cn(i("readOnly")),"data-invalid":cn(i("invalid")),style:{"--value":c.toString("css")}})},getLabelProps(){return e.element({...dr.label.attrs,dir:i("dir"),id:uP(a),htmlFor:cE(a),"data-disabled":cn(g),"data-readonly":cn(i("readOnly")),"data-invalid":cn(i("invalid")),"data-focus":cn(_),onClick(P){P.preventDefault();const R=h6(XL(a),"[data-channel=hex]");R==null||R.focus({preventScroll:!0})}})},getControlProps(){return e.element({...dr.control.attrs,id:VL(a),dir:i("dir"),"data-disabled":cn(g),"data-readonly":cn(i("readOnly")),"data-invalid":cn(i("invalid")),"data-state":S?"open":"closed","data-focus":cn(_)})},getTriggerProps(){return e.button({...dr.trigger.attrs,id:$L(a),dir:i("dir"),disabled:g,"aria-label":`select color. current color is ${m}`,"aria-controls":uE(a),"aria-labelledby":uP(a),"data-disabled":cn(g),"data-readonly":cn(i("readOnly")),"data-invalid":cn(i("invalid")),"data-placement":C,"aria-expanded":cn(S),"data-state":S?"open":"closed","data-focus":cn(_),type:"button",onClick(){y&&r({type:"TRIGGER.CLICK"})},onBlur(){y&&r({type:"TRIGGER.BLUR"})},style:{position:"relative"}})},getPositionerProps(){return e.element({...dr.positioner.attrs,id:HL(a),dir:i("dir"),style:T.floating})},getContentProps(){return e.element({...dr.content.attrs,id:uE(a),dir:i("dir"),tabIndex:-1,"data-placement":C,"data-state":S?"open":"closed",hidden:!S})},getValueTextProps(){return e.element({...dr.valueText.attrs,dir:i("dir"),"data-disabled":cn(g),"data-focus":cn(_)})},getAreaProps(P={}){const{xChannel:R,yChannel:k}=b(P),{areaStyles:z}=X2(f,{xChannel:R,yChannel:k,dir:i("dir")});return e.element({...dr.area.attrs,id:WL(a),role:"group","data-invalid":cn(i("invalid")),"data-disabled":cn(g),"data-readonly":cn(i("readOnly")),onPointerDown(L){if(!y||!A2(L)||I2(L))return;const O=rE(L);r({type:"AREA.POINTER_DOWN",point:O,channel:{xChannel:R,yChannel:k},id:"area"}),L.preventDefault()},style:{position:"relative",touchAction:"none",forcedColorAdjust:"none",...z}})},getAreaBackgroundProps(P={}){const{xChannel:R,yChannel:k}=b(P),{areaGradientStyles:z}=X2(f,{xChannel:R,yChannel:k,dir:i("dir")});return e.element({...dr.areaBackground.attrs,id:pH(a),"data-invalid":cn(i("invalid")),"data-disabled":cn(g),"data-readonly":cn(i("readOnly")),style:{position:"relative",touchAction:"none",forcedColorAdjust:"none",...z}})},getAreaThumbProps(P={}){const{xChannel:R,yChannel:k}=b(P),z={xChannel:R,yChannel:k},L=f.getChannelValuePercent(R),O=1-f.getChannelValuePercent(k),B=f.getChannelValue(R),j=f.getChannelValue(k),X=f.withChannelValue("alpha",1).toString("css");return e.element({...dr.areaThumb.attrs,id:GL(a),dir:i("dir"),tabIndex:g?void 0:0,"data-disabled":cn(g),"data-invalid":cn(i("invalid")),"data-readonly":cn(i("readOnly")),role:"slider","aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":B,"aria-label":`${R} and ${k}`,"aria-roledescription":"2d slider","aria-valuetext":`${R} ${B}, ${k} ${j}`,style:{position:"absolute",left:`${L*100}%`,top:`${O*100}%`,transform:"translate(-50%, -50%)",touchAction:"none",forcedColorAdjust:"none","--color":X,background:X},onFocus(){y&&r({type:"AREA.FOCUS",id:"area",channel:z})},onKeyDown(ee){if(ee.defaultPrevented||!y)return;const K=L2(ee),se={ArrowUp(){r({type:"AREA.ARROW_UP",channel:z,step:K})},ArrowDown(){r({type:"AREA.ARROW_DOWN",channel:z,step:K})},ArrowLeft(){r({type:"AREA.ARROW_LEFT",channel:z,step:K})},ArrowRight(){r({type:"AREA.ARROW_RIGHT",channel:z,step:K})},PageUp(){r({type:"AREA.PAGE_UP",channel:z,step:K})},PageDown(){r({type:"AREA.PAGE_DOWN",channel:z,step:K})},Escape(V){V.stopPropagation()}}[O2(ee,{dir:i("dir")})];se&&(se(ee),ee.preventDefault())}})},getTransparencyGridProps(P={}){const{size:R="12px"}=P;return e.element({...dr.transparencyGrid.attrs,style:{"--size":R,width:"100%",height:"100%",position:"absolute",backgroundColor:"#fff",backgroundImage:"conic-gradient(#eeeeee 0 25%, transparent 0 50%, #eeeeee 0 75%, transparent 0)",backgroundSize:"var(--size) var(--size)",inset:"0px",zIndex:"auto",pointerEvents:"none"}})},getChannelSliderProps(P){const{orientation:R="horizontal",channel:k,format:z}=P;return e.element({...dr.channelSlider.attrs,"data-channel":k,"data-orientation":R,role:"presentation",onPointerDown(L){if(!y||!A2(L)||I2(L))return;const O=rE(L);r({type:"CHANNEL_SLIDER.POINTER_DOWN",channel:k,format:z,point:O,id:k,orientation:R}),L.preventDefault()},style:{position:"relative",touchAction:"none"}})},getChannelSliderTrackProps(P){const{orientation:R="horizontal",channel:k,format:z}=P,L=z?c.toFormat(z):f;return e.element({...dr.channelSliderTrack.attrs,id:jL(a,k),role:"group","data-channel":k,"data-orientation":R,style:{position:"relative",forcedColorAdjust:"none",backgroundImage:TH({orientation:R,channel:k,dir:i("dir"),value:L})}})},getChannelSliderLabelProps(P){const{channel:R}=P;return e.element({...dr.channelSliderLabel.attrs,"data-channel":R,onClick(k){var L;if(!y)return;k.preventDefault();const z=dE(a,R);(L=a.getById(z))==null||L.focus({preventScroll:!0})},style:{userSelect:"none",WebkitUserSelect:"none"}})},getChannelSliderValueTextProps(P){return e.element({...dr.channelSliderValueText.attrs,"data-channel":P.channel})},getChannelSliderThumbProps(P){const{orientation:R="horizontal",channel:k,format:z}=P,L=z?c.toFormat(z):f,O=L.getChannelRange(k),B=L.getChannelValue(k),j=(B-O.minValue)/(O.maxValue-O.minValue),X=R==="horizontal"?{left:`${j*100}%`,top:"50%"}:{top:`${j*100}%`,left:"50%"};return e.element({...dr.channelSliderThumb.attrs,id:dE(a,k),role:"slider","aria-label":k,tabIndex:g?void 0:0,"data-channel":k,"data-disabled":cn(g),"data-orientation":R,"aria-disabled":cn(g),"aria-orientation":R,"aria-valuemax":O.maxValue,"aria-valuemin":O.minValue,"aria-valuenow":B,"aria-valuetext":`${k} ${B}`,style:{forcedColorAdjust:"none",position:"absolute",background:EH(f,k).toString("css"),...X},onFocus(){y&&r({type:"CHANNEL_SLIDER.FOCUS",channel:k})},onKeyDown(ee){if(ee.defaultPrevented||!y)return;const K=L2(ee)*O.step,se={ArrowUp(){r({type:"CHANNEL_SLIDER.ARROW_UP",channel:k,step:K})},ArrowDown(){r({type:"CHANNEL_SLIDER.ARROW_DOWN",channel:k,step:K})},ArrowLeft(){r({type:"CHANNEL_SLIDER.ARROW_LEFT",channel:k,step:K})},ArrowRight(){r({type:"CHANNEL_SLIDER.ARROW_RIGHT",channel:k,step:K})},PageUp(){r({type:"CHANNEL_SLIDER.PAGE_UP",channel:k})},PageDown(){r({type:"CHANNEL_SLIDER.PAGE_DOWN",channel:k})},Home(){r({type:"CHANNEL_SLIDER.HOME",channel:k})},End(){r({type:"CHANNEL_SLIDER.END",channel:k})},Escape(V){V.stopPropagation()}}[O2(ee,{dir:i("dir")})];se&&(se(ee),ee.preventDefault())}})},getChannelInputProps(P){const{channel:R}=P,k=R==="hex"||R==="css",z=CH(c,R);return e.input({...dr.channelInput.attrs,dir:i("dir"),type:k?"text":"number","data-channel":R,"aria-label":R,spellCheck:!1,autoComplete:"off",disabled:g,"data-disabled":cn(g),"data-invalid":cn(i("invalid")),"data-readonly":cn(i("readOnly")),readOnly:i("readOnly"),defaultValue:fE(c,R),min:z==null?void 0:z.minValue,max:z==null?void 0:z.maxValue,step:z==null?void 0:z.step,onBeforeInput(L){if(k||!y)return;L.currentTarget.value.match(/[^0-9.]/g)&&L.preventDefault()},onFocus(L){y&&(r({type:"CHANNEL_INPUT.FOCUS",channel:R}),L.currentTarget.select())},onBlur(L){if(!y)return;const O=k?L.currentTarget.value:L.currentTarget.valueAsNumber;r({type:"CHANNEL_INPUT.BLUR",channel:R,value:O,isTextField:k})},onKeyDown(L){if(!L.defaultPrevented&&y&&L.key==="Enter"){const O=k?L.currentTarget.value:L.currentTarget.valueAsNumber;r({type:"CHANNEL_INPUT.CHANGE",channel:R,value:O,isTextField:k}),L.preventDefault()}},style:{appearance:"none",WebkitAppearance:"none",MozAppearance:"textfield"}})},getHiddenInputProps(){return e.input({type:"text",disabled:g,name:i("name"),tabIndex:-1,readOnly:i("readOnly"),required:i("required"),id:cE(a),style:w6,defaultValue:m})},getEyeDropperTriggerProps(){return e.button({...dr.eyeDropperTrigger.attrs,type:"button",dir:i("dir"),disabled:g,"data-disabled":cn(g),"data-invalid":cn(i("invalid")),"data-readonly":cn(i("readOnly")),"aria-label":"Pick a color from the screen",onClick(){y&&r({type:"EYEDROPPER.CLICK"})}})},getSwatchGroupProps(){return e.element({...dr.swatchGroup.attrs,role:"group"})},getSwatchTriggerState:A,getSwatchTriggerProps(P){const R=A(P);return e.button({...dr.swatchTrigger.attrs,disabled:R.disabled,dir:i("dir"),type:"button","aria-label":`select ${R.valueAsString} as the color`,"data-state":R.checked?"checked":"unchecked","data-value":R.valueAsString,"data-disabled":cn(R.disabled),onClick(){R.disabled||r({type:"SWATCH_TRIGGER.CLICK",value:R.value})},style:{"--color":R.valueAsString,position:"relative"}})},getSwatchIndicatorProps(P){const R=A(P);return e.element({...dr.swatchIndicator.attrs,dir:i("dir"),hidden:!R.checked})},getSwatchProps(P){const{respectAlpha:R=!0}=P,k=A(P),z=k.value.toString(R?"css":"hex");return e.element({...dr.swatch.attrs,dir:i("dir"),"data-state":k.checked?"checked":"unchecked","data-value":k.valueAsString,style:{"--color":z,position:"relative",background:z}})},getFormatTriggerProps(){return e.button({...dr.formatTrigger.attrs,dir:i("dir"),type:"button","aria-label":`change color format to ${fP(d)}`,onClick(P){if(P.currentTarget.disabled)return;const R=fP(d);r({type:"FORMAT.SET",format:R,src:"format-trigger"})}})},getFormatSelectProps(){return e.select({...dr.formatSelect.attrs,"aria-label":"change color format",dir:i("dir"),defaultValue:i("format"),disabled:g,onChange(P){const R=AH(P.currentTarget.value);r({type:"FORMAT.SET",format:R,src:"format-select"})}})}}}var xx=["hsba","hsla","rgba"],RH=new RegExp(`^(${xx.join("|")})$`);function fP(t){const e=xx.indexOf(t);return xx[e+1]??xx[0]}function AH(t){if(RH.test(t))return t;throw new Error(`Unsupported color format: ${t}`)}var hE=t=>mu(t),{and:IH}=lf(),kH={props({props:t}){return{dir:"ltr",defaultValue:hE("#000000"),defaultFormat:"rgba",openAutoFocus:!0,...t,positioning:{placement:"bottom",...t.positioning}}},initialState({prop:t}){return t("open")||t("defaultOpen")?"open":"idle"},context({prop:t,bindable:e,getContext:n}){return{value:e(()=>({defaultValue:t("defaultValue"),value:t("value"),isEqual(r,i){return r.toString("css")===(i==null?void 0:i.toString("css"))},hash(r){return r.toString("css")},onChange(r){var s;const i=n(),o=r.toString(i.get("format"));(s=t("onValueChange"))==null||s({value:r,valueAsString:o})}})),format:e(()=>({defaultValue:t("defaultFormat"),value:t("format"),onChange(r){var i;(i=t("onFormatChange"))==null||i({format:r})}})),activeId:e(()=>({defaultValue:null})),activeChannel:e(()=>({defaultValue:null})),activeOrientation:e(()=>({defaultValue:null})),fieldsetDisabled:e(()=>({defaultValue:!1})),restoreFocus:e(()=>({defaultValue:!0})),currentPlacement:e(()=>({defaultValue:void 0}))}},computed:{rtl:({prop:t})=>t("dir")==="rtl",disabled:({prop:t,context:e})=>!!t("disabled")||e.get("fieldsetDisabled"),interactive:({prop:t})=>!(t("disabled")||t("readOnly")),valueAsString:({context:t})=>t.get("value").toString(t.get("format")),areaValue:({context:t})=>{const e=t.get("format").startsWith("hsl")?"hsla":"hsba";return t.get("value").toFormat(e)}},effects:["trackFormControl"],watch({prop:t,context:e,action:n,track:r}){r([()=>e.hash("value")],()=>{n(["syncInputElements","dispatchChangeEvent"])}),r([()=>e.get("format")],()=>{n(["syncFormatSelectElement"])}),r([()=>t("open")],()=>{n(["toggleVisibility"])})},on:{"VALUE.SET":{actions:["setValue"]},"FORMAT.SET":{actions:["setFormat"]},"CHANNEL_INPUT.CHANGE":{actions:["setChannelColorFromInput"]},"EYEDROPPER.CLICK":{actions:["openEyeDropper"]},"SWATCH_TRIGGER.CLICK":{actions:["setValue"]}},states:{idle:{tags:["closed"],on:{"CONTROLLED.OPEN":{target:"open",actions:["setInitialFocus"]},OPEN:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen","setInitialFocus"]}],"TRIGGER.CLICK":[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen","setInitialFocus"]}],"CHANNEL_INPUT.FOCUS":{target:"focused",actions:["setActiveChannel"]}}},focused:{tags:["closed","focused"],on:{"CONTROLLED.OPEN":{target:"open",actions:["setInitialFocus"]},OPEN:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen","setInitialFocus"]}],"TRIGGER.CLICK":[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen","setInitialFocus"]}],"CHANNEL_INPUT.FOCUS":{actions:["setActiveChannel"]},"CHANNEL_INPUT.BLUR":{target:"idle",actions:["setChannelColorFromInput"]},"TRIGGER.BLUR":{target:"idle"}}},open:{tags:["open"],effects:["trackPositioning","trackDismissableElement"],on:{"CONTROLLED.CLOSE":[{guard:"shouldRestoreFocus",target:"focused",actions:["setReturnFocus"]},{target:"idle"}],"TRIGGER.CLICK":[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"idle",actions:["invokeOnClose"]}],"AREA.POINTER_DOWN":{target:"open:dragging",actions:["setActiveChannel","setAreaColorFromPoint","focusAreaThumb"]},"AREA.FOCUS":{actions:["setActiveChannel"]},"CHANNEL_SLIDER.POINTER_DOWN":{target:"open:dragging",actions:["setActiveChannel","setChannelColorFromPoint","focusChannelThumb"]},"CHANNEL_SLIDER.FOCUS":{actions:["setActiveChannel"]},"AREA.ARROW_LEFT":{actions:["decrementAreaXChannel"]},"AREA.ARROW_RIGHT":{actions:["incrementAreaXChannel"]},"AREA.ARROW_UP":{actions:["incrementAreaYChannel"]},"AREA.ARROW_DOWN":{actions:["decrementAreaYChannel"]},"AREA.PAGE_UP":{actions:["incrementAreaXChannel"]},"AREA.PAGE_DOWN":{actions:["decrementAreaXChannel"]},"CHANNEL_SLIDER.ARROW_LEFT":{actions:["decrementChannel"]},"CHANNEL_SLIDER.ARROW_RIGHT":{actions:["incrementChannel"]},"CHANNEL_SLIDER.ARROW_UP":{actions:["incrementChannel"]},"CHANNEL_SLIDER.ARROW_DOWN":{actions:["decrementChannel"]},"CHANNEL_SLIDER.PAGE_UP":{actions:["incrementChannel"]},"CHANNEL_SLIDER.PAGE_DOWN":{actions:["decrementChannel"]},"CHANNEL_SLIDER.HOME":{actions:["setChannelToMin"]},"CHANNEL_SLIDER.END":{actions:["setChannelToMax"]},"CHANNEL_INPUT.BLUR":{actions:["setChannelColorFromInput"]},INTERACT_OUTSIDE:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{guard:"shouldRestoreFocus",target:"focused",actions:["invokeOnClose","setReturnFocus"]},{target:"idle",actions:["invokeOnClose"]}],CLOSE:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"idle",actions:["invokeOnClose"]}],"SWATCH_TRIGGER.CLICK":[{guard:IH("isOpenControlled","closeOnSelect"),actions:["setValue","invokeOnClose"]},{guard:"closeOnSelect",target:"focused",actions:["setValue","invokeOnClose","setReturnFocus"]},{actions:["setValue"]}]}},"open:dragging":{tags:["open"],exit:["clearActiveChannel"],effects:["trackPointerMove","disableTextSelection","trackPositioning","trackDismissableElement"],on:{"CONTROLLED.CLOSE":[{guard:"shouldRestoreFocus",target:"focused",actions:["setReturnFocus"]},{target:"idle"}],"AREA.POINTER_MOVE":{actions:["setAreaColorFromPoint","focusAreaThumb"]},"AREA.POINTER_UP":{target:"open",actions:["invokeOnChangeEnd"]},"CHANNEL_SLIDER.POINTER_MOVE":{actions:["setChannelColorFromPoint","focusChannelThumb"]},"CHANNEL_SLIDER.POINTER_UP":{target:"open",actions:["invokeOnChangeEnd"]},INTERACT_OUTSIDE:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{guard:"shouldRestoreFocus",target:"focused",actions:["invokeOnClose","setReturnFocus"]},{target:"idle",actions:["invokeOnClose"]}],CLOSE:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"idle",actions:["invokeOnClose"]}]}}},implementations:{guards:{closeOnSelect:({prop:t})=>!!t("closeOnSelect"),isOpenControlled:({prop:t})=>t("open")!=null,shouldRestoreFocus:({context:t})=>!!t.get("restoreFocus")},effects:{trackPositioning({context:t,prop:e,scope:n}){var o;t.get("currentPlacement")||t.set("currentPlacement",(o=e("positioning"))==null?void 0:o.placement);const r=oS(n);return cc(r,()=>bH(n),{...e("positioning"),defer:!0,onComplete(s){t.set("currentPlacement",s.placement)}})},trackDismissableElement({context:t,scope:e,prop:n,send:r}){return hb(()=>yx(e),{exclude:oS(e),defer:!0,onInteractOutside(o){var s;(s=n("onInteractOutside"))==null||s(o),!o.defaultPrevented&&t.set("restoreFocus",!(o.detail.focusable||o.detail.contextmenu))},onPointerDownOutside:n("onPointerDownOutside"),onFocusOutside:n("onFocusOutside"),onDismiss(){r({type:"INTERACT_OUTSIDE"})}})},trackFormControl({context:t,scope:e,send:n}){const r=dP(e);return kC(r,{onFieldsetDisabledChange(i){t.set("fieldsetDisabled",i)},onFormReset(){n({type:"VALUE.SET",value:t.initial("value"),src:"form.reset"})}})},trackPointerMove({context:t,scope:e,event:n,send:r}){return f6(e.getDoc(),{onPointerMove({point:i}){const o=t.get("activeId")==="area"?"AREA.POINTER_MOVE":"CHANNEL_SLIDER.POINTER_MOVE";r({type:o,point:i,format:n.format})},onPointerUp(){const i=t.get("activeId")==="area"?"AREA.POINTER_UP":"CHANNEL_SLIDER.POINTER_UP";r({type:i})}})},disableTextSelection({scope:t}){return oL({doc:t.getDoc(),target:yx(t)})}},actions:{openEyeDropper({scope:t,context:e}){const n=t.getWin();if(!("EyeDropper"in n))return;new n.EyeDropper().open().then(({sRGBHex:o})=>{const s=e.get("value").getFormat(),a=mu(o).toFormat(s);e.set("value",a)}).catch(()=>{})},setActiveChannel({context:t,event:e}){t.set("activeId",e.id),e.channel&&t.set("activeChannel",e.channel),e.orientation&&t.set("activeOrientation",e.orientation)},clearActiveChannel({context:t}){t.set("activeChannel",null),t.set("activeId",null),t.set("activeOrientation",null)},setAreaColorFromPoint({context:t,event:e,computed:n,scope:r}){const i=e.format?t.get("value").toFormat(e.format):n("areaValue"),{xChannel:o,yChannel:s}=e.channel||t.get("activeChannel"),a=xH(r,e.point);if(!a)return;const c=i.getChannelPercentValue(o,a.x),d=i.getChannelPercentValue(s,1-a.y),f=i.withChannelValue(o,c).withChannelValue(s,d);t.set("value",f)},setChannelColorFromPoint({context:t,event:e,computed:n,scope:r}){const i=e.channel||t.get("activeId"),o=e.format?t.get("value").toFormat(e.format):n("areaValue"),s=SH(r,e.point,i);if(!s)return;const c=(t.get("activeOrientation")||"horizontal")==="horizontal"?s.x:s.y,d=o.getChannelPercentValue(i,c),f=o.withChannelValue(i,d);t.set("value",f)},setValue({context:t,event:e}){t.set("value",e.value)},setFormat({context:t,event:e}){t.set("format",e.format)},dispatchChangeEvent({scope:t,computed:e}){KV(dP(t),{value:e("valueAsString")})},syncInputElements({context:t,scope:e}){hP(e,t.get("value"))},invokeOnChangeEnd({context:t,prop:e,computed:n}){var r;(r=e("onValueChangeEnd"))==null||r({value:t.get("value"),valueAsString:n("valueAsString")})},setChannelColorFromInput({context:t,event:e,scope:n}){const{channel:r,isTextField:i,value:o}=e,s=t.get("value").getChannelValue("alpha");let a;if(r==="alpha"){let c=parseFloat(o);c=Number.isNaN(c)?s:c,a=t.get("value").withChannelValue("alpha",c)}else if(i)a=pL(()=>hE(o).withChannelValue("alpha",s),()=>t.get("value"));else{const c=t.get("value").toFormat(t.get("format")),d=Number.isNaN(o)?c.getChannelValue(r):o;a=c.withChannelValue(r,d)}hP(n,t.get("value"),a),t.set("value",a)},incrementChannel({context:t,event:e}){const n=t.get("value").incrementChannel(e.channel,e.step);t.set("value",n)},decrementChannel({context:t,event:e}){const n=t.get("value").decrementChannel(e.channel,e.step);t.set("value",n)},incrementAreaXChannel({context:t,event:e,computed:n}){const{xChannel:r}=e.channel,i=n("areaValue").incrementChannel(r,e.step);t.set("value",i)},decrementAreaXChannel({context:t,event:e,computed:n}){const{xChannel:r}=e.channel,i=n("areaValue").decrementChannel(r,e.step);t.set("value",i)},incrementAreaYChannel({context:t,event:e,computed:n}){const{yChannel:r}=e.channel,i=n("areaValue").incrementChannel(r,e.step);t.set("value",i)},decrementAreaYChannel({context:t,event:e,computed:n}){const{yChannel:r}=e.channel,i=n("areaValue").decrementChannel(r,e.step);t.set("value",i)},setChannelToMax({context:t,event:e}){const n=t.get("value"),r=n.getChannelRange(e.channel),i=n.withChannelValue(e.channel,r.maxValue);t.set("value",i)},setChannelToMin({context:t,event:e}){const n=t.get("value"),r=n.getChannelRange(e.channel),i=n.withChannelValue(e.channel,r.minValue);t.set("value",i)},focusAreaThumb({scope:t}){sr(()=>{var e;(e=mH(t))==null||e.focus({preventScroll:!0})})},focusChannelThumb({event:t,scope:e}){sr(()=>{var n;(n=gH(e,t.channel))==null||n.focus({preventScroll:!0})})},setInitialFocus({prop:t,scope:e}){t("openAutoFocus")&&sr(()=>{const n=LC({root:yx(e),getInitialEl:t("initialFocusEl")});n==null||n.focus({preventScroll:!0})})},setReturnFocus({scope:t}){sr(()=>{var e;(e=oS(t))==null||e.focus({preventScroll:!0})})},syncFormatSelectElement({context:t,scope:e}){OH(e,t.get("format"))},invokeOnOpen({prop:t}){var e;(e=t("onOpenChange"))==null||e({open:!0})},invokeOnClose({prop:t}){var e;(e=t("onOpenChange"))==null||e({open:!1})},toggleVisibility({prop:t,event:e,send:n}){n({type:t("open")?"CONTROLLED.OPEN":"CONTROLLED.CLOSE",previousEvent:e})}}}};function hP(t,e,n){const r=wH(t);sr(()=>{r.forEach(i=>{const o=i.dataset.channel;Rv(i,fE(n||e,o))})})}function OH(t,e){const n=vH(t);n&&sr(()=>Rv(n,e))}dn()(["closeOnSelect","dir","disabled","format","defaultFormat","getRootNode","id","ids","initialFocusEl","name","positioning","onFocusOutside","onFormatChange","onInteractOutside","onOpenChange","onPointerDownOutside","onValueChange","onValueChangeEnd","defaultOpen","open","positioning","required","readOnly","value","defaultValue","invalid","openAutoFocus"]);dn()(["xChannel","yChannel"]);dn()(["channel","orientation"]);dn()(["value","disabled"]);dn()(["value","respectAlpha"]);dn()(["size"]);var qL=qt("accordion").parts("root","item","itemTrigger","itemContent","itemIndicator");qL.build();var YL=t=>{var e;return((e=t.ids)==null?void 0:e.root)??`accordion:${t.id}`},KL=(t,e)=>{var n,r;return((r=(n=t.ids)==null?void 0:n.itemTrigger)==null?void 0:r.call(n,e))??`accordion:${t.id}:trigger:${e}`},LH=t=>t.getById(YL(t)),pb=t=>{const n=`[aria-controls][data-ownedby='${CSS.escape(YL(t))}']:not([disabled])`;return Lx(LH(t),n)},NH=t=>cL(pb(t)),DH=t=>uL(pb(t)),FH=(t,e)=>m6(pb(t),KL(t,e)),zH=(t,e)=>g6(pb(t),KL(t,e)),{and:UH,not:BH}=lf();UH("isExpanded","canToggle"),BH("isExpanded");dn()(["collapsible","dir","disabled","getRootNode","id","ids","multiple","onFocusChange","onValueChange","orientation","value","defaultValue"]);dn()(["value","disabled"]);var ZL=qt("avatar").parts("root","image","fallback");ZL.build();dn()(["dir","id","ids","onStatusChange","getRootNode"]);function VH(t){return!(t.metaKey||!lb()&&t.altKey||t.ctrlKey||t.key==="Control"||t.key==="Shift"||t.key==="Meta")}var $H=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function HH(t,e,n){const r=n?pu(n):null,i=Xi(r);return t=t||r instanceof i.HTMLInputElement&&!$H.has(r==null?void 0:r.type)||r instanceof i.HTMLTextAreaElement||r instanceof i.HTMLElement&&r.isContentEditable,!(t&&e==="keyboard"&&n instanceof i.KeyboardEvent&&!Reflect.has(WH,n.key))}var cf=null,pE=new Set,kg=new Map,tf=!1,mE=!1,WH={Tab:!0,Escape:!0};function mb(t,e){for(let n of pE)n(t,e)}function Vx(t){tf=!0,VH(t)&&(cf="keyboard",mb("keyboard",t))}function Cs(t){cf="pointer",(t.type==="mousedown"||t.type==="pointerdown")&&(tf=!0,mb("pointer",t))}function JL(t){VV(t)&&(tf=!0,cf="virtual")}function QL(t){const e=pu(t);e===Xi(e)||e===tl(e)||(!tf&&!mE&&(cf="virtual",mb("virtual",t)),tf=!1,mE=!1)}function eN(){tf=!1,mE=!0}function GH(t){if(typeof window>"u"||kg.get(Xi(t)))return;const e=Xi(t),n=tl(t);let r=e.HTMLElement.prototype.focus;e.HTMLElement.prototype.focus=function(){cf="virtual",mb("virtual",null),tf=!0,r.apply(this,arguments)},n.addEventListener("keydown",Vx,!0),n.addEventListener("keyup",Vx,!0),n.addEventListener("click",JL,!0),e.addEventListener("focus",QL,!0),e.addEventListener("blur",eN,!1),typeof e.PointerEvent<"u"?(n.addEventListener("pointerdown",Cs,!0),n.addEventListener("pointermove",Cs,!0),n.addEventListener("pointerup",Cs,!0)):(n.addEventListener("mousedown",Cs,!0),n.addEventListener("mousemove",Cs,!0),n.addEventListener("mouseup",Cs,!0)),e.addEventListener("beforeunload",()=>{jH(t)},{once:!0}),kg.set(e,{focus:r})}var jH=(t,e)=>{const n=Xi(t),r=tl(t);kg.has(n)&&(n.HTMLElement.prototype.focus=kg.get(n).focus,r.removeEventListener("keydown",Vx,!0),r.removeEventListener("keyup",Vx,!0),r.removeEventListener("click",JL,!0),n.removeEventListener("focus",QL,!0),n.removeEventListener("blur",eN,!1),typeof n.PointerEvent<"u"?(r.removeEventListener("pointerdown",Cs,!0),r.removeEventListener("pointermove",Cs,!0),r.removeEventListener("pointerup",Cs,!0)):(r.removeEventListener("mousedown",Cs,!0),r.removeEventListener("mousemove",Cs,!0),r.removeEventListener("mouseup",Cs,!0)),kg.delete(n))};function pP(){return cf==="keyboard"}function XH(t={}){const{isTextInput:e,autoFocus:n,onChange:r,root:i}=t;GH(i),r==null||r({isFocusVisible:n||pP(),modality:cf});const o=(s,a)=>{HH(!!e,s,a)&&(r==null||r({isFocusVisible:pP(),modality:s}))};return pE.add(o),()=>{pE.delete(o)}}var tN=qt("checkbox").parts("root","label","control","indicator");tN.build();dn()(["defaultChecked","checked","dir","disabled","form","getRootNode","id","ids","invalid","name","onCheckedChange","readOnly","required","value"]);const qH=tN.extendWith("group"),[upe,nN]=mc({name:"FieldContext",hookName:"useFieldContext",providerName:"<FieldProvider />",strict:!1});var YH=qt("clipboard").parts("root","control","trigger","indicator","input","label"),_h=YH.build(),KH=t=>{var e;return((e=t.ids)==null?void 0:e.root)??`clip:${t.id}`},gE=t=>{var e;return((e=t.ids)==null?void 0:e.input)??`clip:${t.id}:input`},ZH=t=>{var e;return((e=t.ids)==null?void 0:e.label)??`clip:${t.id}:label`},JH=t=>t.getById(gE(t)),QH=(t,e)=>nW(t.getDoc(),e);function eW(t,e){const n=t.createElement("pre");return Object.assign(n.style,{width:"1px",height:"1px",position:"fixed",top:"5px"}),n.textContent=e,n}function tW(t){const n=Xi(t).getSelection();if(n==null)return Promise.reject(new Error);n.removeAllRanges();const r=t.ownerDocument,i=r.createRange();return i.selectNodeContents(t),n.addRange(i),r.execCommand("copy"),n.removeAllRanges(),Promise.resolve()}function nW(t,e){var i;const n=t.defaultView||window;if(((i=n.navigator.clipboard)==null?void 0:i.writeText)!==void 0)return n.navigator.clipboard.writeText(e);if(!t.body)return Promise.reject(new Error);const r=eW(t,e);return t.body.appendChild(r),tW(r),t.body.removeChild(r),Promise.resolve()}function rW(t,e){const{state:n,send:r,context:i,scope:o}=t,s=n.matches("copied");return{copied:s,value:i.get("value"),setValue(a){r({type:"VALUE.SET",value:a})},copy(){r({type:"COPY"})},getRootProps(){return e.element({..._h.root.attrs,"data-copied":cn(s),id:KH(o)})},getLabelProps(){return e.label({..._h.label.attrs,htmlFor:gE(o),"data-copied":cn(s),id:ZH(o)})},getControlProps(){return e.element({..._h.control.attrs,"data-copied":cn(s)})},getInputProps(){return e.input({..._h.input.attrs,defaultValue:i.get("value"),"data-copied":cn(s),readOnly:!0,"data-readonly":"true",id:gE(o),onFocus(a){a.currentTarget.select()},onCopy(){r({type:"INPUT.COPY"})}})},getTriggerProps(){return e.button({..._h.trigger.attrs,type:"button","aria-label":s?"Copied to clipboard":"Copy to clipboard","data-copied":cn(s),onClick(){r({type:"COPY"})}})},getIndicatorProps(a){return e.element({..._h.indicator.attrs,hidden:a.copied!==s})}}}var iW={props({props:t}){return{timeout:3e3,defaultValue:"",...t}},initialState(){return"idle"},context({prop:t,bindable:e}){return{value:e(()=>({defaultValue:t("defaultValue"),value:t("value"),onChange(n){var r;(r=t("onValueChange"))==null||r({value:n})}}))}},watch({track:t,context:e,action:n}){t([()=>e.get("value")],()=>{n(["syncInputElement"])})},on:{"VALUE.SET":{actions:["setValue"]},COPY:{target:"copied",actions:["copyToClipboard","invokeOnCopy"]}},states:{idle:{on:{"INPUT.COPY":{target:"copied",actions:["invokeOnCopy"]}}},copied:{effects:["waitForTimeout"],on:{"COPY.DONE":{target:"idle"},COPY:{target:"copied",actions:["copyToClipboard","invokeOnCopy"]},"INPUT.COPY":{actions:["invokeOnCopy"]}}}},implementations:{effects:{waitForTimeout({prop:t,send:e}){return t8(()=>{e({type:"COPY.DONE"})},t("timeout"))}},actions:{setValue({context:t,event:e}){t.set("value",e.value)},copyToClipboard({context:t,scope:e}){QH(e,t.get("value"))},invokeOnCopy({prop:t}){var e;(e=t("onStatusChange"))==null||e({copied:!0})},syncInputElement({context:t,scope:e}){const n=JH(e);n&&Rv(n,t.get("value"))}}}};dn()(["getRootNode","id","ids","value","defaultValue","timeout","onStatusChange","onValueChange"]);dn()(["copied"]);const oW=t=>{const e=D.useId(),{getRootNode:n}=$C(),r={id:e,getRootNode:n,...t},i=VC(iW,r);return rW(i,_L)},[sW,rN]=mc({name:"ColorPickerAreaContext",hookName:"useColorPickerAreaContext",providerName:"<ColorPickerAreaProvider />"}),[iN,Zn]=mc({name:"ColorPickerContext",hookName:"useColorPickerContext",providerName:"<ColorPickerProvider />"}),oN=D.forwardRef((t,e)=>{const[n,r]=_a()(t,["xChannel","yChannel"]),i=Zn(),o=Nn(i.getAreaProps(n),r);return ie.jsx(sW,{value:n,children:ie.jsx(zn.div,{...o,ref:e})})});oN.displayName="ColorPickerArea";const sN=D.forwardRef((t,e)=>{const n=Zn(),r=rN(),i=Nn(n.getAreaBackgroundProps(r),t);return ie.jsx(zn.div,{...i,ref:e})});sN.displayName="ColorPickerAreaBackground";const aN=D.forwardRef((t,e)=>{const n=Zn(),r=rN(),i=Nn(n.getAreaThumbProps(r),t);return ie.jsx(zn.div,{...i,ref:e})});aN.displayName="ColorPickerAreaThumb";const lN=D.forwardRef((t,e)=>{const[n,r]=_a()(t,["channel","orientation"]),i=Zn(),o=Nn(i.getChannelInputProps(n),r);return ie.jsx(zn.input,{...o,ref:e})});lN.displayName="ColorPickerChannelInput";const[aW,gb]=mc({name:"ColorPickerChannelSliderContext",hookName:"useColorPickerChannelSliderContext",providerName:"<ColorPickerChannelSliderProvider />"}),[lW,tM]=mc({name:"ColorPickerFormatContext",hookName:"useColorPickerFormatPropsContext",providerName:"<ColorPickerFormatPropsProvider />",strict:!1}),cN=D.forwardRef((t,e)=>{const[n,r]=_a()(t,["channel","orientation"]),i=Zn(),o=tM(),s={...n,...o},a=Nn(i.getChannelSliderProps(s),r);return ie.jsx(aW,{value:n,children:ie.jsx(zn.div,{...a,ref:e})})});cN.displayName="ColorPickerChannelSlider";const uN=D.forwardRef((t,e)=>{const n=Zn(),r=gb(),i=Nn(n.getChannelSliderLabelProps(r),t);return ie.jsx(zn.label,{...i,ref:e})});uN.displayName="ColorPickerChannelSliderLabel";const dN=D.forwardRef((t,e)=>{const n=Zn(),r=gb(),i=tM(),o={...r,...i},s=Nn(n.getChannelSliderThumbProps(o),t);return ie.jsx(zn.div,{...s,ref:e})});dN.displayName="ColorPickerChannelSliderThumb";const fN=D.forwardRef((t,e)=>{const n=Zn(),r=gb(),i=tM(),o={...r,...i},s=Nn(n.getChannelSliderTrackProps(o),t);return ie.jsx(zn.div,{...s,ref:e})});fN.displayName="ColorPickerChannelSliderTrack";const hN=D.forwardRef((t,e)=>{const{locale:n}=aL(),r=Zn(),i=gb(),o=Nn(r.getChannelSliderValueTextProps(i),t);return ie.jsx(zn.span,{...o,ref:e,children:t.children||r.getChannelValueText(i.channel,n)})});hN.displayName="ColorPickerChannelSliderValueText";const pN=D.forwardRef((t,e)=>{const n=Zn(),r=EL(),i=Nn(n.getContentProps(),r.getPresenceProps(),t);return r.unmounted?null:ie.jsx(zn.div,{...i,ref:lL(r.ref,e)})});pN.displayName="ColorPickerContent";const mN=D.forwardRef((t,e)=>{const n=Zn(),r=Nn(n.getControlProps(),t);return ie.jsx(zn.div,{...r,ref:e})});mN.displayName="ColorPickerControl";const gN=D.forwardRef((t,e)=>{const n=Zn(),r=Nn(n.getEyeDropperTriggerProps(),t);return ie.jsx(zn.button,{...r,ref:e})});gN.displayName="ColorPickerEyeDropperTrigger";const vN=D.forwardRef((t,e)=>{const n=Zn(),r=Nn(n.getFormatSelectProps(),t);return ie.jsx(zn.select,{...r,ref:e,children:["rgba","hsla","hsba"].map(i=>ie.jsx(zn.option,{value:i,children:i},i))})});vN.displayName="ColorPickerFormatSelect";const yN=D.forwardRef((t,e)=>{const n=Zn(),r=Nn(n.getFormatTriggerProps(),t);return ie.jsx(zn.button,{...r,ref:e})});yN.displayName="ColorPickerFormatTrigger";const xN=D.forwardRef((t,e)=>{const n=Zn(),r=Nn(n.getHiddenInputProps(),t),i=nN();return ie.jsx(zn.input,{"aria-describedby":i==null?void 0:i.ariaDescribedby,...r,ref:e})});xN.displayName="ColorPickerHiddenInput";const bN=D.forwardRef((t,e)=>{const n=Zn(),r=Nn(n.getLabelProps(),t);return ie.jsx(zn.label,{...r,ref:e})});bN.displayName="ColorPickerLabel";const _N=D.forwardRef((t,e)=>{const n=Zn(),r=Nn(n.getPositionerProps(),t);return EL().unmounted?null:ie.jsx(zn.div,{...r,ref:e})});_N.displayName="ColorPickerPositioner";const cW=t=>{const e=D.useId(),{getRootNode:n}=$C(),{dir:r}=aL(),i=nN(),o={id:e,ids:{label:i==null?void 0:i.ids.label,input:i==null?void 0:i.ids.control},dir:r,disabled:i==null?void 0:i.disabled,invalid:i==null?void 0:i.invalid,readOnly:i==null?void 0:i.readOnly,required:i==null?void 0:i.required,getRootNode:n,...t},s=VC(kH,o);return PH(s,_L)},SN=D.forwardRef((t,e)=>{const[n,r]=vL(t),[i,o]=_a()(r,["closeOnSelect","defaultOpen","defaultValue","defaultFormat","disabled","format","id","ids","initialFocusEl","invalid","name","name","onFocusOutside","onFormatChange","onInteractOutside","onOpenChange","onPointerDownOutside","onValueChange","onValueChangeEnd","open","openAutoFocus","positioning","readOnly","required","value"]),s=cW(i),a=SL(Nn({present:s.open},n)),c=Nn(s.getRootProps(),o);return ie.jsx(iN,{value:s,children:ie.jsx(wL,{value:a,children:ie.jsx(zn.div,{...c,ref:e})})})});SN.displayName="ColorPickerRoot";const wN=D.forwardRef((t,e)=>{const[n,r]=vL(t),[{value:i},o]=_a()(r,["value"]),s=SL(Nn({present:i.open},n)),a=Nn(i.getRootProps(),o);return ie.jsx(iN,{value:i,children:ie.jsx(wL,{value:s,children:ie.jsx(zn.div,{...a,ref:e})})})});wN.displayName="ColorPickerRootProvider";const[EN,uW]=mc({name:"ColorPickerSwatchContext",hookName:"useColorPickerSwatchContext",providerName:"<ColorPickerSwatchProvider />"}),CN=D.forwardRef((t,e)=>{const[n,r]=_a()(t,["respectAlpha","value"]),i=Zn(),o=Nn(i.getSwatchProps(n),r);return ie.jsx(EN,{value:n,children:ie.jsx(zn.div,{...o,ref:e})})});CN.displayName="ColorPickerSwatch";const MN=D.forwardRef((t,e)=>{const n=Zn(),r=Nn(n.getSwatchGroupProps(),t);return ie.jsx(zn.div,{...r,ref:e})});MN.displayName="ColorPickerSwatchGroup";const TN=D.forwardRef((t,e)=>{const n=Zn(),r=uW(),i=Nn(n.getSwatchIndicatorProps(r),t);return ie.jsx(zn.div,{...i,ref:e})});TN.displayName="ColorPickerSwatchIndicator";const PN=D.forwardRef((t,e)=>{const[n,r]=_a()(t,["value","disabled"]),i=Zn(),o=Nn(i.getSwatchTriggerProps(n),r);return ie.jsx(zn.button,{...o,ref:e})});PN.displayName="ColorPickerSwatchTrigger";const RN=D.forwardRef((t,e)=>{const[n,r]=_a()(t,["size"]),i=Zn(),o=Nn(i.getTransparencyGridProps(n),r);return ie.jsx(zn.div,{...o,ref:e})});RN.displayName="ColorPickerTransparencyGrid";const AN=D.forwardRef((t,e)=>{const n=Zn(),r=Nn(n.getTriggerProps(),t);return ie.jsx(zn.button,{...r,ref:e})});AN.displayName="ColorPickerTrigger";const IN=D.forwardRef((t,e)=>{const[{respectAlpha:n},r]=_a()(t,["respectAlpha"]),i=Zn(),o={respectAlpha:n,value:i.valueAsString},s=Nn(i.getSwatchProps(o),r);return ie.jsx(EN,{value:o,children:ie.jsx(zn.div,{...s,ref:e})})});IN.displayName="ColorPickerValueSwatch";const kN=D.forwardRef((t,e)=>{const{children:n,format:r,...i}=t,o=Zn(),s=Nn(o.getValueTextProps(),i),a=r?o.value.toString(r):o.valueAsString;return ie.jsx(zn.span,{...s,ref:e,children:t.children||a})});kN.displayName="ColorPickerValueText";const ON=BL.extendWith("view"),LN=D.forwardRef((t,e)=>{const n=Zn(),[r,i]=_a()(t,["format"]);return n.format!==r.format?null:ie.jsx(lW,{value:r,children:ie.jsx(zn.div,{ref:e,"data-format":t.format,...ON.build().view.attrs,...i})})});LN.displayName="ColorPickerView";var dW=Object.defineProperty,fW=(t,e,n)=>e in t?dW(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,xn=(t,e,n)=>fW(t,typeof e!="symbol"?e+"":e,n),bx={itemToValue(t){return typeof t=="string"?t:K_(t)&&Z_(t,"value")?t.value:""},itemToString(t){return typeof t=="string"?t:K_(t)&&Z_(t,"label")?t.label:bx.itemToValue(t)},isItemDisabled(t){return K_(t)&&Z_(t,"disabled")?!!t.disabled:!1}},NN=class DN{constructor(e){this.options=e,xn(this,"items"),xn(this,"copy",n=>new DN({...this.options,items:n??[...this.items]})),xn(this,"isEqual",n=>Av(this.items,n.items)),xn(this,"setItems",n=>this.copy(n)),xn(this,"getValues",(n=this.items)=>Array.from(n).map(r=>this.getItemValue(r)).filter(Boolean)),xn(this,"find",n=>{if(n==null)return null;const r=this.items.findIndex(i=>this.getItemValue(i)===n);return r!=null?this.items[r]:null}),xn(this,"findMany",n=>Array.from(n).map(r=>this.find(r)).filter(r=>r!=null)),xn(this,"at",n=>this.items[n]??null),xn(this,"sortFn",(n,r)=>{const i=this.indexOf(n),o=this.indexOf(r);return(i??0)-(o??0)}),xn(this,"sort",n=>[...n].sort(this.sortFn.bind(this))),xn(this,"getItemValue",n=>{var r,i;return n==null?null:((i=(r=this.options).itemToValue)==null?void 0:i.call(r,n))??bx.itemToValue(n)}),xn(this,"getItemDisabled",n=>{var r,i;return n==null?!1:((i=(r=this.options).isItemDisabled)==null?void 0:i.call(r,n))??bx.isItemDisabled(n)}),xn(this,"stringifyItem",n=>{var r,i;return n==null?null:((i=(r=this.options).itemToString)==null?void 0:i.call(r,n))??bx.itemToString(n)}),xn(this,"stringify",n=>n==null?null:this.stringifyItem(this.find(n))),xn(this,"stringifyItems",(n,r=", ")=>Array.from(n).map(i=>this.stringifyItem(i)).filter(Boolean).join(r)),xn(this,"stringifyMany",(n,r)=>this.stringifyItems(this.findMany(n),r)),xn(this,"has",n=>this.indexOf(n)!==-1),xn(this,"hasItem",n=>n==null?!1:this.has(this.getItemValue(n))),xn(this,"getNextValue",(n,r=1,i=!1)=>{let o=this.indexOf(n);if(o===-1)return null;for(o=i?Math.min(o+r,this.size-1):o+r;o<=this.size&&this.getItemDisabled(this.at(o));)o++;return this.getItemValue(this.at(o))}),xn(this,"getPreviousValue",(n,r=1,i=!1)=>{let o=this.indexOf(n);if(o===-1)return null;for(o=i?Math.max(o-r,0):o-r;o>=0&&this.getItemDisabled(this.at(o));)o--;return this.getItemValue(this.at(o))}),xn(this,"indexOf",n=>n==null?-1:this.items.findIndex(r=>this.getItemValue(r)===n)),xn(this,"getByText",(n,r)=>{let i=r!=null?pW(this.items,this.indexOf(r)):this.items;return n.length===1&&(i=i.filter(s=>this.getItemValue(s)!==r)),i.find(s=>hW(this.stringifyItem(s),n))}),xn(this,"search",(n,r)=>{const{state:i,currentValue:o,timeout:s=350}=r,a=i.keysSoFar+n,d=a.length>1&&Array.from(a).every(x=>x===a[0])?a[0]:a,f=this.getByText(d,o),m=this.getItemValue(f);function g(){clearTimeout(i.timer),i.timer=-1}function y(x){i.keysSoFar=x,g(),x!==""&&(i.timer=+setTimeout(()=>{y(""),g()},s))}return y(a),m}),xn(this,"update",(n,r)=>{let i=this.items.findIndex(o=>this.getItemValue(o)===n);return i===-1?this:this.copy([...this.items.slice(0,i),r,...this.items.slice(i+1)])}),xn(this,"insert",(n,...r)=>this.copy(Km(this.items,n,...r))),xn(this,"insertBefore",(n,...r)=>{let i=this.indexOf(n);if(i===-1)if(this.items.length===0)i=0;else return this;return this.copy(Km(this.items,i,...r))}),xn(this,"insertAfter",(n,...r)=>{let i=this.indexOf(n);if(i===-1)if(this.items.length===0)i=0;else return this;return this.copy(Km(this.items,i+1,...r))}),xn(this,"prepend",(...n)=>this.copy(Km(this.items,0,...n))),xn(this,"append",(...n)=>this.copy(Km(this.items,this.items.length,...n))),xn(this,"remove",(...n)=>{const r=n.map(i=>typeof i=="string"?i:this.getItemValue(i));return this.copy(this.items.filter(i=>{const o=this.getItemValue(i);return o==null?!1:!r.includes(o)}))}),xn(this,"move",(n,r)=>{const i=this.indexOf(n);return i===-1?this:this.copy(mP(this.items,[i],r))}),xn(this,"reorder",(n,r)=>this.copy(mP(this.items,[n],r))),xn(this,"compareValue",(n,r)=>{const i=this.indexOf(n),o=this.indexOf(r);return i<o?-1:i>o?1:0}),xn(this,"range",(n,r)=>{let i=[],o=n;for(;o!=null;){if(this.find(o)&&i.push(o),o===r)return i;o=this.getNextValue(o)}return[]}),xn(this,"getValueRange",(n,r)=>n&&r?this.compareValue(n,r)<=0?this.range(n,r):this.range(r,n):[]),xn(this,"toString",()=>{let n="";for(const r of this.items){const i=this.getItemValue(r),o=this.stringifyItem(r),s=this.getItemDisabled(r),a=[i,o,s].filter(Boolean).join(":");n+=a+","}return n}),xn(this,"toJSON",()=>({size:this.size,first:this.firstValue,last:this.lastValue})),this.items=[...e.items]}get size(){return this.items.length}get firstValue(){let e=0;for(;this.getItemDisabled(this.at(e));)e++;return this.getItemValue(this.at(e))}get lastValue(){let e=this.size-1;for(;this.getItemDisabled(this.at(e));)e--;return this.getItemValue(this.at(e))}*[Symbol.iterator](){yield*this.items}},hW=(t,e)=>!!(t!=null&&t.toLowerCase().startsWith(e.toLowerCase())),pW=(t,e)=>t.map((n,r)=>t[(Math.max(e,0)+r)%t.length]);function Km(t,e,...n){return[...t.slice(0,e),...n,...t.slice(e)]}function mP(t,e,n){e=[...e].sort((i,o)=>i-o);const r=e.map(i=>t[i]);for(let i=e.length-1;i>=0;i--)t=[...t.slice(0,e[i]),...t.slice(e[i]+1)];return n=Math.max(0,n-e.filter(i=>i<n).length),[...t.slice(0,n),...r,...t.slice(n)]}var nM=qt("dialog").parts("trigger","backdrop","positioner","content","title","description","closeTrigger");nM.build();dn()(["aria-label","closeOnEscape","closeOnInteractOutside","dir","finalFocusEl","getRootNode","getRootNode","id","id","ids","initialFocusEl","modal","onEscapeKeyDown","onFocusOutside","onInteractOutside","onOpenChange","onPointerDownOutside","defaultOpen","open","persistentElements","preventScroll","restoreFocus","role","trapFocus"]);var FN=qt("editable").parts("root","area","label","preview","input","editTrigger","submitTrigger","cancelTrigger","control");FN.build();dn()(["activationMode","autoResize","dir","disabled","finalFocusEl","form","getRootNode","id","ids","invalid","maxLength","name","onEditChange","onFocusOutside","onInteractOutside","onPointerDownOutside","onValueChange","onValueCommit","onValueRevert","placeholder","readOnly","required","selectOnFocus","edit","defaultEdit","submitMode","translations","defaultValue","value"]);const zN=qt("field").parts("root","errorText","helperText","input","label","select","textarea","requiredIndicator");zN.build();const UN=qt("fieldset").parts("root","errorText","helperText","legend");UN.build();var BN=qt("file-upload").parts("root","dropzone","item","itemDeleteTrigger","itemGroup","itemName","itemPreview","itemPreviewImage","itemSizeText","label","trigger","clearTrigger");BN.build();dn()(["accept","allowDrop","capture","dir","directory","disabled","getRootNode","id","ids","locale","maxFiles","maxFileSize","minFileSize","name","invalid","onFileAccept","onFileReject","onFileChange","preventDocumentDrop","required","translations","validate"]);dn()(["file"]);var VN=qt("hoverCard").parts("arrow","arrowTip","trigger","positioner","content");VN.build();var mW=t=>{var e;return((e=t.ids)==null?void 0:e.trigger)??`hover-card:${t.id}:trigger`},gW=t=>{var e;return((e=t.ids)==null?void 0:e.content)??`hover-card:${t.id}:content`},vW=t=>{var e;return((e=t.ids)==null?void 0:e.positioner)??`hover-card:${t.id}:popper`},sS=t=>t.getById(mW(t)),yW=t=>t.getById(gW(t)),gP=t=>t.getById(vW(t)),{not:J0,and:vP}=lf();vP("isOpenControlled",J0("isPointer")),J0("isPointer"),vP("isOpenControlled",J0("isPointer")),J0("isPointer");dn()(["closeDelay","dir","getRootNode","id","ids","onOpenChange","defaultOpen","open","openDelay","positioning","onInteractOutside","onPointerDownOutside","onFocusOutside"]);var wg=(t,e)=>({x:t,y:e});function xW(t){const{x:e,y:n,width:r,height:i}=t,o=e+r/2,s=n+i/2;return{x:e,y:n,width:r,height:i,minX:e,minY:n,maxX:e+r,maxY:n+i,midX:o,midY:s,center:wg(o,s)}}function bW(t){const e=wg(t.minX,t.minY),n=wg(t.maxX,t.minY),r=wg(t.maxX,t.maxY),i=wg(t.minX,t.maxY);return{top:e,right:n,bottom:r,left:i}}function _W(t,e){const n=xW(t),{top:r,right:i,left:o,bottom:s}=bW(n),[a]=e.split("-");return{top:[o,r,i,s],right:[r,i,s,o],bottom:[r,o,s,i],left:[i,r,o,s]}[a]}function SW(t,e){const{x:n,y:r}=e;let i=!1;for(let o=0,s=t.length-1;o<t.length;s=o++){const a=t[o].x,c=t[o].y,d=t[s].x,f=t[s].y;c>r!=f>r&&n<(d-a)*(r-c)/(f-c)+a&&(i=!i)}return i}var $N=qt("menu").parts("arrow","arrowTip","content","contextTrigger","indicator","item","itemGroup","itemGroupLabel","itemIndicator","itemText","positioner","separator","trigger","triggerItem");$N.build();var HN=t=>{var e;return((e=t.ids)==null?void 0:e.trigger)??`menu:${t.id}:trigger`},wW=t=>{var e;return((e=t.ids)==null?void 0:e.contextTrigger)??`menu:${t.id}:ctx-trigger`},WN=t=>{var e;return((e=t.ids)==null?void 0:e.content)??`menu:${t.id}:content`},EW=t=>{var e;return((e=t.ids)==null?void 0:e.positioner)??`menu:${t.id}:popper`},vE=(t,e)=>`${t.id}/${e}`,pd=t=>(t==null?void 0:t.dataset.value)??null,su=t=>t.getById(WN(t)),yP=t=>t.getById(EW(t)),Q0=t=>t.getById(HN(t)),CW=(t,e)=>e?t.getById(vE(t,e)):null,xP=t=>t.getById(wW(t)),kv=t=>{const n=`[role^="menuitem"][data-ownedby=${CSS.escape(WN(t))}]:not([data-disabled])`;return Lx(su(t),n)},MW=t=>cL(kv(t)),TW=t=>uL(kv(t)),rM=(t,e)=>e?t.id===e||t.dataset.value===e:!1,PW=(t,e)=>{const n=kv(t),r=n.findIndex(i=>rM(i,e.value));return A6(n,r,{loop:e.loop??e.loopFocus})},RW=(t,e)=>{const n=kv(t),r=n.findIndex(i=>rM(i,e.value));return k6(n,r,{loop:e.loop??e.loopFocus})},AW=(t,e)=>{const n=kv(t),r=n.find(i=>rM(i,e.value));return UC(n,{state:e.typeaheadState,key:e.key,activeId:(r==null?void 0:r.id)??null})},IW=t=>{var e;return!!((e=t==null?void 0:t.getAttribute("role"))!=null&&e.startsWith("menuitem"))&&!!(t!=null&&t.hasAttribute("aria-controls"))},kW="menu:select";function OW(t,e){if(!t)return;const n=Xi(t),r=new n.CustomEvent(kW,{detail:{value:e}});t.dispatchEvent(r)}var{not:bs,and:Sh,or:LW}=lf();bs("isSubmenu"),LW("isOpenAutoFocusEvent","isArrowDownEvent"),Sh(bs("isTriggerItem"),"isOpenControlled"),bs("isTriggerItem"),Sh("isSubmenu","isOpenControlled"),bs("isPointerSuspended"),Sh(bs("isPointerSuspended"),bs("isTriggerItem")),Sh(bs("isTriggerItemHighlighted"),bs("isHighlightedItemEditable"),"closeOnSelect","isOpenControlled"),Sh(bs("isTriggerItemHighlighted"),bs("isHighlightedItemEditable"),"closeOnSelect"),Sh(bs("isTriggerItemHighlighted"),bs("isHighlightedItemEditable"));function bP(t){let e=t.parent;for(;e&&e.computed("isSubmenu");)e=e.refs.get("parent");e==null||e.send({type:"CLOSE"})}function NW(t,e){return t?SW(t,e):!1}function DW(t,e,n){const r=Object.keys(t).length>0;if(!e)return null;if(!r)return vE(n,e);for(const i in t){const o=t[i],s=HN(o.scope);if(s===e)return s}return vE(n,e)}dn()(["anchorPoint","aria-label","closeOnSelect","composite","defaultHighlightedValue","defaultOpen","dir","getRootNode","highlightedValue","id","ids","loopFocus","navigate","onEscapeKeyDown","onFocusOutside","onHighlightChange","onInteractOutside","onOpenChange","onPointerDownOutside","onSelect","open","positioning","typeahead"]);dn()(["closeOnSelect","disabled","value","valueText"]);dn()(["htmlFor"]);dn()(["id"]);dn()(["checked","closeOnSelect","disabled","onCheckedChange","type","value","valueText"]);let aS=new Map,yE=!1;try{yE=new Intl.NumberFormat("de-DE",{signDisplay:"exceptZero"}).resolvedOptions().signDisplay==="exceptZero"}catch{}let $x=!1;try{$x=new Intl.NumberFormat("de-DE",{style:"unit",unit:"degree"}).resolvedOptions().style==="unit"}catch{}const GN={degree:{narrow:{default:"","ja-JP":" ","zh-TW":"","sl-SI":" "}}};class FW{format(e){let n="";if(!yE&&this.options.signDisplay!=null?n=UW(this.numberFormatter,this.options.signDisplay,e):n=this.numberFormatter.format(e),this.options.style==="unit"&&!$x){var r;let{unit:i,unitDisplay:o="short",locale:s}=this.resolvedOptions();if(!i)return n;let a=(r=GN[i])===null||r===void 0?void 0:r[o];n+=a[s]||a.default}return n}formatToParts(e){return this.numberFormatter.formatToParts(e)}formatRange(e,n){if(typeof this.numberFormatter.formatRange=="function")return this.numberFormatter.formatRange(e,n);if(n<e)throw new RangeError("End date must be >= start date");return`${this.format(e)}  ${this.format(n)}`}formatRangeToParts(e,n){if(typeof this.numberFormatter.formatRangeToParts=="function")return this.numberFormatter.formatRangeToParts(e,n);if(n<e)throw new RangeError("End date must be >= start date");let r=this.numberFormatter.formatToParts(e),i=this.numberFormatter.formatToParts(n);return[...r.map(o=>({...o,source:"startRange"})),{type:"literal",value:"  ",source:"shared"},...i.map(o=>({...o,source:"endRange"}))]}resolvedOptions(){let e=this.numberFormatter.resolvedOptions();return!yE&&this.options.signDisplay!=null&&(e={...e,signDisplay:this.options.signDisplay}),!$x&&this.options.style==="unit"&&(e={...e,style:"unit",unit:this.options.unit,unitDisplay:this.options.unitDisplay}),e}constructor(e,n={}){this.numberFormatter=zW(e,n),this.options=n}}function zW(t,e={}){let{numberingSystem:n}=e;if(n&&t.includes("-nu-")&&(t.includes("-u-")||(t+="-u-"),t+=`-nu-${n}`),e.style==="unit"&&!$x){var r;let{unit:s,unitDisplay:a="short"}=e;if(!s)throw new Error('unit option must be provided with style: "unit"');if(!(!((r=GN[s])===null||r===void 0)&&r[a]))throw new Error(`Unsupported unit ${s} with unitDisplay = ${a}`);e={...e,style:"decimal"}}let i=t+(e?Object.entries(e).sort((s,a)=>s[0]<a[0]?-1:1).join():"");if(aS.has(i))return aS.get(i);let o=new Intl.NumberFormat(t,e);return aS.set(i,o),o}function UW(t,e,n){if(e==="auto")return t.format(n);if(e==="never")return t.format(Math.abs(n));{let r=!1;if(e==="always"?r=n>0||Object.is(n,0):e==="exceptZero"&&(Object.is(n,-0)||Object.is(n,0)?n=Math.abs(n):r=n>0),r){let i=t.format(-n),o=t.format(n),s=i.replace(o,"").replace(/\u200e|\u061C/,"");return[...s].length!==1&&console.warn("@react-aria/i18n polyfill for NumberFormat signDisplay: Unsupported case"),i.replace(o,"!!!").replace(s,"+").replace("!!!",o)}else return t.format(n)}}const BW=new RegExp("^.*\\(.*\\).*$"),VW=["latn","arab","hanidec","deva","beng"];class jN{parse(e){return lS(this.locale,this.options,e).parse(e)}isValidPartialNumber(e,n,r){return lS(this.locale,this.options,e).isValidPartialNumber(e,n,r)}getNumberingSystem(e){return lS(this.locale,this.options,e).options.numberingSystem}constructor(e,n={}){this.locale=e,this.options=n}}const _P=new Map;function lS(t,e,n){let r=SP(t,e);if(!t.includes("-nu-")&&!r.isValidPartialNumber(n)){for(let i of VW)if(i!==r.options.numberingSystem){let o=SP(t+(t.includes("-u-")?"-nu-":"-u-nu-")+i,e);if(o.isValidPartialNumber(n))return o}}return r}function SP(t,e){let n=t+(e?Object.entries(e).sort((i,o)=>i[0]<o[0]?-1:1).join():""),r=_P.get(n);return r||(r=new $W(t,e),_P.set(n,r)),r}class $W{parse(e){let n=this.sanitize(e);if(this.symbols.group&&(n=ey(n,this.symbols.group,"")),this.symbols.decimal&&(n=n.replace(this.symbols.decimal,".")),this.symbols.minusSign&&(n=n.replace(this.symbols.minusSign,"-")),n=n.replace(this.symbols.numeral,this.symbols.index),this.options.style==="percent"){let s=n.indexOf("-");n=n.replace("-","");let a=n.indexOf(".");a===-1&&(a=n.length),n=n.replace(".",""),a-2===0?n=`0.${n}`:a-2===-1?n=`0.0${n}`:a-2===-2?n="0.00":n=`${n.slice(0,a-2)}.${n.slice(a-2)}`,s>-1&&(n=`-${n}`)}let r=n?+n:NaN;if(isNaN(r))return NaN;if(this.options.style==="percent"){var i,o;let s={...this.options,style:"decimal",minimumFractionDigits:Math.min(((i=this.options.minimumFractionDigits)!==null&&i!==void 0?i:0)+2,20),maximumFractionDigits:Math.min(((o=this.options.maximumFractionDigits)!==null&&o!==void 0?o:0)+2,20)};return new jN(this.locale,s).parse(new FW(this.locale,s).format(r))}return this.options.currencySign==="accounting"&&BW.test(e)&&(r=-1*r),r}sanitize(e){return e=e.replace(this.symbols.literals,""),this.symbols.minusSign&&(e=e.replace("-",this.symbols.minusSign)),this.options.numberingSystem==="arab"&&(this.symbols.decimal&&(e=e.replace(",",this.symbols.decimal),e=e.replace("",this.symbols.decimal)),this.symbols.group&&(e=ey(e,".",this.symbols.group))),this.options.locale==="fr-FR"&&(e=ey(e,".","")),e}isValidPartialNumber(e,n=-1/0,r=1/0){return e=this.sanitize(e),this.symbols.minusSign&&e.startsWith(this.symbols.minusSign)&&n<0?e=e.slice(this.symbols.minusSign.length):this.symbols.plusSign&&e.startsWith(this.symbols.plusSign)&&r>0&&(e=e.slice(this.symbols.plusSign.length)),this.symbols.group&&e.startsWith(this.symbols.group)||this.symbols.decimal&&e.indexOf(this.symbols.decimal)>-1&&this.options.maximumFractionDigits===0?!1:(this.symbols.group&&(e=ey(e,this.symbols.group,"")),e=e.replace(this.symbols.numeral,""),this.symbols.decimal&&(e=e.replace(this.symbols.decimal,"")),e.length===0)}constructor(e,n={}){this.locale=e,this.formatter=new Intl.NumberFormat(e,n),this.options=this.formatter.resolvedOptions(),this.symbols=WW(e,this.formatter,this.options,n);var r,i;this.options.style==="percent"&&(((r=this.options.minimumFractionDigits)!==null&&r!==void 0?r:0)>18||((i=this.options.maximumFractionDigits)!==null&&i!==void 0?i:0)>18)&&console.warn("NumberParser cannot handle percentages with greater than 18 decimal places, please reduce the number in your options.")}}const wP=new Set(["decimal","fraction","integer","minusSign","plusSign","group"]),HW=[0,4,2,1,11,20,3,7,100,21,.1,1.1];function WW(t,e,n,r){var i,o,s,a;let c=new Intl.NumberFormat(t,{...n,minimumSignificantDigits:1,maximumSignificantDigits:21,roundingIncrement:1,roundingPriority:"auto",roundingMode:"halfExpand"}),d=c.formatToParts(-10000.111),f=c.formatToParts(10000.111),m=HW.map(O=>c.formatToParts(O));var g;let y=(g=(i=d.find(O=>O.type==="minusSign"))===null||i===void 0?void 0:i.value)!==null&&g!==void 0?g:"-",x=(o=f.find(O=>O.type==="plusSign"))===null||o===void 0?void 0:o.value;!x&&((r==null?void 0:r.signDisplay)==="exceptZero"||(r==null?void 0:r.signDisplay)==="always")&&(x="+");let _=(s=new Intl.NumberFormat(t,{...n,minimumFractionDigits:2,maximumFractionDigits:2}).formatToParts(.001).find(O=>O.type==="decimal"))===null||s===void 0?void 0:s.value,b=(a=d.find(O=>O.type==="group"))===null||a===void 0?void 0:a.value,C=d.filter(O=>!wP.has(O.type)).map(O=>EP(O.value)),T=m.flatMap(O=>O.filter(B=>!wP.has(B.type)).map(B=>EP(B.value))),A=[...new Set([...C,...T])].sort((O,B)=>B.length-O.length),P=A.length===0?new RegExp("[\\p{White_Space}]","gu"):new RegExp(`${A.join("|")}|[\\p{White_Space}]`,"gu"),R=[...new Intl.NumberFormat(n.locale,{useGrouping:!1}).format(9876543210)].reverse(),k=new Map(R.map((O,B)=>[O,B])),z=new RegExp(`[${R.join("")}]`,"g");return{minusSign:y,plusSign:x,decimal:_,group:b,literals:P,numeral:z,index:O=>String(k.get(O))}}function ey(t,e,n){return t.replaceAll?t.replaceAll(e,n):t.split(e).join(n)}function EP(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}var XN=qt("numberInput").parts("root","label","input","control","valueText","incrementTrigger","decrementTrigger","scrubber");XN.build();var GW=t=>{var e;return((e=t.ids)==null?void 0:e.input)??`number-input:${t.id}:input`},jW=t=>{var e;return((e=t.ids)==null?void 0:e.incrementTrigger)??`number-input:${t.id}:inc`},XW=t=>{var e;return((e=t.ids)==null?void 0:e.decrementTrigger)??`number-input:${t.id}:dec`},qN=t=>`number-input:${t.id}:cursor`,ty=t=>t.getById(GW(t)),qW=t=>t.getById(jW(t)),YW=t=>t.getById(XW(t)),YN=t=>t.getDoc().getElementById(qN(t)),KW=(t,e)=>{let n=null;return e==="increment"&&(n=qW(t)),e==="decrement"&&(n=YW(t)),n},ZW=(t,e)=>{if(!JO())return e9(t,e),()=>{var n;(n=YN(t))==null||n.remove()}},JW=t=>{const e=t.getDoc(),n=e.documentElement,r=e.body;return r.style.pointerEvents="none",n.style.userSelect="none",n.style.cursor="ew-resize",()=>{r.style.pointerEvents="",n.style.userSelect="",n.style.cursor="",n.style.length||n.removeAttribute("style"),r.style.length||r.removeAttribute("style")}},QW=(t,e)=>{const{point:n,isRtl:r,event:i}=e,o=t.getWin(),s=J_(i.movementX,o.devicePixelRatio),a=J_(i.movementY,o.devicePixelRatio);let c=s>0?"increment":s<0?"decrement":null;r&&c==="increment"&&(c="decrement"),r&&c==="decrement"&&(c="increment");const d={x:n.x+s,y:n.y+a},f=o.innerWidth,m=J_(7.5,o.devicePixelRatio);return d.x=G6(d.x+m,f)-m,{hint:c,point:d}},e9=(t,e)=>{const n=t.getDoc(),r=n.createElement("div");r.className="scrubber--cursor",r.id=qN(t),Object.assign(r.style,{width:"15px",height:"15px",position:"fixed",pointerEvents:"none",left:"0px",top:"0px",zIndex:vV,transform:e?`translate3d(${e.x}px, ${e.y}px, 0px)`:void 0,willChange:"transform"}),r.innerHTML=`
      <svg width="46" height="15" style="left: -15.5px; position: absolute; top: 0; filter: drop-shadow(rgba(0, 0, 0, 0.4) 0px 1px 1.1px);">
        <g transform="translate(2 3)">
          <path fill-rule="evenodd" d="M 15 4.5L 15 2L 11.5 5.5L 15 9L 15 6.5L 31 6.5L 31 9L 34.5 5.5L 31 2L 31 4.5Z" style="stroke-width: 2px; stroke: white;"></path>
          <path fill-rule="evenodd" d="M 15 4.5L 15 2L 11.5 5.5L 15 9L 15 6.5L 31 6.5L 31 9L 34.5 5.5L 31 2L 31 4.5Z"></path>
        </g>
      </svg>`,n.body.appendChild(r)};function t9(t){if(!(!t||t.ownerDocument.activeElement!==t))try{const{selectionStart:e,selectionEnd:n,value:r}=t,i=r.substring(0,e),o=r.substring(n);return{start:e,end:n,value:r,beforeTxt:i,afterTxt:o}}catch{}}function n9(t,e){if(!(!t||t.ownerDocument.activeElement!==t)){if(!e){t.setSelectionRange(t.value.length,t.value.length);return}try{const{value:n}=t,{beforeTxt:r="",afterTxt:i="",start:o}=e;let s=n.length;if(n.endsWith(i))s=n.length-i.length;else if(n.startsWith(r))s=r.length;else if(o!=null){const a=r[o-1],c=n.indexOf(a,o-1);c!==-1&&(s=c+1)}t.setSelectionRange(s,s)}catch{}}}var r9=(t,e={})=>new Intl.NumberFormat(t,e),i9=(t,e={})=>new jN(t,e),cS=(t,e)=>{const{prop:n,computed:r}=e;return n("formatOptions")?r("parser").parse(String(t)):parseFloat(t)},md=(t,e)=>{const{prop:n,computed:r}=e;return Number.isNaN(t)?"":n("formatOptions")?r("formatter").format(t):t.toString()},o9=(t,e)=>{let n=t!==void 0&&!Number.isNaN(t)?t:1;return(e==null?void 0:e.style)==="percent"&&(t===void 0||Number.isNaN(t))&&(n=.01),n},{choose:s9,guards:a9,createMachine:l9}=s8(),{not:CP,and:MP}=a9;l9({props({props:t}){const e=o9(t.step,t.formatOptions);return{dir:"ltr",locale:"en-US",focusInputOnChange:!0,clampValueOnBlur:!t.allowOverflow,allowOverflow:!1,inputMode:"decimal",pattern:"[0-9]*(.[0-9]+)?",defaultValue:"",step:e,min:Number.MIN_SAFE_INTEGER,max:Number.MAX_SAFE_INTEGER,spinOnPress:!0,...t,translations:{incrementLabel:"increment value",decrementLabel:"decrease value",...t.translations}}},initialState(){return"idle"},context({prop:t,bindable:e,getComputed:n}){return{value:e(()=>({defaultValue:t("defaultValue"),value:t("value"),onChange(r){var s;const i=n(),o=cS(r,{computed:i,prop:t});(s=t("onValueChange"))==null||s({value:r,valueAsNumber:o})}})),hint:e(()=>({defaultValue:null})),scrubberCursorPoint:e(()=>({defaultValue:null,hash(r){return r?`x:${r.x}, y:${r.y}`:""}})),fieldsetDisabled:e(()=>({defaultValue:!1}))}},computed:{isRtl:({prop:t})=>t("dir")==="rtl",valueAsNumber:({context:t,computed:e,prop:n})=>cS(t.get("value"),{computed:e,prop:n}),formattedValue:({computed:t,prop:e})=>md(t("valueAsNumber"),{computed:t,prop:e}),isAtMin:({computed:t,prop:e})=>X6(t("valueAsNumber"),e("min")),isAtMax:({computed:t,prop:e})=>j6(t("valueAsNumber"),e("max")),isOutOfRange:({computed:t,prop:e})=>!q6(t("valueAsNumber"),e("min"),e("max")),isValueEmpty:({context:t})=>t.get("value")==="",isDisabled:({prop:t,context:e})=>!!t("disabled")||e.get("fieldsetDisabled"),canIncrement:({prop:t,computed:e})=>t("allowOverflow")||!e("isAtMax"),canDecrement:({prop:t,computed:e})=>t("allowOverflow")||!e("isAtMin"),valueText:({prop:t,context:e})=>{var n,r;return(r=(n=t("translations")).valueText)==null?void 0:r.call(n,e.get("value"))},formatter:V2(({prop:t})=>[t("locale"),t("formatOptions")],(t,e)=>r9(t,e)),parser:V2(({prop:t})=>[t("locale"),t("formatOptions")],(t,e)=>i9(t,e))},watch({track:t,action:e,context:n,computed:r,prop:i}){t([()=>n.get("value"),()=>i("locale")],()=>{e(["syncInputElement"])}),t([()=>r("isOutOfRange")],()=>{e(["invokeOnInvalid"])}),t([()=>n.hash("scrubberCursorPoint")],()=>{e(["setVirtualCursorPosition"])})},effects:["trackFormControl"],on:{"VALUE.SET":{actions:["setRawValue"]},"VALUE.CLEAR":{actions:["clearValue"]},"VALUE.INCREMENT":{actions:["increment"]},"VALUE.DECREMENT":{actions:["decrement"]}},states:{idle:{on:{"TRIGGER.PRESS_DOWN":[{guard:"isTouchPointer",target:"before:spin",actions:["setHint"]},{target:"before:spin",actions:["focusInput","invokeOnFocus","setHint"]}],"SCRUBBER.PRESS_DOWN":{target:"scrubbing",actions:["focusInput","invokeOnFocus","setHint","setCursorPoint"]},"INPUT.FOCUS":{target:"focused",actions:["focusInput","invokeOnFocus"]}}},focused:{tags:["focus"],effects:["attachWheelListener"],on:{"TRIGGER.PRESS_DOWN":[{guard:"isTouchPointer",target:"before:spin",actions:["setHint"]},{target:"before:spin",actions:["focusInput","setHint"]}],"SCRUBBER.PRESS_DOWN":{target:"scrubbing",actions:["focusInput","setHint","setCursorPoint"]},"INPUT.ARROW_UP":{actions:["increment"]},"INPUT.ARROW_DOWN":{actions:["decrement"]},"INPUT.HOME":{actions:["decrementToMin"]},"INPUT.END":{actions:["incrementToMax"]},"INPUT.CHANGE":{actions:["setValue","setHint"]},"INPUT.BLUR":[{guard:MP("clampValueOnBlur",CP("isInRange")),target:"idle",actions:["setClampedValue","clearHint","invokeOnBlur"]},{guard:CP("isInRange"),target:"idle",actions:["setFormattedValue","clearHint","invokeOnBlur","invokeOnInvalid"]},{target:"idle",actions:["setFormattedValue","clearHint","invokeOnBlur"]}],"INPUT.ENTER":{actions:["setFormattedValue","clearHint","invokeOnBlur"]}}},"before:spin":{tags:["focus"],effects:["trackButtonDisabled","waitForChangeDelay"],entry:s9([{guard:"isIncrementHint",actions:["increment"]},{guard:"isDecrementHint",actions:["decrement"]}]),on:{CHANGE_DELAY:{target:"spinning",guard:MP("isInRange","spinOnPress")},"TRIGGER.PRESS_UP":[{guard:"isTouchPointer",target:"focused",actions:["clearHint"]},{target:"focused",actions:["focusInput","clearHint"]}]}},spinning:{tags:["focus"],effects:["trackButtonDisabled","spinValue"],on:{SPIN:[{guard:"isIncrementHint",actions:["increment"]},{guard:"isDecrementHint",actions:["decrement"]}],"TRIGGER.PRESS_UP":{target:"focused",actions:["focusInput","clearHint"]}}},scrubbing:{tags:["focus"],effects:["activatePointerLock","trackMousemove","setupVirtualCursor","preventTextSelection"],on:{"SCRUBBER.POINTER_UP":{target:"focused",actions:["focusInput","clearCursorPoint"]},"SCRUBBER.POINTER_MOVE":[{guard:"isIncrementHint",actions:["increment","setCursorPoint"]},{guard:"isDecrementHint",actions:["decrement","setCursorPoint"]}]}}},implementations:{guards:{clampValueOnBlur:({prop:t})=>t("clampValueOnBlur"),spinOnPress:({prop:t})=>!!t("spinOnPress"),isInRange:({computed:t})=>!t("isOutOfRange"),isDecrementHint:({context:t,event:e})=>(e.hint??t.get("hint"))==="decrement",isIncrementHint:({context:t,event:e})=>(e.hint??t.get("hint"))==="increment",isTouchPointer:({event:t})=>t.pointerType==="touch"},effects:{waitForChangeDelay({send:t}){const e=setTimeout(()=>{t({type:"CHANGE_DELAY"})},300);return()=>clearTimeout(e)},spinValue({send:t}){const e=setInterval(()=>{t({type:"SPIN"})},50);return()=>clearInterval(e)},trackFormControl({context:t,scope:e}){const n=ty(e);return kC(n,{onFieldsetDisabledChange(r){t.set("fieldsetDisabled",r)},onFormReset(){t.set("value",t.initial("value"))}})},setupVirtualCursor({context:t,scope:e}){const n=t.get("scrubberCursorPoint");return ZW(e,n)},preventTextSelection({scope:t}){return JW(t)},trackButtonDisabled({context:t,scope:e,send:n}){const r=t.get("hint"),i=KW(e,r);return NC(i,{attributes:["disabled"],callback(){n({type:"TRIGGER.PRESS_UP",src:"attr"})}})},attachWheelListener({scope:t,send:e,prop:n}){const r=ty(t);if(!r||!t.isActiveElement(r)||!n("allowMouseWheel"))return;function i(o){o.preventDefault();const s=Math.sign(o.deltaY)*-1;s===1?e({type:"VALUE.INCREMENT"}):s===-1&&e({type:"VALUE.DECREMENT"})}return Ti(r,"wheel",i,{passive:!1})},activatePointerLock({scope:t}){if(!JO())return c6(t.getDoc())},trackMousemove({scope:t,send:e,context:n,computed:r}){const i=t.getDoc();function o(a){const c=n.get("scrubberCursorPoint"),d=r("isRtl"),f=QW(t,{point:c,isRtl:d,event:a});f.hint&&e({type:"SCRUBBER.POINTER_MOVE",hint:f.hint,point:f.point})}function s(){e({type:"SCRUBBER.POINTER_UP"})}return Nx(Ti(i,"mousemove",o,!1),Ti(i,"mouseup",s,!1))}},actions:{focusInput({scope:t,prop:e}){if(!e("focusInputOnChange"))return;const n=ty(t);t.isActiveElement(n)||sr(()=>n==null?void 0:n.focus({preventScroll:!0}))},increment({context:t,event:e,prop:n,computed:r}){let i=J6(r("valueAsNumber"),e.step??n("step"));n("allowOverflow")||(i=Do(i,n("min"),n("max"))),t.set("value",md(i,{computed:r,prop:n}))},decrement({context:t,event:e,prop:n,computed:r}){let i=Q6(r("valueAsNumber"),e.step??n("step"));n("allowOverflow")||(i=Do(i,n("min"),n("max"))),t.set("value",md(i,{computed:r,prop:n}))},setClampedValue({context:t,prop:e,computed:n}){const r=Do(n("valueAsNumber"),e("min"),e("max"));t.set("value",md(r,{computed:n,prop:e}))},setRawValue({context:t,event:e,prop:n,computed:r}){let i=cS(e.value,{computed:r,prop:n});n("allowOverflow")||(i=Do(i,n("min"),n("max"))),t.set("value",md(i,{computed:r,prop:n}))},setValue({context:t,event:e}){var r;const n=((r=e.target)==null?void 0:r.value)??e.value;t.set("value",n)},clearValue({context:t}){t.set("value","")},incrementToMax({context:t,prop:e,computed:n}){const r=md(e("max"),{computed:n,prop:e});t.set("value",r)},decrementToMin({context:t,prop:e,computed:n}){const r=md(e("min"),{computed:n,prop:e});t.set("value",r)},setHint({context:t,event:e}){t.set("hint",e.hint)},clearHint({context:t}){t.set("hint",null)},invokeOnFocus({computed:t,prop:e}){var n;(n=e("onFocusChange"))==null||n({focused:!0,value:t("formattedValue"),valueAsNumber:t("valueAsNumber")})},invokeOnBlur({computed:t,prop:e}){var n;(n=e("onFocusChange"))==null||n({focused:!1,value:t("formattedValue"),valueAsNumber:t("valueAsNumber")})},invokeOnInvalid({computed:t,prop:e,event:n}){var i;if(n.type==="INPUT.CHANGE")return;const r=t("valueAsNumber")>e("max")?"rangeOverflow":"rangeUnderflow";(i=e("onValueInvalid"))==null||i({reason:r,value:t("formattedValue"),valueAsNumber:t("valueAsNumber")})},syncInputElement({context:t,event:e,computed:n,scope:r}){const i=e.type.endsWith("CHANGE")?t.get("value"):n("formattedValue"),o=ty(r),s=t9(o);sr(()=>{Rv(o,i),n9(o,s)})},setFormattedValue({context:t,computed:e}){t.set("value",e("formattedValue"))},setCursorPoint({context:t,event:e}){t.set("scrubberCursorPoint",e.point)},clearCursorPoint({context:t}){t.set("scrubberCursorPoint",null)},setVirtualCursorPosition({context:t,scope:e}){const n=YN(e),r=t.get("scrubberCursorPoint");!n||!r||(n.style.transform=`translate3d(${r.x}px, ${r.y}px, 0px)`)}}}});dn()(["allowMouseWheel","allowOverflow","clampValueOnBlur","dir","disabled","focusInputOnChange","form","formatOptions","getRootNode","id","ids","inputMode","invalid","locale","max","min","name","onFocusChange","onValueChange","onValueInvalid","pattern","required","readOnly","spinOnPress","step","translations","value","defaultValue"]);var KN=qt("pinInput").parts("root","label","input","control");KN.build();dn()(["autoFocus","blurOnComplete","count","defaultValue","dir","disabled","form","getRootNode","id","ids","invalid","mask","name","onValueChange","onValueComplete","onValueInvalid","otp","pattern","placeholder","readOnly","required","selectOnFocus","translations","type","value"]);var ZN=qt("popover").parts("arrow","arrowTip","anchor","trigger","indicator","positioner","content","title","description","closeTrigger");ZN.build();dn()(["autoFocus","closeOnEscape","closeOnInteractOutside","dir","getRootNode","id","ids","initialFocusEl","modal","onEscapeKeyDown","onFocusOutside","onInteractOutside","onOpenChange","onPointerDownOutside","defaultOpen","open","persistentElements","portalled","positioning"]);const c9=t=>{var c;const{children:e,disabled:n}=t,[r,i]=D.useState((c=t.container)==null?void 0:c.current),o=D.useSyncExternalStore(d9,()=>!1,()=>!0),{getRootNode:s}=$C();if(D.useEffect(()=>{i(()=>{var d;return(d=t.container)==null?void 0:d.current})},[t.container]),o||n)return ie.jsx(ie.Fragment,{children:e});const a=r??u9(s);return ie.jsx(ie.Fragment,{children:D.Children.map(e,d=>gc.createPortal(d,a))})},u9=t=>{const e=t==null?void 0:t(),n=e.getRootNode();return xp(n)?n:tl(e).body},d9=()=>()=>{};var iM=qt("progress").parts("root","label","track","range","valueText","view","circle","circleTrack","circleRange");iM.build();dn()(["dir","getRootNode","id","ids","max","min","orientation","translations","value","onValueChange","defaultValue","formatOptions","locale"]);var JN=qt("qr-code").parts("root","frame","pattern","overlay","downloadTrigger");JN.build();dn()(["ids","defaultValue","value","id","encoding","dir","getRootNode","onValueChange","pixelSize"]);var oM=qt("radio-group").parts("root","label","item","itemText","itemControl","indicator");oM.build();dn()(["dir","disabled","form","getRootNode","id","ids","name","onValueChange","orientation","readOnly","value","defaultValue"]);dn()(["value","disabled","invalid"]);var QN=qt("rating-group").parts("root","label","item","control");QN.build();dn()(["allowHalf","autoFocus","count","dir","disabled","form","getRootNode","id","ids","name","onHoverChange","onValueChange","required","readOnly","translations","value","defaultValue"]);dn()(["index"]);const eD=oM.rename("segment-group");eD.build();var tD=qt("select").parts("label","positioner","trigger","indicator","clearTrigger","item","itemText","itemIndicator","itemGroup","itemGroupLabel","list","content","root","control","valueText");tD.build();var nD=t=>new NN(t);nD.empty=()=>new NN({items:[]});var f9=t=>{var e;return((e=t.ids)==null?void 0:e.content)??`select:${t.id}:content`},h9=t=>{var e;return((e=t.ids)==null?void 0:e.trigger)??`select:${t.id}:trigger`},p9=t=>{var e;return((e=t.ids)==null?void 0:e.clearTrigger)??`select:${t.id}:clear-trigger`},m9=(t,e)=>{var n,r;return((r=(n=t.ids)==null?void 0:n.item)==null?void 0:r.call(n,e))??`select:${t.id}:option:${e}`},g9=t=>{var e;return((e=t.ids)==null?void 0:e.hiddenSelect)??`select:${t.id}:select`},v9=t=>{var e;return((e=t.ids)==null?void 0:e.positioner)??`select:${t.id}:positioner`},uS=t=>t.getById(g9(t)),Zm=t=>t.getById(f9(t)),ny=t=>t.getById(h9(t)),y9=t=>t.getById(p9(t)),TP=t=>t.getById(v9(t)),x9=(t,e)=>t.getById(m9(t,e)),{and:Jm,not:gd,or:b9}=lf();b9("isTriggerArrowDownEvent","isTriggerEnterEvent"),Jm(gd("multiple"),"hasSelectedItems"),gd("multiple"),Jm(gd("multiple"),"hasSelectedItems"),gd("multiple"),gd("multiple"),gd("multiple"),gd("multiple"),Jm("closeOnSelect","isOpenControlled"),Jm("hasHighlightedItem","loop","isLastItemHighlighted"),Jm("hasHighlightedItem","loop","isFirstItemHighlighted");dn()(["closeOnSelect","collection","dir","disabled","deselectable","form","getRootNode","highlightedValue","id","ids","invalid","loopFocus","multiple","name","onFocusOutside","onHighlightChange","onInteractOutside","onOpenChange","onPointerDownOutside","onValueChange","defaultOpen","open","composite","positioning","required","readOnly","scrollToIndexFn","value","defaultValue","defaultHighlightedValue"]);dn()(["item","persistFocus"]);dn()(["id"]);dn()(["htmlFor"]);var rD=qt("slider").parts("root","label","thumb","valueText","track","range","control","markerGroup","marker","draggingIndicator");rD.build();dn()(["aria-label","aria-labelledby","dir","disabled","form","getAriaValueText","getRootNode","id","ids","invalid","max","min","minStepsBetweenThumbs","name","onFocusChange","onValueChange","onValueChangeEnd","orientation","origin","readOnly","step","thumbAlignment","thumbAlignment","thumbSize","value","defaultValue"]);dn()(["index","name"]);var iD=qt("switch").parts("root","label","control","thumb");iD.build();dn()(["checked","defaultChecked","dir","disabled","form","getRootNode","id","ids","invalid","label","name","onCheckedChange","readOnly","required","value"]);const _9=Symbol(),PP=Object.getPrototypeOf,xE=new WeakMap,S9=t=>t&&(xE.has(t)?xE.get(t):PP(t)===Object.prototype||PP(t)===Array.prototype),w9=t=>S9(t)&&t[_9]||null,RP=(t,e=!0)=>{xE.set(t,e)};function E9(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global}function oD(t,e){const n=E9();return n?(n[t]||(n[t]=e()),n[t]):e()}var _x=oD("__zag__refSet",()=>new WeakSet),C9=t=>typeof t=="object"&&t!==null&&"$$typeof"in t&&"props"in t,M9=t=>typeof t=="object"&&t!==null&&"__v_isVNode"in t,T9=t=>typeof t=="object"&&t!==null&&"nodeType"in t&&typeof t.nodeName=="string",P9=t=>C9(t)||M9(t)||T9(t),bE=t=>t!==null&&typeof t=="object",AP=t=>bE(t)&&!_x.has(t)&&(Array.isArray(t)||!(Symbol.iterator in t))&&!P9(t)&&!(t instanceof WeakMap)&&!(t instanceof WeakSet)&&!(t instanceof Error)&&!(t instanceof Number)&&!(t instanceof Date)&&!(t instanceof String)&&!(t instanceof RegExp)&&!(t instanceof ArrayBuffer)&&!(t instanceof Promise),Ud=oD("__zag__proxyStateMap",()=>new WeakMap),R9=(t=Object.is,e=(a,c)=>new Proxy(a,c),n=new WeakMap,r=(a,c)=>{const d=n.get(a);if((d==null?void 0:d[0])===c)return d[1];const f=Array.isArray(a)?[]:Object.create(Object.getPrototypeOf(a));return RP(f,!0),n.set(a,[c,f]),Reflect.ownKeys(a).forEach(m=>{const g=Reflect.get(a,m);_x.has(g)?(RP(g,!1),f[m]=g):Ud.has(g)?f[m]=k9(g):f[m]=g}),Object.freeze(f)},i=new WeakMap,o=[1,1],s=a=>{if(!bE(a))throw new Error("object required");const c=i.get(a);if(c)return c;let d=o[0];const f=new Set,m=(k,z=++o[0])=>{d!==z&&(d=z,f.forEach(L=>L(k,z)))};let g=o[1];const y=(k=++o[1])=>(g!==k&&!f.size&&(g=k,S.forEach(([z])=>{const L=z[1](k);L>d&&(d=L)})),d),x=k=>(z,L)=>{const O=[...z];O[1]=[k,...O[1]],m(O,L)},S=new Map,_=(k,z)=>{if(f.size){const L=z[3](x(k));S.set(k,[z,L])}else S.set(k,[z])},b=k=>{var L;const z=S.get(k);z&&(S.delete(k),(L=z[1])==null||L.call(z))},C=k=>(f.add(k),f.size===1&&S.forEach(([L,O],B)=>{const j=L[3](x(B));S.set(B,[L,j])}),()=>{f.delete(k),f.size===0&&S.forEach(([L,O],B)=>{O&&(O(),S.set(B,[L]))})}),T=Array.isArray(a)?[]:Object.create(Object.getPrototypeOf(a)),P=e(T,{deleteProperty(k,z){const L=Reflect.get(k,z);b(z);const O=Reflect.deleteProperty(k,z);return O&&m(["delete",[z],L]),O},set(k,z,L,O){var ee;const B=Reflect.has(k,z),j=Reflect.get(k,z,O);if(B&&(t(j,L)||i.has(L)&&t(j,i.get(L))))return!0;b(z),bE(L)&&(L=w9(L)||L);let X=L;if(!((ee=Object.getOwnPropertyDescriptor(k,z))!=null&&ee.set)){!Ud.has(L)&&AP(L)&&(X=sD(L));const K=!_x.has(X)&&Ud.get(X);K&&_(z,K)}return Reflect.set(k,z,X,O),m(["set",[z],L,j]),!0}});i.set(a,P);const R=[T,y,r,C];return Ud.set(P,R),Reflect.ownKeys(a).forEach(k=>{const z=Object.getOwnPropertyDescriptor(a,k);z.get||z.set?Object.defineProperty(T,k,z):P[k]=a[k]}),P})=>[s,Ud,_x,t,e,AP,n,r,i,o],[A9]=R9();function sD(t={}){return A9(t)}function I9(t,e,n){const r=Ud.get(t);let i;const o=[],s=r[3];let a=!1;const d=s(f=>{o.push(f),i||(i=Promise.resolve().then(()=>{i=void 0,a&&e(o.splice(0))}))});return a=!0,()=>{a=!1,d()}}function k9(t){const e=Ud.get(t),[n,r,i]=e;return i(n,r())}var aD=qt("tooltip").parts("trigger","arrow","arrowTip","positioner","content");aD.build();var O9=t=>{var e;return((e=t.ids)==null?void 0:e.trigger)??`tooltip:${t.id}:trigger`},L9=t=>{var e;return((e=t.ids)==null?void 0:e.positioner)??`tooltip:${t.id}:popper`},dS=t=>t.getById(O9(t)),IP=t=>t.getById(L9(t)),vd=sD({id:null}),{and:N9,not:kP}=lf();N9("noVisibleTooltip",kP("hasPointerMoveOpened")),kP("hasPointerMoveOpened");dn()(["aria-label","closeDelay","closeOnEscape","closeOnPointerDown","closeOnScroll","closeOnClick","dir","disabled","getRootNode","id","ids","interactive","onOpenChange","defaultOpen","open","openDelay","positioning"]);function sM(t,e=[]){const n=Object.assign({},t);for(const r of e)r in n&&delete n[r];return n}const D9=(t,e)=>{var c;if(!t||typeof t!="string")return{invalid:!0,value:t};const[n,r]=t.split("/");if(!n||!r||n==="currentBg")return{invalid:!0,value:n};const i=e(`colors.${n}`),o=(c=e.raw(`opacity.${r}`))==null?void 0:c.value;if(!o&&isNaN(Number(r)))return{invalid:!0,value:n};const s=o?Number(o)*100+"%":`${r}%`,a=i??n;return{invalid:!1,color:a,value:`color-mix(in srgb, ${a} ${s}, transparent)`}},Yn=t=>(e,n)=>{const r=n.utils.colorMix(e);if(r.invalid)return{[t]:e};const i="--mix-"+t;return{[i]:r.value,[t]:`var(${i}, ${r.color})`}};function _E(t){if(t===null||typeof t!="object")return t;if(Array.isArray(t))return t.map(n=>_E(n));const e=Object.create(Object.getPrototypeOf(t));for(const n of Object.keys(t))e[n]=_E(t[n]);return e}function SE(t,e){if(e==null)return t;for(const n of Object.keys(e))if(!(e[n]===void 0||n==="__proto__"))if(!Oo(t[n])&&Oo(e[n]))Object.assign(t,{[n]:e[n]});else if(t[n]&&Oo(e[n]))SE(t[n],e[n]);else if(Array.isArray(e[n])&&Array.isArray(t[n])){let r=0;for(;r<e[n].length;r++)Oo(t[n][r])&&Oo(e[n][r])?SE(t[n][r],e[n][r]):t[n][r]=e[n][r]}else Object.assign(t,{[n]:e[n]});return t}function Bp(t,...e){for(const n of e)SE(t,n);return t}const F9=t=>t,ii=t=>t,Kt=t=>t,z9=t=>t,U9=t=>t,lD=t=>t,B9=t=>t,V9=t=>t,$9=t=>t;function cD(){const t=e=>e;return new Proxy(t,{get(){return t}})}const Wr=cD(),aM=cD(),uD=t=>t,dD=(...t)=>Bp({},...t.map(_E)),H9=/[^a-zA-Z0-9_\u0081-\uffff-]/g;function W9(t){return`${t}`.replace(H9,e=>`\\${e}`)}const G9=/[A-Z]/g;function j9(t){return t.replace(G9,e=>`-${e.toLowerCase()}`)}function fD(t,e={}){const{fallback:n="",prefix:r=""}=e,i=j9(["-",r,W9(t)].filter(Boolean).join("-"));return{var:i,ref:`var(${i}${n?`, ${n}`:""})`}}const X9=t=>/^var\(--.+\)$/.test(t),di=(t,e)=>e!=null?`${t}(${e})`:e,yd=t=>{if(X9(t)||t==null)return t;const e=typeof t=="string"&&!t.endsWith("deg");return typeof t=="number"||e?`${t}deg`:t},OP=t=>({values:["outside","inside","mixed","none"],transform(e,{token:n}){const r=n("colors.colorPalette.focusRing");return{inside:{"--focus-ring-color":r,[t]:{outlineOffset:"0px",outlineWidth:"var(--focus-ring-width, 1px)",outlineColor:"var(--focus-ring-color)",outlineStyle:"var(--focus-ring-style, solid)",borderColor:"var(--focus-ring-color)"}},outside:{"--focus-ring-color":r,[t]:{outlineWidth:"var(--focus-ring-width, 2px)",outlineOffset:"var(--focus-ring-offset, 2px)",outlineStyle:"var(--focus-ring-style, solid)",outlineColor:"var(--focus-ring-color)"}},mixed:{"--focus-ring-color":r,[t]:{outlineWidth:"var(--focus-ring-width, 3px)",outlineStyle:"var(--focus-ring-style, solid)",outlineColor:"color-mix(in srgb, var(--focus-ring-color), transparent 60%)",borderColor:"var(--focus-ring-color)"}},none:{"--focus-ring-color":r,[t]:{outline:"none"}}}[e]??{}}}),q9=Yn("borderColor"),Fl=t=>({transition:t,transitionTimingFunction:"cubic-bezier(0.4, 0, 0.2, 1)",transitionDuration:"150ms"}),Y9=F9({hover:["@media (hover: hover)","&:is(:hover, [data-hover]):not(:disabled, [data-disabled])"],active:"&:is(:active, [data-active]):not(:disabled, [data-disabled], [data-state=open])",focus:"&:is(:focus, [data-focus])",focusWithin:"&:is(:focus-within, [data-focus-within])",focusVisible:"&:is(:focus-visible, [data-focus-visible])",disabled:"&:is(:disabled, [disabled], [data-disabled], [aria-disabled=true])",visited:"&:visited",target:"&:target",readOnly:"&:is([data-readonly], [aria-readonly=true], [readonly])",readWrite:"&:read-write",empty:"&:is(:empty, [data-empty])",checked:"&:is(:checked, [data-checked], [aria-checked=true], [data-state=checked])",enabled:"&:enabled",expanded:"&:is([aria-expanded=true], [data-expanded], [data-state=expanded])",highlighted:"&[data-highlighted]",complete:"&[data-complete]",incomplete:"&[data-incomplete]",dragging:"&[data-dragging]",before:"&::before",after:"&::after",firstLetter:"&::first-letter",firstLine:"&::first-line",marker:"&::marker",selection:"&::selection",file:"&::file-selector-button",backdrop:"&::backdrop",first:"&:first-of-type",last:"&:last-of-type",notFirst:"&:not(:first-of-type)",notLast:"&:not(:last-of-type)",only:"&:only-child",even:"&:nth-of-type(even)",odd:"&:nth-of-type(odd)",peerFocus:".peer:is(:focus, [data-focus]) ~ &",peerHover:".peer:is(:hover, [data-hover]):not(:disabled, [data-disabled]) ~ &",peerActive:".peer:is(:active, [data-active]):not(:disabled, [data-disabled]) ~ &",peerFocusWithin:".peer:focus-within ~ &",peerFocusVisible:".peer:is(:focus-visible, [data-focus-visible]) ~ &",peerDisabled:".peer:is(:disabled, [disabled], [data-disabled]) ~ &",peerChecked:".peer:is(:checked, [data-checked], [aria-checked=true], [data-state=checked]) ~ &",peerInvalid:".peer:is(:invalid, [data-invalid], [aria-invalid=true]) ~ &",peerExpanded:".peer:is([aria-expanded=true], [data-expanded], [data-state=expanded]) ~ &",peerPlaceholderShown:".peer:placeholder-shown ~ &",groupFocus:".group:is(:focus, [data-focus]) &",groupHover:".group:is(:hover, [data-hover]):not(:disabled, [data-disabled]) &",groupActive:".group:is(:active, [data-active]):not(:disabled, [data-disabled]) &",groupFocusWithin:".group:focus-within &",groupFocusVisible:".group:is(:focus-visible, [data-focus-visible]) &",groupDisabled:".group:is(:disabled, [disabled], [data-disabled]) &",groupChecked:".group:is(:checked, [data-checked], [aria-checked=true], [data-state=checked]) &",groupExpanded:".group:is([aria-expanded=true], [data-expanded], [data-state=expanded]) &",groupInvalid:".group:invalid &",indeterminate:"&:is(:indeterminate, [data-indeterminate], [aria-checked=mixed], [data-state=indeterminate])",required:"&:is([data-required], [aria-required=true])",valid:"&:is([data-valid], [data-state=valid])",invalid:"&:is([data-invalid], [aria-invalid=true], [data-state=invalid])",autofill:"&:autofill",inRange:"&:is(:in-range, [data-in-range])",outOfRange:"&:is(:out-of-range, [data-outside-range])",placeholder:"&::placeholder, &[data-placeholder]",placeholderShown:"&:is(:placeholder-shown, [data-placeholder-shown])",pressed:"&:is([aria-pressed=true], [data-pressed])",selected:"&:is([aria-selected=true], [data-selected])",grabbed:"&:is([aria-grabbed=true], [data-grabbed])",underValue:"&[data-state=under-value]",overValue:"&[data-state=over-value]",atValue:"&[data-state=at-value]",default:"&:default",optional:"&:optional",open:"&:is([open], [data-open], [data-state=open])",closed:"&:is([closed], [data-closed], [data-state=closed])",fullscreen:"&is(:fullscreen, [data-fullscreen])",loading:"&:is([data-loading], [aria-busy=true])",hidden:"&:is([hidden], [data-hidden])",current:"&[data-current]",currentPage:"&[aria-current=page]",currentStep:"&[aria-current=step]",today:"&[data-today]",unavailable:"&[data-unavailable]",rangeStart:"&[data-range-start]",rangeEnd:"&[data-range-end]",now:"&[data-now]",topmost:"&[data-topmost]",motionReduce:"@media (prefers-reduced-motion: reduce)",motionSafe:"@media (prefers-reduced-motion: no-preference)",print:"@media print",landscape:"@media (orientation: landscape)",portrait:"@media (orientation: portrait)",dark:".dark &, .dark .chakra-theme:not(.light) &",light:":root &, .light &",osDark:"@media (prefers-color-scheme: dark)",osLight:"@media (prefers-color-scheme: light)",highContrast:"@media (forced-colors: active)",lessContrast:"@media (prefers-contrast: less)",moreContrast:"@media (prefers-contrast: more)",ltr:"[dir=ltr] &",rtl:"[dir=rtl] &",scrollbar:"&::-webkit-scrollbar",scrollbarThumb:"&::-webkit-scrollbar-thumb",scrollbarTrack:"&::-webkit-scrollbar-track",horizontal:"&[data-orientation=horizontal]",vertical:"&[data-orientation=vertical]",icon:"& :where(svg)",starting:"@starting-style"}),rp=fD("bg-currentcolor"),LP=t=>t===rp.ref||t==="currentBg",qn=t=>({...t("colors"),currentBg:rp}),K9=uD({conditions:Y9,utilities:{background:{values:qn,shorthand:["bg"],transform(t,e){if(LP(e.raw))return{background:rp.ref};const n=Yn("background")(t,e);return{...n,[rp.var]:n==null?void 0:n.background}}},backgroundColor:{values:qn,shorthand:["bgColor"],transform(t,e){if(LP(e.raw))return{backgroundColor:rp.ref};const n=Yn("backgroundColor")(t,e);return{...n,[rp.var]:n==null?void 0:n.backgroundColor}}},backgroundSize:{shorthand:["bgSize"]},backgroundPosition:{shorthand:["bgPos"]},backgroundRepeat:{shorthand:["bgRepeat"]},backgroundAttachment:{shorthand:["bgAttachment"]},backgroundClip:{shorthand:["bgClip"],values:["text"],transform(t){return t==="text"?{color:"transparent",backgroundClip:"text"}:{backgroundClip:t}}},backgroundGradient:{shorthand:["bgGradient"],values(t){return{...t("gradients"),"to-t":"linear-gradient(to top, var(--gradient))","to-tr":"linear-gradient(to top right, var(--gradient))","to-r":"linear-gradient(to right, var(--gradient))","to-br":"linear-gradient(to bottom right, var(--gradient))","to-b":"linear-gradient(to bottom, var(--gradient))","to-bl":"linear-gradient(to bottom left, var(--gradient))","to-l":"linear-gradient(to left, var(--gradient))","to-tl":"linear-gradient(to top left, var(--gradient))"}},transform(t){return{"--gradient-stops":"var(--gradient-from), var(--gradient-to)","--gradient":"var(--gradient-via-stops, var(--gradient-stops))",backgroundImage:t}}},gradientFrom:{values:qn,transform:Yn("--gradient-from")},gradientTo:{values:qn,transform:Yn("--gradient-to")},gradientVia:{values:qn,transform(t,e){return{...Yn("--gradient-via")(t,e),"--gradient-via-stops":"var(--gradient-from), var(--gradient-via), var(--gradient-to)"}}},backgroundImage:{values(t){return{...t("gradients"),...t("assets")}},shorthand:["bgImg","bgImage"]},border:{values:"borders"},borderTop:{values:"borders"},borderLeft:{values:"borders"},borderBlockStart:{values:"borders"},borderRight:{values:"borders"},borderBottom:{values:"borders"},borderBlockEnd:{values:"borders"},borderInlineStart:{values:"borders",shorthand:["borderStart"]},borderInlineEnd:{values:"borders",shorthand:["borderEnd"]},borderInline:{values:"borders",shorthand:["borderX"]},borderBlock:{values:"borders",shorthand:["borderY"]},borderColor:{values:qn,transform:Yn("borderColor")},borderTopColor:{values:qn,transform:Yn("borderTopColor")},borderBlockStartColor:{values:qn,transform:Yn("borderBlockStartColor")},borderBottomColor:{values:qn,transform:Yn("borderBottomColor")},borderBlockEndColor:{values:qn,transform:Yn("borderBlockEndColor")},borderLeftColor:{values:qn,transform:Yn("borderLeftColor")},borderInlineStartColor:{values:qn,shorthand:["borderStartColor"],transform:Yn("borderInlineStartColor")},borderRightColor:{values:qn,transform:Yn("borderRightColor")},borderInlineEndColor:{values:qn,shorthand:["borderEndColor"],transform:Yn("borderInlineEndColor")},borderStyle:{values:"borderStyles"},borderTopStyle:{values:"borderStyles"},borderBlockStartStyle:{values:"borderStyles"},borderBottomStyle:{values:"borderStyles"},borderBlockEndStyle:{values:"borderStyles"},borderInlineStartStyle:{values:"borderStyles",shorthand:["borderStartStyle"]},borderInlineEndStyle:{values:"borderStyles",shorthand:["borderEndStyle"]},borderLeftStyle:{values:"borderStyles"},borderRightStyle:{values:"borderStyles"},borderRadius:{values:"radii",shorthand:["rounded"]},borderTopLeftRadius:{values:"radii",shorthand:["roundedTopLeft"]},borderStartStartRadius:{values:"radii",shorthand:["roundedStartStart","borderTopStartRadius"]},borderEndStartRadius:{values:"radii",shorthand:["roundedEndStart","borderBottomStartRadius"]},borderTopRightRadius:{values:"radii",shorthand:["roundedTopRight"]},borderStartEndRadius:{values:"radii",shorthand:["roundedStartEnd","borderTopEndRadius"]},borderEndEndRadius:{values:"radii",shorthand:["roundedEndEnd","borderBottomEndRadius"]},borderBottomLeftRadius:{values:"radii",shorthand:["roundedBottomLeft"]},borderBottomRightRadius:{values:"radii",shorthand:["roundedBottomRight"]},borderInlineStartRadius:{values:"radii",property:"borderRadius",shorthand:["roundedStart","borderStartRadius"],transform:t=>({borderStartStartRadius:t,borderEndStartRadius:t})},borderInlineEndRadius:{values:"radii",property:"borderRadius",shorthand:["roundedEnd","borderEndRadius"],transform:t=>({borderStartEndRadius:t,borderEndEndRadius:t})},borderTopRadius:{values:"radii",property:"borderRadius",shorthand:["roundedTop"],transform:t=>({borderTopLeftRadius:t,borderTopRightRadius:t})},borderBottomRadius:{values:"radii",property:"borderRadius",shorthand:["roundedBottom"],transform:t=>({borderBottomLeftRadius:t,borderBottomRightRadius:t})},borderLeftRadius:{values:"radii",property:"borderRadius",shorthand:["roundedLeft"],transform:t=>({borderTopLeftRadius:t,borderBottomLeftRadius:t})},borderRightRadius:{values:"radii",property:"borderRadius",shorthand:["roundedRight"],transform:t=>({borderTopRightRadius:t,borderBottomRightRadius:t})},borderWidth:{values:"borderWidths"},borderBlockStartWidth:{values:"borderWidths"},borderTopWidth:{values:"borderWidths"},borderBottomWidth:{values:"borderWidths"},borderBlockEndWidth:{values:"borderWidths"},borderRightWidth:{values:"borderWidths"},borderInlineWidth:{values:"borderWidths",shorthand:["borderXWidth"]},borderInlineStartWidth:{values:"borderWidths",shorthand:["borderStartWidth"]},borderInlineEndWidth:{values:"borderWidths",shorthand:["borderEndWidth"]},borderLeftWidth:{values:"borderWidths"},borderBlockWidth:{values:"borderWidths",shorthand:["borderYWidth"]},color:{values:qn,transform:Yn("color")},fill:{values:qn,transform:Yn("fill")},stroke:{values:qn,transform:Yn("stroke")},accentColor:{values:qn,transform:Yn("accentColor")},divideX:{values:{type:"string"},transform(t){return{"& > :not(style, [hidden]) ~ :not(style, [hidden])":{borderInlineStartWidth:t,borderInlineEndWidth:"0px"}}}},divideY:{values:{type:"string"},transform(t){return{"& > :not(style, [hidden]) ~ :not(style, [hidden])":{borderTopWidth:t,borderBottomWidth:"0px"}}}},divideColor:{values:qn,transform(t,e){return{"& > :not(style, [hidden]) ~ :not(style, [hidden])":q9(t,e)}}},divideStyle:{property:"borderStyle",transform(t){return{"& > :not(style, [hidden]) ~ :not(style, [hidden])":{borderStyle:t}}}},boxShadow:{values:"shadows",shorthand:["shadow"]},boxShadowColor:{values:qn,transform:Yn("--shadow-color"),shorthand:["shadowColor"]},mixBlendMode:{shorthand:["blendMode"]},backgroundBlendMode:{shorthand:["bgBlendMode"]},opacity:{values:"opacity"},filter:{transform(t){return t!=="auto"?{filter:t}:{filter:"var(--blur) var(--brightness) var(--contrast) var(--grayscale) var(--hue-rotate) var(--invert) var(--saturate) var(--sepia) var(--drop-shadow)"}}},blur:{values:"blurs",transform:t=>({"--blur":di("blur",t)})},brightness:{transform:t=>({"--brightness":di("brightness",t)})},contrast:{transform:t=>({"--contrast":di("contrast",t)})},grayscale:{transform:t=>({"--grayscale":di("grayscale",t)})},hueRotate:{transform:t=>({"--hue-rotate":di("hue-rotate",yd(t))})},invert:{transform:t=>({"--invert":di("invert",t)})},saturate:{transform:t=>({"--saturate":di("saturate",t)})},sepia:{transform:t=>({"--sepia":di("sepia",t)})},dropShadow:{transform:t=>({"--drop-shadow":di("drop-shadow",t)})},backdropFilter:{transform(t){return t!=="auto"?{backdropFilter:t}:{backdropFilter:"var(--backdrop-blur) var(--backdrop-brightness) var(--backdrop-contrast) var(--backdrop-grayscale) var(--backdrop-hue-rotate) var(--backdrop-invert) var(--backdrop-opacity) var(--backdrop-saturate) var(--backdrop-sepia)"}}},backdropBlur:{values:"blurs",transform:t=>({"--backdrop-blur":di("blur",t)})},backdropBrightness:{transform:t=>({"--backdrop-brightness":di("brightness",t)})},backdropContrast:{transform:t=>({"--backdrop-contrast":di("contrast",t)})},backdropGrayscale:{transform:t=>({"--backdrop-grayscale":di("grayscale",t)})},backdropHueRotate:{transform:t=>({"--backdrop-hue-rotate":di("hue-rotate",yd(t))})},backdropInvert:{transform:t=>({"--backdrop-invert":di("invert",t)})},backdropOpacity:{transform:t=>({"--backdrop-opacity":di("opacity",t)})},backdropSaturate:{transform:t=>({"--backdrop-saturate":di("saturate",t)})},backdropSepia:{transform:t=>({"--backdrop-sepia":di("sepia",t)})},flexBasis:{values:"sizes"},gap:{values:"spacing"},rowGap:{values:"spacing",shorthand:["gapY"]},columnGap:{values:"spacing",shorthand:["gapX"]},flexDirection:{shorthand:["flexDir"]},gridGap:{values:"spacing"},gridColumnGap:{values:"spacing"},gridRowGap:{values:"spacing"},outlineColor:{values:qn,transform:Yn("outlineColor")},focusRing:OP("&:is(:focus, [data-focus])"),focusVisibleRing:OP("&:is(:focus-visible, [data-focus-visible])"),focusRingColor:{values:qn,transform:Yn("--focus-ring-color")},focusRingOffset:{values:"spacing",transform:t=>({"--focus-ring-offset":t})},focusRingWidth:{values:"borderWidths",property:"outlineWidth",transform:t=>({"--focus-ring-width":t})},focusRingStyle:{values:"borderStyles",property:"outlineStyle",transform:t=>({"--focus-ring-style":t})},aspectRatio:{values:"aspectRatios"},width:{values:"sizes",shorthand:["w"]},inlineSize:{values:"sizes"},height:{values:"sizes",shorthand:["h"]},blockSize:{values:"sizes"},boxSize:{values:"sizes",property:"width",transform:t=>({width:t,height:t})},minWidth:{values:"sizes",shorthand:["minW"]},minInlineSize:{values:"sizes"},minHeight:{values:"sizes",shorthand:["minH"]},minBlockSize:{values:"sizes"},maxWidth:{values:"sizes",shorthand:["maxW"]},maxInlineSize:{values:"sizes"},maxHeight:{values:"sizes",shorthand:["maxH"]},maxBlockSize:{values:"sizes"},hideFrom:{values:"breakpoints",transform:(t,{raw:e,token:n})=>({[n.raw(`breakpoints.${e}`)?`@breakpoint ${e}`:`@media screen and (min-width: ${t})`]:{display:"none"}})},hideBelow:{values:"breakpoints",transform(t,{raw:e,token:n}){return{[n.raw(`breakpoints.${e}`)?`@breakpoint ${e}Down`:`@media screen and (max-width: ${t})`]:{display:"none"}}}},overscrollBehavior:{shorthand:["overscroll"]},overscrollBehaviorX:{shorthand:["overscrollX"]},overscrollBehaviorY:{shorthand:["overscrollY"]},scrollbar:{values:["visible","hidden"],transform(t){switch(t){case"visible":return{msOverflowStyle:"auto",scrollbarWidth:"auto","&::-webkit-scrollbar":{display:"block"}};case"hidden":return{msOverflowStyle:"none",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}};default:return{}}}},scrollbarColor:{values:qn,transform:Yn("scrollbarColor")},scrollbarGutter:{values:"spacing"},scrollbarWidth:{values:"sizes"},scrollMargin:{values:"spacing"},scrollMarginTop:{values:"spacing"},scrollMarginBottom:{values:"spacing"},scrollMarginLeft:{values:"spacing"},scrollMarginRight:{values:"spacing"},scrollMarginX:{values:"spacing",transform:t=>({scrollMarginLeft:t,scrollMarginRight:t})},scrollMarginY:{values:"spacing",transform:t=>({scrollMarginTop:t,scrollMarginBottom:t})},scrollPadding:{values:"spacing"},scrollPaddingTop:{values:"spacing"},scrollPaddingBottom:{values:"spacing"},scrollPaddingLeft:{values:"spacing"},scrollPaddingRight:{values:"spacing"},scrollPaddingInline:{values:"spacing",shorthand:["scrollPaddingX"]},scrollPaddingBlock:{values:"spacing",shorthand:["scrollPaddingY"]},scrollSnapType:{values:{none:"none",x:"x var(--scroll-snap-strictness)",y:"y var(--scroll-snap-strictness)",both:"both var(--scroll-snap-strictness)"}},scrollSnapStrictness:{values:["mandatory","proximity"],transform:t=>({"--scroll-snap-strictness":t})},scrollSnapMargin:{values:"spacing"},scrollSnapMarginTop:{values:"spacing"},scrollSnapMarginBottom:{values:"spacing"},scrollSnapMarginLeft:{values:"spacing"},scrollSnapMarginRight:{values:"spacing"},listStylePosition:{shorthand:["listStylePos"]},listStyleImage:{values:"assets",shorthand:["listStyleImg"]},position:{shorthand:["pos"]},zIndex:{values:"zIndex"},inset:{values:"spacing"},insetInline:{values:"spacing",shorthand:["insetX"]},insetBlock:{values:"spacing",shorthand:["insetY"]},top:{values:"spacing"},insetBlockStart:{values:"spacing"},bottom:{values:"spacing"},insetBlockEnd:{values:"spacing"},left:{values:"spacing"},right:{values:"spacing"},insetInlineStart:{values:"spacing",shorthand:["insetStart"]},insetInlineEnd:{values:"spacing",shorthand:["insetEnd"]},ring:{transform(t){return{"--ring-offset-shadow":"var(--ring-inset) 0 0 0 var(--ring-offset-width) var(--ring-offset-color)","--ring-shadow":"var(--ring-inset) 0 0 0 calc(var(--ring-width) + var(--ring-offset-width)) var(--ring-color)","--ring-width":t,boxShadow:"var(--ring-offset-shadow), var(--ring-shadow), var(--shadow, 0 0 #0000)"}}},ringColor:{values:qn,transform:Yn("--ring-color")},ringOffset:{transform:t=>({"--ring-offset-width":t})},ringOffsetColor:{values:qn,transform:Yn("--ring-offset-color")},ringInset:{transform:t=>({"--ring-inset":t})},margin:{values:"spacing",shorthand:["m"]},marginTop:{values:"spacing",shorthand:["mt"]},marginBlockStart:{values:"spacing"},marginRight:{values:"spacing",shorthand:["mr"]},marginBottom:{values:"spacing",shorthand:["mb"]},marginBlockEnd:{values:"spacing"},marginLeft:{values:"spacing",shorthand:["ml"]},marginInlineStart:{values:"spacing",shorthand:["ms","marginStart"]},marginInlineEnd:{values:"spacing",shorthand:["me","marginEnd"]},marginInline:{values:"spacing",shorthand:["mx","marginX"]},marginBlock:{values:"spacing",shorthand:["my","marginY"]},padding:{values:"spacing",shorthand:["p"]},paddingTop:{values:"spacing",shorthand:["pt"]},paddingRight:{values:"spacing",shorthand:["pr"]},paddingBottom:{values:"spacing",shorthand:["pb"]},paddingBlockStart:{values:"spacing"},paddingBlockEnd:{values:"spacing"},paddingLeft:{values:"spacing",shorthand:["pl"]},paddingInlineStart:{values:"spacing",shorthand:["ps","paddingStart"]},paddingInlineEnd:{values:"spacing",shorthand:["pe","paddingEnd"]},paddingInline:{values:"spacing",shorthand:["px","paddingX"]},paddingBlock:{values:"spacing",shorthand:["py","paddingY"]},textDecoration:{shorthand:["textDecor"]},textDecorationColor:{values:qn,transform:Yn("textDecorationColor")},textShadow:{values:"shadows"},transform:{transform:t=>{let e=t;return t==="auto"&&(e="translateX(var(--translate-x, 0)) translateY(var(--translate-y, 0)) rotate(var(--rotate, 0)) scaleX(var(--scale-x, 1)) scaleY(var(--scale-y, 1)) skewX(var(--skew-x, 0)) skewY(var(--skew-y, 0))"),t==="auto-gpu"&&(e="translate3d(var(--translate-x, 0), var(--translate-y, 0), 0) rotate(var(--rotate, 0)) scaleX(var(--scale-x, 1)) scaleY(var(--scale-y, 1)) skewX(var(--skew-x, 0)) skewY(var(--skew-y, 0))"),{transform:e}}},skewX:{transform:t=>({"--skew-x":yd(t)})},skewY:{transform:t=>({"--skew-y":yd(t)})},scaleX:{transform:t=>({"--scale-x":t})},scaleY:{transform:t=>({"--scale-y":t})},scale:{transform(t){return t!=="auto"?{scale:t}:{scale:"var(--scale-x, 1) var(--scale-y, 1)"}}},spaceXReverse:{values:{type:"boolean"},transform(t){return{"& > :not(style, [hidden]) ~ :not(style, [hidden])":{"--space-x-reverse":t?"1":void 0}}}},spaceX:{property:"marginInlineStart",values:"spacing",transform:t=>({"& > :not(style, [hidden]) ~ :not(style, [hidden])":{"--space-x-reverse":"0",marginInlineStart:`calc(${t} * calc(1 - var(--space-x-reverse)))`,marginInlineEnd:`calc(${t} * var(--space-x-reverse))`}})},spaceYReverse:{values:{type:"boolean"},transform(t){return{"& > :not(style, [hidden]) ~ :not(style, [hidden])":{"--space-y-reverse":t?"1":void 0}}}},spaceY:{property:"marginTop",values:"spacing",transform:t=>({"& > :not(style, [hidden]) ~ :not(style, [hidden])":{"--space-y-reverse":"0",marginTop:`calc(${t} * calc(1 - var(--space-y-reverse)))`,marginBottom:`calc(${t} * var(--space-y-reverse))`}})},rotate:{transform(t){return t!=="auto"?{rotate:yd(t)}:{rotate:"var(--rotate-x, 0) var(--rotate-y, 0) var(--rotate-z, 0)"}}},rotateX:{transform(t){return{"--rotate-x":yd(t)}}},rotateY:{transform(t){return{"--rotate-y":yd(t)}}},translate:{transform(t){return t!=="auto"?{translate:t}:{translate:"var(--translate-x) var(--translate-y)"}}},translateX:{values:"spacing",transform:t=>({"--translate-x":t})},translateY:{values:"spacing",transform:t=>({"--translate-y":t})},transition:{values:["all","common","colors","opacity","position","backgrounds","size","shadow","transform"],transform(t){switch(t){case"all":return Fl("all");case"position":return Fl("left, right, top, bottom, inset-inline, inset-block");case"colors":return Fl("color, background-color, border-color, text-decoration-color, fill, stroke");case"opacity":return Fl("opacity");case"shadow":return Fl("box-shadow");case"transform":return Fl("transform");case"size":return Fl("width, height");case"backgrounds":return Fl("background, background-color, background-image, background-position");case"common":return Fl("color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, backdrop-filter");default:return{transition:t}}}},transitionDuration:{values:"durations"},transitionProperty:{values:{common:"background-color, border-color, color, fill, stroke, opacity, box-shadow, translate, transform",colors:"background-color, border-color, color, fill, stroke",size:"width, height",position:"left, right, top, bottom, inset-inline, inset-block",background:"background, background-color, background-image, background-position"}},transitionTimingFunction:{values:"easings"},animation:{values:"animations"},animationDuration:{values:"durations"},animationDelay:{values:"durations"},animationTimingFunction:{values:"easings"},fontFamily:{values:"fonts"},fontSize:{values:"fontSizes"},fontWeight:{values:"fontWeights"},lineHeight:{values:"lineHeights"},letterSpacing:{values:"letterSpacings"},textIndent:{values:"spacing"},truncate:{values:{type:"boolean"},transform(t){return t===!0?{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}:{}}},lineClamp:{transform(t){return t==="none"?{WebkitLineClamp:"unset"}:{overflow:"hidden",display:"-webkit-box",WebkitLineClamp:t,WebkitBoxOrient:"vertical",textWrap:"wrap"}}},srOnly:{values:{type:"boolean"},transform(t){return Z9[t]||{}}},debug:{values:{type:"boolean"},transform(t){return t?{outline:"1px solid blue !important","& > *":{outline:"1px solid red !important"}}:{}}},caretColor:{values:qn,transform:Yn("caretColor")},cursor:{values:"cursor"}}}),Z9={true:{position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"},false:{position:"static",width:"auto",height:"auto",padding:"0",margin:"0",overflow:"visible",clip:"auto",whiteSpace:"normal"}};var J9="",Q9=J9.split(","),e7="WebkitAppearance,WebkitBorderBefore,WebkitBorderBeforeColor,WebkitBorderBeforeStyle,WebkitBorderBeforeWidth,WebkitBoxReflect,WebkitLineClamp,WebkitMask,WebkitMaskAttachment,WebkitMaskClip,WebkitMaskComposite,WebkitMaskImage,WebkitMaskOrigin,WebkitMaskPosition,WebkitMaskPositionX,WebkitMaskPositionY,WebkitMaskRepeat,WebkitMaskRepeatX,WebkitMaskRepeatY,WebkitMaskSize,WebkitOverflowScrolling,WebkitTapHighlightColor,WebkitTextFillColor,WebkitTextStroke,WebkitTextStrokeColor,WebkitTextStrokeWidth,WebkitTouchCallout,WebkitUserModify,accentColor,alignContent,alignItems,alignSelf,alignTracks,all,animation,animationComposition,animationDelay,animationDirection,animationDuration,animationFillMode,animationIterationCount,animationName,animationPlayState,animationRange,animationRangeEnd,animationRangeStart,animationTimingFunction,animationTimeline,appearance,aspectRatio,azimuth,backdropFilter,backfaceVisibility,background,backgroundAttachment,backgroundBlendMode,backgroundClip,backgroundColor,backgroundImage,backgroundOrigin,backgroundPosition,backgroundPositionX,backgroundPositionY,backgroundRepeat,backgroundSize,blockSize,border,borderBlock,borderBlockColor,borderBlockStyle,borderBlockWidth,borderBlockEnd,borderBlockEndColor,borderBlockEndStyle,borderBlockEndWidth,borderBlockStart,borderBlockStartColor,borderBlockStartStyle,borderBlockStartWidth,borderBottom,borderBottomColor,borderBottomLeftRadius,borderBottomRightRadius,borderBottomStyle,borderBottomWidth,borderCollapse,borderColor,borderEndEndRadius,borderEndStartRadius,borderImage,borderImageOutset,borderImageRepeat,borderImageSlice,borderImageSource,borderImageWidth,borderInline,borderInlineEnd,borderInlineColor,borderInlineStyle,borderInlineWidth,borderInlineEndColor,borderInlineEndStyle,borderInlineEndWidth,borderInlineStart,borderInlineStartColor,borderInlineStartStyle,borderInlineStartWidth,borderLeft,borderLeftColor,borderLeftStyle,borderLeftWidth,borderRadius,borderRight,borderRightColor,borderRightStyle,borderRightWidth,borderSpacing,borderStartEndRadius,borderStartStartRadius,borderStyle,borderTop,borderTopColor,borderTopLeftRadius,borderTopRightRadius,borderTopStyle,borderTopWidth,borderWidth,bottom,boxAlign,boxDecorationBreak,boxDirection,boxFlex,boxFlexGroup,boxLines,boxOrdinalGroup,boxOrient,boxPack,boxShadow,boxSizing,breakAfter,breakBefore,breakInside,captionSide,caret,caretColor,caretShape,clear,clip,clipPath,color,colorScheme,columnCount,columnFill,columnGap,columnRule,columnRuleColor,columnRuleStyle,columnRuleWidth,columnSpan,columnWidth,columns,contain,containIntrinsicSize,containIntrinsicBlockSize,containIntrinsicHeight,containIntrinsicInlineSize,containIntrinsicWidth,container,containerName,containerType,content,contentVisibility,counterIncrement,counterReset,counterSet,cursor,direction,display,emptyCells,filter,flex,flexBasis,flexDirection,flexFlow,flexGrow,flexShrink,flexWrap,float,font,fontFamily,fontFeatureSettings,fontKerning,fontLanguageOverride,fontOpticalSizing,fontPalette,fontVariationSettings,fontSize,fontSizeAdjust,fontSmooth,fontStretch,fontStyle,fontSynthesis,fontSynthesisPosition,fontSynthesisSmallCaps,fontSynthesisStyle,fontSynthesisWeight,fontVariant,fontVariantAlternates,fontVariantCaps,fontVariantEastAsian,fontVariantEmoji,fontVariantLigatures,fontVariantNumeric,fontVariantPosition,fontWeight,forcedColorAdjust,gap,grid,gridArea,gridAutoColumns,gridAutoFlow,gridAutoRows,gridColumn,gridColumnEnd,gridColumnGap,gridColumnStart,gridGap,gridRow,gridRowEnd,gridRowGap,gridRowStart,gridTemplate,gridTemplateAreas,gridTemplateColumns,gridTemplateRows,hangingPunctuation,height,hyphenateCharacter,hyphenateLimitChars,hyphens,imageOrientation,imageRendering,imageResolution,imeMode,initialLetter,initialLetterAlign,inlineSize,inputSecurity,inset,insetBlock,insetBlockEnd,insetBlockStart,insetInline,insetInlineEnd,insetInlineStart,isolation,justifyContent,justifyItems,justifySelf,justifyTracks,left,letterSpacing,lineBreak,lineClamp,lineHeight,lineHeightStep,listStyle,listStyleImage,listStylePosition,listStyleType,margin,marginBlock,marginBlockEnd,marginBlockStart,marginBottom,marginInline,marginInlineEnd,marginInlineStart,marginLeft,marginRight,marginTop,marginTrim,mask,maskBorder,maskBorderMode,maskBorderOutset,maskBorderRepeat,maskBorderSlice,maskBorderSource,maskBorderWidth,maskClip,maskComposite,maskImage,maskMode,maskOrigin,maskPosition,maskRepeat,maskSize,maskType,masonryAutoFlow,mathDepth,mathShift,mathStyle,maxBlockSize,maxHeight,maxInlineSize,maxLines,maxWidth,minBlockSize,minHeight,minInlineSize,minWidth,mixBlendMode,objectFit,objectPosition,offset,offsetAnchor,offsetDistance,offsetPath,offsetPosition,offsetRotate,opacity,order,orphans,outline,outlineColor,outlineOffset,outlineStyle,outlineWidth,overflow,overflowAnchor,overflowBlock,overflowClipBox,overflowClipMargin,overflowInline,overflowWrap,overflowX,overflowY,overlay,overscrollBehavior,overscrollBehaviorBlock,overscrollBehaviorInline,overscrollBehaviorX,overscrollBehaviorY,padding,paddingBlock,paddingBlockEnd,paddingBlockStart,paddingBottom,paddingInline,paddingInlineEnd,paddingInlineStart,paddingLeft,paddingRight,paddingTop,page,pageBreakAfter,pageBreakBefore,pageBreakInside,paintOrder,perspective,perspectiveOrigin,placeContent,placeItems,placeSelf,pointerEvents,position,printColorAdjust,quotes,resize,right,rotate,rowGap,rubyAlign,rubyMerge,rubyPosition,scale,scrollbarColor,scrollbarGutter,scrollbarWidth,scrollBehavior,scrollMargin,scrollMarginBlock,scrollMarginBlockStart,scrollMarginBlockEnd,scrollMarginBottom,scrollMarginInline,scrollMarginInlineStart,scrollMarginInlineEnd,scrollMarginLeft,scrollMarginRight,scrollMarginTop,scrollPadding,scrollPaddingBlock,scrollPaddingBlockStart,scrollPaddingBlockEnd,scrollPaddingBottom,scrollPaddingInline,scrollPaddingInlineStart,scrollPaddingInlineEnd,scrollPaddingLeft,scrollPaddingRight,scrollPaddingTop,scrollSnapAlign,scrollSnapCoordinate,scrollSnapDestination,scrollSnapPointsX,scrollSnapPointsY,scrollSnapStop,scrollSnapType,scrollSnapTypeX,scrollSnapTypeY,scrollTimeline,scrollTimelineAxis,scrollTimelineName,shapeImageThreshold,shapeMargin,shapeOutside,tabSize,tableLayout,textAlign,textAlignLast,textCombineUpright,textDecoration,textDecorationColor,textDecorationLine,textDecorationSkip,textDecorationSkipInk,textDecorationStyle,textDecorationThickness,textEmphasis,textEmphasisColor,textEmphasisPosition,textEmphasisStyle,textIndent,textJustify,textOrientation,textOverflow,textRendering,textShadow,textSizeAdjust,textTransform,textUnderlineOffset,textUnderlinePosition,textWrap,timelineScope,top,touchAction,transform,transformBox,transformOrigin,transformStyle,transition,transitionBehavior,transitionDelay,transitionDuration,transitionProperty,transitionTimingFunction,translate,unicodeBidi,userSelect,verticalAlign,viewTimeline,viewTimelineAxis,viewTimelineInset,viewTimelineName,viewTransitionName,visibility,whiteSpace,whiteSpaceCollapse,widows,width,willChange,wordBreak,wordSpacing,wordWrap,writingMode,zIndex,zoom,alignmentBaseline,baselineShift,clipRule,colorInterpolation,colorRendering,dominantBaseline,fill,fillOpacity,fillRule,floodColor,floodOpacity,glyphOrientationVertical,lightingColor,marker,markerEnd,markerMid,markerStart,shapeRendering,stopColor,stopOpacity,stroke,strokeDasharray,strokeDashoffset,strokeLinecap,strokeLinejoin,strokeMiterlimit,strokeOpacity,strokeWidth,textAnchor,vectorEffect",t7=e7.split(",").concat(Q9),n7=new Map(t7.map(t=>[t,!0]));function r7(t){const e=Object.create(null);return n=>(e[n]===void 0&&(e[n]=t(n)),e[n])}var i7=/&|@/,o7=r7(t=>n7.has(t)||t.startsWith("--")||i7.test(t));const s7=t=>t!=null;function uc(t,e,n={}){const{stop:r,getKey:i}=n;function o(s,a=[]){if(Oo(s)||Array.isArray(s)){const c={};for(const[d,f]of Object.entries(s)){const m=(i==null?void 0:i(d,f))??d,g=[...a,m];if(r!=null&&r(s,g))return e(s,a);const y=o(f,g);s7(y)&&(c[m]=y)}return c}return e(s,a)}return o(t)}function hD(t,e){return Array.isArray(t)?t.map(n=>e(n)):Oo(t)?uc(t,n=>e(n)):t!=null?e(t):t}function a7(t,e){const n={};return uc(t,(r,i)=>{r&&(n[i.join(".")]=r.value)},{stop:e}),n}var fS,NP;function l7(){if(NP)return fS;NP=1,fS=o,o.default=o,o.stable=d,o.stableStringify=d;var t="[...]",e="[Circular]",n=[],r=[];function i(){return{depthLimit:Number.MAX_SAFE_INTEGER,edgesLimit:Number.MAX_SAFE_INTEGER}}function o(g,y,x,S){typeof S>"u"&&(S=i()),a(g,"",0,[],void 0,0,S);var _;try{r.length===0?_=JSON.stringify(g,y,x):_=JSON.stringify(g,m(y),x)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;n.length!==0;){var b=n.pop();b.length===4?Object.defineProperty(b[0],b[1],b[3]):b[0][b[1]]=b[2]}}return _}function s(g,y,x,S){var _=Object.getOwnPropertyDescriptor(S,x);_.get!==void 0?_.configurable?(Object.defineProperty(S,x,{value:g}),n.push([S,x,y,_])):r.push([y,x,g]):(S[x]=g,n.push([S,x,y]))}function a(g,y,x,S,_,b,C){b+=1;var T;if(typeof g=="object"&&g!==null){for(T=0;T<S.length;T++)if(S[T]===g){s(e,g,y,_);return}if(typeof C.depthLimit<"u"&&b>C.depthLimit){s(t,g,y,_);return}if(typeof C.edgesLimit<"u"&&x+1>C.edgesLimit){s(t,g,y,_);return}if(S.push(g),Array.isArray(g))for(T=0;T<g.length;T++)a(g[T],T,T,S,g,b,C);else{var A=Object.keys(g);for(T=0;T<A.length;T++){var P=A[T];a(g[P],P,T,S,g,b,C)}}S.pop()}}function c(g,y){return g<y?-1:g>y?1:0}function d(g,y,x,S){typeof S>"u"&&(S=i());var _=f(g,"",0,[],void 0,0,S)||g,b;try{r.length===0?b=JSON.stringify(_,y,x):b=JSON.stringify(_,m(y),x)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;n.length!==0;){var C=n.pop();C.length===4?Object.defineProperty(C[0],C[1],C[3]):C[0][C[1]]=C[2]}}return b}function f(g,y,x,S,_,b,C){b+=1;var T;if(typeof g=="object"&&g!==null){for(T=0;T<S.length;T++)if(S[T]===g){s(e,g,y,_);return}try{if(typeof g.toJSON=="function")return}catch{return}if(typeof C.depthLimit<"u"&&b>C.depthLimit){s(t,g,y,_);return}if(typeof C.edgesLimit<"u"&&x+1>C.edgesLimit){s(t,g,y,_);return}if(S.push(g),Array.isArray(g))for(T=0;T<g.length;T++)f(g[T],T,T,S,g,b,C);else{var A={},P=Object.keys(g).sort(c);for(T=0;T<P.length;T++){var R=P[T];f(g[R],R,T,S,g,b,C),A[R]=g[R]}if(typeof _<"u")n.push([_,y,g]),_[y]=A;else return A}S.pop()}}function m(g){return g=typeof g<"u"?g:function(y,x){return x},function(y,x){if(r.length>0)for(var S=0;S<r.length;S++){var _=r[S];if(_[1]===y&&_[0]===x){x=_[2],r.splice(S,1);break}}return g.call(this,y,x)}}return fS}var c7=l7();const u7=wu(c7),ha=t=>{const e=Object.create(null);function n(...r){const i=r.map(o=>u7(o)).join("|");return e[i]===void 0&&(e[i]=t(...r)),e[i]}return n},pD=16,Hx="px",lM="em",Og="rem";function mD(t=""){const e=new RegExp(String.raw`-?\d+(?:\.\d+|\d*)`),n=new RegExp(`${Hx}|${lM}|${Og}`),r=t.match(new RegExp(`${e.source}(${n.source})`));return r==null?void 0:r[1]}function gD(t=""){if(typeof t=="number")return`${t}px`;const e=mD(t);if(!e||e===Hx)return t;if(e===lM||e===Og)return`${parseFloat(t)*pD}${Hx}`}function vD(t=""){const e=mD(t);if(!e||e===Og)return t;if(e===lM)return`${parseFloat(t)}${Og}`;if(e===Hx)return`${parseFloat(t)/pD}${Og}`}const d7=t=>t.charAt(0).toUpperCase()+t.slice(1);function f7(t){const e=h7(t),n=Object.fromEntries(e);function r(g){return n[g]}function i(g){return wh(r(g))}function o(){const g=Object.keys(n),y=p7(g),x=g.flatMap(S=>{const _=r(S),b=[`${S}Down`,wh({max:Sx(_.min)})],C=[S,wh({min:_.min})],T=[`${S}Only`,i(S)];return[C,T,b]}).filter(([,S])=>S!=="").concat(y.map(([S,_])=>{const b=r(S),C=r(_);return[`${S}To${d7(_)}`,wh({min:b.min,max:Sx(C.min)})]}));return Object.fromEntries(x)}function s(){const g=o();return Object.fromEntries(Object.entries(g))}const a=s(),c=g=>a[g];function d(){return["base",...Object.keys(n)]}function f(g){return wh({min:r(g).min})}function m(g){return wh({max:Sx(r(g).min)})}return{values:Object.values(n),only:i,keys:d,conditions:a,getCondition:c,up:f,down:m}}function Sx(t){const e=parseFloat(gD(t)??"")-.04;return vD(`${e}px`)}function h7(t){return Object.entries(t).sort(([,n],[,r])=>parseInt(n,10)<parseInt(r,10)?-1:1).map(([n,r],i,o)=>{var a;let s=null;return i<=o.length-1&&(s=(a=o[i+1])==null?void 0:a[1]),s!=null&&(s=Sx(s)),[n,{name:n,min:vD(r),max:s}]})}function p7(t){const e=[];return t.forEach((n,r)=>{let i=r;i++;let o=t[i];for(;o;)e.push([n,o]),i++,o=t[i]}),e}function wh({min:t,max:e}){return t==null&&e==null?"":["@media screen",t&&`(min-width: ${t})`,e&&`(max-width: ${e})`].filter(Boolean).join(" and ")}const m7=(t,e)=>Object.fromEntries(Object.entries(t).map(([n,r])=>e(n,r))),g7=t=>{const{breakpoints:e,conditions:n={}}=t,r=m7(n,(f,m)=>[`_${f}`,m]),i=Object.assign({},r,e.conditions);function o(){return Object.keys(i)}function s(f){return o().includes(f)||/^@|&|&$/.test(f)||f.startsWith("_")}function a(f){return f.filter(m=>m!=="base").sort((m,g)=>{const y=s(m),x=s(g);return y&&!x?1:!y&&x?-1:0})}function c(f){return f.startsWith("@breakpoint")?e.getCondition(f.replace("@breakpoint ","")):f}function d(f){return Reflect.get(i,f)||f}return{keys:o,sort:a,has:s,resolve:d,breakpoints:e.keys(),expandAtRule:c}},yD=t=>({minMax:new RegExp(`(!?\\(\\s*min(-device-)?-${t})(.|
)+\\(\\s*max(-device)?-${t}`,"i"),min:new RegExp(`\\(\\s*min(-device)?-${t}`,"i"),maxMin:new RegExp(`(!?\\(\\s*max(-device)?-${t})(.|
)+\\(\\s*min(-device)?-${t}`,"i"),max:new RegExp(`\\(\\s*max(-device)?-${t}`,"i")}),v7=yD("width"),y7=yD("height"),xD=t=>({isMin:VP(t.minMax,t.maxMin,t.min),isMax:VP(t.maxMin,t.minMax,t.max)}),{isMin:wE,isMax:DP}=xD(v7),{isMin:EE,isMax:FP}=xD(y7),zP=/print/i,UP=/^print$/i,x7=/(-?\d*\.?\d+)(ch|em|ex|px|rem)/,b7=/(\d)/,Eg=Number.MAX_VALUE,_7={ch:8.8984375,em:16,rem:16,ex:8.296875,px:1};function BP(t){const e=x7.exec(t)||(wE(t)||EE(t)?b7.exec(t):null);if(!e)return Eg;if(e[0]==="0")return 0;const n=parseFloat(e[1]),r=e[2];return n*(_7[r]||1)}function VP(t,e,n){return r=>t.test(r)||!e.test(r)&&n.test(r)}function S7(t,e){const n=zP.test(t),r=UP.test(t),i=zP.test(e),o=UP.test(e);return n&&i?!r&&o?1:r&&!o?-1:t.localeCompare(e):n?1:i?-1:null}const w7=ha((t,e)=>{const n=S7(t,e);if(n!==null)return n;const r=wE(t)||EE(t),i=DP(t)||FP(t),o=wE(e)||EE(e),s=DP(e)||FP(e);if(r&&s)return-1;if(i&&o)return 1;const a=BP(t),c=BP(e);return a===Eg&&c===Eg?t.localeCompare(e):a===Eg?1:c===Eg?-1:a!==c?a>c?i?-1:1:i?1:-1:t.localeCompare(e)});function $P(t){return t.sort(([e],[n])=>w7(e,n))}function bD(t){const e=[],n=[],r={};for(const[s,a]of Object.entries(t))s.startsWith("@media")?e.push([s,a]):s.startsWith("@container")?n.push([s,a]):Oo(a)?r[s]=bD(a):r[s]=a;const i=$P(e),o=$P(n);return{...r,...Object.fromEntries(i),...Object.fromEntries(o)}}const _D=/\s*!(important)?/i,E7=t=>Is(t)?_D.test(t):!1,C7=t=>Is(t)?t.replace(_D,"").trim():t;function SD(t){const{transform:e,conditions:n,normalize:r}=t,i=P7(t);return ha(function(...s){const a=i(...s),c=r(a),d=Object.create(null);return uc(c,(f,m)=>{const g=E7(f);if(f==null)return;const[y,...x]=n.sort(m).map(n.resolve);g&&(f=C7(f));let S=e(y,f)??Object.create(null);S=uc(S,_=>Is(_)&&g?`${_} !important`:_,{getKey:_=>n.expandAtRule(_)}),M7(d,x.flat(),S)}),bD(d)})}function M7(t,e,n){let r=t;for(const i of e)i&&(r[i]||(r[i]=Object.create(null)),r=r[i]);Bp(r,n)}function T7(...t){return t.filter(e=>Oo(e)&&Object.keys(Pv(e)).length>0)}function P7(t){function e(n){const r=T7(...n);return r.length===1?r:r.map(i=>t.normalize(i))}return ha(function(...r){return Bp({},...e(r))})}const R7=(...t)=>{const e=t.filter(Boolean);return Array.from(new Set(e))},wD=t=>({base:{},variants:{},defaultVariants:{},compoundVariants:[],...t});function A7(t){const{css:e,conditions:n,normalize:r,layers:i}=t;function o(a={}){const{base:c,variants:d,defaultVariants:f,compoundVariants:m}=wD(a),g=SD({conditions:n,normalize:r,transform(C,T){var A;return(A=d[C])==null?void 0:A[T]}}),y=(C={})=>{const T=r({...f,...Pv(C)});let A={...c};Bp(A,g(T));const P=s(m,T);return i.wrap("recipes",e(A,P))},x=Object.keys(d),S=C=>{const T=sM(C,["recipe"]),[A,P]=fp(T,x);return x.includes("colorPalette")||(A.colorPalette=C.colorPalette||f.colorPalette),x.includes("orientation")&&(P.orientation=C.orientation),[A,P]},_=Object.fromEntries(Object.entries(d).map(([C,T])=>[C,Object.keys(T)]));return Object.assign(C=>e(y(C)),{className:a.className,__cva__:!0,variantMap:_,variantKeys:x,raw:y,config:a,splitVariantProps:S,merge(C){return o(I7(t)(this,C))}})}function s(a,c){let d={};return a.forEach(f=>{Object.entries(f).every(([g,y])=>g==="css"?!0:(Array.isArray(y)?y:[y]).some(S=>c[g]===S))&&(d=e(d,f.css))}),d}return o}function I7(t){const{css:e}=t;return function(r,i){const o=wD(i.config),s=R7(r.variantKeys,Object.keys(i.variants)),a=e(r.base,o.base),c=Object.fromEntries(s.map(g=>[g,e(r.config.variants[g],o.variants[g])])),d=Bp(r.config.defaultVariants,o.defaultVariants),f=[...r.compoundVariants,...o.compoundVariants];return{className:ho(r.className,i.className),base:a,variants:c,defaultVariants:d,compoundVariants:f}}}const k7={reset:"reset",base:"base",tokens:"tokens",recipes:"recipes"},HP={reset:0,base:1,tokens:2,recipes:3};function O7(t){const e=t.layers??k7,r=Object.values(e).sort((i,o)=>HP[i]-HP[o]);return{names:r,atRule:`@layer ${r.join(", ")};`,wrap(i,o){return t.disableLayers?o:{[`@layer ${e[i]}`]:o}}}}function L7(t){const{utility:e,normalize:n}=t,{hasShorthand:r,resolveShorthand:i}=e;return function(o){return uc(o,n,{stop:s=>Array.isArray(s),getKey:r?i:void 0})}}function N7(t){const{preflight:e}=t;if(!e)return{};const{scope:n="",level:r="parent"}=Oo(e)?e:{};let i="";n&&r==="parent"?i=`${n} `:n&&r==="element"&&(i=`&${n}`);const o={"*":{margin:"0px",padding:"0px",font:"inherit",wordWrap:"break-word",WebkitTapHighlightColor:"transparent"},"*, *::before, *::after, *::backdrop":{boxSizing:"border-box",borderWidth:"0px",borderStyle:"solid",borderColor:"var(--global-color-border, currentColor)"},hr:{height:"0px",color:"inherit",borderTopWidth:"1px"},body:{minHeight:"100dvh",position:"relative"},img:{borderStyle:"none"},"img, svg, video, canvas, audio, iframe, embed, object":{display:"block",verticalAlign:"middle"},iframe:{border:"none"},"img, video":{maxWidth:"100%",height:"auto"},"p, h1, h2, h3, h4, h5, h6":{overflowWrap:"break-word"},"ol, ul":{listStyle:"none"},"code, kbd, pre, samp":{fontSize:"1em"},"button, [type='button'], [type='reset'], [type='submit']":{WebkitAppearance:"button",backgroundColor:"transparent",backgroundImage:"none"},"button, input, optgroup, select, textarea":{color:"inherit"},"button, select":{textTransform:"none"},table:{textIndent:"0px",borderColor:"inherit",borderCollapse:"collapse"},"*::placeholder":{opacity:"unset",color:"#9ca3af",userSelect:"none"},textarea:{resize:"vertical"},summary:{display:"list-item"},small:{fontSize:"80%"},"sub, sup":{fontSize:"75%",lineHeight:0,position:"relative",verticalAlign:"baseline"},sub:{bottom:"-0.25em"},sup:{top:"-0.5em"},dialog:{padding:"0px"},a:{color:"inherit",textDecoration:"inherit"},"abbr:where([title])":{textDecoration:"underline dotted"},"b, strong":{fontWeight:"bolder"},"code, kbd, samp, pre":{fontSize:"1em","--font-mono-fallback":"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, 'Liberation Mono', 'Courier New'",fontFamily:"var(--global-font-mono, var(--font-mono-fallback))"},'input[type="text"], input[type="email"], input[type="search"], input[type="password"]':{WebkitAppearance:"none",MozAppearance:"none"},"input[type='search']":{WebkitAppearance:"textfield",outlineOffset:"-2px"},"::-webkit-search-decoration, ::-webkit-search-cancel-button":{WebkitAppearance:"none"},"::-webkit-file-upload-button":{WebkitAppearance:"button",font:"inherit"},'input[type="number"]::-webkit-inner-spin-button, input[type="number"]::-webkit-outer-spin-button':{height:"auto"},"input[type='number']":{MozAppearance:"textfield"},":-moz-ui-invalid":{boxShadow:"none"},":-moz-focusring":{outline:"auto"},"[hidden]:where(:not([hidden='until-found']))":{display:"none !important"}},s={[n||"html"]:{lineHeight:1.5,"--font-fallback":"ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, 'Noto Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji'",WebkitTextSizeAdjust:"100%",WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",textRendering:"optimizeLegibility",touchAction:"manipulation",MozTabSize:"4",tabSize:"4",fontFamily:"var(--global-font-body, var(--font-fallback))"}};if(r==="element"){const a=Object.entries(o).reduce((c,[d,f])=>(c[d]={[i]:f},c),{});Object.assign(s,a)}else i?s[i]=o:Object.assign(s,o);return s}function D7(t){const{conditions:e,isValidProperty:n}=t;return function(i){return uc(i,o=>o,{getKey:(o,s)=>Oo(s)&&!e.has(o)&&!n(o)?F7(o).map(a=>"&"+a).join(", "):o})}}function F7(t){const e=[];let n=0,r="",i=!1;for(let o=0;o<t.length;o++){const s=t[o];if(s==="\\"&&!i){i=!0,r+=s;continue}if(i){i=!1,r+=s;continue}s==="("?n++:s===")"&&n--,s===","&&n===0?(e.push(r.trim()),r=""):r+=s}return r&&e.push(r.trim()),e}const z7=(t={})=>{const e=i=>{var o;return{base:((o=t.base)==null?void 0:o[i])??{},variants:{},defaultVariants:t.defaultVariants??{},compoundVariants:t.compoundVariants?U7(t.compoundVariants,i):[]}},r=(t.slots??[]).map(i=>[i,e(i)]);for(const[i,o]of Object.entries(t.variants??{}))for(const[s,a]of Object.entries(o))r.forEach(([c,d])=>{var f;(f=d.variants)[i]??(f[i]={}),d.variants[i][s]=a[c]??{}});return Object.fromEntries(r)},U7=(t,e)=>t.filter(n=>n.css[e]).map(n=>({...n,css:n.css[e]}));function B7(t){const{cva:e}=t;return function(r={}){const i=Object.entries(z7(r)).map(([m,g])=>[m,e(g)]);function o(m){const g=i.map(([y,x])=>[y,x(m)]);return Object.fromEntries(g)}const s=r.variants??{},a=Object.keys(s);function c(m){var S;const g=sM(m,["recipe"]),[y,x]=fp(g,a);return a.includes("colorPalette")||(y.colorPalette=m.colorPalette||((S=r.defaultVariants)==null?void 0:S.colorPalette)),a.includes("orientation")&&(x.orientation=m.orientation),[y,x]}const d=Object.fromEntries(Object.entries(s).map(([m,g])=>[m,Object.keys(g)]));let f={};return r.className&&(f=Object.fromEntries(r.slots.map(m=>[m,`${r.className}__${m}`]))),Object.assign(o,{variantMap:d,variantKeys:a,splitVariantProps:c,classNameMap:f})}}const V7=()=>t=>Array.from(new Set(t)),$7=/([\0-\x1f\x7f]|^-?\d)|^-$|^-|[^\x80-\uFFFF\w-]/g,H7=function(t,e){return e?t==="\0"?"":t==="-"&&t.length===1?"\\-":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16):"\\"+t},ED=t=>(t+"").replace($7,H7),CD=(t,e)=>{let n="",r=0,i="char",o="",s="";const a=[];for(;r<t.length;){const c=t[r];if(c==="{"){const f=t.indexOf("}",r);if(f===-1)break;const m=t.slice(r+1,f),g=e(m);n+=g??m,r=f+1;continue}if(i==="token"&&c===","){t[r]===""&&r++,i="fallback",a.push(i);const f=e(o);f!=null&&f.endsWith(")")&&(n+=f.slice(0,-1)),o="",s="";continue}if(i==="fallback"&&s+c===", var("){const g=W7(t.slice(r+1))+r+1,y=t.slice(r+1,g);if(g===-1)break;n+=", var("+y+")",r=g+1,i=a.pop()??i,s="";continue}if(i==="token"||i==="fallback"){if(r++,c===")"){i=a.pop()??i??"char",s+=c;const f=o&&(e(o)??ED(o));if(s){if(s=s.slice(1).trim(),!s.startsWith("token(")&&s.endsWith(")")&&(s=s.slice(0,-1)),s.includes("token(")){const g=CD(s,e);g&&(s=g.slice(0,-1))}else if(s){const g=e(s);g&&(s=g)}}const m=n.at(-1);s?m!=null&&m.trim()?n+=f.slice(0,-1)+(", "+s+")"):n+=s:n+=f||")",o="",s="",i="char";continue}i==="token"&&(o+=c),i==="fallback"&&(s+=c);continue}const d=t.indexOf("token(",r);if(d!==-1){const f=d+6;n+=t.slice(r,d),r=f,i="token",a.push(i);continue}n+=c,r++}return n},W7=t=>{let e=0;const n=["("];for(;e<t.length;){const r=t[e];if(r==="(")n.push(r);else if(r===")"&&(n.pop(),n.length===0))return e;e++}return e};function MD(t){const e={};return t.forEach((n,r)=>{n instanceof Map?e[r]=Object.fromEntries(n):e[r]=n}),e}const TD=/({([^}]*)})/g,G7=/[{}]/g,j7=/\w+\.\w+/,PD=t=>{if(!Is(t))return[];const e=t.match(TD);return e?e.map(n=>n.replace(G7,"")).map(n=>n.trim()):[]},X7=t=>TD.test(t);function RD(t){var n,r,i;if(!((n=t.extensions)!=null&&n.references))return((i=(r=t.extensions)==null?void 0:r.cssVar)==null?void 0:i.ref)??t.value;const e=t.extensions.references??{};return t.value=Object.keys(e).reduce((o,s)=>{const a=e[s];if(a.extensions.conditions)return o;const c=RD(a);return o.replace(`{${s}}`,c)},t.value),delete t.extensions.references,t.value}function AD(t){return Oo(t)&&t.reference?t.reference:String(t)}const vb=(t,...e)=>e.map(AD).join(` ${t} `).replace(/calc/g,""),WP=(...t)=>`calc(${vb("+",...t)})`,GP=(...t)=>`calc(${vb("-",...t)})`,CE=(...t)=>`calc(${vb("*",...t)})`,jP=(...t)=>`calc(${vb("/",...t)})`,XP=t=>{const e=AD(t);return e!=null&&!Number.isNaN(parseFloat(e))?String(e).startsWith("-")?String(e).slice(1):`-${e}`:CE(e,-1)},Jh=Object.assign(t=>({add:(...e)=>Jh(WP(t,...e)),subtract:(...e)=>Jh(GP(t,...e)),multiply:(...e)=>Jh(CE(t,...e)),divide:(...e)=>Jh(jP(t,...e)),negate:()=>Jh(XP(t)),toString:()=>t.toString()}),{add:WP,subtract:GP,multiply:CE,divide:jP,negate:XP}),q7={enforce:"pre",transform(t){const{prefix:e,allTokens:n,formatCssVar:r,formatTokenName:i,registerToken:o}=t;n.filter(({extensions:a})=>a.category==="spacing").forEach(a=>{const c=a.path.slice(),d=r(c,e);if(Is(a.value)&&a.value==="0rem")return;const f=structuredClone(a);Object.assign(f.extensions,{negative:!0,prop:`-${a.extensions.prop}`,originalPath:c}),f.value=Jh.negate(d.ref);const m=f.path[f.path.length-1];m!=null&&(f.path[f.path.length-1]=`-${m}`),f.path&&(f.name=i(f.path)),o(f)})}},Y7=new Set(["spacing","sizes","borderWidths","fontSizes","radii"]),K7={enforce:"post",transform(t){t.allTokens.filter(n=>Y7.has(n.extensions.category)&&!n.extensions.negative).forEach(n=>{Object.assign(n.extensions,{pixelValue:gD(n.value)})})}},Z7={enforce:"post",transform(t){const{allTokens:e,registerToken:n,formatTokenName:r}=t,i=e.filter(({extensions:a})=>a.category==="colors"),o=new Map,s=new Map;i.forEach(a=>{const{colorPalette:c}=a.extensions;c&&(c.keys.forEach(d=>{o.set(r(d),d)}),c.roots.forEach(d=>{var g;const f=r(d),m=s.get(f)||[];if(m.push(a),s.set(f,m),a.extensions.default&&d.length===1){const y=(g=c.keys[0])==null?void 0:g.filter(Boolean);if(!y.length)return;const x=d.concat(y);o.set(r(x),[])}}))}),o.forEach(a=>{const c=["colors","colorPalette",...a].filter(Boolean),d=r(c),f=r(c.slice(1));n({name:d,value:d,originalValue:d,path:c,extensions:{condition:"base",originalPath:c,category:"colors",prop:f,virtual:!0}},"pre")})}},J7={enforce:"post",transform(t){t.allTokens=t.allTokens.filter(e=>e.value!=="")}},Q7=[q7,Z7,K7,J7],eG={type:"extensions",enforce:"pre",name:"tokens/css-var",transform(t,e){const{prefix:n,formatCssVar:r}=e,{negative:i,originalPath:o}=t.extensions,s=i?o:t.path;return{cssVar:r(s.filter(Boolean),n)}}},tG={enforce:"post",type:"value",name:"tokens/conditionals",transform(t,e){const{prefix:n,formatCssVar:r}=e,i=PD(t.value);return i.length&&i.forEach(o=>{const s=r(o.split("."),n);t.value=t.value.replace(`{${s.ref}}`,s)}),t.value}},nG={type:"extensions",enforce:"pre",name:"tokens/colors/colorPalette",match(t){return t.extensions.category==="colors"&&!t.extensions.virtual},transform(t,e){let n=t.path.slice();if(n.pop(),n.shift(),n.length===0){const a=[...t.path];a.shift(),n=a}if(n.length===0)return{};const r=n.reduce((a,c,d,f)=>{const m=f.slice(0,d+1);return a.push(m),a},[]),i=n[0],o=e.formatTokenName(n),s=t.path.slice(t.path.indexOf(i)+1).reduce((a,c,d,f)=>(a.push(f.slice(d)),a),[]);return s.length===0&&s.push([""]),{colorPalette:{value:o,roots:r,keys:s}}}},rG=[eG,tG,nG],qP=t=>Oo(t)&&Object.prototype.hasOwnProperty.call(t,"value");function iG(t){return t?{breakpoints:hD(t,e=>({value:e})),sizes:Object.fromEntries(Object.entries(t).map(([e,n])=>[`breakpoint-${e}`,{value:n}]))}:{breakpoints:{},sizes:{}}}function oG(t){const{prefix:e="",tokens:n={},semanticTokens:r={},breakpoints:i={}}=t,o=ge=>ge.join("."),s=(ge,be)=>fD(ge.join("-"),{prefix:be}),a=[],c=new Map,d=new Map,f=new Map,m=new Map,g=new Map,y=new Map,x=new Map,S=new Map,_=[];function b(ge,be){a.push(ge),c.set(ge.name,ge),be&&S.forEach(Fe=>{Fe.enforce===be&&Z(Fe,ge)})}const C=iG(i),T=Pv({...n,breakpoints:C.breakpoints,sizes:{...n.sizes,...C.sizes}});function A(){uc(T,(ge,be)=>{const Fe=be.includes("DEFAULT");be=YP(be);const Ye=be[0],at=o(be),Ge=Is(ge)?{value:ge}:ge,q={value:Ge.value,originalValue:Ge.value,name:at,path:be,extensions:{condition:"base",originalPath:be,category:Ye,prop:o(be.slice(1))}};Fe&&(q.extensions.default=!0),b(q)},{stop:qP}),uc(r,(ge,be)=>{const Fe=be.includes("DEFAULT");be=ID(YP(be));const Ye=be[0],at=o(be),Ge=Is(ge.value)?{value:{base:ge.value}}:ge,q={value:Ge.value.base||"",originalValue:Ge.value.base||"",name:at,path:be,extensions:{originalPath:be,category:Ye,conditions:Ge.value,condition:"base",prop:o(be.slice(1))}};Fe&&(q.extensions.default=!0),b(q)},{stop:qP})}function P(ge){return c.get(ge)}function R(ge){const{condition:be}=ge.extensions;be&&(d.has(be)||d.set(be,new Set),d.get(be).add(ge))}function k(ge){const{category:be,prop:Fe}=ge.extensions;be&&(x.has(be)||x.set(be,new Map),x.get(be).set(Fe,ge))}function z(ge){const{condition:be,negative:Fe,virtual:Ye,cssVar:at}=ge.extensions;Fe||Ye||!be||!at||(f.has(be)||f.set(be,new Map),f.get(be).set(at.var,ge.value))}function L(ge){const{category:be,prop:Fe,cssVar:Ye,negative:at}=ge.extensions;if(!be)return;y.has(be)||y.set(be,new Map);const Ge=at?ge.extensions.conditions?ge.originalValue:ge.value:Ye.ref;y.get(be).set(Fe,Ge),g.set([be,Fe].join("."),Ge)}function O(ge){const{colorPalette:be,virtual:Fe,default:Ye}=ge.extensions;!be||Fe||be.roots.forEach(at=>{var ze;const Ge=o(at);m.has(Ge)||m.set(Ge,new Map);const q=aG([...ge.path],[...at]),Xe=o(q),Ve=P(Xe);if(!Ve||!Ve.extensions.cssVar)return;const{var:He}=Ve.extensions.cssVar;if(m.get(Ge).set(He,ge.extensions.cssVar.ref),Ye&&at.length===1){const ot=o(["colors","colorPalette"]),Be=P(ot);if(!Be)return;const Y=o(ge.path),$=P(Y);if(!$)return;const re=(ze=be.keys[0])==null?void 0:ze.filter(Boolean);if(!re.length)return;const pe=o(at.concat(re));m.has(pe)||m.set(pe,new Map),m.get(pe).set(Be.extensions.cssVar.var,$.extensions.cssVar.ref)}})}let B={};function j(){a.forEach(ge=>{R(ge),k(ge),z(ge),L(ge),O(ge)}),B=MD(y)}const X=(ge,be)=>{var Ve;if(!ge||typeof ge!="string")return{invalid:!0,value:ge};const[Fe,Ye]=ge.split("/");if(!Fe||!Ye)return{invalid:!0,value:Fe};const at=be(Fe),Ge=(Ve=P(`opacity.${Ye}`))==null?void 0:Ve.value;if(!Ge&&isNaN(Number(Ye)))return{invalid:!0,value:Fe};const q=Ge?Number(Ge)*100+"%":`${Ye}%`,Xe=at??Fe;return{invalid:!1,color:Xe,value:`color-mix(in srgb, ${Xe} ${q}, transparent)`}},ee=ha((ge,be)=>g.get(ge)??be),K=ha(ge=>B[ge]||null),ne=ha(ge=>CD(ge,be=>{if(!be)return;if(be.includes("/")){const Ye=X(be,at=>ee(at));if(Ye.invalid)throw new Error("Invalid color mix at "+be+": "+Ye.value);return Ye.value}const Fe=ee(be);return Fe||(j7.test(be)?ED(be):be)})),se={prefix:e,allTokens:a,tokenMap:c,registerToken:b,getByName:P,formatTokenName:o,formatCssVar:s,flatMap:g,cssVarMap:f,categoryMap:x,colorPaletteMap:m,getVar:ee,getCategoryValues:K,expandReferenceInValue:ne};function V(...ge){ge.forEach(be=>{S.set(be.name,be)})}function Q(...ge){_.push(...ge)}function Z(ge,be){if(be.extensions.references||RC(ge.match)&&!ge.match(be))return;const Ye=(at=>ge.transform(at,se))(be);switch(!0){case ge.type==="extensions":Object.assign(be.extensions,Ye);break;case ge.type==="value":be.value=Ye;break;default:be[ge.type]=Ye;break}}function W(ge){_.forEach(be=>{be.enforce===ge&&be.transform(se)})}function le(ge){S.forEach(be=>{be.enforce===ge&&a.forEach(Fe=>{Z(be,Fe)})})}function Ie(){a.forEach(ge=>{const be=sG(ge);!be||be.length===0||be.forEach(Fe=>{b(Fe)})})}function fe(ge){return PD(ge).map(Fe=>P(Fe)).filter(Boolean)}function Me(){a.forEach(ge=>{if(!X7(ge.value))return;const be=fe(ge.value);ge.extensions.references=be.reduce((Fe,Ye)=>(Fe[Ye.name]=Ye,Fe),{})})}function De(){a.forEach(ge=>{RD(ge)})}function Le(){W("pre"),le("pre"),Ie(),Me(),De(),W("post"),le("post"),j()}return A(),V(...rG),Q(...Q7),Le(),se}function YP(t){return t[0]==="DEFAULT"?t:t.filter(e=>e!=="DEFAULT")}function ID(t){return t.filter(e=>e!=="base")}function sG(t){if(!t.extensions.conditions)return;const{conditions:e}=t.extensions,n=[];return uc(e,(r,i)=>{const o=ID(i);if(!o.length)return;const s=structuredClone(t);s.value=r,s.extensions.condition=o.join(":"),n.push(s)}),n}function aG(t,e){const n=t.findIndex((r,i)=>e.every((o,s)=>t[i+s]===o));return n===-1||(t.splice(n,e.length),t.splice(n,0,"colorPalette")),t}V7()(["aspectRatios","zIndex","opacity","colors","fonts","fontSizes","fontWeights","lineHeights","letterSpacings","sizes","shadows","spacing","radii","cursor","borders","borderWidths","borderStyles","durations","easings","animations","blurs","gradients","breakpoints","assets"]);function lG(t){return Object.fromEntries(Object.entries(t).map(([e,n])=>[e,n]))}function cG(t){const e=lG(t.config),n=t.tokens,r=new Map,i=new Map;function o(z,L){e[z]=L,s(z,L)}const s=(z,L)=>{const O=S(L);O&&(i.set(z,O),m(z,L))},a=()=>{for(const[z,L]of Object.entries(e))L&&s(z,L)},c=()=>{for(const[z,L]of Object.entries(e)){const{shorthand:O}=L??{};if(!O)continue;(Array.isArray(O)?O:[O]).forEach(j=>r.set(j,z))}},d=()=>{const z=MD(n.colorPaletteMap);o("colorPalette",{values:Object.keys(z),transform:ha(L=>z[L])})},f=new Map,m=(z,L)=>{if(!L)return;const O=S(L,j=>`type:Tokens["${j}"]`);if(typeof O=="object"&&O.type){f.set(z,new Set([`type:${O.type}`]));return}if(O){const j=new Set(Object.keys(O));f.set(z,j)}const B=f.get(z)??new Set;L.property&&f.set(z,B.add(`CssProperties["${L.property}"]`))},g=()=>{for(const[z,L]of Object.entries(e))L&&m(z,L)},y=(z,L)=>{const O=f.get(z)??new Set;f.set(z,new Set([...O,...L]))},x=()=>{const z=new Map;for(const[L,O]of f.entries()){if(O.size===0){z.set(L,["string"]);continue}const B=Array.from(O).map(j=>j.startsWith("CssProperties")?j:j.startsWith("type:")?j.replace("type:",""):JSON.stringify(j));z.set(L,B)}return z},S=(z,L)=>{const{values:O}=z,B=j=>{const X=L==null?void 0:L(j);return X?{[X]:X}:void 0};return Is(O)?(B==null?void 0:B(O))??n.getCategoryValues(O)??{}:Array.isArray(O)?O.reduce((j,X)=>(j[X]=X,j),{}):RC(O)?O(L?B:n.getCategoryValues):O},_=ha((z,L)=>({[z]:z.startsWith("--")?n.getVar(L,L):L})),b=Object.assign(n.getVar,{raw:z=>n.getByName(z)}),C=ha((z,L)=>{var ee;const O=P(z);Is(L)&&!L.includes("_EMO_")&&(L=n.expandReferenceInValue(L));const B=e[O];if(!B)return _(O,L);const j=(ee=i.get(O))==null?void 0:ee[L];if(!B.transform)return _(z,j??L);const X=K=>D9(K,b);return B.transform(j??L,{raw:L,token:b,utils:{colorMix:X}})});function T(){c(),d(),a(),g()}T();const A=r.size>0,P=ha(z=>r.get(z)??z);return{keys:()=>[...Array.from(r.keys()),...Object.keys(e)],hasShorthand:A,transform:C,shorthands:r,resolveShorthand:P,register:o,getTypes:x,addPropertyType:y}}function kD(...t){const e=dD(...t),{theme:n={},utilities:r={},globalCss:i={},cssVarsRoot:o=":where(:root, :host)",cssVarsPrefix:s="chakra",preflight:a}=e,c=O7(e),d=oG({breakpoints:n.breakpoints,tokens:n.tokens,semanticTokens:n.semanticTokens,prefix:s}),f=f7(n.breakpoints??{}),m=g7({conditions:e.conditions??{},breakpoints:f}),g=cG({config:r,tokens:d});function y(){const{textStyles:V,layerStyles:Q,animationStyles:Z}=n,W=Pv({textStyle:V,layerStyle:Q,animationStyle:Z});for(const[le,Ie]of Object.entries(W)){const fe=a7(Ie??{},Me=>Oo(Me)&&"value"in Me);g.register(le,{values:Object.keys(fe),transform(Me){return T(fe[Me])}})}}y(),g.addPropertyType("animationName",Object.keys(n.keyframes??{}));const x=new Set(["css",...g.keys(),...m.keys()]),S=ha(V=>x.has(V)||o7(V)),_=V=>Array.isArray(V)?V.reduce((Q,Z,W)=>{const le=m.breakpoints[W];return Z!=null&&(Q[le]=Z),Q},{}):V,b=L7({utility:g,normalize:_}),C=D7({conditions:m,isValidProperty:S}),T=SD({transform:g.transform,conditions:m,normalize:b}),A=A7({css:T,conditions:m,normalize:b,layers:c}),P=B7({cva:A});function R(){const V={};for(const[Q,Z]of d.cssVarMap.entries()){const W=Object.fromEntries(Z);if(Object.keys(W).length===0)continue;const le=Q==="base"?o:m.resolve(Q),Ie=T(C({[le]:W}));Bp(V,Ie)}return c.wrap("tokens",V)}function k(){const V=Object.fromEntries(Object.entries(n.keyframes??{}).map(([Z,W])=>[`@keyframes ${Z}`,W])),Q=Object.assign({},V,T(C(i)));return c.wrap("base",Q)}function z(V){return fp(V,S)}function L(){const V=N7({preflight:a});return c.wrap("reset",V)}const O=uG(d),B=(V,Q)=>{var Z;return((Z=O.get(V))==null?void 0:Z.value)||Q};B.var=(V,Q)=>{var Z;return((Z=O.get(V))==null?void 0:Z.variable)||Q};function j(V,Q){var Z;return((Z=n.recipes)==null?void 0:Z[V])??Q}function X(V,Q){var Z;return((Z=n.slotRecipes)==null?void 0:Z[V])??Q}function ee(V){return Object.hasOwnProperty.call(n.recipes??{},V)}function K(V){return Object.hasOwnProperty.call(n.slotRecipes??{},V)}function ne(V){return ee(V)||K(V)}const se=[L(),k(),R()];return{$$chakra:!0,_config:e,_global:se,breakpoints:f,tokens:d,conditions:m,utility:g,token:B,properties:x,layers:c,isValidProperty:S,splitCssProps:z,normalizeValue:_,getTokenCss:R,getGlobalCss:k,getPreflightCss:L,css:T,cva:A,sva:P,getRecipe:j,getSlotRecipe:X,hasRecipe:ne,isRecipe:ee,isSlotRecipe:K}}function uG(t){const e=new Map;return t.allTokens.forEach(n=>{const{cssVar:r,virtual:i,conditions:o}=n.extensions,s=o||i?r.ref:n.value;e.set(n.name,{value:s,variable:r.ref})}),e}const dG={sm:"480px",md:"768px",lg:"1024px",xl:"1280px","2xl":"1536px"},hS="var(--chakra-empty,/*!*/ /*!*/)",fG=U9({"*":{fontFeatureSettings:'"cv11"',"--ring-inset":hS,"--ring-offset-width":"0px","--ring-offset-color":"#fff","--ring-color":"rgba(66, 153, 225, 0.6)","--ring-offset-shadow":"0 0 #0000","--ring-shadow":"0 0 #0000",...Object.fromEntries(["brightness","contrast","grayscale","hue-rotate","invert","saturate","sepia","drop-shadow"].map(t=>[`--${t}`,hS])),...Object.fromEntries(["blur","brightness","contrast","grayscale","hue-rotate","invert","opacity","saturate","sepia"].map(t=>[`--backdrop-${t}`,hS])),"--global-font-mono":"fonts.mono","--global-font-body":"fonts.body","--global-color-border":"colors.border"},html:{color:"fg",bg:"bg",lineHeight:"1.5",colorPalette:"gray"},"*::placeholder, *[data-placeholder]":{color:"fg.muted/80"},"*::selection":{bg:"colorPalette.emphasized/80"}}),hG=$9({"fill.muted":{value:{background:"colorPalette.muted",color:"colorPalette.fg"}},"fill.subtle":{value:{background:"colorPalette.subtle",color:"colorPalette.fg"}},"fill.surface":{value:{background:"colorPalette.subtle",color:"colorPalette.fg",boxShadow:"0 0 0px 1px var(--shadow-color)",boxShadowColor:"colorPalette.muted"}},"fill.solid":{value:{background:"colorPalette.solid",color:"colorPalette.contrast"}},"outline.subtle":{value:{color:"colorPalette.fg",boxShadow:"inset 0 0 0px 1px var(--shadow-color)",boxShadowColor:"colorPalette.subtle"}},"outline.solid":{value:{borderWidth:"1px",borderColor:"colorPalette.solid",color:"colorPalette.fg"}},"indicator.bottom":{value:{position:"relative","--indicator-color-fallback":"colors.colorPalette.solid",_before:{content:'""',position:"absolute",bottom:"var(--indicator-offset-y, 0)",insetInline:"var(--indicator-offset-x, 0)",height:"var(--indicator-thickness, 2px)",background:"var(--indicator-color, var(--indicator-color-fallback))"}}},"indicator.top":{value:{position:"relative","--indicator-color-fallback":"colors.colorPalette.solid",_before:{content:'""',position:"absolute",top:"var(--indicator-offset-y, 0)",insetInline:"var(--indicator-offset-x, 0)",height:"var(--indicator-thickness, 2px)",background:"var(--indicator-color, var(--indicator-color-fallback))"}}},"indicator.start":{value:{position:"relative","--indicator-color-fallback":"colors.colorPalette.solid",_before:{content:'""',position:"absolute",insetInlineStart:"var(--indicator-offset-x, 0)",insetBlock:"var(--indicator-offset-y, 0)",width:"var(--indicator-thickness, 2px)",background:"var(--indicator-color, var(--indicator-color-fallback))"}}},"indicator.end":{value:{position:"relative","--indicator-color-fallback":"colors.colorPalette.solid",_before:{content:'""',position:"absolute",insetInlineEnd:"var(--indicator-offset-x, 0)",insetBlock:"var(--indicator-offset-y, 0)",width:"var(--indicator-thickness, 2px)",background:"var(--indicator-color, var(--indicator-color-fallback))"}}},disabled:{value:{opacity:"0.5",cursor:"not-allowed"}},none:{value:{}}}),pG=V9({"slide-fade-in":{value:{transformOrigin:"var(--transform-origin)","&[data-placement^=top]":{animationName:"slide-from-bottom, fade-in"},"&[data-placement^=bottom]":{animationName:"slide-from-top, fade-in"},"&[data-placement^=left]":{animationName:"slide-from-right, fade-in"},"&[data-placement^=right]":{animationName:"slide-from-left, fade-in"}}},"slide-fade-out":{value:{transformOrigin:"var(--transform-origin)","&[data-placement^=top]":{animationName:"slide-to-bottom, fade-out"},"&[data-placement^=bottom]":{animationName:"slide-to-top, fade-out"},"&[data-placement^=left]":{animationName:"slide-to-right, fade-out"},"&[data-placement^=right]":{animationName:"slide-to-left, fade-out"}}},"scale-fade-in":{value:{transformOrigin:"var(--transform-origin)",animationName:"scale-in, fade-in"}},"scale-fade-out":{value:{transformOrigin:"var(--transform-origin)",animationName:"scale-out, fade-out"}}}),cM=ii({className:"chakra-badge",base:{display:"inline-flex",alignItems:"center",borderRadius:"l2",gap:"1",fontWeight:"medium",fontVariantNumeric:"tabular-nums",whiteSpace:"nowrap",userSelect:"none"},variants:{variant:{solid:{bg:"colorPalette.solid",color:"colorPalette.contrast"},subtle:{bg:"colorPalette.subtle",color:"colorPalette.fg"},outline:{color:"colorPalette.fg",shadow:"inset 0 0 0px 1px var(--shadow-color)",shadowColor:"colorPalette.muted"},surface:{bg:"colorPalette.subtle",color:"colorPalette.fg",shadow:"inset 0 0 0px 1px var(--shadow-color)",shadowColor:"colorPalette.muted"},plain:{color:"colorPalette.fg"}},size:{xs:{textStyle:"2xs",px:"1",minH:"4"},sm:{textStyle:"xs",px:"1.5",minH:"5"},md:{textStyle:"sm",px:"2",minH:"6"},lg:{textStyle:"sm",px:"2.5",minH:"7"}}},defaultVariants:{variant:"subtle",size:"sm"}}),mG=ii({className:"chakra-button",base:{display:"inline-flex",appearance:"none",alignItems:"center",justifyContent:"center",userSelect:"none",position:"relative",borderRadius:"l2",whiteSpace:"nowrap",verticalAlign:"middle",borderWidth:"1px",borderColor:"transparent",cursor:"button",flexShrink:"0",outline:"0",lineHeight:"1.2",isolation:"isolate",fontWeight:"medium",transitionProperty:"common",transitionDuration:"moderate",focusVisibleRing:"outside",_disabled:{layerStyle:"disabled"},_icon:{flexShrink:"0"}},variants:{size:{"2xs":{h:"6",minW:"6",textStyle:"xs",px:"2",gap:"1",_icon:{width:"3.5",height:"3.5"}},xs:{h:"8",minW:"8",textStyle:"xs",px:"2.5",gap:"1",_icon:{width:"4",height:"4"}},sm:{h:"9",minW:"9",px:"3.5",textStyle:"sm",gap:"2",_icon:{width:"4",height:"4"}},md:{h:"10",minW:"10",textStyle:"sm",px:"4",gap:"2",_icon:{width:"5",height:"5"}},lg:{h:"11",minW:"11",textStyle:"md",px:"5",gap:"3",_icon:{width:"5",height:"5"}},xl:{h:"12",minW:"12",textStyle:"md",px:"5",gap:"2.5",_icon:{width:"5",height:"5"}},"2xl":{h:"16",minW:"16",textStyle:"lg",px:"7",gap:"3",_icon:{width:"6",height:"6"}}},variant:{solid:{bg:"colorPalette.solid",color:"colorPalette.contrast",borderColor:"transparent",_hover:{bg:"colorPalette.solid/90"},_expanded:{bg:"colorPalette.solid/90"}},subtle:{bg:"colorPalette.subtle",color:"colorPalette.fg",borderColor:"transparent",_hover:{bg:"colorPalette.muted"},_expanded:{bg:"colorPalette.muted"}},surface:{bg:"colorPalette.subtle",color:"colorPalette.fg",shadow:"0 0 0px 1px var(--shadow-color)",shadowColor:"colorPalette.muted",_hover:{bg:"colorPalette.muted"},_expanded:{bg:"colorPalette.muted"}},outline:{borderWidth:"1px",borderColor:"colorPalette.muted",color:"colorPalette.fg",_hover:{bg:"colorPalette.subtle"},_expanded:{bg:"colorPalette.subtle"}},ghost:{bg:"transparent",color:"colorPalette.fg",_hover:{bg:"colorPalette.subtle"},_expanded:{bg:"colorPalette.subtle"}},plain:{color:"colorPalette.fg"}}},defaultVariants:{size:"md",variant:"solid"}}),Ei=ii({className:"chakra-checkmark",base:{display:"inline-flex",alignItems:"center",justifyContent:"center",flexShrink:"0",color:"white",borderWidth:"1px",borderColor:"transparent",borderRadius:"l1",focusVisibleRing:"outside",_icon:{boxSize:"full"},_invalid:{colorPalette:"red",borderColor:"border.error"},_disabled:{opacity:"0.5"}},variants:{size:{xs:{boxSize:"3"},sm:{boxSize:"4"},md:{boxSize:"5",p:"0.5"},lg:{boxSize:"6",p:"0.5"}},variant:{solid:{borderColor:"border","&:is([data-state=checked], [data-state=indeterminate])":{bg:"colorPalette.solid",color:"colorPalette.contrast",borderColor:"colorPalette.solid"}},outline:{borderColor:"border","&:is([data-state=checked], [data-state=indeterminate])":{color:"colorPalette.fg",borderColor:"colorPalette.solid"}},subtle:{bg:"colorPalette.muted",borderColor:"colorPalette.muted","&:is([data-state=checked], [data-state=indeterminate])":{color:"colorPalette.fg"}},plain:{"&:is([data-state=checked], [data-state=indeterminate])":{color:"colorPalette.fg"}},inverted:{borderColor:"border",color:"colorPalette.fg","&:is([data-state=checked], [data-state=indeterminate])":{borderColor:"colorPalette.solid"}}}},defaultVariants:{variant:"solid",size:"md"}}),{variants:gG,defaultVariants:vG}=cM,yG=ii({className:"chakra-code",base:{fontFamily:"mono",alignItems:"center",display:"inline-flex",borderRadius:"l2"},variants:gG,defaultVariants:vG}),OD=ii({className:"color-swatch",base:{boxSize:"var(--swatch-size)",shadow:"inset 0 0 0 1px rgba(0, 0, 0, 0.1)","--checker-size":"8px","--checker-bg":"colors.bg","--checker-fg":"colors.bg.emphasized",background:"linear-gradient(var(--color), var(--color)), repeating-conic-gradient(var(--checker-fg) 0%, var(--checker-fg) 25%, var(--checker-bg) 0%, var(--checker-bg) 50%) 0% 50% / var(--checker-size) var(--checker-size) !important",display:"inline-flex",alignItems:"center",justifyContent:"center",flexShrink:"0"},variants:{size:{"2xs":{"--swatch-size":"sizes.3.5"},xs:{"--swatch-size":"sizes.4"},sm:{"--swatch-size":"sizes.4.5"},md:{"--swatch-size":"sizes.5"},lg:{"--swatch-size":"sizes.6"},xl:{"--swatch-size":"sizes.7"},"2xl":{"--swatch-size":"sizes.8"},inherit:{"--swatch-size":"inherit"},full:{"--swatch-size":"100%"}},shape:{square:{borderRadius:"none"},circle:{borderRadius:"full"},rounded:{borderRadius:"l1"}}},defaultVariants:{size:"md",shape:"rounded"}}),xG=ii({className:"chakra-container",base:{position:"relative",maxWidth:"8xl",w:"100%",mx:"auto",px:{base:"4",md:"6",lg:"8"}},variants:{centerContent:{true:{display:"flex",flexDirection:"column",alignItems:"center"}},fluid:{true:{maxWidth:"full"}}}}),bG=ii({className:"chakra-heading",base:{fontFamily:"heading",fontWeight:"semibold"},variants:{size:{xs:{textStyle:"xs"},sm:{textStyle:"sm"},md:{textStyle:"md"},lg:{textStyle:"lg"},xl:{textStyle:"xl"},"2xl":{textStyle:"2xl"},"3xl":{textStyle:"3xl"},"4xl":{textStyle:"4xl"},"5xl":{textStyle:"5xl"},"6xl":{textStyle:"6xl"},"7xl":{textStyle:"7xl"}}},defaultVariants:{size:"xl"}}),_G=ii({className:"chakra-icon",base:{display:"inline-block",lineHeight:"1em",flexShrink:"0",color:"currentcolor",verticalAlign:"middle"},variants:{size:{inherit:{},xs:{boxSize:"3"},sm:{boxSize:"4"},md:{boxSize:"5"},lg:{boxSize:"6"},xl:{boxSize:"7"},"2xl":{boxSize:"8"}}},defaultVariants:{size:"inherit"}}),$r=ii({className:"chakra-input",base:{width:"100%",minWidth:"0",outline:"0",position:"relative",appearance:"none",textAlign:"start",borderRadius:"l2",_disabled:{layerStyle:"disabled"},height:"var(--input-height)",minW:"var(--input-height)","--focus-color":"colors.colorPalette.focusRing","--error-color":"colors.border.error",_invalid:{focusRingColor:"var(--error-color)",borderColor:"var(--error-color)"}},variants:{size:{"2xs":{textStyle:"xs",px:"2","--input-height":"sizes.7"},xs:{textStyle:"xs",px:"2","--input-height":"sizes.8"},sm:{textStyle:"sm",px:"2.5","--input-height":"sizes.9"},md:{textStyle:"sm",px:"3","--input-height":"sizes.10"},lg:{textStyle:"md",px:"4","--input-height":"sizes.11"},xl:{textStyle:"md",px:"4.5","--input-height":"sizes.12"},"2xl":{textStyle:"lg",px:"5","--input-height":"sizes.16"}},variant:{outline:{bg:"transparent",borderWidth:"1px",borderColor:"border",focusVisibleRing:"inside",focusRingColor:"var(--focus-color)"},subtle:{borderWidth:"1px",borderColor:"transparent",bg:"bg.muted",focusVisibleRing:"inside",focusRingColor:"var(--focus-color)"},flushed:{bg:"transparent",borderBottomWidth:"1px",borderBottomColor:"border",borderRadius:"0",px:"0",_focusVisible:{borderColor:"var(--focus-color)",boxShadow:"0px 1px 0px 0px var(--focus-color)"}}}},defaultVariants:{size:"md",variant:"outline"}}),SG=ii({className:"chakra-input-addon",base:{flex:"0 0 auto",width:"auto",display:"flex",alignItems:"center",whiteSpace:"nowrap",alignSelf:"stretch",borderRadius:"l2"},variants:{size:$r.variants.size,variant:{outline:{borderWidth:"1px",borderColor:"border",bg:"bg.muted"},subtle:{borderWidth:"1px",borderColor:"transparent",bg:"bg.emphasized"},flushed:{borderBottom:"1px solid",borderColor:"inherit",borderRadius:"0",px:"0",bg:"transparent"}}},defaultVariants:{size:"md",variant:"outline"}}),wG=ii({className:"chakra-kbd",base:{display:"inline-flex",alignItems:"center",fontWeight:"medium",fontFamily:"mono",flexShrink:"0",whiteSpace:"nowrap",wordSpacing:"-0.5em",userSelect:"none",px:"1",borderRadius:"l2"},variants:{variant:{raised:{bg:"colorPalette.subtle",color:"colorPalette.fg",borderWidth:"1px",borderBottomWidth:"2px",borderColor:"colorPalette.muted"},outline:{borderWidth:"1px",color:"colorPalette.fg"},subtle:{bg:"colorPalette.muted",color:"colorPalette.fg"},plain:{color:"colorPalette.fg"}},size:{sm:{textStyle:"xs",height:"4.5"},md:{textStyle:"sm",height:"5"},lg:{textStyle:"md",height:"6"}}},defaultVariants:{size:"md",variant:"raised"}}),EG=ii({className:"chakra-link",base:{display:"inline-flex",alignItems:"center",outline:"none",gap:"1.5",cursor:"pointer",borderRadius:"l1",focusRing:"outside"},variants:{variant:{underline:{color:"colorPalette.fg",textDecoration:"underline",textUnderlineOffset:"3px",textDecorationColor:"currentColor/20"},plain:{color:"colorPalette.fg",_hover:{textDecoration:"underline",textUnderlineOffset:"3px",textDecorationColor:"currentColor/20"}}}},defaultVariants:{variant:"plain"}}),CG=ii({className:"chakra-mark",base:{bg:"transparent",color:"inherit",whiteSpace:"nowrap"},variants:{variant:{subtle:{bg:"colorPalette.subtle",color:"inherit"},solid:{bg:"colorPalette.solid",color:"colorPalette.contrast"},text:{fontWeight:"medium"},plain:{}}}}),Ci=ii({className:"chakra-radiomark",base:{display:"inline-flex",alignItems:"center",justifyContent:"center",flexShrink:0,verticalAlign:"top",color:"white",borderWidth:"1px",borderColor:"transparent",borderRadius:"full",cursor:"radio",_focusVisible:{outline:"2px solid",outlineColor:"colorPalette.focusRing",outlineOffset:"2px"},_invalid:{colorPalette:"red",borderColor:"red.500"},_disabled:{opacity:"0.5",cursor:"disabled"},"& .dot":{height:"100%",width:"100%",borderRadius:"full",bg:"currentColor",scale:"0.4"}},variants:{variant:{solid:{borderWidth:"1px",borderColor:"border",_checked:{bg:"colorPalette.solid",color:"colorPalette.contrast",borderColor:"colorPalette.solid"}},subtle:{borderWidth:"1px",bg:"colorPalette.muted",borderColor:"colorPalette.muted",color:"transparent",_checked:{color:"colorPalette.fg"}},outline:{borderWidth:"1px",borderColor:"inherit",_checked:{color:"colorPalette.fg",borderColor:"colorPalette.solid"},"& .dot":{scale:"0.6"}},inverted:{bg:"bg",borderWidth:"1px",borderColor:"inherit",_checked:{color:"colorPalette.solid",borderColor:"currentcolor"}}},size:{xs:{boxSize:"3"},sm:{boxSize:"4"},md:{boxSize:"5"},lg:{boxSize:"6"}}},defaultVariants:{variant:"solid",size:"md"}}),MG=ii({className:"chakra-separator",base:{display:"block",borderColor:"border"},variants:{variant:{solid:{borderStyle:"solid"},dashed:{borderStyle:"dashed"},dotted:{borderStyle:"dotted"}},orientation:{vertical:{borderInlineStartWidth:"var(--separator-thickness)"},horizontal:{borderTopWidth:"var(--separator-thickness)"}},size:{xs:{"--separator-thickness":"0.5px"},sm:{"--separator-thickness":"1px"},md:{"--separator-thickness":"2px"},lg:{"--separator-thickness":"3px"}}},defaultVariants:{size:"sm",variant:"solid",orientation:"horizontal"}}),TG=ii({className:"chakra-skeleton",base:{},variants:{loading:{true:{borderRadius:"l2",boxShadow:"none",backgroundClip:"padding-box",cursor:"default",color:"transparent",pointerEvents:"none",userSelect:"none",flexShrink:"0","&::before, &::after, *":{visibility:"hidden"}},false:{background:"unset",animation:"fade-in var(--fade-duration, 0.1s) ease-out !important"}},variant:{pulse:{background:"bg.emphasized",animation:"pulse",animationDuration:"var(--duration, 1.2s)"},shine:{"--animate-from":"200%","--animate-to":"-200%","--start-color":"colors.bg.muted","--end-color":"colors.bg.emphasized",backgroundImage:"linear-gradient(270deg,var(--start-color),var(--end-color),var(--end-color),var(--start-color))",backgroundSize:"400% 100%",animation:"bg-position var(--duration, 5s) ease-in-out infinite"},none:{animation:"none"}}},defaultVariants:{variant:"pulse",loading:!0}}),PG=ii({className:"chakra-skip-nav",base:{display:"inline-flex",bg:"bg.panel",padding:"2.5",borderRadius:"l2",fontWeight:"semibold",focusVisibleRing:"outside",textStyle:"sm",userSelect:"none",border:"0",height:"1px",width:"1px",margin:"-1px",outline:"0",overflow:"hidden",position:"absolute",clip:"rect(0 0 0 0)",_focusVisible:{clip:"auto",width:"auto",height:"auto",position:"fixed",top:"6",insetStart:"6"}}}),RG=ii({className:"chakra-spinner",base:{display:"inline-block",borderColor:"currentColor",borderStyle:"solid",borderWidth:"2px",borderRadius:"full",width:"var(--spinner-size)",height:"var(--spinner-size)",animation:"spin",animationDuration:"slowest","--spinner-track-color":"transparent",borderBottomColor:"var(--spinner-track-color)",borderInlineStartColor:"var(--spinner-track-color)"},variants:{size:{inherit:{"--spinner-size":"1em"},xs:{"--spinner-size":"sizes.3"},sm:{"--spinner-size":"sizes.4"},md:{"--spinner-size":"sizes.5"},lg:{"--spinner-size":"sizes.8"},xl:{"--spinner-size":"sizes.10"}}},defaultVariants:{size:"md"}}),AG=ii({className:"chakra-textarea",base:{width:"100%",minWidth:"0",outline:"0",position:"relative",appearance:"none",textAlign:"start",borderRadius:"l2",_disabled:{layerStyle:"disabled"},"--focus-color":"colors.colorPalette.focusRing","--error-color":"colors.border.error",_invalid:{focusRingColor:"var(--error-color)",borderColor:"var(--error-color)"}},variants:{size:{xs:{textStyle:"xs",px:"2",py:"1.5",scrollPaddingBottom:"1.5"},sm:{textStyle:"sm",px:"2.5",py:"2",scrollPaddingBottom:"2"},md:{textStyle:"sm",px:"3",py:"2",scrollPaddingBottom:"2"},lg:{textStyle:"md",px:"4",py:"3",scrollPaddingBottom:"3"},xl:{textStyle:"md",px:"4.5",py:"3.5",scrollPaddingBottom:"3.5"}},variant:{outline:{bg:"transparent",borderWidth:"1px",borderColor:"border",focusVisibleRing:"inside"},subtle:{borderWidth:"1px",borderColor:"transparent",bg:"bg.muted",focusVisibleRing:"inside"},flushed:{bg:"transparent",borderBottomWidth:"1px",borderBottomColor:"border",borderRadius:"0",px:"0",_focusVisible:{borderColor:"var(--focus-color)",boxShadow:"0px 1px 0px 0px var(--focus-color)"}}}},defaultVariants:{size:"md",variant:"outline"}}),IG={badge:cM,button:mG,code:yG,container:xG,heading:bG,input:$r,inputAddon:SG,kbd:wG,link:EG,mark:CG,separator:MG,skeleton:TG,skipNavLink:PG,spinner:RG,textarea:AG,icon:_G,checkmark:Ei,radiomark:Ci,colorSwatch:OD},kG=aM.colors({bg:{DEFAULT:{value:{_light:"{colors.white}",_dark:"{colors.black}"}},subtle:{value:{_light:"{colors.gray.50}",_dark:"{colors.gray.950}"}},muted:{value:{_light:"{colors.gray.100}",_dark:"{colors.gray.900}"}},emphasized:{value:{_light:"{colors.gray.200}",_dark:"{colors.gray.800}"}},inverted:{value:{_light:"{colors.black}",_dark:"{colors.white}"}},panel:{value:{_light:"{colors.white}",_dark:"{colors.gray.950}"}},error:{value:{_light:"{colors.red.50}",_dark:"{colors.red.950}"}},warning:{value:{_light:"{colors.orange.50}",_dark:"{colors.orange.950}"}},success:{value:{_light:"{colors.green.50}",_dark:"{colors.green.950}"}},info:{value:{_light:"{colors.blue.50}",_dark:"{colors.blue.950}"}}},fg:{DEFAULT:{value:{_light:"{colors.black}",_dark:"{colors.gray.50}"}},muted:{value:{_light:"{colors.gray.600}",_dark:"{colors.gray.400}"}},subtle:{value:{_light:"{colors.gray.400}",_dark:"{colors.gray.500}"}},inverted:{value:{_light:"{colors.gray.50}",_dark:"{colors.black}"}},error:{value:{_light:"{colors.red.500}",_dark:"{colors.red.400}"}},warning:{value:{_light:"{colors.orange.600}",_dark:"{colors.orange.300}"}},success:{value:{_light:"{colors.green.600}",_dark:"{colors.green.300}"}},info:{value:{_light:"{colors.blue.600}",_dark:"{colors.blue.300}"}}},border:{DEFAULT:{value:{_light:"{colors.gray.200}",_dark:"{colors.gray.800}"}},muted:{value:{_light:"{colors.gray.100}",_dark:"{colors.gray.900}"}},subtle:{value:{_light:"{colors.gray.50}",_dark:"{colors.gray.950}"}},emphasized:{value:{_light:"{colors.gray.300}",_dark:"{colors.gray.700}"}},inverted:{value:{_light:"{colors.gray.800}",_dark:"{colors.gray.200}"}},error:{value:{_light:"{colors.red.500}",_dark:"{colors.red.400}"}},warning:{value:{_light:"{colors.orange.500}",_dark:"{colors.orange.400}"}},success:{value:{_light:"{colors.green.500}",_dark:"{colors.green.400}"}},info:{value:{_light:"{colors.blue.500}",_dark:"{colors.blue.400}"}}},gray:{contrast:{value:{_light:"{colors.white}",_dark:"{colors.black}"}},fg:{value:{_light:"{colors.gray.800}",_dark:"{colors.gray.200}"}},subtle:{value:{_light:"{colors.gray.100}",_dark:"{colors.gray.900}"}},muted:{value:{_light:"{colors.gray.200}",_dark:"{colors.gray.800}"}},emphasized:{value:{_light:"{colors.gray.300}",_dark:"{colors.gray.700}"}},solid:{value:{_light:"{colors.gray.900}",_dark:"{colors.white}"}},focusRing:{value:{_light:"{colors.gray.400}",_dark:"{colors.gray.400}"}}},red:{contrast:{value:{_light:"white",_dark:"white"}},fg:{value:{_light:"{colors.red.700}",_dark:"{colors.red.300}"}},subtle:{value:{_light:"{colors.red.100}",_dark:"{colors.red.900}"}},muted:{value:{_light:"{colors.red.200}",_dark:"{colors.red.800}"}},emphasized:{value:{_light:"{colors.red.300}",_dark:"{colors.red.700}"}},solid:{value:{_light:"{colors.red.600}",_dark:"{colors.red.600}"}},focusRing:{value:{_light:"{colors.red.400}",_dark:"{colors.red.400}"}}},orange:{contrast:{value:{_light:"white",_dark:"black"}},fg:{value:{_light:"{colors.orange.700}",_dark:"{colors.orange.300}"}},subtle:{value:{_light:"{colors.orange.100}",_dark:"{colors.orange.900}"}},muted:{value:{_light:"{colors.orange.200}",_dark:"{colors.orange.800}"}},emphasized:{value:{_light:"{colors.orange.300}",_dark:"{colors.orange.700}"}},solid:{value:{_light:"{colors.orange.600}",_dark:"{colors.orange.500}"}},focusRing:{value:{_light:"{colors.orange.400}",_dark:"{colors.orange.400}"}}},green:{contrast:{value:{_light:"white",_dark:"white"}},fg:{value:{_light:"{colors.green.700}",_dark:"{colors.green.300}"}},subtle:{value:{_light:"{colors.green.100}",_dark:"{colors.green.900}"}},muted:{value:{_light:"{colors.green.200}",_dark:"{colors.green.800}"}},emphasized:{value:{_light:"{colors.green.300}",_dark:"{colors.green.700}"}},solid:{value:{_light:"{colors.green.600}",_dark:"{colors.green.600}"}},focusRing:{value:{_light:"{colors.green.400}",_dark:"{colors.green.400}"}}},blue:{contrast:{value:{_light:"white",_dark:"white"}},fg:{value:{_light:"{colors.blue.700}",_dark:"{colors.blue.300}"}},subtle:{value:{_light:"{colors.blue.100}",_dark:"{colors.blue.900}"}},muted:{value:{_light:"{colors.blue.200}",_dark:"{colors.blue.800}"}},emphasized:{value:{_light:"{colors.blue.300}",_dark:"{colors.blue.700}"}},solid:{value:{_light:"{colors.blue.600}",_dark:"{colors.blue.600}"}},focusRing:{value:{_light:"{colors.blue.400}",_dark:"{colors.blue.400}"}}},yellow:{contrast:{value:{_light:"black",_dark:"black"}},fg:{value:{_light:"{colors.yellow.800}",_dark:"{colors.yellow.300}"}},subtle:{value:{_light:"{colors.yellow.100}",_dark:"{colors.yellow.900}"}},muted:{value:{_light:"{colors.yellow.200}",_dark:"{colors.yellow.800}"}},emphasized:{value:{_light:"{colors.yellow.300}",_dark:"{colors.yellow.700}"}},solid:{value:{_light:"{colors.yellow.300}",_dark:"{colors.yellow.300}"}},focusRing:{value:{_light:"{colors.yellow.400}",_dark:"{colors.yellow.400}"}}},teal:{contrast:{value:{_light:"white",_dark:"white"}},fg:{value:{_light:"{colors.teal.700}",_dark:"{colors.teal.300}"}},subtle:{value:{_light:"{colors.teal.100}",_dark:"{colors.teal.900}"}},muted:{value:{_light:"{colors.teal.200}",_dark:"{colors.teal.800}"}},emphasized:{value:{_light:"{colors.teal.300}",_dark:"{colors.teal.700}"}},solid:{value:{_light:"{colors.teal.600}",_dark:"{colors.teal.600}"}},focusRing:{value:{_light:"{colors.teal.400}",_dark:"{colors.teal.400}"}}},purple:{contrast:{value:{_light:"white",_dark:"white"}},fg:{value:{_light:"{colors.purple.700}",_dark:"{colors.purple.300}"}},subtle:{value:{_light:"{colors.purple.100}",_dark:"{colors.purple.900}"}},muted:{value:{_light:"{colors.purple.200}",_dark:"{colors.purple.800}"}},emphasized:{value:{_light:"{colors.purple.300}",_dark:"{colors.purple.700}"}},solid:{value:{_light:"{colors.purple.600}",_dark:"{colors.purple.600}"}},focusRing:{value:{_light:"{colors.purple.400}",_dark:"{colors.purple.400}"}}},pink:{contrast:{value:{_light:"white",_dark:"white"}},fg:{value:{_light:"{colors.pink.700}",_dark:"{colors.pink.300}"}},subtle:{value:{_light:"{colors.pink.100}",_dark:"{colors.pink.900}"}},muted:{value:{_light:"{colors.pink.200}",_dark:"{colors.pink.800}"}},emphasized:{value:{_light:"{colors.pink.300}",_dark:"{colors.pink.700}"}},solid:{value:{_light:"{colors.pink.600}",_dark:"{colors.pink.600}"}},focusRing:{value:{_light:"{colors.pink.400}",_dark:"{colors.pink.400}"}}},cyan:{contrast:{value:{_light:"white",_dark:"white"}},fg:{value:{_light:"{colors.cyan.700}",_dark:"{colors.cyan.300}"}},subtle:{value:{_light:"{colors.cyan.100}",_dark:"{colors.cyan.900}"}},muted:{value:{_light:"{colors.cyan.200}",_dark:"{colors.cyan.800}"}},emphasized:{value:{_light:"{colors.cyan.300}",_dark:"{colors.cyan.700}"}},solid:{value:{_light:"{colors.cyan.600}",_dark:"{colors.cyan.600}"}},focusRing:{value:{_light:"{colors.cyan.400}",_dark:"{colors.cyan.400}"}}}}),OG=aM.radii({l1:{value:"{radii.xs}"},l2:{value:"{radii.sm}"},l3:{value:"{radii.md}"}}),LG=aM.shadows({xs:{value:{_light:"0px 1px 2px {colors.gray.900/10}, 0px 0px 1px {colors.gray.900/20}",_dark:"0px 1px 1px {black/64}, 0px 0px 1px inset {colors.gray.300/20}"}},sm:{value:{_light:"0px 2px 4px {colors.gray.900/10}, 0px 0px 1px {colors.gray.900/30}",_dark:"0px 2px 4px {black/64}, 0px 0px 1px inset {colors.gray.300/30}"}},md:{value:{_light:"0px 4px 8px {colors.gray.900/10}, 0px 0px 1px {colors.gray.900/30}",_dark:"0px 4px 8px {black/64}, 0px 0px 1px inset {colors.gray.300/30}"}},lg:{value:{_light:"0px 8px 16px {colors.gray.900/10}, 0px 0px 1px {colors.gray.900/30}",_dark:"0px 8px 16px {black/64}, 0px 0px 1px inset {colors.gray.300/30}"}},xl:{value:{_light:"0px 16px 24px {colors.gray.900/10}, 0px 0px 1px {colors.gray.900/30}",_dark:"0px 16px 24px {black/64}, 0px 0px 1px inset {colors.gray.300/30}"}},"2xl":{value:{_light:"0px 24px 40px {colors.gray.900/16}, 0px 0px 1px {colors.gray.900/30}",_dark:"0px 24px 40px {black/64}, 0px 0px 1px inset {colors.gray.300/30}"}},inner:{value:{_light:"inset 0 2px 4px 0 {black/5}",_dark:"inset 0 2px 4px 0 black"}},inset:{value:{_light:"inset 0 0 0 1px {black/5}",_dark:"inset 0 0 0 1px {colors.gray.300/5}"}}}),NG=qL.extendWith("itemBody"),DG=qt("action-bar").parts("positioner","content","separator","selectionTrigger","closeTrigger"),FG=qt("alert").parts("title","description","root","indicator","content"),zG=qt("breadcrumb").parts("link","currentLink","item","list","root","ellipsis","separator"),UG=qt("blockquote").parts("root","icon","content","caption"),BG=qt("card").parts("root","header","body","footer","title","description"),VG=qt("checkbox-card",["root","control","label","description","addon","indicator","content"]),$G=qt("data-list").parts("root","item","itemLabel","itemValue"),HG=nM.extendWith("header","body","footer","backdrop"),WG=nM.extendWith("header","body","footer","backdrop"),GG=FN.extendWith("textarea"),jG=qt("empty-state",["root","content","indicator","title","description"]),XG=zN.extendWith("requiredIndicator"),qG=UN.extendWith("content"),YG=BN.extendWith("itemContent","dropzoneContent","fileText"),KG=qt("list").parts("root","item","indicator"),ZG=$N.extendWith("itemCommand"),JG=qt("select").parts("root","field","indicator"),QG=ZN.extendWith("header","body","footer"),LD=oM.extendWith("itemAddon","itemIndicator"),ej=LD.extendWith("itemContent","itemDescription"),tj=QN.extendWith("itemIndicator"),nj=tD.extendWith("indicatorGroup"),rj=rD.extendWith("markerIndicator"),ij=qt("stat").parts("root","label","helpText","valueText","valueUnit","indicator"),oj=qt("status").parts("root","indicator"),sj=qt("steps",["root","list","item","trigger","indicator","separator","content","title","description","nextTrigger","prevTrigger","progress"]),aj=iD.extendWith("indicator"),lj=qt("table").parts("root","header","body","row","columnHeader","cell","footer","caption"),cj=qt("toast").parts("root","title","description","indicator","closeTrigger","actionTrigger"),uj=qt("tabs").parts("root","trigger","list","content","contentGroup","indicator"),dj=qt("tag").parts("root","label","closeTrigger","startElement","endElement"),fj=qt("timeline").parts("root","item","content","separator","indicator","connector","title","description"),hj=ON.extendWith("channelText"),pj=Kt({className:"chakra-accordion",slots:NG.keys(),base:{root:{width:"full","--accordion-radius":"radii.l2"},item:{overflowAnchor:"none"},itemTrigger:{display:"flex",alignItems:"center",textAlign:"start",width:"full",outline:"0",gap:"3",fontWeight:"medium",borderRadius:"var(--accordion-radius)",_focusVisible:{outline:"2px solid",outlineColor:"colorPalette.focusRing"},_disabled:{layerStyle:"disabled"}},itemBody:{pt:"var(--accordion-padding-y)",pb:"calc(var(--accordion-padding-y) * 2)"},itemContent:{overflow:"hidden",borderRadius:"var(--accordion-radius)",_open:{animationName:"expand-height, fade-in",animationDuration:"moderate"},_closed:{animationName:"collapse-height, fade-out",animationDuration:"moderate"}},itemIndicator:{transition:"rotate 0.2s",transformOrigin:"center",color:"fg.subtle",_open:{rotate:"180deg"},_icon:{width:"1.2em",height:"1.2em"}}},variants:{variant:{outline:{item:{borderBottomWidth:"1px"}},subtle:{itemTrigger:{px:"var(--accordion-padding-x)"},itemContent:{px:"var(--accordion-padding-x)"},item:{borderRadius:"var(--accordion-radius)",_open:{bg:"colorPalette.subtle"}}},enclosed:{root:{borderWidth:"1px",borderRadius:"var(--accordion-radius)",divideY:"1px",overflow:"hidden"},itemTrigger:{px:"var(--accordion-padding-x)"},itemContent:{px:"var(--accordion-padding-x)"},item:{_open:{bg:"bg.subtle"}}},plain:{}},size:{sm:{root:{"--accordion-padding-x":"spacing.3","--accordion-padding-y":"spacing.2"},itemTrigger:{textStyle:"sm",py:"var(--accordion-padding-y)"}},md:{root:{"--accordion-padding-x":"spacing.4","--accordion-padding-y":"spacing.2"},itemTrigger:{textStyle:"md",py:"var(--accordion-padding-y)"}},lg:{root:{"--accordion-padding-x":"spacing.4.5","--accordion-padding-y":"spacing.2.5"},itemTrigger:{textStyle:"lg",py:"var(--accordion-padding-y)"}}}},defaultVariants:{size:"md",variant:"outline"}}),mj=Kt({className:"chakra-action-bar",slots:DG.keys(),base:{positioner:{position:"fixed",display:"flex",justifyContent:"center",pointerEvents:"none",insetInline:"0",top:"unset",bottom:"calc(env(safe-area-inset-bottom) + 20px)"},content:{bg:"bg.panel",shadow:"md",display:"flex",alignItems:"center",gap:"3",borderRadius:"l3",py:"2.5",px:"3",pointerEvents:"auto",translate:"calc(-1 * var(--scrollbar-width) / 2) 0px",_open:{animationName:"slide-from-bottom, fade-in",animationDuration:"moderate"},_closed:{animationName:"slide-to-bottom, fade-out",animationDuration:"faster"}},separator:{width:"1px",height:"5",bg:"border"},selectionTrigger:{display:"inline-flex",alignItems:"center",gap:"2",alignSelf:"stretch",textStyle:"sm",px:"4",py:"1",borderRadius:"l2",borderWidth:"1px",borderStyle:"dashed"}}}),gj=Kt({slots:FG.keys(),className:"chakra-alert",base:{root:{width:"full",display:"flex",alignItems:"flex-start",position:"relative",borderRadius:"l3"},title:{fontWeight:"medium"},description:{display:"inline"},indicator:{display:"inline-flex",alignItems:"center",justifyContent:"center",flexShrink:"0",width:"1em",height:"1em",_icon:{boxSize:"full"}},content:{display:"flex",flex:"1",gap:"1"}},variants:{status:{info:{root:{colorPalette:"blue"}},warning:{root:{colorPalette:"orange"}},success:{root:{colorPalette:"green"}},error:{root:{colorPalette:"red"}},neutral:{root:{colorPalette:"gray"}}},inline:{true:{content:{display:"inline-flex",flexDirection:"row",alignItems:"center"}},false:{content:{display:"flex",flexDirection:"column"}}},variant:{subtle:{root:{bg:"colorPalette.subtle",color:"colorPalette.fg"}},surface:{root:{bg:"colorPalette.subtle",color:"colorPalette.fg",shadow:"inset 0 0 0px 1px var(--shadow-color)",shadowColor:"colorPalette.muted"},indicator:{color:"colorPalette.fg"}},outline:{root:{color:"colorPalette.fg",shadow:"inset 0 0 0px 1px var(--shadow-color)",shadowColor:"colorPalette.muted"},indicator:{color:"colorPalette.fg"}},solid:{root:{bg:"colorPalette.solid",color:"colorPalette.contrast"},indicator:{color:"colorPalette.contrast"}}},size:{sm:{root:{gap:"2",px:"3",py:"3",textStyle:"xs"},indicator:{textStyle:"lg"}},md:{root:{gap:"3",px:"4",py:"4",textStyle:"sm"},indicator:{textStyle:"xl"}},lg:{root:{gap:"3",px:"4",py:"4",textStyle:"md"},indicator:{textStyle:"2xl"}}}},defaultVariants:{status:"info",variant:"subtle",size:"md",inline:!1}}),vj=Kt({slots:ZL.keys(),className:"chakra-avatar",base:{root:{display:"inline-flex",alignItems:"center",justifyContent:"center",fontWeight:"medium",position:"relative",verticalAlign:"top",flexShrink:"0",userSelect:"none",width:"var(--avatar-size)",height:"var(--avatar-size)",fontSize:"var(--avatar-font-size)",borderRadius:"var(--avatar-radius)","&[data-group-item]":{borderWidth:"2px",borderColor:"bg"}},image:{width:"100%",height:"100%",objectFit:"cover",borderRadius:"var(--avatar-radius)"},fallback:{lineHeight:"1",textTransform:"uppercase",fontWeight:"medium",fontSize:"var(--avatar-font-size)",borderRadius:"var(--avatar-radius)"}},variants:{size:{full:{root:{"--avatar-size":"100%","--avatar-font-size":"100%"}},"2xs":{root:{"--avatar-font-size":"fontSizes.2xs","--avatar-size":"sizes.6"}},xs:{root:{"--avatar-font-size":"fontSizes.xs","--avatar-size":"sizes.8"}},sm:{root:{"--avatar-font-size":"fontSizes.sm","--avatar-size":"sizes.9"}},md:{root:{"--avatar-font-size":"fontSizes.md","--avatar-size":"sizes.10"}},lg:{root:{"--avatar-font-size":"fontSizes.md","--avatar-size":"sizes.11"}},xl:{root:{"--avatar-font-size":"fontSizes.lg","--avatar-size":"sizes.12"}},"2xl":{root:{"--avatar-font-size":"fontSizes.xl","--avatar-size":"sizes.16"}}},variant:{solid:{root:{bg:"colorPalette.solid",color:"colorPalette.contrast"}},subtle:{root:{bg:"colorPalette.muted",color:"colorPalette.fg"}},outline:{root:{color:"colorPalette.fg",borderWidth:"1px",borderColor:"colorPalette.muted"}}},shape:{square:{},rounded:{root:{"--avatar-radius":"radii.l3"}},full:{root:{"--avatar-radius":"radii.full"}}},borderless:{true:{root:{"&[data-group-item]":{borderWidth:"0px"}}}}},defaultVariants:{size:"md",shape:"full",variant:"subtle"}}),yj=Kt({className:"chakra-blockquote",slots:UG.keys(),base:{root:{position:"relative",display:"flex",flexDirection:"column",gap:"2"},caption:{textStyle:"sm",color:"fg.muted"},icon:{boxSize:"5"}},variants:{justify:{start:{root:{alignItems:"flex-start",textAlign:"start"}},center:{root:{alignItems:"center",textAlign:"center"}},end:{root:{alignItems:"flex-end",textAlign:"end"}}},variant:{subtle:{root:{paddingX:"5",borderStartWidth:"4px",borderStartColor:"colorPalette.muted"},icon:{color:"colorPalette.fg"}},solid:{root:{paddingX:"5",borderStartWidth:"4px",borderStartColor:"colorPalette.solid"},icon:{color:"colorPalette.solid"}},plain:{root:{paddingX:"5"},icon:{color:"colorPalette.solid"}}}},defaultVariants:{variant:"subtle",justify:"start"}}),xj=Kt({className:"chakra-breadcrumb",slots:zG.keys(),base:{list:{display:"flex",alignItems:"center",wordBreak:"break-word",color:"fg.muted",listStyle:"none"},link:{outline:"0",textDecoration:"none",borderRadius:"l1",focusRing:"outside",display:"inline-flex",alignItems:"center",gap:"2"},item:{display:"inline-flex",alignItems:"center"},separator:{color:"fg.muted",opacity:"0.8",_icon:{boxSize:"1em"},_rtl:{rotate:"180deg"}},ellipsis:{display:"inline-flex",alignItems:"center",justifyContent:"center",_icon:{boxSize:"1em"}}},variants:{variant:{underline:{link:{color:"colorPalette.fg",textDecoration:"underline",textUnderlineOffset:"0.2em",textDecorationColor:"colorPalette.muted"},currentLink:{color:"colorPalette.fg"}},plain:{link:{color:"fg.muted",_hover:{color:"fg"}},currentLink:{color:"fg"}}},size:{sm:{list:{gap:"1",textStyle:"xs"}},md:{list:{gap:"1.5",textStyle:"sm"}},lg:{list:{gap:"2",textStyle:"md"}}}},defaultVariants:{variant:"plain",size:"md"}}),bj=Kt({className:"chakra-card",slots:BG.keys(),base:{root:{display:"flex",flexDirection:"column",position:"relative",minWidth:"0",wordWrap:"break-word",borderRadius:"l3",color:"fg",textAlign:"start"},title:{fontWeight:"semibold"},description:{color:"fg.muted",fontSize:"sm"},header:{paddingInline:"var(--card-padding)",paddingTop:"var(--card-padding)",display:"flex",flexDirection:"column",gap:"1.5"},body:{padding:"var(--card-padding)",flex:"1",display:"flex",flexDirection:"column"},footer:{display:"flex",alignItems:"center",gap:"2",paddingInline:"var(--card-padding)",paddingBottom:"var(--card-padding)"}},variants:{size:{sm:{root:{"--card-padding":"spacing.4"},title:{textStyle:"md"}},md:{root:{"--card-padding":"spacing.6"},title:{textStyle:"lg"}},lg:{root:{"--card-padding":"spacing.7"},title:{textStyle:"xl"}}},variant:{elevated:{root:{bg:"bg.panel",boxShadow:"md"}},outline:{root:{bg:"bg.panel",borderWidth:"1px",borderColor:"border"}},subtle:{root:{bg:"bg.muted"}}}},defaultVariants:{variant:"outline",size:"md"}});var C3,M3,T3,P3,R3,A3,I3,k3,O3,L3,N3,D3,F3,z3;const _j=Kt({slots:qH.keys(),className:"chakra-checkbox",base:{root:{display:"inline-flex",gap:"2",alignItems:"center",verticalAlign:"top",position:"relative"},control:Ei.base,label:{fontWeight:"medium",userSelect:"none",_disabled:{opacity:"0.5"}}},variants:{size:{xs:{root:{gap:"1.5"},label:{textStyle:"xs"},control:(M3=(C3=Ei.variants)==null?void 0:C3.size)==null?void 0:M3.xs},sm:{root:{gap:"2"},label:{textStyle:"sm"},control:(P3=(T3=Ei.variants)==null?void 0:T3.size)==null?void 0:P3.sm},md:{root:{gap:"2.5"},label:{textStyle:"sm"},control:(A3=(R3=Ei.variants)==null?void 0:R3.size)==null?void 0:A3.md},lg:{root:{gap:"3"},label:{textStyle:"md"},control:(k3=(I3=Ei.variants)==null?void 0:I3.size)==null?void 0:k3.lg}},variant:{outline:{control:(L3=(O3=Ei.variants)==null?void 0:O3.variant)==null?void 0:L3.outline},solid:{control:(D3=(N3=Ei.variants)==null?void 0:N3.variant)==null?void 0:D3.solid},subtle:{control:(z3=(F3=Ei.variants)==null?void 0:F3.variant)==null?void 0:z3.subtle}}},defaultVariants:{variant:"solid",size:"md"}});var U3,B3,V3,$3,H3,W3,G3;const Sj=Kt({slots:VG.keys(),className:"chakra-checkbox-card",base:{root:{display:"flex",flexDirection:"column",userSelect:"none",position:"relative",borderRadius:"l2",flex:"1",focusVisibleRing:"outside",_disabled:{opacity:"0.8"},_invalid:{outline:"2px solid",outlineColor:"border.error"}},control:{display:"inline-flex",flex:"1",position:"relative",borderRadius:"inherit",justifyContent:"var(--checkbox-card-justify)",alignItems:"var(--checkbox-card-align)"},label:{fontWeight:"medium",display:"flex",alignItems:"center",gap:"2",flex:"1",_disabled:{opacity:"0.5"}},description:{opacity:"0.64",textStyle:"sm",_disabled:{opacity:"0.5"}},addon:{_disabled:{opacity:"0.5"}},indicator:Ei.base,content:{display:"flex",flexDirection:"column",flex:"1",gap:"1",justifyContent:"var(--checkbox-card-justify)",alignItems:"var(--checkbox-card-align)"}},variants:{size:{sm:{root:{textStyle:"sm"},control:{padding:"3",gap:"1.5"},addon:{px:"3",py:"1.5",borderTopWidth:"1px"},indicator:(U3=Ei.variants)==null?void 0:U3.size.sm},md:{root:{textStyle:"sm"},control:{padding:"4",gap:"2.5"},addon:{px:"4",py:"2",borderTopWidth:"1px"},indicator:(B3=Ei.variants)==null?void 0:B3.size.md},lg:{root:{textStyle:"md"},control:{padding:"4",gap:"3.5"},addon:{px:"4",py:"2",borderTopWidth:"1px"},indicator:(V3=Ei.variants)==null?void 0:V3.size.lg}},variant:{surface:{root:{borderWidth:"1px",borderColor:"border",_checked:{bg:"colorPalette.subtle",color:"colorPalette.fg",borderColor:"colorPalette.muted"},_disabled:{bg:"bg.muted"}},indicator:($3=Ei.variants)==null?void 0:$3.variant.solid},subtle:{root:{bg:"bg.muted"},control:{_checked:{bg:"colorPalette.muted",color:"colorPalette.fg"}},indicator:(H3=Ei.variants)==null?void 0:H3.variant.plain},outline:{root:{borderWidth:"1px",borderColor:"border",_checked:{boxShadow:"0 0 0 1px var(--shadow-color)",boxShadowColor:"colorPalette.solid",borderColor:"colorPalette.solid"}},indicator:(W3=Ei.variants)==null?void 0:W3.variant.solid},solid:{root:{borderWidth:"1px",_checked:{bg:"colorPalette.solid",color:"colorPalette.contrast",borderColor:"colorPalette.solid"}},indicator:(G3=Ei.variants)==null?void 0:G3.variant.inverted}},justify:{start:{root:{"--checkbox-card-justify":"flex-start"}},end:{root:{"--checkbox-card-justify":"flex-end"}},center:{root:{"--checkbox-card-justify":"center"}}},align:{start:{root:{"--checkbox-card-align":"flex-start"},content:{textAlign:"start"}},end:{root:{"--checkbox-card-align":"flex-end"},content:{textAlign:"end"}},center:{root:{"--checkbox-card-align":"center"},content:{textAlign:"center"}}},orientation:{vertical:{control:{flexDirection:"column"}},horizontal:{control:{flexDirection:"row"}}}},defaultVariants:{size:"md",variant:"outline",align:"start",orientation:"horizontal"}}),wj=Kt({slots:CL.keys(),className:"chakra-collapsible",base:{content:{overflow:"hidden",_open:{animationName:"expand-height, fade-in",animationDuration:"moderate"},_closed:{animationName:"collapse-height, fade-out",animationDuration:"moderate"}}}});var j3,X3,q3,Y3,K3,Z3,J3,Q3,eO,tO,nO,rO,iO,oO,sO,aO,lO,cO;const Ej=Kt({className:"colorPicker",slots:hj.keys(),base:{root:{display:"flex",flexDirection:"column",gap:"1.5"},label:{color:"fg",fontWeight:"medium",textStyle:"sm",_disabled:{opacity:"0.5"}},valueText:{textAlign:"start"},control:{display:"flex",alignItems:"center",flexDirection:"row",gap:"2",position:"relative"},swatchTrigger:{display:"flex",alignItems:"center",justifyContent:"center"},trigger:{display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"row",flexShrink:"0",gap:"2",textStyle:"sm",minH:"var(--input-height)",minW:"var(--input-height)",px:"1",rounded:"l2",_disabled:{opacity:"0.5"},"--focus-color":"colors.colorPalette.focusRing","&:focus-visible":{borderColor:"var(--focus-color)",outline:"1px solid var(--focus-color)"},"&[data-fit-content]":{"--input-height":"unset",px:"0",border:"0"}},content:{display:"flex",flexDirection:"column",bg:"bg.panel",borderRadius:"l3",boxShadow:"lg",width:"64",p:"4",gap:"3",zIndex:"dropdown",_open:{animationStyle:"slide-fade-in",animationDuration:"fast"},_closed:{animationStyle:"slide-fade-out",animationDuration:"faster"}},area:{height:"180px",borderRadius:"l2",overflow:"hidden"},areaThumb:{borderRadius:"full",height:"var(--thumb-size)",width:"var(--thumb-size)",borderWidth:"2px",borderColor:"white",shadow:"sm",focusVisibleRing:"mixed",focusRingColor:"white"},areaBackground:{height:"full"},channelSlider:{borderRadius:"l2",flex:"1"},channelSliderTrack:{height:"var(--slider-height)",borderRadius:"inherit",boxShadow:"inset 0 0 0 1px rgba(0,0,0,0.1)"},channelText:{textStyle:"xs",color:"fg.muted",fontWeight:"medium",textTransform:"capitalize"},swatchGroup:{display:"flex",flexDirection:"row",flexWrap:"wrap",gap:"2"},swatch:{...OD.base,borderRadius:"l1"},swatchIndicator:{color:"white",rounded:"full"},channelSliderThumb:{borderRadius:"full",height:"var(--thumb-size)",width:"var(--thumb-size)",borderWidth:"2px",borderColor:"white",shadow:"sm",transform:"translate(-50%, -50%)",focusVisibleRing:"outside",focusRingOffset:"1px"},channelInput:{...$r.base,"&::-webkit-inner-spin-button, &::-webkit-outer-spin-button":{WebkitAppearance:"none",margin:0}},formatSelect:{textStyle:"xs",textTransform:"uppercase",borderWidth:"1px",minH:"6",focusRing:"inside",rounded:"l2"},transparencyGrid:{borderRadius:"l2"},view:{display:"flex",flexDirection:"column",gap:"2"}},variants:{size:{"2xs":{channelInput:(X3=(j3=$r.variants)==null?void 0:j3.size)==null?void 0:X3["2xs"],swatch:{"--swatch-size":"sizes.4.5"},trigger:{"--input-height":"sizes.7"},area:{"--thumb-size":"sizes.3"},channelSlider:{"--slider-height":"sizes.3","--thumb-size":"sizes.3"}},xs:{channelInput:(Y3=(q3=$r.variants)==null?void 0:q3.size)==null?void 0:Y3.xs,swatch:{"--swatch-size":"sizes.5"},trigger:{"--input-height":"sizes.8"},area:{"--thumb-size":"sizes.3.5"},channelSlider:{"--slider-height":"sizes.3.5","--thumb-size":"sizes.3.5"}},sm:{channelInput:(Z3=(K3=$r.variants)==null?void 0:K3.size)==null?void 0:Z3.sm,swatch:{"--swatch-size":"sizes.6"},trigger:{"--input-height":"sizes.9"},area:{"--thumb-size":"sizes.3.5"},channelSlider:{"--slider-height":"sizes.3.5","--thumb-size":"sizes.3.5"}},md:{channelInput:(Q3=(J3=$r.variants)==null?void 0:J3.size)==null?void 0:Q3.md,swatch:{"--swatch-size":"sizes.7"},trigger:{"--input-height":"sizes.10"},area:{"--thumb-size":"sizes.3.5"},channelSlider:{"--slider-height":"sizes.3.5","--thumb-size":"sizes.3.5"}},lg:{channelInput:(tO=(eO=$r.variants)==null?void 0:eO.size)==null?void 0:tO.lg,swatch:{"--swatch-size":"sizes.7"},trigger:{"--input-height":"sizes.11"},area:{"--thumb-size":"sizes.3.5"},channelSlider:{"--slider-height":"sizes.3.5","--thumb-size":"sizes.3.5"}},xl:{channelInput:(rO=(nO=$r.variants)==null?void 0:nO.size)==null?void 0:rO.xl,swatch:{"--swatch-size":"sizes.8"},trigger:{"--input-height":"sizes.12"},area:{"--thumb-size":"sizes.3.5"},channelSlider:{"--slider-height":"sizes.3.5","--thumb-size":"sizes.3.5"}},"2xl":{channelInput:(oO=(iO=$r.variants)==null?void 0:iO.size)==null?void 0:oO["2xl"],swatch:{"--swatch-size":"sizes.10"},trigger:{"--input-height":"sizes.16"},area:{"--thumb-size":"sizes.3.5"},channelSlider:{"--slider-height":"sizes.3.5","--thumb-size":"sizes.3.5"}}},variant:{outline:{channelInput:(aO=(sO=$r.variants)==null?void 0:sO.variant)==null?void 0:aO.outline,trigger:{borderWidth:"1px"}},subtle:{channelInput:(cO=(lO=$r.variants)==null?void 0:lO.variant)==null?void 0:cO.subtle,trigger:{borderWidth:"1px",borderColor:"transparent",bg:"bg.muted"}}}},defaultVariants:{size:"md",variant:"outline"}}),Cj=Kt({slots:$G.keys(),className:"chakra-data-list",base:{itemLabel:{display:"flex",alignItems:"center",gap:"1"},itemValue:{display:"flex",minWidth:"0",flex:"1"}},variants:{orientation:{horizontal:{root:{display:"flex",flexDirection:"column"},item:{display:"inline-flex",alignItems:"center",gap:"4"},itemLabel:{minWidth:"120px"}},vertical:{root:{display:"flex",flexDirection:"column"},item:{display:"flex",flexDirection:"column",gap:"1"}}},size:{sm:{root:{gap:"3"},item:{textStyle:"xs"}},md:{root:{gap:"4"},item:{textStyle:"sm"}},lg:{root:{gap:"5"},item:{textStyle:"md"}}},variant:{subtle:{itemLabel:{color:"fg.muted"}},bold:{itemLabel:{fontWeight:"medium"},itemValue:{color:"fg.muted"}}}},defaultVariants:{size:"md",orientation:"vertical",variant:"subtle"}}),Mj=Kt({slots:HG.keys(),className:"chakra-dialog",base:{backdrop:{bg:"blackAlpha.500",pos:"fixed",left:0,top:0,w:"100vw",h:"100dvh",zIndex:"overlay",_open:{animationName:"fade-in",animationDuration:"slow"},_closed:{animationName:"fade-out",animationDuration:"moderate"}},positioner:{display:"flex",width:"100vw",height:"100dvh",position:"fixed",left:0,top:0,"--dialog-z-index":"zIndex.modal",zIndex:"calc(var(--dialog-z-index) + var(--layer-index, 0))",justifyContent:"center",overscrollBehaviorY:"none"},content:{display:"flex",flexDirection:"column",position:"relative",width:"100%",outline:0,borderRadius:"l3",textStyle:"sm",my:"var(--dialog-margin, var(--dialog-base-margin))","--dialog-z-index":"zIndex.modal",zIndex:"calc(var(--dialog-z-index) + var(--layer-index, 0))",bg:"bg.panel",boxShadow:"lg",_open:{animationDuration:"moderate"},_closed:{animationDuration:"faster"}},header:{display:"flex",gap:"2",flex:0,px:"6",pt:"6",pb:"4"},body:{flex:"1",px:"6",pt:"2",pb:"6"},footer:{display:"flex",alignItems:"center",justifyContent:"flex-end",gap:"3",px:"6",pt:"2",pb:"4"},title:{textStyle:"lg",fontWeight:"semibold"},description:{color:"fg.muted"},closeTrigger:{pos:"absolute",top:"2",insetEnd:"2"}},variants:{placement:{center:{positioner:{alignItems:"center"},content:{"--dialog-base-margin":"auto",mx:"auto"}},top:{positioner:{alignItems:"flex-start"},content:{"--dialog-base-margin":"spacing.16",mx:"auto"}},bottom:{positioner:{alignItems:"flex-end"},content:{"--dialog-base-margin":"spacing.16",mx:"auto"}}},scrollBehavior:{inside:{positioner:{overflow:"hidden"},content:{maxH:"calc(100% - 7.5rem)"},body:{overflow:"auto"}},outside:{positioner:{overflow:"auto",pointerEvents:"auto"}}},size:{xs:{content:{maxW:"sm"}},sm:{content:{maxW:"md"}},md:{content:{maxW:"lg"}},lg:{content:{maxW:"2xl"}},xl:{content:{maxW:"4xl"}},cover:{positioner:{padding:"10"},content:{width:"100%",height:"100%","--dialog-margin":"0"}},full:{content:{maxW:"100vw",minH:"100vh","--dialog-margin":"0",borderRadius:"0"}}},motionPreset:{scale:{content:{_open:{animationName:"scale-in, fade-in"},_closed:{animationName:"scale-out, fade-out"}}},"slide-in-bottom":{content:{_open:{animationName:"slide-from-bottom, fade-in"},_closed:{animationName:"slide-to-bottom, fade-out"}}},"slide-in-top":{content:{_open:{animationName:"slide-from-top, fade-in"},_closed:{animationName:"slide-to-top, fade-out"}}},"slide-in-left":{content:{_open:{animationName:"slide-from-left, fade-in"},_closed:{animationName:"slide-to-left, fade-out"}}},"slide-in-right":{content:{_open:{animationName:"slide-from-right, fade-in"},_closed:{animationName:"slide-to-right, fade-out"}}},none:{}}},defaultVariants:{size:"md",scrollBehavior:"outside",placement:"top",motionPreset:"scale"}}),Tj=Kt({slots:WG.keys(),className:"chakra-drawer",base:{backdrop:{bg:"blackAlpha.500",pos:"fixed",insetInlineStart:0,top:0,w:"100vw",h:"100dvh",zIndex:"overlay",_open:{animationName:"fade-in",animationDuration:"slow"},_closed:{animationName:"fade-out",animationDuration:"moderate"}},positioner:{display:"flex",width:"100vw",height:"100dvh",position:"fixed",insetInlineStart:0,top:0,zIndex:"modal",overscrollBehaviorY:"none"},content:{display:"flex",flexDirection:"column",position:"relative",width:"100%",outline:0,zIndex:"modal",textStyle:"sm",maxH:"100dvh",color:"inherit",bg:"bg.panel",boxShadow:"lg",_open:{animationDuration:"slowest",animationTimingFunction:"ease-in-smooth"},_closed:{animationDuration:"slower",animationTimingFunction:"ease-in-smooth"}},header:{display:"flex",alignItems:"center",gap:"2",flex:0,px:"6",pt:"6",pb:"4"},body:{px:"6",py:"2",flex:"1",overflow:"auto"},footer:{display:"flex",alignItems:"center",justifyContent:"flex-end",gap:"3",px:"6",pt:"2",pb:"4"},title:{flex:"1",textStyle:"lg",fontWeight:"semibold"},description:{color:"fg.muted"},closeTrigger:{pos:"absolute",top:"3",insetEnd:"2"}},variants:{size:{xs:{content:{maxW:"xs"}},sm:{content:{maxW:"md"}},md:{content:{maxW:"lg"}},lg:{content:{maxW:"2xl"}},xl:{content:{maxW:"4xl"}},full:{content:{maxW:"100vw",h:"100dvh"}}},placement:{start:{positioner:{justifyContent:"flex-start"},content:{_open:{animationName:{base:"slide-from-left-full, fade-in",_rtl:"slide-from-right-full, fade-in"}},_closed:{animationName:{base:"slide-to-left-full, fade-out",_rtl:"slide-to-right-full, fade-out"}}}},end:{positioner:{justifyContent:"flex-end"},content:{_open:{animationName:{base:"slide-from-right-full, fade-in",_rtl:"slide-from-left-full, fade-in"}},_closed:{animationName:{base:"slide-to-right-full, fade-out",_rtl:"slide-to-right-full, fade-out"}}}},top:{positioner:{alignItems:"flex-start"},content:{maxW:"100%",_open:{animationName:"slide-from-top-full, fade-in"},_closed:{animationName:"slide-to-top-full, fade-out"}}},bottom:{positioner:{alignItems:"flex-end"},content:{maxW:"100%",_open:{animationName:"slide-from-bottom-full, fade-in"},_closed:{animationName:"slide-to-bottom-full, fade-out"}}}},contained:{true:{positioner:{padding:"4"},content:{borderRadius:"l3"}}}},defaultVariants:{size:"xs",placement:"end"}}),KP=lD({fontSize:"inherit",fontWeight:"inherit",textAlign:"inherit",bg:"transparent",borderRadius:"l2"}),Pj=Kt({slots:GG.keys(),className:"chakra-editable",base:{root:{display:"inline-flex",alignItems:"center",position:"relative",gap:"1.5",width:"full"},preview:{...KP,py:"1",px:"1",display:"inline-flex",alignItems:"center",transitionProperty:"common",transitionDuration:"normal",cursor:"text",_hover:{bg:"bg.muted"},_disabled:{userSelect:"none"}},input:{...KP,outline:"0",py:"1",px:"1",transitionProperty:"common",transitionDuration:"normal",width:"full",focusVisibleRing:"inside",focusRingWidth:"2px",_placeholder:{opacity:.6}},control:{display:"inline-flex",alignItems:"center",gap:"1.5"}},variants:{size:{sm:{root:{textStyle:"sm"},preview:{minH:"8"},input:{minH:"8"}},md:{root:{textStyle:"sm"},preview:{minH:"9"},input:{minH:"9"}},lg:{root:{textStyle:"md"},preview:{minH:"10"},input:{minH:"10"}}}},defaultVariants:{size:"md"}}),Rj=Kt({slots:jG.keys(),className:"chakra-empty-state",base:{root:{width:"full"},content:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},indicator:{display:"flex",alignItems:"center",justifyContent:"center",color:"fg.subtle",_icon:{boxSize:"1em"}},title:{fontWeight:"semibold"},description:{textStyle:"sm",color:"fg.muted"}},variants:{size:{sm:{root:{px:"4",py:"6"},title:{textStyle:"md"},content:{gap:"4"},indicator:{textStyle:"2xl"}},md:{root:{px:"8",py:"12"},title:{textStyle:"lg"},content:{gap:"6"},indicator:{textStyle:"4xl"}},lg:{root:{px:"12",py:"16"},title:{textStyle:"xl"},content:{gap:"8"},indicator:{textStyle:"6xl"}}}},defaultVariants:{size:"md"}}),Aj=Kt({className:"chakra-field",slots:XG.keys(),base:{requiredIndicator:{color:"fg.error",lineHeight:"1"},root:{display:"flex",width:"100%",position:"relative",gap:"1.5"},label:{display:"flex",alignItems:"center",textAlign:"start",textStyle:"sm",fontWeight:"medium",gap:"1",userSelect:"none",_disabled:{opacity:"0.5"}},errorText:{display:"inline-flex",alignItems:"center",fontWeight:"medium",gap:"1",color:"fg.error",textStyle:"xs"},helperText:{color:"fg.muted",textStyle:"xs"}},variants:{orientation:{vertical:{root:{flexDirection:"column",alignItems:"flex-start"}},horizontal:{root:{flexDirection:"row",alignItems:"center",justifyContent:"space-between"},label:{flex:"0 0 var(--field-label-width, 80px)"}}}},defaultVariants:{orientation:"vertical"}}),Ij=Kt({className:"fieldset",slots:qG.keys(),base:{root:{display:"flex",flexDirection:"column",width:"full"},content:{display:"flex",flexDirection:"column",width:"full"},legend:{color:"fg",fontWeight:"medium",_disabled:{opacity:"0.5"}},helperText:{color:"fg.muted",textStyle:"sm"},errorText:{display:"inline-flex",alignItems:"center",color:"fg.error",gap:"2",fontWeight:"medium",textStyle:"sm"}},variants:{size:{sm:{root:{spaceY:"2"},content:{gap:"1.5"},legend:{textStyle:"sm"}},md:{root:{spaceY:"4"},content:{gap:"4"},legend:{textStyle:"sm"}},lg:{root:{spaceY:"6"},content:{gap:"4"},legend:{textStyle:"md"}}}},defaultVariants:{size:"md"}}),kj=Kt({className:"chakra-file-upload",slots:YG.keys(),base:{root:{display:"flex",flexDirection:"column",gap:"4",width:"100%",alignItems:"flex-start"},label:{fontWeight:"medium",textStyle:"sm"},dropzone:{background:"bg",borderRadius:"l3",borderWidth:"2px",borderStyle:"dashed",display:"flex",alignItems:"center",flexDirection:"column",gap:"4",justifyContent:"center",minHeight:"2xs",px:"3",py:"2",transition:"backgrounds",focusVisibleRing:"outside",_hover:{bg:"bg.subtle"},_dragging:{bg:"colorPalette.subtle",borderStyle:"solid",borderColor:"colorPalette.solid"}},dropzoneContent:{display:"flex",flexDirection:"column",alignItems:"center",textAlign:"center",gap:"1",textStyle:"sm"},item:{pos:"relative",textStyle:"sm",animationName:"fade-in",animationDuration:"moderate",background:"bg",borderRadius:"l2",borderWidth:"1px",width:"100%",display:"flex",alignItems:"center",gap:"3",p:"4"},itemGroup:{width:"100%",display:"flex",flexDirection:"column",gap:"3",_empty:{display:"none"}},itemName:{color:"fg",fontWeight:"medium",lineClamp:"1"},itemContent:{display:"flex",flexDirection:"column",gap:"0.5",flex:"1"},itemSizeText:{color:"fg.muted",textStyle:"xs"},itemDeleteTrigger:{display:"flex",alignItems:"center",justifyContent:"center",alignSelf:"flex-start",boxSize:"5",p:"2px",color:"fg.muted",cursor:"button"},itemPreview:{color:"fg.muted",_icon:{boxSize:"4.5"}}},defaultVariants:{}}),Oj=Kt({className:"chakra-hover-card",slots:VN.keys(),base:{content:{position:"relative",display:"flex",flexDirection:"column",textStyle:"sm","--hovercard-bg":"colors.bg.panel",bg:"var(--hovercard-bg)",boxShadow:"lg",maxWidth:"80",borderRadius:"l3",zIndex:"popover",transformOrigin:"var(--transform-origin)",outline:"0",_open:{animationStyle:"slide-fade-in",animationDuration:"fast"},_closed:{animationStyle:"slide-fade-out",animationDuration:"faster"}},arrow:{"--arrow-size":"sizes.3","--arrow-background":"var(--hovercard-bg)"},arrowTip:{borderTopWidth:"0.5px",borderInlineStartWidth:"0.5px"}},variants:{size:{xs:{content:{padding:"3"}},sm:{content:{padding:"4"}},md:{content:{padding:"5"}},lg:{content:{padding:"6"}}}},defaultVariants:{size:"md"}}),Lj=Kt({className:"chakra-list",slots:KG.keys(),base:{root:{display:"flex",flexDirection:"column",gap:"var(--list-gap)","& :where(ul, ol)":{marginTop:"var(--list-gap)"}},item:{whiteSpace:"normal",display:"list-item"},indicator:{marginEnd:"2",minHeight:"1lh",flexShrink:0,display:"inline-block",verticalAlign:"middle"}},variants:{variant:{marker:{root:{listStyle:"revert"},item:{_marker:{color:"fg.subtle"}}},plain:{item:{alignItems:"flex-start",display:"inline-flex"}}},align:{center:{item:{alignItems:"center"}},start:{item:{alignItems:"flex-start"}},end:{item:{alignItems:"flex-end"}}}},defaultVariants:{variant:"marker"}}),Nj=Kt({className:"chakra-menu",slots:ZG.keys(),base:{content:{outline:0,bg:"bg.panel",boxShadow:"lg",color:"fg",maxHeight:"var(--available-height)","--menu-z-index":"zIndex.dropdown",zIndex:"calc(var(--menu-z-index) + var(--layer-index, 0))",borderRadius:"l2",overflow:"hidden",overflowY:"auto",_open:{animationStyle:"slide-fade-in",animationDuration:"fast"},_closed:{animationStyle:"slide-fade-out",animationDuration:"faster"}},item:{textDecoration:"none",color:"fg",userSelect:"none",borderRadius:"l1",width:"100%",display:"flex",cursor:"menuitem",alignItems:"center",textAlign:"start",position:"relative",flex:"0 0 auto",outline:0,_disabled:{layerStyle:"disabled"},"&[data-type]":{ps:"8"}},itemText:{flex:"1"},itemIndicator:{position:"absolute",insetStart:"2",transform:"translateY(-50%)",top:"50%"},itemGroupLabel:{px:"2",py:"1.5",fontWeight:"semibold",textStyle:"sm"},indicator:{display:"inline-flex",alignItems:"center",justifyContent:"center",flexShrink:"0"},itemCommand:{opacity:"0.6",textStyle:"xs",ms:"auto",ps:"4",letterSpacing:"widest",fontFamily:"inherit"},separator:{height:"1px",bg:"bg.muted",my:"1",mx:"-1"}},variants:{variant:{subtle:{item:{_highlighted:{bg:"bg.emphasized/60"}}},solid:{item:{_highlighted:{bg:"colorPalette.solid",color:"colorPalette.contrast"}}}},size:{sm:{content:{minW:"8rem",padding:"1"},item:{gap:"1",textStyle:"xs",py:"1",px:"1.5"}},md:{content:{minW:"8rem",padding:"1.5"},item:{gap:"2",textStyle:"sm",py:"1.5",px:"2"}}}},defaultVariants:{size:"md",variant:"subtle"}}),wx=Kt({className:"chakra-select",slots:nj.keys(),base:{root:{display:"flex",flexDirection:"column",gap:"1.5",width:"full"},trigger:{display:"flex",alignItems:"center",justifyContent:"space-between",width:"full",minH:"var(--select-trigger-height)","--input-height":"var(--select-trigger-height)",px:"var(--select-trigger-padding-x)",borderRadius:"l2",userSelect:"none",textAlign:"start",focusVisibleRing:"inside",_placeholderShown:{color:"fg.muted/80"},_disabled:{layerStyle:"disabled"},_invalid:{borderColor:"border.error"}},indicatorGroup:{display:"flex",alignItems:"center",gap:"1",pos:"absolute",right:"0",top:"0",bottom:"0",px:"var(--select-trigger-padding-x)",pointerEvents:"none"},indicator:{display:"flex",alignItems:"center",justifyContent:"center",color:{base:"fg.muted",_disabled:"fg.subtle",_invalid:"fg.error"}},content:{background:"bg.panel",display:"flex",flexDirection:"column",zIndex:"dropdown",borderRadius:"l2",outline:0,maxH:"96",overflowY:"auto",boxShadow:"md",_open:{animationStyle:"slide-fade-in",animationDuration:"fast"},_closed:{animationStyle:"slide-fade-out",animationDuration:"fastest"}},item:{position:"relative",userSelect:"none",display:"flex",alignItems:"center",gap:"2",cursor:"option",justifyContent:"space-between",flex:"1",textAlign:"start",borderRadius:"l1",_highlighted:{bg:"bg.emphasized/60"},_disabled:{pointerEvents:"none",opacity:"0.5"},_icon:{width:"4",height:"4"}},control:{pos:"relative"},itemText:{flex:"1"},itemGroup:{_first:{mt:"0"}},itemGroupLabel:{py:"1",fontWeight:"medium"},label:{fontWeight:"medium",userSelect:"none",textStyle:"sm",_disabled:{layerStyle:"disabled"}},valueText:{lineClamp:"1",maxW:"80%"},clearTrigger:{color:"fg.muted",pointerEvents:"auto",focusVisibleRing:"inside",focusRingWidth:"2px",rounded:"l1"}},variants:{variant:{outline:{trigger:{bg:"transparent",borderWidth:"1px",borderColor:"border",_expanded:{borderColor:"border.emphasized"}}},subtle:{trigger:{borderWidth:"1px",borderColor:"transparent",bg:"bg.muted"}}},size:{xs:{root:{"--select-trigger-height":"sizes.8","--select-trigger-padding-x":"spacing.2"},content:{p:"1",gap:"1",textStyle:"xs"},trigger:{textStyle:"xs",gap:"1"},item:{py:"1",px:"2"},itemGroupLabel:{py:"1",px:"2"},indicator:{_icon:{width:"3.5",height:"3.5"}}},sm:{root:{"--select-trigger-height":"sizes.9","--select-trigger-padding-x":"spacing.2.5"},content:{p:"1",textStyle:"sm"},trigger:{textStyle:"sm",gap:"1"},indicator:{_icon:{width:"4",height:"4"}},item:{py:"1",px:"1.5"},itemGroup:{mt:"1"},itemGroupLabel:{py:"1",px:"1.5"}},md:{root:{"--select-trigger-height":"sizes.10","--select-trigger-padding-x":"spacing.3"},content:{p:"1",textStyle:"sm"},itemGroup:{mt:"1.5"},item:{py:"1.5",px:"2"},itemIndicator:{display:"flex",alignItems:"center",justifyContent:"center"},itemGroupLabel:{py:"1.5",px:"2"},trigger:{textStyle:"sm",gap:"2"},indicator:{_icon:{width:"4",height:"4"}}},lg:{root:{"--select-trigger-height":"sizes.12","--select-trigger-padding-x":"spacing.4"},content:{p:"1.5",textStyle:"md"},itemGroup:{mt:"2"},item:{py:"2",px:"3"},itemGroupLabel:{py:"2",px:"3"},trigger:{textStyle:"md",py:"3",gap:"2"},indicator:{_icon:{width:"5",height:"5"}}}}},defaultVariants:{size:"md",variant:"outline"}});var uO,dO;const Dj=Kt({className:"chakra-native-select",slots:JG.keys(),base:{root:{height:"fit-content",display:"flex",width:"100%",position:"relative"},field:{width:"100%",minWidth:"0",outline:"0",appearance:"none",borderRadius:"l2","--error-color":"colors.border.error",_disabled:{layerStyle:"disabled"},_invalid:{focusRingColor:"var(--error-color)",borderColor:"var(--error-color)"},focusVisibleRing:"inside",lineHeight:"normal","& > option, & > optgroup":{bg:"bg"}},indicator:{position:"absolute",display:"inline-flex",alignItems:"center",justifyContent:"center",pointerEvents:"none",top:"50%",transform:"translateY(-50%)",height:"100%",color:"fg.muted",_disabled:{opacity:"0.5"},_invalid:{color:"fg.error"},_icon:{width:"1em",height:"1em"}}},variants:{variant:{outline:{field:(uO=wx.variants)==null?void 0:uO.variant.outline.trigger},subtle:{field:(dO=wx.variants)==null?void 0:dO.variant.subtle.trigger},plain:{field:{bg:"transparent",color:"fg",focusRingWidth:"2px"}}},size:{xs:{field:{textStyle:"xs",ps:"2",pe:"6",height:"6"},indicator:{textStyle:"sm",insetEnd:"1.5"}},sm:{field:{textStyle:"sm",ps:"2.5",pe:"8",height:"8"},indicator:{textStyle:"md",insetEnd:"2"}},md:{field:{textStyle:"sm",ps:"3",pe:"8",height:"10"},indicator:{textStyle:"lg",insetEnd:"2"}},lg:{field:{textStyle:"md",ps:"4",pe:"8",height:"11"},indicator:{textStyle:"xl",insetEnd:"3"}},xl:{field:{textStyle:"md",ps:"4.5",pe:"10",height:"12"},indicator:{textStyle:"xl",insetEnd:"3"}}}},defaultVariants:wx.defaultVariants});function ME(t,e){const n={};for(const r in t){const i=e(r,t[r]);n[i[0]]=i[1]}return n}const ZP=lD({display:"flex",justifyContent:"center",alignItems:"center",flex:"1",userSelect:"none",cursor:"button",lineHeight:"1",color:"fg.muted","--stepper-base-radius":"radii.l1","--stepper-radius":"calc(var(--stepper-base-radius) + 1px)",_icon:{boxSize:"1em"},_disabled:{opacity:"0.5"},_hover:{bg:"bg.muted"},_active:{bg:"bg.emphasized"}}),Fj=Kt({className:"chakra-number-input",slots:XN.keys(),base:{root:{position:"relative",zIndex:"0",isolation:"isolate"},input:{...$r.base,verticalAlign:"top",pe:"calc(var(--stepper-width) + 0.5rem)"},control:{display:"flex",flexDirection:"column",position:"absolute",top:"0",insetEnd:"0px",margin:"1px",width:"var(--stepper-width)",height:"calc(100% - 2px)",zIndex:"1",borderStartWidth:"1px",divideY:"1px"},incrementTrigger:{...ZP,borderTopEndRadius:"var(--stepper-radius)"},decrementTrigger:{...ZP,borderBottomEndRadius:"var(--stepper-radius)"},valueText:{fontWeight:"medium",fontFeatureSettings:"pnum",fontVariantNumeric:"proportional-nums"}},variants:{size:{xs:{input:$r.variants.size.xs,control:{fontSize:"2xs","--stepper-width":"sizes.4"}},sm:{input:$r.variants.size.sm,control:{fontSize:"xs","--stepper-width":"sizes.5"}},md:{input:$r.variants.size.md,control:{fontSize:"sm","--stepper-width":"sizes.6"}},lg:{input:$r.variants.size.lg,control:{fontSize:"sm","--stepper-width":"sizes.6"}}},variant:ME($r.variants.variant,(t,e)=>[t,{input:e}])},defaultVariants:{size:"md",variant:"outline"}}),{variants:JP,defaultVariants:zj}=$r,Uj=Kt({className:"chakra-pin-input",slots:KN.keys(),base:{input:{...$r.base,textAlign:"center",width:"var(--input-height)"},control:{display:"inline-flex",gap:"2",isolation:"isolate"}},variants:{size:ME(JP.size,(t,e)=>[t,{input:e}]),variant:ME(JP.variant,(t,e)=>[t,{input:e}]),attached:{true:{control:{gap:"0",spaceX:"-1px"},input:{_notFirst:{borderStartRadius:"0"},_notLast:{borderEndRadius:"0"},_focusVisible:{zIndex:"1"}}}}},defaultVariants:zj}),Bj=Kt({className:"chakra-popover",slots:QG.keys(),base:{content:{position:"relative",display:"flex",flexDirection:"column",textStyle:"sm","--popover-bg":"colors.bg.panel",bg:"var(--popover-bg)",boxShadow:"lg","--popover-size":"sizes.xs","--popover-mobile-size":"calc(100dvw - 1rem)",width:{base:"min(var(--popover-mobile-size), var(--popover-size))",sm:"var(--popover-size)"},borderRadius:"l3","--popover-z-index":"zIndex.popover",zIndex:"calc(var(--popover-z-index) + var(--layer-index, 0))",outline:"0",transformOrigin:"var(--transform-origin)",maxHeight:"var(--available-height)",_open:{animationStyle:"scale-fade-in",animationDuration:"fast"},_closed:{animationStyle:"scale-fade-out",animationDuration:"faster"}},header:{paddingInline:"var(--popover-padding)",paddingTop:"var(--popover-padding)"},body:{padding:"var(--popover-padding)",flex:"1"},footer:{display:"flex",alignItems:"center",paddingInline:"var(--popover-padding)",paddingBottom:"var(--popover-padding)"},arrow:{"--arrow-size":"sizes.3","--arrow-background":"var(--popover-bg)"},arrowTip:{borderTopWidth:"1px",borderInlineStartWidth:"1px"}},variants:{size:{xs:{content:{"--popover-padding":"spacing.3"}},sm:{content:{"--popover-padding":"spacing.4"}},md:{content:{"--popover-padding":"spacing.5"}},lg:{content:{"--popover-padding":"spacing.6"}}}},defaultVariants:{size:"md"}}),Vj=Kt({slots:iM.keys(),className:"chakra-progress",base:{root:{textStyle:"sm",position:"relative"},track:{overflow:"hidden",position:"relative"},range:{display:"flex",alignItems:"center",justifyContent:"center",transitionProperty:"width, height",transitionDuration:"slow",height:"100%",bgColor:"var(--track-color)",_indeterminate:{"--animate-from-x":"-40%","--animate-to-x":"100%",position:"absolute",willChange:"left",minWidth:"50%",animation:"position 1s ease infinite normal none running",backgroundImage:"linear-gradient(to right, transparent 0%, var(--track-color) 50%, transparent 100%)"}},label:{display:"inline-flex",fontWeight:"medium",alignItems:"center",gap:"1"},valueText:{textStyle:"xs",lineHeight:"1",fontWeight:"medium"}},variants:{variant:{outline:{track:{shadow:"inset",bgColor:"bg.muted"},range:{bgColor:"colorPalette.solid"}},subtle:{track:{bgColor:"colorPalette.muted"},range:{bgColor:"colorPalette.solid/72"}}},shape:{square:{},rounded:{track:{borderRadius:"l1"}},full:{track:{borderRadius:"full"}}},striped:{true:{range:{backgroundImage:"linear-gradient(45deg, var(--stripe-color) 25%, transparent 25%, transparent 50%, var(--stripe-color) 50%, var(--stripe-color) 75%, transparent 75%, transparent)",backgroundSize:"var(--stripe-size) var(--stripe-size)","--stripe-size":"1rem","--stripe-color":{_light:"rgba(255, 255, 255, 0.3)",_dark:"rgba(0, 0, 0, 0.3)"}}}},animated:{true:{range:{"--animate-from":"var(--stripe-size)",animation:"bg-position 1s linear infinite"}}},size:{xs:{track:{h:"1.5"}},sm:{track:{h:"2"}},md:{track:{h:"2.5"}},lg:{track:{h:"3"}},xl:{track:{h:"4"}}}},defaultVariants:{variant:"outline",size:"md",shape:"rounded"}}),$j=Kt({className:"chakra-progress-circle",slots:iM.keys(),base:{root:{display:"inline-flex",textStyle:"sm",position:"relative"},circle:{_indeterminate:{animation:"spin 2s linear infinite"}},circleTrack:{"--track-color":"colors.colorPalette.muted",stroke:"var(--track-color)"},circleRange:{stroke:"colorPalette.solid",transitionProperty:"stroke-dasharray",transitionDuration:"0.6s",_indeterminate:{animation:"circular-progress 1.5s linear infinite"}},label:{display:"inline-flex"},valueText:{lineHeight:"1",fontWeight:"medium",letterSpacing:"tight",fontVariantNumeric:"tabular-nums"}},variants:{size:{xs:{circle:{"--size":"24px","--thickness":"4px"},valueText:{textStyle:"2xs"}},sm:{circle:{"--size":"32px","--thickness":"5px"},valueText:{textStyle:"2xs"}},md:{circle:{"--size":"40px","--thickness":"6px"},valueText:{textStyle:"xs"}},lg:{circle:{"--size":"48px","--thickness":"7px"},valueText:{textStyle:"sm"}},xl:{circle:{"--size":"64px","--thickness":"8px"},valueText:{textStyle:"sm"}}}},defaultVariants:{size:"md"}}),Hj=Kt({slots:JN.keys(),className:"chakra-qr-code",base:{root:{position:"relative",width:"fit-content","--qr-code-overlay-size":"calc(var(--qr-code-size) / 3)"},frame:{width:"var(--qr-code-size)",height:"var(--qr-code-size)",fill:"currentColor"},overlay:{display:"flex",alignItems:"center",justifyContent:"center",width:"var(--qr-code-overlay-size)",height:"var(--qr-code-overlay-size)",padding:"1",bg:"bg",rounded:"l1"}},variants:{size:{"2xs":{root:{"--qr-code-size":"40px"}},xs:{root:{"--qr-code-size":"64px"}},sm:{root:{"--qr-code-size":"80px"}},md:{root:{"--qr-code-size":"120px"}},lg:{root:{"--qr-code-size":"160px"}},xl:{root:{"--qr-code-size":"200px"}},"2xl":{root:{"--qr-code-size":"240px"}},full:{root:{"--qr-code-size":"100%"}}}},defaultVariants:{size:"md"}});var fO,hO,pO,mO,gO,vO,yO;const Wj=Kt({className:"chakra-radio-card",slots:ej.keys(),base:{root:{display:"flex",flexDirection:"column",gap:"1.5",isolation:"isolate"},item:{flex:"1",display:"flex",flexDirection:"column",userSelect:"none",position:"relative",borderRadius:"l2",_focus:{bg:"colorPalette.muted/20"},_disabled:{opacity:"0.8",borderColor:"border.disabled"},_checked:{zIndex:"1"}},label:{display:"inline-flex",fontWeight:"medium",textStyle:"sm",_disabled:{opacity:"0.5"}},itemText:{fontWeight:"medium",flex:"1"},itemDescription:{opacity:"0.64",textStyle:"sm"},itemControl:{display:"inline-flex",flex:"1",pos:"relative",rounded:"inherit",justifyContent:"var(--radio-card-justify)",alignItems:"var(--radio-card-align)",_disabled:{bg:"bg.muted"}},itemIndicator:Ci.base,itemAddon:{roundedBottom:"inherit",_disabled:{color:"fg.muted"}},itemContent:{display:"flex",flexDirection:"column",flex:"1",gap:"1",justifyContent:"var(--radio-card-justify)",alignItems:"var(--radio-card-align)"}},variants:{size:{sm:{item:{textStyle:"sm"},itemControl:{padding:"3",gap:"1.5"},itemAddon:{px:"3",py:"1.5",borderTopWidth:"1px"},itemIndicator:(fO=Ci.variants)==null?void 0:fO.size.sm},md:{item:{textStyle:"sm"},itemControl:{padding:"4",gap:"2.5"},itemAddon:{px:"4",py:"2",borderTopWidth:"1px"},itemIndicator:(hO=Ci.variants)==null?void 0:hO.size.md},lg:{item:{textStyle:"md"},itemControl:{padding:"4",gap:"3.5"},itemAddon:{px:"4",py:"2",borderTopWidth:"1px"},itemIndicator:(pO=Ci.variants)==null?void 0:pO.size.lg}},variant:{surface:{item:{borderWidth:"1px",_checked:{bg:"colorPalette.subtle",color:"colorPalette.fg",borderColor:"colorPalette.muted"}},itemIndicator:(mO=Ci.variants)==null?void 0:mO.variant.solid},subtle:{item:{bg:"bg.muted"},itemControl:{_checked:{bg:"colorPalette.muted",color:"colorPalette.fg"}},itemIndicator:(gO=Ci.variants)==null?void 0:gO.variant.outline},outline:{item:{borderWidth:"1px",_checked:{boxShadow:"0 0 0 1px var(--shadow-color)",boxShadowColor:"colorPalette.solid",borderColor:"colorPalette.solid"}},itemIndicator:(vO=Ci.variants)==null?void 0:vO.variant.solid},solid:{item:{borderWidth:"1px",_checked:{bg:"colorPalette.solid",color:"colorPalette.contrast",borderColor:"colorPalette.solid"}},itemIndicator:(yO=Ci.variants)==null?void 0:yO.variant.inverted}},justify:{start:{item:{"--radio-card-justify":"flex-start"}},end:{item:{"--radio-card-justify":"flex-end"}},center:{item:{"--radio-card-justify":"center"}}},align:{start:{item:{"--radio-card-align":"flex-start"},itemControl:{textAlign:"start"}},end:{item:{"--radio-card-align":"flex-end"},itemControl:{textAlign:"end"}},center:{item:{"--radio-card-align":"center"},itemControl:{textAlign:"center"}}},orientation:{vertical:{itemControl:{flexDirection:"column"}},horizontal:{itemControl:{flexDirection:"row"}}}},defaultVariants:{size:"md",variant:"outline",align:"start",orientation:"horizontal"}});var xO,bO,_O,SO,wO,EO,CO,MO,TO,PO,RO,AO,IO,kO;const Gj=Kt({className:"chakra-radio-group",slots:LD.keys(),base:{item:{display:"inline-flex",alignItems:"center",position:"relative",fontWeight:"medium",_disabled:{cursor:"disabled"}},itemControl:Ci.base,label:{userSelect:"none",textStyle:"sm",_disabled:{opacity:"0.5"}}},variants:{variant:{outline:{itemControl:(bO=(xO=Ci.variants)==null?void 0:xO.variant)==null?void 0:bO.outline},subtle:{itemControl:(SO=(_O=Ci.variants)==null?void 0:_O.variant)==null?void 0:SO.subtle},solid:{itemControl:(EO=(wO=Ci.variants)==null?void 0:wO.variant)==null?void 0:EO.solid}},size:{xs:{item:{textStyle:"xs",gap:"1.5"},itemControl:(MO=(CO=Ci.variants)==null?void 0:CO.size)==null?void 0:MO.xs},sm:{item:{textStyle:"sm",gap:"2"},itemControl:(PO=(TO=Ci.variants)==null?void 0:TO.size)==null?void 0:PO.sm},md:{item:{textStyle:"sm",gap:"2.5"},itemControl:(AO=(RO=Ci.variants)==null?void 0:RO.size)==null?void 0:AO.md},lg:{item:{textStyle:"md",gap:"3"},itemControl:(kO=(IO=Ci.variants)==null?void 0:IO.size)==null?void 0:kO.lg}}},defaultVariants:{size:"md",variant:"solid"}}),jj=Kt({className:"chakra-rating-group",slots:tj.keys(),base:{root:{display:"inline-flex"},control:{display:"inline-flex",alignItems:"center"},item:{display:"inline-flex",alignItems:"center",justifyContent:"center",userSelect:"none"},itemIndicator:{display:"inline-flex",alignItems:"center",justifyContent:"center",width:"1em",height:"1em",position:"relative",_icon:{stroke:"currentColor",width:"100%",height:"100%",display:"inline-block",flexShrink:0,position:"absolute",left:0,top:0},"& [data-bg]":{color:"bg.emphasized"},"& [data-fg]":{color:"transparent"},"&[data-highlighted]:not([data-half])":{"& [data-fg]":{color:"colorPalette.solid"}},"&[data-half]":{"& [data-fg]":{color:"colorPalette.solid",clipPath:"inset(0 50% 0 0)"}}}},variants:{size:{xs:{item:{textStyle:"sm"}},sm:{item:{textStyle:"md"}},md:{item:{textStyle:"xl"}},lg:{item:{textStyle:"2xl"}}}},defaultVariants:{size:"md"}}),Xj=Kt({className:"chakra-segment-group",slots:eD.keys(),base:{root:{"--segment-radius":"radii.l2",borderRadius:"l2",display:"inline-flex",boxShadow:"inset",minW:"max-content",textAlign:"center",position:"relative",isolation:"isolate",bg:"bg.muted",_vertical:{flexDirection:"column"}},item:{display:"flex",alignItems:"center",justifyContent:"center",userSelect:"none",fontSize:"sm",position:"relative",color:"fg",borderRadius:"var(--segment-radius)",_disabled:{opacity:"0.5"},"&:has(input:focus-visible)":{focusRing:"outside"},_before:{content:'""',position:"absolute",bg:"border",transition:"opacity 0.2s"},_horizontal:{_before:{insetInlineStart:0,insetBlock:"1.5",width:"1px"}},_vertical:{_before:{insetBlockStart:0,insetInline:"1.5",height:"1px"}},"& + &[data-state=checked], &[data-state=checked] + &, &:first-of-type":{_before:{opacity:"0"}},"&[data-state=checked][data-ssr]":{shadow:"sm",bg:"bg",borderRadius:"var(--segment-radius)"}},indicator:{shadow:"sm",pos:"absolute",bg:{_light:"bg",_dark:"bg.emphasized"},width:"var(--width)",height:"var(--height)",top:"var(--top)",left:"var(--left)",zIndex:-1,borderRadius:"var(--segment-radius)"}},variants:{size:{xs:{item:{textStyle:"xs",px:"3",gap:"1",height:"6"}},sm:{item:{textStyle:"sm",px:"4",gap:"2",height:"8"}},md:{item:{textStyle:"sm",px:"4",gap:"2",height:"10"}},lg:{item:{textStyle:"md",px:"4.5",gap:"3",height:"11"}}}},defaultVariants:{size:"md"}}),qj=Kt({className:"chakra-slider",slots:rj.keys(),base:{root:{display:"flex",flexDirection:"column",gap:"1",textStyle:"sm",position:"relative",isolation:"isolate",touchAction:"none"},label:{fontWeight:"medium",textStyle:"sm"},control:{display:"inline-flex",alignItems:"center",position:"relative"},track:{overflow:"hidden",borderRadius:"full",flex:"1"},range:{width:"inherit",height:"inherit",_disabled:{bg:"border.emphasized!"}},markerGroup:{position:"absolute!",zIndex:"1"},marker:{"--marker-bg":{base:"white",_underValue:"colors.bg"},display:"flex",alignItems:"center",gap:"calc(var(--slider-thumb-size) / 2)",color:"fg.muted",textStyle:"xs"},markerIndicator:{width:"var(--slider-marker-size)",height:"var(--slider-marker-size)",borderRadius:"full",bg:"var(--marker-bg)"},thumb:{width:"var(--slider-thumb-size)",height:"var(--slider-thumb-size)",display:"flex",alignItems:"center",justifyContent:"center",outline:0,zIndex:"2",borderRadius:"full",_focusVisible:{ring:"2px",ringColor:"colorPalette.focusRing",ringOffset:"2px",ringOffsetColor:"bg"}}},variants:{size:{sm:{root:{"--slider-thumb-size":"sizes.4","--slider-track-size":"sizes.1.5","--slider-marker-center":"6px","--slider-marker-size":"sizes.1","--slider-marker-inset":"3px"}},md:{root:{"--slider-thumb-size":"sizes.5","--slider-track-size":"sizes.2","--slider-marker-center":"8px","--slider-marker-size":"sizes.1","--slider-marker-inset":"4px"}},lg:{root:{"--slider-thumb-size":"sizes.6","--slider-track-size":"sizes.2.5","--slider-marker-center":"9px","--slider-marker-size":"sizes.1.5","--slider-marker-inset":"5px"}}},variant:{outline:{track:{shadow:"inset",bg:"bg.emphasized/72"},range:{bg:"colorPalette.solid"},thumb:{borderWidth:"2px",borderColor:"colorPalette.solid",bg:"bg",_disabled:{bg:"border.emphasized",borderColor:"border.emphasized"}}},solid:{track:{bg:"colorPalette.subtle",_disabled:{bg:"bg.muted"}},range:{bg:"colorPalette.solid"},thumb:{bg:"colorPalette.solid",_disabled:{bg:"border.emphasized"}}}},orientation:{vertical:{root:{display:"inline-flex"},control:{flexDirection:"column",height:"100%",minWidth:"var(--slider-thumb-size)","&[data-has-mark-label], &:has(.chakra-slider__marker-label)":{marginEnd:"4"}},track:{width:"var(--slider-track-size)"},thumb:{left:"50%",translate:"-50% 0"},markerGroup:{insetStart:"var(--slider-marker-center)",insetBlock:"var(--slider-marker-inset)"},marker:{flexDirection:"row"}},horizontal:{control:{flexDirection:"row",width:"100%",minHeight:"var(--slider-thumb-size)","&[data-has-mark-label], &:has(.chakra-slider__marker-label)":{marginBottom:"4"}},track:{height:"var(--slider-track-size)"},thumb:{top:"50%",translate:"0 -50%"},markerGroup:{top:"var(--slider-marker-center)",insetInline:"var(--slider-marker-inset)"},marker:{flexDirection:"column"}}}},defaultVariants:{size:"md",variant:"outline",orientation:"horizontal"}}),Yj=Kt({className:"chakra-stat",slots:ij.keys(),base:{root:{display:"flex",flexDirection:"column",gap:"1",position:"relative",flex:"1"},label:{display:"inline-flex",gap:"1.5",alignItems:"center",color:"fg.muted",textStyle:"sm"},helpText:{color:"fg.muted",textStyle:"xs"},valueUnit:{color:"fg.muted",textStyle:"xs",fontWeight:"initial",letterSpacing:"initial"},valueText:{verticalAlign:"baseline",fontWeight:"semibold",letterSpacing:"tight",fontFeatureSettings:"pnum",fontVariantNumeric:"proportional-nums",display:"inline-flex",gap:"1"},indicator:{display:"inline-flex",alignItems:"center",justifyContent:"center",marginEnd:1,"& :where(svg)":{w:"1em",h:"1em"},"&[data-type=up]":{color:"fg.success"},"&[data-type=down]":{color:"fg.error"}}},variants:{size:{sm:{valueText:{textStyle:"xl"}},md:{valueText:{textStyle:"2xl"}},lg:{valueText:{textStyle:"3xl"}}}},defaultVariants:{size:"md"}}),Kj=Kt({className:"chakra-status",slots:oj.keys(),base:{root:{display:"inline-flex",alignItems:"center",gap:"2"},indicator:{width:"0.64em",height:"0.64em",flexShrink:0,borderRadius:"full",forcedColorAdjust:"none",bg:"colorPalette.solid"}},variants:{size:{sm:{root:{textStyle:"xs"}},md:{root:{textStyle:"sm"}},lg:{root:{textStyle:"md"}}}},defaultVariants:{size:"md"}}),Zj=Kt({className:"chakra-steps",slots:sj.keys(),base:{root:{display:"flex",width:"full"},list:{display:"flex",justifyContent:"space-between","--steps-gutter":"spacing.3","--steps-thickness":"2px"},title:{fontWeight:"medium",color:"fg"},description:{color:"fg.muted"},separator:{bg:"border",flex:"1"},indicator:{display:"flex",justifyContent:"center",alignItems:"center",flexShrink:"0",borderRadius:"full",fontWeight:"medium",width:"var(--steps-size)",height:"var(--steps-size)",_icon:{flexShrink:"0",width:"var(--steps-icon-size)",height:"var(--steps-icon-size)"}},item:{position:"relative",display:"flex",gap:"3",flex:"1 0 0","&:last-of-type":{flex:"initial","& [data-part=separator]":{display:"none"}}},trigger:{display:"flex",alignItems:"center",gap:"3",textAlign:"start",focusVisibleRing:"outside",borderRadius:"l2"},content:{focusVisibleRing:"outside"}},variants:{orientation:{vertical:{root:{flexDirection:"row",height:"100%"},list:{flexDirection:"column",alignItems:"flex-start"},separator:{position:"absolute",width:"var(--steps-thickness)",height:"100%",maxHeight:"calc(100% - var(--steps-size) - var(--steps-gutter) * 2)",top:"calc(var(--steps-size) + var(--steps-gutter))",insetStart:"calc(var(--steps-size) / 2 - 1px)"},item:{alignItems:"flex-start"}},horizontal:{root:{flexDirection:"column",width:"100%"},list:{flexDirection:"row",alignItems:"center"},separator:{width:"100%",height:"var(--steps-thickness)",marginX:"var(--steps-gutter)"},item:{alignItems:"center"}}},variant:{solid:{indicator:{_incomplete:{borderWidth:"var(--steps-thickness)"},_current:{bg:"colorPalette.muted",borderWidth:"var(--steps-thickness)",borderColor:"colorPalette.solid",color:"colorPalette.fg"},_complete:{bg:"colorPalette.solid",borderColor:"colorPalette.solid",color:"colorPalette.contrast"}},separator:{_complete:{bg:"colorPalette.solid"}}},subtle:{indicator:{_incomplete:{bg:"bg.muted"},_current:{bg:"colorPalette.muted",color:"colorPalette.fg"},_complete:{bg:"colorPalette.emphasized",color:"colorPalette.fg"}},separator:{_complete:{bg:"colorPalette.emphasized"}}}},size:{xs:{root:{gap:"2.5"},list:{"--steps-size":"sizes.6","--steps-icon-size":"sizes.3.5",textStyle:"xs"},title:{textStyle:"sm"}},sm:{root:{gap:"3"},list:{"--steps-size":"sizes.8","--steps-icon-size":"sizes.4",textStyle:"xs"},title:{textStyle:"sm"}},md:{root:{gap:"4"},list:{"--steps-size":"sizes.10","--steps-icon-size":"sizes.4",textStyle:"sm"},title:{textStyle:"sm"}},lg:{root:{gap:"6"},list:{"--steps-size":"sizes.11","--steps-icon-size":"sizes.5",textStyle:"md"},title:{textStyle:"md"}}}},defaultVariants:{size:"md",variant:"solid",orientation:"horizontal"}}),Jj=Kt({slots:aj.keys(),className:"chakra-switch",base:{root:{display:"inline-flex",gap:"2.5",alignItems:"center",position:"relative",verticalAlign:"middle","--switch-diff":"calc(var(--switch-width) - var(--switch-height))","--switch-x":{base:"var(--switch-diff)",_rtl:"calc(var(--switch-diff) * -1)"}},label:{lineHeight:"1",userSelect:"none",fontSize:"sm",fontWeight:"medium",_disabled:{opacity:"0.5"}},indicator:{position:"absolute",height:"var(--switch-height)",width:"var(--switch-height)",fontSize:"var(--switch-indicator-font-size)",fontWeight:"medium",flexShrink:0,userSelect:"none",display:"grid",placeContent:"center",transition:"inset-inline-start 0.12s ease",insetInlineStart:"calc(var(--switch-x) - 2px)",_checked:{insetInlineStart:"2px"}},control:{display:"inline-flex",gap:"0.5rem",flexShrink:0,justifyContent:"flex-start",cursor:"switch",borderRadius:"full",position:"relative",width:"var(--switch-width)",height:"var(--switch-height)",transition:"backgrounds",_disabled:{opacity:"0.5",cursor:"not-allowed"},_invalid:{outline:"2px solid",outlineColor:"border.error",outlineOffset:"2px"}},thumb:{display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,transitionProperty:"translate",transitionDuration:"fast",borderRadius:"inherit",_checked:{translate:"var(--switch-x) 0"}}},variants:{variant:{solid:{control:{borderRadius:"full",bg:"bg.emphasized",focusVisibleRing:"outside",_checked:{bg:"colorPalette.solid"}},thumb:{bg:"white",width:"var(--switch-height)",height:"var(--switch-height)",scale:"0.8",boxShadow:"sm",_checked:{bg:"colorPalette.contrast"}}},raised:{control:{borderRadius:"full",height:"calc(var(--switch-height) / 2)",bg:"bg.muted",boxShadow:"inset",_checked:{bg:"colorPalette.solid/60"}},thumb:{width:"var(--switch-height)",height:"var(--switch-height)",position:"relative",top:"calc(var(--switch-height) * -0.25)",bg:"white",boxShadow:"xs",focusVisibleRing:"outside",_checked:{bg:"colorPalette.solid"}}}},size:{xs:{root:{"--switch-width":"sizes.6","--switch-height":"sizes.3","--switch-indicator-font-size":"fontSizes.xs"}},sm:{root:{"--switch-width":"sizes.8","--switch-height":"sizes.4","--switch-indicator-font-size":"fontSizes.xs"}},md:{root:{"--switch-width":"sizes.10","--switch-height":"sizes.5","--switch-indicator-font-size":"fontSizes.sm"}},lg:{root:{"--switch-width":"sizes.12","--switch-height":"sizes.6","--switch-indicator-font-size":"fontSizes.md"}}}},defaultVariants:{variant:"solid",size:"md"}}),Qj=Kt({className:"chakra-table",slots:lj.keys(),base:{root:{fontVariantNumeric:"lining-nums tabular-nums",borderCollapse:"collapse",width:"full",textAlign:"start",verticalAlign:"top"},row:{_selected:{bg:"colorPalette.subtle"}},cell:{textAlign:"start",alignItems:"center"},columnHeader:{fontWeight:"medium",textAlign:"start",color:"fg"},caption:{fontWeight:"medium",textStyle:"xs"},footer:{fontWeight:"medium"}},variants:{interactive:{true:{body:{"& tr":{_hover:{bg:"colorPalette.subtle"}}}}},stickyHeader:{true:{header:{"& :where(tr)":{top:"var(--table-sticky-offset, 0)",position:"sticky",zIndex:1}}}},striped:{true:{row:{"&:nth-of-type(odd) td":{bg:"bg.muted"}}}},showColumnBorder:{true:{columnHeader:{"&:not(:last-of-type)":{borderInlineEndWidth:"1px"}},cell:{"&:not(:last-of-type)":{borderInlineEndWidth:"1px"}}}},variant:{line:{columnHeader:{borderBottomWidth:"1px"},cell:{borderBottomWidth:"1px"},row:{bg:"bg"}},outline:{root:{boxShadow:"0 0 0 1px {colors.border}",overflow:"hidden"},columnHeader:{borderBottomWidth:"1px"},header:{bg:"bg.muted"},row:{"&:not(:last-of-type)":{borderBottomWidth:"1px"}},footer:{borderTopWidth:"1px"}}},size:{sm:{root:{textStyle:"sm"},columnHeader:{px:"2",py:"2"},cell:{px:"2",py:"2"}},md:{root:{textStyle:"sm"},columnHeader:{px:"3",py:"3"},cell:{px:"3",py:"3"}},lg:{root:{textStyle:"md"},columnHeader:{px:"4",py:"3"},cell:{px:"4",py:"3"}}}},defaultVariants:{variant:"line",size:"md"}}),eX=Kt({slots:uj.keys(),className:"chakra-tabs",base:{root:{"--tabs-trigger-radius":"radii.l2",position:"relative",_horizontal:{display:"block"},_vertical:{display:"flex"}},list:{display:"inline-flex",position:"relative",isolation:"isolate","--tabs-indicator-shadow":"shadows.xs","--tabs-indicator-bg":"colors.bg",minH:"var(--tabs-height)",_horizontal:{flexDirection:"row"},_vertical:{flexDirection:"column"}},trigger:{outline:"0",minW:"var(--tabs-height)",height:"var(--tabs-height)",display:"flex",alignItems:"center",fontWeight:"medium",position:"relative",cursor:"button",gap:"2",_focusVisible:{zIndex:1,outline:"2px solid",outlineColor:"colorPalette.focusRing"},_disabled:{cursor:"not-allowed",opacity:.5}},content:{focusVisibleRing:"inside",_horizontal:{width:"100%",pt:"var(--tabs-content-padding)"},_vertical:{height:"100%",ps:"var(--tabs-content-padding)"}},indicator:{width:"var(--width)",height:"var(--height)",borderRadius:"var(--tabs-indicator-radius)",bg:"var(--tabs-indicator-bg)",shadow:"var(--tabs-indicator-shadow)",zIndex:-1}},variants:{fitted:{true:{list:{display:"flex"},trigger:{flex:1,textAlign:"center",justifyContent:"center"}}},justify:{start:{list:{justifyContent:"flex-start"}},center:{list:{justifyContent:"center"}},end:{list:{justifyContent:"flex-end"}}},size:{sm:{root:{"--tabs-height":"sizes.9","--tabs-content-padding":"spacing.3"},trigger:{py:"1",px:"3",textStyle:"sm"}},md:{root:{"--tabs-height":"sizes.10","--tabs-content-padding":"spacing.4"},trigger:{py:"2",px:"4",textStyle:"sm"}},lg:{root:{"--tabs-height":"sizes.11","--tabs-content-padding":"spacing.4.5"},trigger:{py:"2",px:"4.5",textStyle:"md"}}},variant:{line:{list:{display:"flex",borderColor:"border",_horizontal:{borderBottomWidth:"1px"},_vertical:{borderEndWidth:"1px"}},trigger:{color:"fg.muted",_disabled:{_active:{bg:"initial"}},_selected:{color:"fg",_horizontal:{layerStyle:"indicator.bottom","--indicator-offset-y":"-1px","--indicator-color":"colors.colorPalette.solid"},_vertical:{layerStyle:"indicator.end","--indicator-offset-x":"-1px"}}}},subtle:{trigger:{borderRadius:"var(--tabs-trigger-radius)",color:"fg.muted",_selected:{bg:"colorPalette.subtle",color:"colorPalette.fg"}}},enclosed:{list:{bg:"bg.muted",padding:"1",borderRadius:"l3",minH:"calc(var(--tabs-height) - 4px)"},trigger:{justifyContent:"center",color:"fg.muted",borderRadius:"var(--tabs-trigger-radius)",_selected:{bg:"bg",color:"colorPalette.fg",shadow:"xs"}}},outline:{list:{"--line-thickness":"1px","--line-offset":"calc(var(--line-thickness) * -1)",borderColor:"border",display:"flex",_horizontal:{_before:{content:'""',position:"absolute",bottom:"0px",width:"100%",borderBottomWidth:"var(--line-thickness)",borderBottomColor:"border"}},_vertical:{_before:{content:'""',position:"absolute",insetInline:"var(--line-offset)",height:"calc(100% - calc(var(--line-thickness) * 2))",borderEndWidth:"var(--line-thickness)",borderEndColor:"border"}}},trigger:{color:"fg.muted",borderWidth:"1px",borderColor:"transparent",_selected:{bg:"currentBg",color:"colorPalette.fg"},_horizontal:{borderTopRadius:"var(--tabs-trigger-radius)",marginBottom:"var(--line-offset)",marginEnd:{_notLast:"var(--line-offset)"},_selected:{borderColor:"border",borderBottomColor:"transparent"}},_vertical:{borderStartRadius:"var(--tabs-trigger-radius)",marginEnd:"var(--line-offset)",marginBottom:{_notLast:"var(--line-offset)"},_selected:{borderColor:"border",borderEndColor:"transparent"}}}},plain:{trigger:{color:"fg.muted",_selected:{color:"colorPalette.fg"},borderRadius:"var(--tabs-trigger-radius)","&[data-selected][data-ssr]":{bg:"var(--tabs-indicator-bg)",shadow:"var(--tabs-indicator-shadow)",borderRadius:"var(--tabs-indicator-radius)"}}}}},defaultVariants:{size:"md",variant:"line"}});var OO;const _s=(OO=cM.variants)==null?void 0:OO.variant,tX=Kt({slots:dj.keys(),className:"chakra-tag",base:{root:{display:"inline-flex",alignItems:"center",verticalAlign:"top",maxWidth:"100%",userSelect:"none",borderRadius:"l2",focusVisibleRing:"outside"},label:{lineClamp:"1"},closeTrigger:{display:"flex",alignItems:"center",justifyContent:"center",outline:"0",borderRadius:"l1",color:"currentColor",focusVisibleRing:"inside",focusRingWidth:"2px"},startElement:{flexShrink:0,boxSize:"var(--tag-element-size)",ms:"var(--tag-element-offset)","&:has([data-scope=avatar])":{boxSize:"var(--tag-avatar-size)",ms:"calc(var(--tag-element-offset) * 1.5)"},_icon:{boxSize:"100%"}},endElement:{flexShrink:0,boxSize:"var(--tag-element-size)",me:"var(--tag-element-offset)",_icon:{boxSize:"100%"},"&:has(button)":{ms:"calc(var(--tag-element-offset) * -1)"}}},variants:{size:{sm:{root:{px:"1.5",minH:"4.5",gap:"1","--tag-avatar-size":"spacing.3","--tag-element-size":"spacing.3","--tag-element-offset":"-2px"},label:{textStyle:"xs"}},md:{root:{px:"1.5",minH:"5",gap:"1","--tag-avatar-size":"spacing.3.5","--tag-element-size":"spacing.3.5","--tag-element-offset":"-2px"},label:{textStyle:"xs"}},lg:{root:{px:"2",minH:"6",gap:"1.5","--tag-avatar-size":"spacing.4.5","--tag-element-size":"spacing.4","--tag-element-offset":"-3px"},label:{textStyle:"sm"}},xl:{root:{px:"2.5",minH:"8",gap:"1.5","--tag-avatar-size":"spacing.6","--tag-element-size":"spacing.4.5","--tag-element-offset":"-4px"},label:{textStyle:"sm"}}},variant:{subtle:{root:_s==null?void 0:_s.subtle},solid:{root:_s==null?void 0:_s.solid},outline:{root:_s==null?void 0:_s.outline},surface:{root:_s==null?void 0:_s.surface}}},defaultVariants:{size:"md",variant:"surface"}}),nX=Kt({slots:fj.keys(),className:"chakra-timeline",base:{root:{display:"flex",flexDirection:"column",width:"full","--timeline-thickness":"1px","--timeline-gutter":"4px"},item:{display:"flex",position:"relative",alignItems:"flex-start",flexShrink:0,gap:"4",_last:{"& :where(.chakra-timeline__separator)":{display:"none"}}},separator:{position:"absolute",borderStartWidth:"var(--timeline-thickness)",ms:"calc(-1 * var(--timeline-thickness) / 2)",insetInlineStart:"calc(var(--timeline-indicator-size) / 2)",insetBlock:"0",borderColor:"border"},indicator:{outline:"2px solid {colors.bg}",position:"relative",flexShrink:"0",boxSize:"var(--timeline-indicator-size)",fontSize:"var(--timeline-font-size)",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"full",fontWeight:"medium"},connector:{alignSelf:"stretch",position:"relative"},content:{pb:"6",display:"flex",flexDirection:"column",width:"full",gap:"2"},title:{display:"flex",fontWeight:"medium",flexWrap:"wrap",gap:"1.5",alignItems:"center",mt:"var(--timeline-margin)"},description:{color:"fg.muted",textStyle:"xs"}},variants:{variant:{subtle:{indicator:{bg:"colorPalette.muted"}},solid:{indicator:{bg:"colorPalette.solid",color:"colorPalette.contrast"}},outline:{indicator:{bg:"currentBg",borderWidth:"1px",borderColor:"colorPalette.muted"}},plain:{}},size:{sm:{root:{"--timeline-indicator-size":"sizes.4","--timeline-font-size":"fontSizes.2xs"},title:{textStyle:"xs"}},md:{root:{"--timeline-indicator-size":"sizes.5","--timeline-font-size":"fontSizes.xs"},title:{textStyle:"sm"}},lg:{root:{"--timeline-indicator-size":"sizes.6","--timeline-font-size":"fontSizes.xs"},title:{mt:"0.5",textStyle:"sm"}},xl:{root:{"--timeline-indicator-size":"sizes.8","--timeline-font-size":"fontSizes.sm"},title:{mt:"1.5",textStyle:"sm"}}}},defaultVariants:{size:"md",variant:"solid"}}),rX=Kt({slots:cj.keys(),className:"chakra-toast",base:{root:{width:"full",display:"flex",alignItems:"flex-start",position:"relative",gap:"3",py:"4",ps:"4",pe:"6",borderRadius:"l2",translate:"var(--x) var(--y)",scale:"var(--scale)",zIndex:"var(--z-index)",height:"var(--height)",opacity:"var(--opacity)",willChange:"translate, opacity, scale",transition:"translate 400ms, scale 400ms, opacity 400ms, height 400ms, box-shadow 200ms",transitionTimingFunction:"cubic-bezier(0.21, 1.02, 0.73, 1)",_closed:{transition:"translate 400ms, scale 400ms, opacity 200ms",transitionTimingFunction:"cubic-bezier(0.06, 0.71, 0.55, 1)"},bg:"bg.panel",color:"fg",boxShadow:"xl","--toast-trigger-bg":"colors.bg.muted","&[data-type=warning]":{bg:"orange.solid",color:"orange.contrast","--toast-trigger-bg":"{white/10}","--toast-border-color":"{white/40}"},"&[data-type=success]":{bg:"green.solid",color:"green.contrast","--toast-trigger-bg":"{white/10}","--toast-border-color":"{white/40}"},"&[data-type=error]":{bg:"red.solid",color:"red.contrast","--toast-trigger-bg":"{white/10}","--toast-border-color":"{white/40}"}},title:{fontWeight:"medium",textStyle:"sm",marginEnd:"2"},description:{display:"inline",textStyle:"sm",opacity:"0.8"},indicator:{flexShrink:"0",boxSize:"5"},actionTrigger:{textStyle:"sm",fontWeight:"medium",height:"8",px:"3",borderRadius:"l2",alignSelf:"center",borderWidth:"1px",borderColor:"var(--toast-border-color, inherit)",transition:"background 200ms",_hover:{bg:"var(--toast-trigger-bg)"}},closeTrigger:{position:"absolute",top:"1",insetEnd:"1",padding:"1",display:"inline-flex",alignItems:"center",justifyContent:"center",color:"{currentColor/60}",borderRadius:"l2",textStyle:"md",transition:"background 200ms",_icon:{boxSize:"1em"}}}}),iX=Kt({slots:aD.keys(),className:"chakra-tooltip",base:{content:{"--tooltip-bg":"colors.bg.inverted",bg:"var(--tooltip-bg)",color:"fg.inverted",px:"2.5",py:"1",borderRadius:"l2",fontWeight:"medium",textStyle:"xs",boxShadow:"md",maxW:"xs",zIndex:"tooltip",transformOrigin:"var(--transform-origin)",_open:{animationStyle:"scale-fade-in",animationDuration:"fast"},_closed:{animationStyle:"scale-fade-out",animationDuration:"fast"}},arrow:{"--arrow-size":"sizes.2","--arrow-background":"var(--tooltip-bg)"},arrowTip:{borderTopWidth:"1px",borderInlineStartWidth:"1px",borderColor:"var(--tooltip-bg)"}}}),oX={accordion:pj,actionBar:mj,alert:gj,avatar:vj,blockquote:yj,breadcrumb:xj,card:bj,checkbox:_j,checkboxCard:Sj,collapsible:wj,dataList:Cj,dialog:Mj,drawer:Tj,editable:Pj,emptyState:Rj,field:Aj,fieldset:Ij,fileUpload:kj,hoverCard:Oj,list:Lj,menu:Nj,nativeSelect:Dj,numberInput:Fj,pinInput:Uj,popover:Bj,progress:Vj,progressCircle:$j,radioCard:Wj,radioGroup:Gj,ratingGroup:jj,segmentGroup:Xj,select:wx,slider:qj,stat:Yj,steps:Zj,switch:Jj,table:Qj,tabs:eX,tag:tX,toast:rX,tooltip:iX,status:Kj,timeline:nX,colorPicker:Ej,qrCode:Hj},sX=B9({"2xs":{value:{fontSize:"2xs",lineHeight:"0.75rem"}},xs:{value:{fontSize:"xs",lineHeight:"1rem"}},sm:{value:{fontSize:"sm",lineHeight:"1.25rem"}},md:{value:{fontSize:"md",lineHeight:"1.5rem"}},lg:{value:{fontSize:"lg",lineHeight:"1.75rem"}},xl:{value:{fontSize:"xl",lineHeight:"1.875rem"}},"2xl":{value:{fontSize:"2xl",lineHeight:"2rem"}},"3xl":{value:{fontSize:"3xl",lineHeight:"2.375rem"}},"4xl":{value:{fontSize:"4xl",lineHeight:"2.75rem",letterSpacing:"-0.025em"}},"5xl":{value:{fontSize:"5xl",lineHeight:"3.75rem",letterSpacing:"-0.025em"}},"6xl":{value:{fontSize:"6xl",lineHeight:"4.5rem",letterSpacing:"-0.025em"}},"7xl":{value:{fontSize:"7xl",lineHeight:"5.75rem",letterSpacing:"-0.025em"}},none:{value:{}},label:{value:{fontSize:"sm",lineHeight:"1.25rem",fontWeight:"medium"}}}),aX=Wr.animations({spin:{value:"spin 1s linear infinite"},ping:{value:"ping 1s cubic-bezier(0, 0, 0.2, 1) infinite"},pulse:{value:"pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite"},bounce:{value:"bounce 1s infinite"}}),lX=Wr.aspectRatios({square:{value:"1 / 1"},landscape:{value:"4 / 3"},portrait:{value:"3 / 4"},wide:{value:"16 / 9"},ultrawide:{value:"18 / 5"},golden:{value:"1.618 / 1"}}),cX=Wr.blurs({none:{value:" "},sm:{value:"4px"},md:{value:"8px"},lg:{value:"12px"},xl:{value:"16px"},"2xl":{value:"24px"},"3xl":{value:"40px"},"4xl":{value:"64px"}}),uX=Wr.borders({xs:{value:"0.5px solid"},sm:{value:"1px solid"},md:{value:"2px solid"},lg:{value:"4px solid"},xl:{value:"8px solid"}}),dX=Wr.colors({transparent:{value:"transparent"},current:{value:"currentColor"},black:{value:"#09090B"},white:{value:"#FFFFFF"},whiteAlpha:{50:{value:"rgba(255, 255, 255, 0.04)"},100:{value:"rgba(255, 255, 255, 0.06)"},200:{value:"rgba(255, 255, 255, 0.08)"},300:{value:"rgba(255, 255, 255, 0.16)"},400:{value:"rgba(255, 255, 255, 0.24)"},500:{value:"rgba(255, 255, 255, 0.36)"},600:{value:"rgba(255, 255, 255, 0.48)"},700:{value:"rgba(255, 255, 255, 0.64)"},800:{value:"rgba(255, 255, 255, 0.80)"},900:{value:"rgba(255, 255, 255, 0.92)"},950:{value:"rgba(255, 255, 255, 0.95)"}},blackAlpha:{50:{value:"rgba(0, 0, 0, 0.04)"},100:{value:"rgba(0, 0, 0, 0.06)"},200:{value:"rgba(0, 0, 0, 0.08)"},300:{value:"rgba(0, 0, 0, 0.16)"},400:{value:"rgba(0, 0, 0, 0.24)"},500:{value:"rgba(0, 0, 0, 0.36)"},600:{value:"rgba(0, 0, 0, 0.48)"},700:{value:"rgba(0, 0, 0, 0.64)"},800:{value:"rgba(0, 0, 0, 0.80)"},900:{value:"rgba(0, 0, 0, 0.92)"},950:{value:"rgba(0, 0, 0, 0.95)"}},gray:{50:{value:"#fafafa"},100:{value:"#f4f4f5"},200:{value:"#e4e4e7"},300:{value:"#d4d4d8"},400:{value:"#a1a1aa"},500:{value:"#71717a"},600:{value:"#52525b"},700:{value:"#3f3f46"},800:{value:"#27272a"},900:{value:"#18181b"},950:{value:"#111111"}},red:{50:{value:"#fef2f2"},100:{value:"#fee2e2"},200:{value:"#fecaca"},300:{value:"#fca5a5"},400:{value:"#f87171"},500:{value:"#ef4444"},600:{value:"#dc2626"},700:{value:"#991919"},800:{value:"#511111"},900:{value:"#300c0c"},950:{value:"#1f0808"}},orange:{50:{value:"#fff7ed"},100:{value:"#ffedd5"},200:{value:"#fed7aa"},300:{value:"#fdba74"},400:{value:"#fb923c"},500:{value:"#f97316"},600:{value:"#ea580c"},700:{value:"#92310a"},800:{value:"#6c2710"},900:{value:"#3b1106"},950:{value:"#220a04"}},yellow:{50:{value:"#fefce8"},100:{value:"#fef9c3"},200:{value:"#fef08a"},300:{value:"#fde047"},400:{value:"#facc15"},500:{value:"#eab308"},600:{value:"#ca8a04"},700:{value:"#845209"},800:{value:"#713f12"},900:{value:"#422006"},950:{value:"#281304"}},green:{50:{value:"#f0fdf4"},100:{value:"#dcfce7"},200:{value:"#bbf7d0"},300:{value:"#86efac"},400:{value:"#4ade80"},500:{value:"#22c55e"},600:{value:"#16a34a"},700:{value:"#116932"},800:{value:"#124a28"},900:{value:"#042713"},950:{value:"#03190c"}},teal:{50:{value:"#f0fdfa"},100:{value:"#ccfbf1"},200:{value:"#99f6e4"},300:{value:"#5eead4"},400:{value:"#2dd4bf"},500:{value:"#14b8a6"},600:{value:"#0d9488"},700:{value:"#0c5d56"},800:{value:"#114240"},900:{value:"#032726"},950:{value:"#021716"}},blue:{50:{value:"#eff6ff"},100:{value:"#dbeafe"},200:{value:"#bfdbfe"},300:{value:"#a3cfff"},400:{value:"#60a5fa"},500:{value:"#3b82f6"},600:{value:"#2563eb"},700:{value:"#173da6"},800:{value:"#1a3478"},900:{value:"#14204a"},950:{value:"#0c142e"}},cyan:{50:{value:"#ecfeff"},100:{value:"#cffafe"},200:{value:"#a5f3fc"},300:{value:"#67e8f9"},400:{value:"#22d3ee"},500:{value:"#06b6d4"},600:{value:"#0891b2"},700:{value:"#0c5c72"},800:{value:"#134152"},900:{value:"#072a38"},950:{value:"#051b24"}},purple:{50:{value:"#faf5ff"},100:{value:"#f3e8ff"},200:{value:"#e9d5ff"},300:{value:"#d8b4fe"},400:{value:"#c084fc"},500:{value:"#a855f7"},600:{value:"#9333ea"},700:{value:"#641ba3"},800:{value:"#4a1772"},900:{value:"#2f0553"},950:{value:"#1a032e"}},pink:{50:{value:"#fdf2f8"},100:{value:"#fce7f3"},200:{value:"#fbcfe8"},300:{value:"#f9a8d4"},400:{value:"#f472b6"},500:{value:"#ec4899"},600:{value:"#db2777"},700:{value:"#a41752"},800:{value:"#6d0e34"},900:{value:"#45061f"},950:{value:"#2c0514"}}}),fX=Wr.cursor({button:{value:"pointer"},checkbox:{value:"default"},disabled:{value:"not-allowed"},menuitem:{value:"default"},option:{value:"default"},radio:{value:"default"},slider:{value:"default"},switch:{value:"pointer"}}),hX=Wr.durations({fastest:{value:"50ms"},faster:{value:"100ms"},fast:{value:"150ms"},moderate:{value:"200ms"},slow:{value:"300ms"},slower:{value:"400ms"},slowest:{value:"500ms"}}),pX=Wr.easings({"ease-in":{value:"cubic-bezier(0.42, 0, 1, 1)"},"ease-out":{value:"cubic-bezier(0, 0, 0.58, 1)"},"ease-in-out":{value:"cubic-bezier(0.42, 0, 0.58, 1)"},"ease-in-smooth":{value:"cubic-bezier(0.32, 0.72, 0, 1)"}}),mX=Wr.fontSizes({"2xs":{value:"0.625rem"},xs:{value:"0.75rem"},sm:{value:"0.875rem"},md:{value:"1rem"},lg:{value:"1.125rem"},xl:{value:"1.25rem"},"2xl":{value:"1.5rem"},"3xl":{value:"1.875rem"},"4xl":{value:"2.25rem"},"5xl":{value:"3rem"},"6xl":{value:"3.75rem"},"7xl":{value:"4.5rem"},"8xl":{value:"6rem"},"9xl":{value:"8rem"}}),gX=Wr.fontWeights({thin:{value:"100"},extralight:{value:"200"},light:{value:"300"},normal:{value:"400"},medium:{value:"500"},semibold:{value:"600"},bold:{value:"700"},extrabold:{value:"800"},black:{value:"900"}}),QP='-apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',vX=Wr.fonts({heading:{value:`Inter, ${QP}`},body:{value:`Inter, ${QP}`},mono:{value:'SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace'}}),yX=z9({spin:{"0%":{transform:"rotate(0deg)"},"100%":{transform:"rotate(360deg)"}},pulse:{"50%":{opacity:"0.5"}},ping:{"75%, 100%":{transform:"scale(2)",opacity:"0"}},bounce:{"0%, 100%":{transform:"translateY(-25%)",animationTimingFunction:"cubic-bezier(0.8,0,1,1)"},"50%":{transform:"none",animationTimingFunction:"cubic-bezier(0,0,0.2,1)"}},"bg-position":{from:{backgroundPosition:"var(--animate-from, 1rem) 0"},to:{backgroundPosition:"var(--animate-to, 0) 0"}},position:{from:{insetInlineStart:"var(--animate-from-x)",insetBlockStart:"var(--animate-from-y)"},to:{insetInlineStart:"var(--animate-to-x)",insetBlockStart:"var(--animate-to-y)"}},"circular-progress":{"0%":{strokeDasharray:"1, 400",strokeDashoffset:"0"},"50%":{strokeDasharray:"400, 400",strokeDashoffset:"-100%"},"100%":{strokeDasharray:"400, 400",strokeDashoffset:"-260%"}},"expand-height":{from:{height:"0"},to:{height:"var(--height)"}},"collapse-height":{from:{height:"var(--height)"},to:{height:"0"}},"expand-width":{from:{width:"0"},to:{width:"var(--width)"}},"collapse-width":{from:{height:"var(--width)"},to:{height:"0"}},"fade-in":{from:{opacity:0},to:{opacity:1}},"fade-out":{from:{opacity:1},to:{opacity:0}},"slide-from-left-full":{from:{translate:"-100% 0"},to:{translate:"0 0"}},"slide-from-right-full":{from:{translate:"100% 0"},to:{translate:"0 0"}},"slide-from-top-full":{from:{translate:"0 -100%"},to:{translate:"0 0"}},"slide-from-bottom-full":{from:{translate:"0 100%"},to:{translate:"0 0"}},"slide-to-left-full":{from:{translate:"0 0"},to:{translate:"-100% 0"}},"slide-to-right-full":{from:{translate:"0 0"},to:{translate:"100% 0"}},"slide-to-top-full":{from:{translate:"0 0"},to:{translate:"0 -100%"}},"slide-to-bottom-full":{from:{translate:"0 0"},to:{translate:"0 100%"}},"slide-from-top":{"0%":{translate:"0 -0.5rem"},to:{translate:"0"}},"slide-from-bottom":{"0%":{translate:"0 0.5rem"},to:{translate:"0"}},"slide-from-left":{"0%":{translate:"-0.5rem 0"},to:{translate:"0"}},"slide-from-right":{"0%":{translate:"0.5rem 0"},to:{translate:"0"}},"slide-to-top":{"0%":{translate:"0"},to:{translate:"0 -0.5rem"}},"slide-to-bottom":{"0%":{translate:"0"},to:{translate:"0 0.5rem"}},"slide-to-left":{"0%":{translate:"0"},to:{translate:"-0.5rem 0"}},"slide-to-right":{"0%":{translate:"0"},to:{translate:"0.5rem 0"}},"scale-in":{from:{scale:"0.95"},to:{scale:"1"}},"scale-out":{from:{scale:"1"},to:{scale:"0.95"}}}),xX=Wr.letterSpacings({tighter:{value:"-0.05em"},tight:{value:"-0.025em"},wide:{value:"0.025em"},wider:{value:"0.05em"},widest:{value:"0.1em"}}),bX=Wr.lineHeights({shorter:{value:1.25},short:{value:1.375},moderate:{value:1.5},tall:{value:1.625},taller:{value:2}}),_X=Wr.radii({none:{value:"0"},"2xs":{value:"0.0625rem"},xs:{value:"0.125rem"},sm:{value:"0.25rem"},md:{value:"0.375rem"},lg:{value:"0.5rem"},xl:{value:"0.75rem"},"2xl":{value:"1rem"},"3xl":{value:"1.5rem"},"4xl":{value:"2rem"},full:{value:"9999px"}}),ND=Wr.spacing({.5:{value:"0.125rem"},1:{value:"0.25rem"},1.5:{value:"0.375rem"},2:{value:"0.5rem"},2.5:{value:"0.625rem"},3:{value:"0.75rem"},3.5:{value:"0.875rem"},4:{value:"1rem"},4.5:{value:"1.125rem"},5:{value:"1.25rem"},6:{value:"1.5rem"},7:{value:"1.75rem"},8:{value:"2rem"},9:{value:"2.25rem"},10:{value:"2.5rem"},11:{value:"2.75rem"},12:{value:"3rem"},14:{value:"3.5rem"},16:{value:"4rem"},20:{value:"5rem"},24:{value:"6rem"},28:{value:"7rem"},32:{value:"8rem"},36:{value:"9rem"},40:{value:"10rem"},44:{value:"11rem"},48:{value:"12rem"},52:{value:"13rem"},56:{value:"14rem"},60:{value:"15rem"},64:{value:"16rem"},72:{value:"18rem"},80:{value:"20rem"},96:{value:"24rem"}}),SX=Wr.sizes({"3xs":{value:"14rem"},"2xs":{value:"16rem"},xs:{value:"20rem"},sm:{value:"24rem"},md:{value:"28rem"},lg:{value:"32rem"},xl:{value:"36rem"},"2xl":{value:"42rem"},"3xl":{value:"48rem"},"4xl":{value:"56rem"},"5xl":{value:"64rem"},"6xl":{value:"72rem"},"7xl":{value:"80rem"},"8xl":{value:"90rem"}}),wX=Wr.sizes({max:{value:"max-content"},min:{value:"min-content"},fit:{value:"fit-content"},prose:{value:"60ch"},full:{value:"100%"},dvh:{value:"100dvh"},svh:{value:"100svh"},lvh:{value:"100lvh"},dvw:{value:"100dvw"},svw:{value:"100svw"},lvw:{value:"100lvw"},vw:{value:"100vw"},vh:{value:"100vh"}}),EX=Wr.sizes({"1/2":{value:"50%"},"1/3":{value:"33.333333%"},"2/3":{value:"66.666667%"},"1/4":{value:"25%"},"3/4":{value:"75%"},"1/5":{value:"20%"},"2/5":{value:"40%"},"3/5":{value:"60%"},"4/5":{value:"80%"},"1/6":{value:"16.666667%"},"2/6":{value:"33.333333%"},"3/6":{value:"50%"},"4/6":{value:"66.666667%"},"5/6":{value:"83.333333%"},"1/12":{value:"8.333333%"},"2/12":{value:"16.666667%"},"3/12":{value:"25%"},"4/12":{value:"33.333333%"},"5/12":{value:"41.666667%"},"6/12":{value:"50%"},"7/12":{value:"58.333333%"},"8/12":{value:"66.666667%"},"9/12":{value:"75%"},"10/12":{value:"83.333333%"},"11/12":{value:"91.666667%"}}),CX=Wr.sizes({...SX,...ND,...EX,...wX}),MX=Wr.zIndex({hide:{value:-1},base:{value:0},docked:{value:10},dropdown:{value:1e3},sticky:{value:1100},banner:{value:1200},overlay:{value:1300},modal:{value:1400},popover:{value:1500},skipNav:{value:1600},toast:{value:1700},tooltip:{value:1800},max:{value:2147483647}}),TX=uD({preflight:!0,cssVarsPrefix:"chakra",cssVarsRoot:":where(html, .chakra-theme)",globalCss:fG,theme:{breakpoints:dG,keyframes:yX,tokens:{aspectRatios:lX,animations:aX,blurs:cX,borders:uX,colors:dX,durations:hX,easings:pX,fonts:vX,fontSizes:mX,fontWeights:gX,letterSpacings:xX,lineHeights:bX,radii:_X,spacing:ND,sizes:CX,zIndex:MX,cursor:fX},semanticTokens:{colors:kG,shadows:LG,radii:OG},recipes:IG,slotRecipes:oX,textStyles:sX,layerStyles:hG,animationStyles:pG}}),DD=dD(K9,TX);kD(DD);const pS=t=>t?"":void 0,PX=Bo("div",{base:{display:"inline-flex",gap:"0.5rem",isolation:"isolate",position:"relative","& [data-group-item]":{_focusVisible:{zIndex:1}}},variants:{orientation:{horizontal:{flexDirection:"row"},vertical:{flexDirection:"column"}},attached:{true:{gap:"0!"}},grow:{true:{display:"flex","& > *":{flex:1}}},stacking:{"first-on-top":{"& > [data-group-item]":{zIndex:"calc(var(--group-count) - var(--group-index))"}},"last-on-top":{"& > [data-group-item]":{zIndex:"var(--group-index)"}}}},compoundVariants:[{orientation:"horizontal",attached:!0,css:{"& > *[data-first]":{borderEndRadius:"0!",marginEnd:"-1px"},"& > *[data-between]":{borderRadius:"0!",marginEnd:"-1px"},"& > *[data-last]":{borderStartRadius:"0!"}}},{orientation:"vertical",attached:!0,css:{"& > *[data-first]":{borderBottomRadius:"0!",marginBottom:"-1px"},"& > *[data-between]":{borderRadius:"0!",marginBottom:"-1px"},"& > *[data-last]":{borderTopRadius:"0!"}}}],defaultVariants:{orientation:"horizontal"}}),RX=D.memo(D.forwardRef(function(e,n){const{align:r="center",justify:i="flex-start",children:o,wrap:s,skip:a,...c}=e,d=D.useMemo(()=>{let f=D.Children.toArray(o).filter(D.isValidElement);if(f.length===1)return f;const m=f.filter(y=>!(a!=null&&a(y))),g=m.length;return m.length===1?f:f.map(y=>{const x=y.props;if(a!=null&&a(y))return y;const S=m.indexOf(y);return D.cloneElement(y,{...x,"data-group-item":"","data-first":pS(S===0),"data-last":pS(S===g-1),"data-between":pS(S>0&&S<g-1),style:{"--group-count":g,"--group-index":S,...(x==null?void 0:x.style)??{}}})})},[o,a]);return ie.jsx(PX,{ref:n,alignItems:r,justifyContent:i,flexWrap:s,...c,className:ho("chakra-group",e.className),children:d})})),Hi=Bo("div");Hi.displayName="Box";const AX=D.forwardRef(function(e,n){const{size:r,...i}=e;return ie.jsx(Hi,{...i,ref:n,boxSize:r,css:{display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,flexGrow:0,...e.css}})}),IX=D.forwardRef(function(e,n){const{size:r,...i}=e;return ie.jsx(AX,{size:r,ref:n,borderRadius:"9999px",...i})}),ip=Bo("span"),FD=Bo("div",{base:{position:"absolute",display:"flex",alignItems:"center",justifyContent:"center"},variants:{axis:{horizontal:{insetStart:"50%",translate:"-50%",_rtl:{translate:"50%"}},vertical:{top:"50%",translate:"0 -50%"},both:{insetStart:"50%",top:"50%",translate:"-50% -50%",_rtl:{translate:"50% -50%"}}}},defaultVariants:{axis:"both"}});FD.displayName="AbsoluteCenter";const{withContext:kX}=Eu({key:"spinner"}),OX=kX("span"),LX=D.forwardRef(function(e,n){const{spinner:r=ie.jsx(OX,{size:"inherit",borderWidth:"0.125em",color:"inherit"}),spinnerPlacement:i="start",children:o,text:s,visible:a=!0,...c}=e;return a?s?ie.jsxs(ip,{ref:n,display:"contents",...c,children:[i==="start"&&r,s,i==="end"&&r]}):r?ie.jsxs(ip,{ref:n,display:"contents",...c,children:[ie.jsx(FD,{display:"inline-flex",children:r}),ie.jsx(ip,{opacity:0,children:o})]}):ie.jsx(ip,{ref:n,display:"contents",...c,children:o}):o}),{useRecipeResult:NX,PropsProvider:DX,usePropsContext:FX}=Eu({key:"button"}),Jl=D.forwardRef(function(e,n){const r=FX(),i=D.useMemo(()=>vp(r,e),[r,e]),o=NX(i),{loading:s,loadingText:a,children:c,spinner:d,spinnerPlacement:f,...m}=o.props;return ie.jsx(Bo.button,{type:"button",ref:n,...m,disabled:s||m.disabled,className:ho(o.className,i.className),css:[o.styles,i.css],children:!i.asChild&&s?ie.jsx(LX,{spinner:d,text:a,spinnerPlacement:f,children:c}):c})}),zX=DX,zD=D.forwardRef(function(e,n){return ie.jsx(Jl,{px:"0",py:"0",_icon:{fontSize:"1.2em"},ref:n,...e})}),UX=D.forwardRef(function(e,n){const r=XO({key:"button"}),[i,o]=D.useMemo(()=>r.splitVariantProps(e),[e,r]);return ie.jsx(zX,{value:i,children:ie.jsx(RX,{ref:n,...o})})});function BX(t){const{when:e,fallback:n,children:r}=t;let i;return e?i=typeof r=="function"?r(e):r:i=n,D.isValidElement(i)?i:ie.jsx(ie.Fragment,{children:i})}const VX=t=>{const{children:e,fallback:n}=t,[r,i]=D.useState(!1);return D.useEffect(()=>{i(!0)},[]),ie.jsx(BX,{when:r,fallback:n,children:e})};function $X(t){const{gap:e,direction:n}=t,r={column:{marginY:e,marginX:0,borderInlineStartWidth:0,borderTopWidth:"1px"},"column-reverse":{marginY:e,marginX:0,borderInlineStartWidth:0,borderTopWidth:"1px"},row:{marginX:e,marginY:0,borderInlineStartWidth:"1px",borderTopWidth:0},"row-reverse":{marginX:e,marginY:0,borderInlineStartWidth:"1px",borderTopWidth:0}};return{"&":hD(n,i=>r[i])}}function HX(t){return D.Children.toArray(t).filter(e=>D.isValidElement(e))}const yb=D.forwardRef(function(e,n){const{direction:r="column",align:i,justify:o,gap:s="0.5rem",wrap:a,children:c,separator:d,className:f,...m}=e,g=D.useMemo(()=>$X({gap:s,direction:r}),[s,r]),y=D.useMemo(()=>d?HX(c).map((x,S,_)=>{const b=typeof x.key<"u"?x.key:S,C=D.cloneElement(d,{css:[g,d.props.css]});return ie.jsxs(D.Fragment,{children:[x,S===_.length-1?null:C]},b)}):c,[c,d,g]);return ie.jsx(Bo.div,{ref:n,display:"flex",alignItems:i,justifyContent:o,flexDirection:r,flexWrap:a,gap:d?void 0:s,className:ho("chakra-stack",f),...m,children:y})}),{withProvider:UD,withContext:rr}=E8({key:"colorPicker"});UD(wN,"root",{forwardAsChild:!0});const WX=UD(SN,"root",{forwardAsChild:!0}),GX=rr(bN,"label",{forwardAsChild:!0}),jX=rr(mN,"control",{forwardAsChild:!0}),XX=rr(IN,"swatch",{forwardAsChild:!0}),qX=rr(AN,"trigger",{forwardAsChild:!0,defaultProps:{children:ie.jsx(XX,{})}}),YX=rr(_N,"positioner",{forwardAsChild:!0}),KX=rr(pN,"content",{forwardAsChild:!0}),ZX=rr(sN,"areaBackground",{forwardAsChild:!0}),JX=rr(aN,"areaThumb",{forwardAsChild:!0}),QX=rr(oN,"area",{forwardAsChild:!0,defaultProps:{children:ie.jsxs(ie.Fragment,{children:[ie.jsx(ZX,{}),ie.jsx(JX,{})]})}}),eq=rr(fN,"channelSliderTrack",{forwardAsChild:!0}),tq=rr(dN,"channelSliderThumb",{forwardAsChild:!0}),nq=rr(RN,"transparencyGrid",{forwardAsChild:!0}),eR=rr(cN,"channelSlider",{forwardAsChild:!0,defaultProps:{children:ie.jsxs(ie.Fragment,{children:[ie.jsx(nq,{size:"0.6rem"}),ie.jsx(eq,{}),ie.jsx(tq,{})]})}}),rq=D.forwardRef(function(e,n){return ie.jsxs(yb,{gap:"1",flex:"1",px:"1",ref:n,...e,children:[ie.jsx(eR,{channel:"hue"}),ie.jsx(eR,{channel:"alpha"})]})}),iq=rr(lN,"channelInput",{forwardAsChild:!0}),oq=D.forwardRef(function(e,n){return ie.jsx(iq,{channel:"hex",ref:n,...e})});rr(MN,"swatchGroup",{forwardAsChild:!0});rr(PN,"swatchTrigger",{forwardAsChild:!0});rr(CN,"swatch",{forwardAsChild:!0});rr(TN,"swatchIndicator",{forwardAsChild:!0});rr(kN,"valueText",{forwardAsChild:!0});rr(LN,"view",{forwardAsChild:!0});rr(yN,"formatTrigger",{forwardAsChild:!0});rr(vN,"formatSelect",{forwardAsChild:!0});rr(gN,"eyeDropperTrigger",{forwardAsChild:!0});const sq=D.forwardRef(function(e,n){const{children:r=ie.jsx(C8,{}),...i}=e,o=Zn(),s=vp(o.getEyeDropperTriggerProps(),i);return ie.jsx(zD,{ref:n,...s,children:r})});rr(hN,"channelSliderValueText",{forwardAsChild:!0});rr(uN,"channelSliderLabel",{forwardAsChild:!0});const aq=D.forwardRef(function(e,n){return ie.jsx(xN,{tabIndex:-1,ref:n,...e})});rr("span","channelText",{forwardAsChild:!0});const{useRecipeResult:lq}=Eu({key:"icon"}),ry=D.forwardRef(function(e,n){const{styles:r,className:i,props:o}=lq({asChild:!e.as,...e});return ie.jsx(Bo.svg,{ref:n,focusable:!1,"aria-hidden":"true",...o,css:[r,e.css],className:ho(i,e.className)})}),cq=D.forwardRef(function(e,n){const{direction:r,align:i,justify:o,wrap:s,basis:a,grow:c,shrink:d,inline:f,...m}=e;return ie.jsx(Bo.div,{ref:n,...m,css:{display:f?"inline-flex":"flex",flexDirection:r,alignItems:i,justifyContent:o,flexWrap:s,flexBasis:a,flexGrow:c,flexShrink:d,...e.css}})}),BD=D.forwardRef(function(e,n){const{align:r,fit:i="cover",...o}=e;return ie.jsx(Bo.img,{ref:n,objectFit:i,objectPosition:r,className:ho("chakra-image",e.className),...o})}),{withContext:uq}=Eu({key:"link"}),tR=uq("a"),{useRecipeResult:dq}=Eu({key:"separator"}),iy=D.forwardRef(function(e,n){const{styles:r,className:i,props:o}=dq(e),s=e.orientation||"horizontal";return ie.jsx(Bo.span,{ref:n,role:Is(s)?"separator":"presentation","aria-orientation":Is(s)?s:void 0,...sM(o,["orientation"]),className:ho(i,e.className),css:[r,e.css]})}),{withContext:fq}=Eu({key:"skeleton"}),uM=fq("div");D.forwardRef(function(e,n){const{size:r,...i}=e;return ie.jsx(IX,{size:r,asChild:!0,ref:n,children:ie.jsx(uM,{...i})})});D.forwardRef(function(e,n){const{noOfLines:r=3,gap:i,rootProps:o,...s}=e;return ie.jsx(yb,{gap:i,width:"full",ref:n,...o,children:Array.from({length:r}).map((a,c)=>ie.jsx(uM,{height:"4",_last:{maxW:r===1?"100%":"80%"},...s},c))})});const VD=D.forwardRef(function(e,n){return ie.jsx(yb,{align:"center",...e,direction:"row",ref:n})}),hq=D.forwardRef(function(e,n){return ie.jsx(yb,{align:"center",...e,direction:"column",ref:n})}),{withContext:pq}=Eu({key:"heading"}),Ql=pq("h2"),{withContext:mq}=Eu({key:"text"}),po=mq("p");var gq=(t,e,n,r,i,o,s,a)=>{let c=document.documentElement,d=["light","dark"];function f(y){(Array.isArray(t)?t:[t]).forEach(x=>{let S=x==="class",_=S&&o?i.map(b=>o[b]||b):i;S?(c.classList.remove(..._),c.classList.add(o&&o[y]?o[y]:y)):c.setAttribute(x,y)}),m(y)}function m(y){a&&d.includes(y)&&(c.style.colorScheme=y)}function g(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(r)f(r);else try{let y=localStorage.getItem(e)||n,x=s&&y==="system"?g():y;f(x)}catch{}},vq=D.createContext(void 0),yq={setTheme:t=>{},themes:[]},xq=()=>{var t;return(t=D.useContext(vq))!=null?t:yq};D.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:i,defaultTheme:o,value:s,themes:a,nonce:c,scriptProps:d})=>{let f=JSON.stringify([n,e,o,t,a,s,r,i]).slice(1,-1);return D.createElement("script",{...d,suppressHydrationWarning:!0,nonce:typeof window>"u"?c:"",dangerouslySetInnerHTML:{__html:`(${gq.toString()})(${f})`}})});var $D={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},nR=ae.createContext&&ae.createContext($D),bq=["attr","size","title"];function _q(t,e){if(t==null)return{};var n=Sq(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Sq(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Wx(){return Wx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wx.apply(this,arguments)}function rR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Gx(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rR(Object(n),!0).forEach(function(r){wq(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wq(t,e,n){return e=Eq(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Eq(t){var e=Cq(t,"string");return typeof e=="symbol"?e:e+""}function Cq(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function HD(t){return t&&t.map((e,n)=>ae.createElement(e.tag,Gx({key:n},e.attr),HD(e.child)))}function Vp(t){return e=>ae.createElement(Mq,Wx({attr:Gx({},t.attr)},e),HD(t.child))}function Mq(t){var e=n=>{var{attr:r,size:i,title:o}=t,s=_q(t,bq),a=i||n.size||"1em",c;return n.className&&(c=n.className),t.className&&(c=(c?c+" ":"")+t.className),ae.createElement("svg",Wx({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,s,{className:c,style:Gx(Gx({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),o&&ae.createElement("title",null,o),t.children)};return nR!==void 0?ae.createElement(nR.Consumer,null,n=>e(n)):e($D)}function Tq(t){return Vp({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z"},child:[]}]})(t)}function Pq(t){return Vp({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"4"},child:[]},{tag:"path",attr:{d:"M12 2v2"},child:[]},{tag:"path",attr:{d:"M12 20v2"},child:[]},{tag:"path",attr:{d:"m4.93 4.93 1.41 1.41"},child:[]},{tag:"path",attr:{d:"m17.66 17.66 1.41 1.41"},child:[]},{tag:"path",attr:{d:"M2 12h2"},child:[]},{tag:"path",attr:{d:"M20 12h2"},child:[]},{tag:"path",attr:{d:"m6.34 17.66-1.41 1.41"},child:[]},{tag:"path",attr:{d:"m19.07 4.93-1.41 1.41"},child:[]}]})(t)}function WD(){const{resolvedTheme:t,setTheme:e}=xq();return{colorMode:t,setColorMode:e,toggleColorMode:()=>{e(t==="dark"?"light":"dark")}}}function Rq(){const{colorMode:t}=WD();return t==="dark"?ie.jsx(Tq,{}):ie.jsx(Pq,{})}D.forwardRef(function(e,n){const{toggleColorMode:r}=WD();return ie.jsx(VX,{fallback:ie.jsx(uM,{boxSize:"8"}),children:ie.jsx(zD,{onClick:r,variant:"ghost","aria-label":"Toggle color mode",size:"sm",ref:n,...e,css:{_icon:{width:"5",height:"5"}},children:ie.jsx(Rq,{})})})});D.forwardRef(function(e,n){return ie.jsx(ip,{color:"fg",display:"contents",className:"chakra-theme light",colorPalette:"gray",colorScheme:"light",ref:n,...e})});D.forwardRef(function(e,n){return ie.jsx(ip,{color:"fg",display:"contents",className:"chakra-theme dark",colorPalette:"gray",colorScheme:"dark",ref:n,...e})});const Aq=kD(DD,{theme:{tokens:{fonts:{heading:{value:"'Figtree', sans-serif"},body:{value:"'Figtree', sans-serif"}},colors:{brand:{50:"#F9E9FF",100:"#F1CFFF",200:"#E8B4FF",300:"#DE99FF",400:"#D57EF5",500:"#D290EC",600:"#CA6BE3",700:"#C24FD9",800:"#B93FD0",900:"#A92BC4"}}}}});function Iq({children:t}){return ie.jsx(eV,{value:Aq,children:t})}var oy={},iR;function kq(){if(iR)return oy;iR=1;var t=yL();return oy.createRoot=t.createRoot,oy.hydrateRoot=t.hydrateRoot,oy}var dM=kq();function Oq(t){return Vp({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M7.435 12.25c-.08.025-.15.072-.202.135-.048.072-.073.158-.07.245 0 .15.038.252.12.308.077.056.194.082.352.082.087 0 .174-.02.264-.06.09-.038.174-.095.245-.165v-.66c-.168.015-.303.03-.405.045-.105.01-.207.034-.305.07zM12 0L0 12l12 12 12-12L12 0zm0 19.357C7.938 19.355 4.645 16.063 4.643 12 4.645 7.938 7.938 4.644 12 4.642c4.063.002 7.355 3.295 7.357 7.358-.002 4.063-3.294 7.355-7.357 7.357zM12 5.377v.002c-3.654 0-6.62 2.966-6.62 6.62s2.966 6.62 6.62 6.62 6.62-2.966 6.62-6.62c0-3.656-2.964-6.62-6.62-6.623zm-2.862 8.246h-.995v-.336l-.182.154c-.142.108-.304.188-.477.233-.082.02-.202.035-.352.035-.262.007-.515-.097-.698-.285-.187-.19-.277-.426-.277-.716 0-.238.046-.427.14-.574.1-.15.24-.27.405-.348.205-.09.423-.152.646-.18.25-.033.516-.06.803-.078v-.017c0-.176-.066-.297-.196-.363-.13-.07-.322-.102-.58-.102-.117 0-.254.02-.41.063-.158.044-.308.1-.458.164H6.42v-.77c.097-.03.256-.062.48-.1.217-.04.438-.06.663-.06.55 0 .95.092 1.2.276.25.183.375.462.375.837v2.168zm3.22-.167c-.07.028-.134.056-.2.086-.074.03-.15.058-.23.08-.094.024-.186.044-.27.06-.084.014-.196.022-.336.022-.263 0-.506-.033-.723-.1-.21-.062-.406-.165-.57-.307-.163-.142-.292-.32-.373-.52-.09-.21-.135-.457-.135-.738-.008-.27.042-.535.146-.78.09-.204.224-.384.392-.53.165-.134.355-.233.56-.29.22-.066.447-.096.675-.096.37 0 .732.087 1.06.255v.854h-.127c-.048-.043-.096-.085-.147-.124-.06-.048-.122-.09-.188-.126-.167-.095-.357-.144-.55-.14-.254 0-.45.086-.59.263-.138.177-.21.414-.21.714 0 .32.075.56.225.715.15.157.347.235.592.235.11 0 .222-.013.33-.042.153-.043.295-.12.415-.225.048-.04.088-.082.123-.11h.13v.843zm4.333.173v-1.597c0-.157 0-.29-.007-.397-.002-.09-.02-.18-.052-.263-.023-.066-.07-.12-.13-.15-.153-.064-.325-.063-.478.002-.086.04-.168.087-.244.14v2.263h-.993v-1.595c0-.156-.003-.286-.01-.396-.003-.09-.02-.18-.05-.264-.027-.066-.076-.12-.136-.15-.06-.033-.145-.048-.25-.048-.083 0-.165.02-.24.056-.078.04-.152.086-.228.136v2.262h-.995V10.44h.993v.356c.144-.125.296-.233.46-.323.148-.08.314-.12.484-.12.182-.004.36.045.514.14.153.1.27.244.34.414.19-.177.37-.314.54-.41.17-.096.34-.145.515-.145.136-.002.27.023.396.075.115.044.22.116.3.21.09.106.16.23.2.364.045.142.066.328.066.553v2.076h-.995z"},child:[]}]})(t)}function Lq(t){return Vp({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M24 12c0 6.633-5.367 12-12 12S0 18.633 0 12 5.367 0 12 0s12 5.367 12 12ZM7.588 6.097v4.471c-.663-.925-1.403-1.373-2.406-1.373-2.046 0-3.244 1.441-3.244 3.847 0 2.357 1.325 3.848 3.166 3.848 1.12 0 1.88-.4 2.445-1.325l-.039 1.042h2.045V6.097Zm-1.763 8.942c-1.12 0-1.802-.76-1.802-2.045 0-1.325.682-2.085 1.802-2.085 1.081 0 1.802.76 1.802 2.085 0 1.285-.672 2.045-1.802 2.045Zm12.253-1.948c0-2.172-1.578-3.789-3.906-3.789-2.328 0-3.945 1.695-3.945 3.789 0 2.133 1.578 3.789 3.945 3.789 2.289 0 3.906-1.656 3.906-3.789Zm-2.094-.01c0 1.14-.711 1.89-1.851 1.89-1.139 0-1.851-.75-1.851-1.89 0-1.139.712-1.89 1.851-1.89 1.149 0 1.861.751 1.851 1.89Zm2.6-5.795c0 .633.517 1.227 1.189 1.227.633 0 1.188-.555 1.188-1.227a1.17 1.17 0 0 0-1.188-1.189c-.672 0-1.179.556-1.189 1.189Zm.166 9.341h2.055V9.604H18.75Z"},child:[]}]})(t)}function Nq(t){return Vp({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"},child:[]}]})(t)}function Dq(t){return Vp({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M0 64C0 28.7 28.7 0 64 0L224 0l0 128c0 17.7 14.3 32 32 32l128 0 0 144-208 0c-35.3 0-64 28.7-64 64l0 144-48 0c-35.3 0-64-28.7-64-64L0 64zm384 64l-128 0L256 0 384 128zM176 352l32 0c30.9 0 56 25.1 56 56s-25.1 56-56 56l-16 0 0 32c0 8.8-7.2 16-16 16s-16-7.2-16-16l0-48 0-80c0-8.8 7.2-16 16-16zm32 80c13.3 0 24-10.7 24-24s-10.7-24-24-24l-16 0 0 48 16 0zm96-80l32 0c26.5 0 48 21.5 48 48l0 64c0 26.5-21.5 48-48 48l-32 0c-8.8 0-16-7.2-16-16l0-128c0-8.8 7.2-16 16-16zm32 128c8.8 0 16-7.2 16-16l0-64c0-8.8-7.2-16-16-16l-16 0 0 96 16 0zm80-112c0-8.8 7.2-16 16-16l48 0c8.8 0 16 7.2 16 16s-7.2 16-16 16l-32 0 0 32 32 0c8.8 0 16 7.2 16 16s-7.2 16-16 16l-32 0 0 48c0 8.8-7.2 16-16 16s-16-7.2-16-16l0-64 0-64z"},child:[]}]})(t)}function Fq(){const t=vc({base:0,sm:1,md:2}),e=[{name:"Alexandre Binninger",webpage:"https://alexandrebinninger.com/",affiliation_number:1},{name:"Ruben Wiersma",webpage:"https://rubenwiersma.nl/",affiliation_number:1},{name:"Philipp Herholz",webpage:"https://phherholz.github.io/",affiliation_number:2},{name:"Olga Sorkine-Hornung",webpage:"https://igl.ethz.ch/people/sorkine/",affiliation_number:1}];return ie.jsxs(Hi,{children:[ie.jsx(po,{fontSize:t==2?"3xl":"xl",textAlign:"center",fontWeight:"bold",children:e.map((n,r)=>ie.jsxs(ae.Fragment,{children:[ie.jsxs(tR,{href:n.webpage,isExternal:!0,color:"brand.600",children:[n.name,ie.jsx("sup",{children:n.affiliation_number})]}),r<e.length-1&&", "]},n.name))}),ie.jsxs(po,{textStyle:t==2?"2xl":"lg",textAlign:"center",mt:2,children:[ie.jsxs(tR,{href:"https://www.ethz.ch/en.html",isExternal:!0,color:"brand.600",children:[ie.jsx("sup",{children:"1"}),"ETH Zurich"]}),ie.jsxs(po,{as:"span",color:"brand.600",children:[", ",ie.jsx("sup",{children:"2"}),"Independent Contributor"]})]})]})}function zq(){const t=vc({base:0,sm:1,md:2});return ie.jsxs(Hi,{textAlign:"center",mt:4,children:[ie.jsx(BD,{src:"/TetWeave/media/teaser.jpg",alt:"Teaser Image",width:"100%"}),ie.jsxs(po,{textStyle:t==2?"lg":"sm",color:"gray.600",mt:2,children:[ie.jsx(po,{fontWeight:"bold",as:"span",children:"TetWeave"})," jointly optimizes a tetrahedral grid and a directional signed distance function used for Marching Tetrahedra. Our method ",ie.jsx(po,{fontStyle:"italic",as:"span",children:"weaves"})," a background grid around the surface, which is regularized to give fair output meshes. The results are compared with semi-adaptive grid methods (top row), which start from a predefined grid. These methods have limited flexibility and their meshing is influenced by the configuration of the predefined grid. They require many more nodes in the background grid because of unused empty space to get a similar level of detail in the output mesh (graph in top right)."]})]})}function Uq(){const t=vc({base:0,sm:1,md:2});return ie.jsxs(Hi,{children:[ie.jsx(Ql,{as:"h2",size:t==2?"3xl":"xl",mb:2,children:"Abstract"}),ie.jsx(po,{mt:2,textStyle:t==2?"lg":"sm",children:"We introduce TetWeave, a novel isosurface representation for gradient-based mesh optimization that jointly optimizes the placement of a tetrahedral grid used for Marching Tetrahedra and a novel directional signed distance at each point. TetWeave constructs tetrahedral grids on-the-fly via Delaunay triangulation, enabling increased flexibility compared to predefined grids. The extracted meshes are guaranteed to be watertight, two-manifold and intersection-free. The flexibility of TetWeave enables a resampling strategy that places new points where reconstruction error is high and allows to encourage mesh fairness without compromising on reconstruction error. This leads to high-quality, adaptive meshes that require minimal memory usage and few parameters to optimize. Consequently, TetWeave exhibits near-linear memory scaling relative to the vertex count of the output mesh  a substantial improvement over predefined grids. We demonstrate the applicability of TetWeave to a broad range of challenging tasks in computer graphics and vision, such as multi-view 3D reconstruction, mesh compression and geometric texture generation."})]})}function Bq(){const t=vc({base:0,sm:1,md:2});return ie.jsxs(hq,{spacing:8,align:"stretch",children:[ie.jsx(Ql,{as:"h1",textStyle:t==2?"5xl":"3xl",textAlign:"center",children:"TetWeave: Isosurface Extraction using On-The-Fly Delaunay Tetrahedral Grids for Gradient-Based Mesh Optimization"}),ie.jsx(Fq,{}),ie.jsx(Hi,{textAlign:"center",children:ie.jsx(Jl,{asChild:!0,bg:"brand.500",variant:"solid",children:ie.jsxs("a",{href:"https://s2025.siggraph.org/",target:"_blank",rel:"noopener noreferrer",children:[ie.jsx(ry,{as:Oq,size:t==2?"2xl":"lg"}),ie.jsx(po,{textStyle:t==2?"xl":"md",as:"span",children:"SIGGRAPH 2025"})]})})}),ie.jsxs(VD,{spacing:4,justify:"center",children:[ie.jsx(Jl,{asChild:!0,colorPalette:"red",children:ie.jsxs("a",{href:"/TetWeave/paper/TetWeave.pdf",download:!0,children:[ie.jsx(ry,{as:Dq,size:t==2?"lg":"sm"}),ie.jsxs(po,{textStyle:t==2?"lg":"sm",as:"span",children:["Paper"," (30MB)"]})]})}),ie.jsx(Jl,{asChild:!0,colorPalette:"green",children:ie.jsxs("a",{href:"https://github.com/AlexandreBinninger/TetWeave",children:[ie.jsx(ry,{as:Nq,size:t==2?"2xl":"lg"}),ie.jsx(po,{textStyle:t==2?"lg":"sm",as:"span",children:"Code"})]})}),ie.jsx(Jl,{asChild:!0,colorPalette:"yellow",children:ie.jsx("a",{href:"https://doi.org/10.1145/3730851",target:"_blank",rel:"noopener noreferrer",children:ie.jsx(ry,{as:Lq,size:t==2?"2xl":"lg"})})})]}),ie.jsx(zq,{}),ie.jsx(Uq,{})]})}function Vq({path:t}){const[e,n]=D.useState(""),{hasCopied:r,onCopy:i}=oW(e);D.useEffect(()=>{(async()=>{const c=await(await fetch(t)).text();n(c)})()},[t]);const o=vc({base:0,sm:1,md:2});return ie.jsxs(Hi,{p:4,borderWidth:"1px",borderRadius:"lg",children:[ie.jsx(po,{textStyle:o==2?"md":"xs",fontFamily:"monospace",whiteSpace:"pre-wrap",children:e}),ie.jsx(Jl,{mt:4,onClick:i,size:"sm",children:r?"Copied":"Copy Citation"})]})}/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const xb="176",Ld={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},Nd={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},GD=0,TE=1,jD=2,$q=3,XD=0,bb=1,Lg=2,ua=3,dc=0,mo=1,ns=2,tc=0,qd=1,PE=2,RE=3,AE=4,qD=5,lu=100,YD=101,KD=102,ZD=103,JD=104,QD=200,eF=201,tF=202,nF=203,jx=204,Xx=205,rF=206,iF=207,oF=208,sF=209,aF=210,lF=211,cF=212,uF=213,dF=214,qx=0,Yx=1,Kx=2,nf=3,Zx=4,Jx=5,Qx=6,e1=7,Ov=0,fF=1,hF=2,Xa=0,pF=1,mF=2,gF=3,fM=4,vF=5,yF=6,xF=7,IE="attached",bF="detached",_b=300,fc=301,xu=302,nv=303,rv=304,$p=306,iv=1e3,Ps=1001,ov=1002,Pi=1003,hM=1004,Hq=1004,op=1005,Wq=1005,ei=1006,Ng=1007,Gq=1007,Wa=1008,jq=1008,ks=1009,pM=1010,mM=1011,Sp=1012,Sb=1013,hc=1014,Fo=1015,Hp=1016,wb=1017,Eb=1018,wp=1020,gM=35902,vM=1021,yM=1022,Wi=1023,Ep=1026,Cp=1027,Cb=1028,Lv=1029,xM=1030,Mb=1031,Xq=1032,Tb=1033,Dg=33776,Fg=33777,zg=33778,Ug=33779,t1=35840,n1=35841,r1=35842,i1=35843,o1=36196,s1=37492,a1=37496,l1=37808,c1=37809,u1=37810,d1=37811,f1=37812,h1=37813,p1=37814,m1=37815,g1=37816,v1=37817,y1=37818,x1=37819,b1=37820,_1=37821,Bg=36492,S1=36494,w1=36495,bM=36283,E1=36284,C1=36285,M1=36286,_F=2200,SF=2201,wF=2202,sv=2300,T1=2301,Ex=2302,Vd=2400,$d=2401,av=2402,Pb=2500,_M=2501,qq=0,Yq=1,Kq=2,EF=3200,CF=3201,Zq=3202,Jq=3203,Cu=0,MF=1,Yl="",co="srgb",pa="srgb-linear",lv="linear",Fn="srgb",Qq=0,Dd=7680,eY=7681,tY=7682,nY=7683,rY=34055,iY=34056,oY=5386,sY=512,aY=513,lY=514,cY=515,uY=516,dY=517,fY=518,kE=519,TF=512,PF=513,RF=514,SM=515,AF=516,IF=517,kF=518,OF=519,cv=35044,hY=35048,pY=35040,mY=35045,gY=35049,vY=35041,yY=35046,xY=35050,bY=35042,_Y="100",OE="300 es",Rs=2e3,uv=2001,SY={COMPUTE:"compute",RENDER:"render"},wY={PERSPECTIVE:"perspective",LINEAR:"linear",FLAT:"flat"},EY={NORMAL:"normal",CENTROID:"centroid",SAMPLE:"sample",FLAT_FIRST:"flat first",FLAT_EITHER:"flat either"};let rl=class{addEventListener(e,n){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(n)===-1&&r[e].push(n)}hasEventListener(e,n){const r=this._listeners;return r===void 0?!1:r[e]!==void 0&&r[e].indexOf(n)!==-1}removeEventListener(e,n){const r=this._listeners;if(r===void 0)return;const i=r[e];if(i!==void 0){const o=i.indexOf(n);o!==-1&&i.splice(o,1)}}dispatchEvent(e){const n=this._listeners;if(n===void 0)return;const r=n[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let o=0,s=i.length;o<s;o++)i[o].call(this,e);e.target=null}}};const Ui=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let oR=1234567;const Yd=Math.PI/180,Mp=180/Math.PI;function os(){const t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,n=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(Ui[t&255]+Ui[t>>8&255]+Ui[t>>16&255]+Ui[t>>24&255]+"-"+Ui[e&255]+Ui[e>>8&255]+"-"+Ui[e>>16&15|64]+Ui[e>>24&255]+"-"+Ui[n&63|128]+Ui[n>>8&255]+"-"+Ui[n>>16&255]+Ui[n>>24&255]+Ui[r&255]+Ui[r>>8&255]+Ui[r>>16&255]+Ui[r>>24&255]).toLowerCase()}function Jt(t,e,n){return Math.max(e,Math.min(n,t))}function wM(t,e){return(t%e+e)%e}function CY(t,e,n,r,i){return r+(t-e)*(i-r)/(n-e)}function MY(t,e,n){return t!==e?(n-t)/(e-t):0}function Vg(t,e,n){return(1-n)*t+n*e}function TY(t,e,n,r){return Vg(t,e,1-Math.exp(-n*r))}function PY(t,e=1){return e-Math.abs(wM(t,e*2)-e)}function RY(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*(3-2*t))}function AY(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*t*(t*(t*6-15)+10))}function IY(t,e){return t+Math.floor(Math.random()*(e-t+1))}function kY(t,e){return t+Math.random()*(e-t)}function OY(t){return t*(.5-Math.random())}function LY(t){t!==void 0&&(oR=t);let e=oR+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function NY(t){return t*Yd}function DY(t){return t*Mp}function FY(t){return(t&t-1)===0&&t!==0}function zY(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))}function UY(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))}function BY(t,e,n,r,i){const o=Math.cos,s=Math.sin,a=o(n/2),c=s(n/2),d=o((e+r)/2),f=s((e+r)/2),m=o((e-r)/2),g=s((e-r)/2),y=o((r-e)/2),x=s((r-e)/2);switch(i){case"XYX":t.set(a*f,c*m,c*g,a*d);break;case"YZY":t.set(c*g,a*f,c*m,a*d);break;case"ZXZ":t.set(c*m,c*g,a*f,a*d);break;case"XZX":t.set(a*f,c*x,c*y,a*d);break;case"YXY":t.set(c*y,a*f,c*x,a*d);break;case"ZYZ":t.set(c*x,c*y,a*f,a*d);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}}function uo(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return t/4294967295;case Uint16Array:return t/65535;case Uint8Array:return t/255;case Int32Array:return Math.max(t/2147483647,-1);case Int16Array:return Math.max(t/32767,-1);case Int8Array:return Math.max(t/127,-1);default:throw new Error("Invalid component type.")}}function on(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return Math.round(t*4294967295);case Uint16Array:return Math.round(t*65535);case Uint8Array:return Math.round(t*255);case Int32Array:return Math.round(t*2147483647);case Int16Array:return Math.round(t*32767);case Int8Array:return Math.round(t*127);default:throw new Error("Invalid component type.")}}const LF={DEG2RAD:Yd,RAD2DEG:Mp,generateUUID:os,clamp:Jt,euclideanModulo:wM,mapLinear:CY,inverseLerp:MY,lerp:Vg,damp:TY,pingpong:PY,smoothstep:RY,smootherstep:AY,randInt:IY,randFloat:kY,randFloatSpread:OY,seededRandom:LY,degToRad:NY,radToDeg:DY,isPowerOfTwo:FY,ceilPowerOfTwo:zY,floorPowerOfTwo:UY,setQuaternionFromProperEuler:BY,normalize:on,denormalize:uo};class $e{constructor(e=0,n=0){$e.prototype.isVector2=!0,this.x=e,this.y=n}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,n){return this.x=e,this.y=n,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const n=this.x,r=this.y,i=e.elements;return this.x=i[0]*n+i[3]*r+i[6],this.y=i[1]*n+i[4]*r+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,n){return this.x=Jt(this.x,e.x,n.x),this.y=Jt(this.y,e.y,n.y),this}clampScalar(e,n){return this.x=Jt(this.x,e,n),this.y=Jt(this.y,e,n),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Jt(r,e,n))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const r=this.dot(e)/n;return Math.acos(Jt(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y;return n*n+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this}rotateAround(e,n){const r=Math.cos(n),i=Math.sin(n),o=this.x-e.x,s=this.y-e.y;return this.x=o*r-s*i+e.x,this.y=o*i+s*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class en{constructor(e,n,r,i,o,s,a,c,d){en.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,n,r,i,o,s,a,c,d)}set(e,n,r,i,o,s,a,c,d){const f=this.elements;return f[0]=e,f[1]=i,f[2]=a,f[3]=n,f[4]=o,f[5]=c,f[6]=r,f[7]=s,f[8]=d,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],this}extractBasis(e,n,r){return e.setFromMatrix3Column(this,0),n.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const n=e.elements;return this.set(n[0],n[4],n[8],n[1],n[5],n[9],n[2],n[6],n[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,i=n.elements,o=this.elements,s=r[0],a=r[3],c=r[6],d=r[1],f=r[4],m=r[7],g=r[2],y=r[5],x=r[8],S=i[0],_=i[3],b=i[6],C=i[1],T=i[4],A=i[7],P=i[2],R=i[5],k=i[8];return o[0]=s*S+a*C+c*P,o[3]=s*_+a*T+c*R,o[6]=s*b+a*A+c*k,o[1]=d*S+f*C+m*P,o[4]=d*_+f*T+m*R,o[7]=d*b+f*A+m*k,o[2]=g*S+y*C+x*P,o[5]=g*_+y*T+x*R,o[8]=g*b+y*A+x*k,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=e,n[4]*=e,n[7]*=e,n[2]*=e,n[5]*=e,n[8]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[1],i=e[2],o=e[3],s=e[4],a=e[5],c=e[6],d=e[7],f=e[8];return n*s*f-n*a*d-r*o*f+r*a*c+i*o*d-i*s*c}invert(){const e=this.elements,n=e[0],r=e[1],i=e[2],o=e[3],s=e[4],a=e[5],c=e[6],d=e[7],f=e[8],m=f*s-a*d,g=a*c-f*o,y=d*o-s*c,x=n*m+r*g+i*y;if(x===0)return this.set(0,0,0,0,0,0,0,0,0);const S=1/x;return e[0]=m*S,e[1]=(i*d-f*r)*S,e[2]=(a*r-i*s)*S,e[3]=g*S,e[4]=(f*n-i*c)*S,e[5]=(i*o-a*n)*S,e[6]=y*S,e[7]=(r*c-d*n)*S,e[8]=(s*n-r*o)*S,this}transpose(){let e;const n=this.elements;return e=n[1],n[1]=n[3],n[3]=e,e=n[2],n[2]=n[6],n[6]=e,e=n[5],n[5]=n[7],n[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const n=this.elements;return e[0]=n[0],e[1]=n[3],e[2]=n[6],e[3]=n[1],e[4]=n[4],e[5]=n[7],e[6]=n[2],e[7]=n[5],e[8]=n[8],this}setUvTransform(e,n,r,i,o,s,a){const c=Math.cos(o),d=Math.sin(o);return this.set(r*c,r*d,-r*(c*s+d*a)+s+e,-i*d,i*c,-i*(-d*s+c*a)+a+n,0,0,1),this}scale(e,n){return this.premultiply(mS.makeScale(e,n)),this}rotate(e){return this.premultiply(mS.makeRotation(-e)),this}translate(e,n){return this.premultiply(mS.makeTranslation(e,n)),this}makeTranslation(e,n){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,n,0,0,1),this}makeRotation(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,r,n,0,0,0,1),this}makeScale(e,n){return this.set(e,0,0,0,n,0,0,0,1),this}equals(e){const n=this.elements,r=e.elements;for(let i=0;i<9;i++)if(n[i]!==r[i])return!1;return!0}fromArray(e,n=0){for(let r=0;r<9;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const mS=new en;function NF(t){for(let e=t.length-1;e>=0;--e)if(t[e]>=65535)return!0;return!1}const VY={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function sp(t,e){return new VY[t](e)}function dv(t){return document.createElementNS("http://www.w3.org/1999/xhtml",t)}function DF(){const t=dv("canvas");return t.style.display="block",t}const sR={};function Cx(t){t in sR||(sR[t]=!0,console.warn(t))}function $Y(t,e,n){return new Promise(function(r,i){function o(){switch(t.clientWaitSync(e,t.SYNC_FLUSH_COMMANDS_BIT,0)){case t.WAIT_FAILED:i();break;case t.TIMEOUT_EXPIRED:setTimeout(o,n);break;default:r()}}setTimeout(o,n)})}function HY(t){const e=t.elements;e[2]=.5*e[2]+.5*e[3],e[6]=.5*e[6]+.5*e[7],e[10]=.5*e[10]+.5*e[11],e[14]=.5*e[14]+.5*e[15]}function WY(t){const e=t.elements;e[11]===-1?(e[10]=-e[10]-1,e[14]=-e[14]):(e[10]=-e[10],e[14]=-e[14]+1)}const aR=new en().set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),lR=new en().set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);function GY(){const t={enabled:!0,workingColorSpace:pa,spaces:{},convert:function(i,o,s){return this.enabled===!1||o===s||!o||!s||(this.spaces[o].transfer===Fn&&(i.r=nc(i.r),i.g=nc(i.g),i.b=nc(i.b)),this.spaces[o].primaries!==this.spaces[s].primaries&&(i.applyMatrix3(this.spaces[o].toXYZ),i.applyMatrix3(this.spaces[s].fromXYZ)),this.spaces[s].transfer===Fn&&(i.r=pp(i.r),i.g=pp(i.g),i.b=pp(i.b))),i},fromWorkingColorSpace:function(i,o){return this.convert(i,this.workingColorSpace,o)},toWorkingColorSpace:function(i,o){return this.convert(i,o,this.workingColorSpace)},getPrimaries:function(i){return this.spaces[i].primaries},getTransfer:function(i){return i===Yl?lv:this.spaces[i].transfer},getLuminanceCoefficients:function(i,o=this.workingColorSpace){return i.fromArray(this.spaces[o].luminanceCoefficients)},define:function(i){Object.assign(this.spaces,i)},_getMatrix:function(i,o,s){return i.copy(this.spaces[o].toXYZ).multiply(this.spaces[s].fromXYZ)},_getDrawingBufferColorSpace:function(i){return this.spaces[i].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(i=this.workingColorSpace){return this.spaces[i].workingColorSpaceConfig.unpackColorSpace}},e=[.64,.33,.3,.6,.15,.06],n=[.2126,.7152,.0722],r=[.3127,.329];return t.define({[pa]:{primaries:e,whitePoint:r,transfer:lv,toXYZ:aR,fromXYZ:lR,luminanceCoefficients:n,workingColorSpaceConfig:{unpackColorSpace:co},outputColorSpaceConfig:{drawingBufferColorSpace:co}},[co]:{primaries:e,whitePoint:r,transfer:Fn,toXYZ:aR,fromXYZ:lR,luminanceCoefficients:n,outputColorSpaceConfig:{drawingBufferColorSpace:co}}}),t}const wn=GY();function nc(t){return t<.04045?t*.0773993808:Math.pow(t*.9478672986+.0521327014,2.4)}function pp(t){return t<.0031308?t*12.92:1.055*Math.pow(t,.41666)-.055}let Eh;class FF{static getDataURL(e,n="image/png"){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let r;if(e instanceof HTMLCanvasElement)r=e;else{Eh===void 0&&(Eh=dv("canvas")),Eh.width=e.width,Eh.height=e.height;const i=Eh.getContext("2d");e instanceof ImageData?i.putImageData(e,0,0):i.drawImage(e,0,0,e.width,e.height),r=Eh}return r.toDataURL(n)}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const n=dv("canvas");n.width=e.width,n.height=e.height;const r=n.getContext("2d");r.drawImage(e,0,0,e.width,e.height);const i=r.getImageData(0,0,e.width,e.height),o=i.data;for(let s=0;s<o.length;s++)o[s]=nc(o[s]/255)*255;return r.putImageData(i,0,0),n}else if(e.data){const n=e.data.slice(0);for(let r=0;r<n.length;r++)n instanceof Uint8Array||n instanceof Uint8ClampedArray?n[r]=Math.floor(nc(n[r]/255)*255):n[r]=nc(n[r]);return{data:n,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let jY=0;class cu{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:jY++}),this.uuid=os(),this.data=e,this.dataReady=!0,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const r={uuid:this.uuid,url:""},i=this.data;if(i!==null){let o;if(Array.isArray(i)){o=[];for(let s=0,a=i.length;s<a;s++)i[s].isDataTexture?o.push(gS(i[s].image)):o.push(gS(i[s]))}else o=gS(i);r.url=o}return n||(e.images[this.uuid]=r),r}}function gS(t){return typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap?FF.getDataURL(t):t.data?{data:Array.from(t.data),width:t.width,height:t.height,type:t.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let XY=0;class _r extends rl{constructor(e=_r.DEFAULT_IMAGE,n=_r.DEFAULT_MAPPING,r=Ps,i=Ps,o=ei,s=Wa,a=Wi,c=ks,d=_r.DEFAULT_ANISOTROPY,f=Yl){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:XY++}),this.uuid=os(),this.name="",this.source=new cu(e),this.mipmaps=[],this.mapping=n,this.channel=0,this.wrapS=r,this.wrapT=i,this.magFilter=o,this.minFilter=s,this.anisotropy=d,this.format=a,this.internalFormat=null,this.type=c,this.offset=new $e(0,0),this.repeat=new $e(1,1),this.center=new $e(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new en,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=f,this.userData={},this.version=0,this.onUpdate=null,this.renderTarget=null,this.isRenderTargetTexture=!1,this.isTextureArray=!1,this.pmremVersion=0}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.renderTarget=e.renderTarget,this.isRenderTargetTexture=e.isRenderTargetTexture,this.isTextureArray=e.isTextureArray,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const r={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(r.userData=this.userData),n||(e.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==_b)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case iv:e.x=e.x-Math.floor(e.x);break;case Ps:e.x=e.x<0?0:1;break;case ov:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case iv:e.y=e.y-Math.floor(e.y);break;case Ps:e.y=e.y<0?0:1;break;case ov:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){e===!0&&this.pmremVersion++}}_r.DEFAULT_IMAGE=null;_r.DEFAULT_MAPPING=_b;_r.DEFAULT_ANISOTROPY=1;class Mn{constructor(e=0,n=0,r=0,i=1){Mn.prototype.isVector4=!0,this.x=e,this.y=n,this.z=r,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,n,r,i){return this.x=e,this.y=n,this.z=r,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;case 3:this.w=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this.w=e.w+n.w,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this.w+=e.w*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this.w=e.w-n.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const n=this.x,r=this.y,i=this.z,o=this.w,s=e.elements;return this.x=s[0]*n+s[4]*r+s[8]*i+s[12]*o,this.y=s[1]*n+s[5]*r+s[9]*i+s[13]*o,this.z=s[2]*n+s[6]*r+s[10]*i+s[14]*o,this.w=s[3]*n+s[7]*r+s[11]*i+s[15]*o,this}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this.w/=e.w,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const n=Math.sqrt(1-e.w*e.w);return n<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/n,this.y=e.y/n,this.z=e.z/n),this}setAxisAngleFromRotationMatrix(e){let n,r,i,o;const c=e.elements,d=c[0],f=c[4],m=c[8],g=c[1],y=c[5],x=c[9],S=c[2],_=c[6],b=c[10];if(Math.abs(f-g)<.01&&Math.abs(m-S)<.01&&Math.abs(x-_)<.01){if(Math.abs(f+g)<.1&&Math.abs(m+S)<.1&&Math.abs(x+_)<.1&&Math.abs(d+y+b-3)<.1)return this.set(1,0,0,0),this;n=Math.PI;const T=(d+1)/2,A=(y+1)/2,P=(b+1)/2,R=(f+g)/4,k=(m+S)/4,z=(x+_)/4;return T>A&&T>P?T<.01?(r=0,i=.707106781,o=.707106781):(r=Math.sqrt(T),i=R/r,o=k/r):A>P?A<.01?(r=.707106781,i=0,o=.707106781):(i=Math.sqrt(A),r=R/i,o=z/i):P<.01?(r=.707106781,i=.707106781,o=0):(o=Math.sqrt(P),r=k/o,i=z/o),this.set(r,i,o,n),this}let C=Math.sqrt((_-x)*(_-x)+(m-S)*(m-S)+(g-f)*(g-f));return Math.abs(C)<.001&&(C=1),this.x=(_-x)/C,this.y=(m-S)/C,this.z=(g-f)/C,this.w=Math.acos((d+y+b-1)/2),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this.w=n[15],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,n){return this.x=Jt(this.x,e.x,n.x),this.y=Jt(this.y,e.y,n.y),this.z=Jt(this.z,e.z,n.z),this.w=Jt(this.w,e.w,n.w),this}clampScalar(e,n){return this.x=Jt(this.x,e,n),this.y=Jt(this.y,e,n),this.z=Jt(this.z,e,n),this.w=Jt(this.w,e,n),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Jt(r,e,n))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this.w+=(e.w-this.w)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this.w=e.w+(n.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this.w=e[n+3],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e[n+3]=this.w,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this.w=e.getW(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class Rb extends rl{constructor(e=1,n=1,r={}){super(),this.isRenderTarget=!0,this.width=e,this.height=n,this.depth=r.depth?r.depth:1,this.scissor=new Mn(0,0,e,n),this.scissorTest=!1,this.viewport=new Mn(0,0,e,n);const i={width:e,height:n,depth:this.depth};r=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:ei,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1,multiview:!1},r);const o=new _r(i,r.mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.colorSpace);o.flipY=!1,o.generateMipmaps=r.generateMipmaps,o.internalFormat=r.internalFormat,this.textures=[];const s=r.count;for(let a=0;a<s;a++)this.textures[a]=o.clone(),this.textures[a].isRenderTargetTexture=!0,this.textures[a].renderTarget=this;this.depthBuffer=r.depthBuffer,this.stencilBuffer=r.stencilBuffer,this.resolveDepthBuffer=r.resolveDepthBuffer,this.resolveStencilBuffer=r.resolveStencilBuffer,this._depthTexture=null,this.depthTexture=r.depthTexture,this.samples=r.samples,this.multiview=r.multiview}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}set depthTexture(e){this._depthTexture!==null&&(this._depthTexture.renderTarget=null),e!==null&&(e.renderTarget=this),this._depthTexture=e}get depthTexture(){return this._depthTexture}setSize(e,n,r=1){if(this.width!==e||this.height!==n||this.depth!==r){this.width=e,this.height=n,this.depth=r;for(let i=0,o=this.textures.length;i<o;i++)this.textures[i].image.width=e,this.textures[i].image.height=n,this.textures[i].image.depth=r;this.dispose()}this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let n=0,r=e.textures.length;n<r;n++){this.textures[n]=e.textures[n].clone(),this.textures[n].isRenderTargetTexture=!0,this.textures[n].renderTarget=this;const i=Object.assign({},e.textures[n].image);this.textures[n].source=new cu(i)}return this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class Za extends Rb{constructor(e=1,n=1,r={}){super(e,n,r),this.isWebGLRenderTarget=!0}}class Nv extends _r{constructor(e=null,n=1,r=1,i=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:n,height:r,depth:i},this.magFilter=Pi,this.minFilter=Pi,this.wrapR=Ps,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class qY extends Za{constructor(e=1,n=1,r=1,i={}){super(e,n,i),this.isWebGLArrayRenderTarget=!0,this.depth=r,this.texture=new Nv(null,e,n,r),this.texture.isRenderTargetTexture=!0}}class Ab extends _r{constructor(e=null,n=1,r=1,i=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:n,height:r,depth:i},this.magFilter=Pi,this.minFilter=Pi,this.wrapR=Ps,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class YY extends Za{constructor(e=1,n=1,r=1,i={}){super(e,n,i),this.isWebGL3DRenderTarget=!0,this.depth=r,this.texture=new Ab(null,e,n,r),this.texture.isRenderTargetTexture=!0}}class Ri{constructor(e=0,n=0,r=0,i=1){this.isQuaternion=!0,this._x=e,this._y=n,this._z=r,this._w=i}static slerpFlat(e,n,r,i,o,s,a){let c=r[i+0],d=r[i+1],f=r[i+2],m=r[i+3];const g=o[s+0],y=o[s+1],x=o[s+2],S=o[s+3];if(a===0){e[n+0]=c,e[n+1]=d,e[n+2]=f,e[n+3]=m;return}if(a===1){e[n+0]=g,e[n+1]=y,e[n+2]=x,e[n+3]=S;return}if(m!==S||c!==g||d!==y||f!==x){let _=1-a;const b=c*g+d*y+f*x+m*S,C=b>=0?1:-1,T=1-b*b;if(T>Number.EPSILON){const P=Math.sqrt(T),R=Math.atan2(P,b*C);_=Math.sin(_*R)/P,a=Math.sin(a*R)/P}const A=a*C;if(c=c*_+g*A,d=d*_+y*A,f=f*_+x*A,m=m*_+S*A,_===1-a){const P=1/Math.sqrt(c*c+d*d+f*f+m*m);c*=P,d*=P,f*=P,m*=P}}e[n]=c,e[n+1]=d,e[n+2]=f,e[n+3]=m}static multiplyQuaternionsFlat(e,n,r,i,o,s){const a=r[i],c=r[i+1],d=r[i+2],f=r[i+3],m=o[s],g=o[s+1],y=o[s+2],x=o[s+3];return e[n]=a*x+f*m+c*y-d*g,e[n+1]=c*x+f*g+d*m-a*y,e[n+2]=d*x+f*y+a*g-c*m,e[n+3]=f*x-a*m-c*g-d*y,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,n,r,i){return this._x=e,this._y=n,this._z=r,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,n=!0){const r=e._x,i=e._y,o=e._z,s=e._order,a=Math.cos,c=Math.sin,d=a(r/2),f=a(i/2),m=a(o/2),g=c(r/2),y=c(i/2),x=c(o/2);switch(s){case"XYZ":this._x=g*f*m+d*y*x,this._y=d*y*m-g*f*x,this._z=d*f*x+g*y*m,this._w=d*f*m-g*y*x;break;case"YXZ":this._x=g*f*m+d*y*x,this._y=d*y*m-g*f*x,this._z=d*f*x-g*y*m,this._w=d*f*m+g*y*x;break;case"ZXY":this._x=g*f*m-d*y*x,this._y=d*y*m+g*f*x,this._z=d*f*x+g*y*m,this._w=d*f*m-g*y*x;break;case"ZYX":this._x=g*f*m-d*y*x,this._y=d*y*m+g*f*x,this._z=d*f*x-g*y*m,this._w=d*f*m+g*y*x;break;case"YZX":this._x=g*f*m+d*y*x,this._y=d*y*m+g*f*x,this._z=d*f*x-g*y*m,this._w=d*f*m-g*y*x;break;case"XZY":this._x=g*f*m-d*y*x,this._y=d*y*m-g*f*x,this._z=d*f*x+g*y*m,this._w=d*f*m+g*y*x;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+s)}return n===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,n){const r=n/2,i=Math.sin(r);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){const n=e.elements,r=n[0],i=n[4],o=n[8],s=n[1],a=n[5],c=n[9],d=n[2],f=n[6],m=n[10],g=r+a+m;if(g>0){const y=.5/Math.sqrt(g+1);this._w=.25/y,this._x=(f-c)*y,this._y=(o-d)*y,this._z=(s-i)*y}else if(r>a&&r>m){const y=2*Math.sqrt(1+r-a-m);this._w=(f-c)/y,this._x=.25*y,this._y=(i+s)/y,this._z=(o+d)/y}else if(a>m){const y=2*Math.sqrt(1+a-r-m);this._w=(o-d)/y,this._x=(i+s)/y,this._y=.25*y,this._z=(c+f)/y}else{const y=2*Math.sqrt(1+m-r-a);this._w=(s-i)/y,this._x=(o+d)/y,this._y=(c+f)/y,this._z=.25*y}return this._onChangeCallback(),this}setFromUnitVectors(e,n){let r=e.dot(n)+1;return r<Number.EPSILON?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*n.z-e.z*n.y,this._y=e.z*n.x-e.x*n.z,this._z=e.x*n.y-e.y*n.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Jt(this.dot(e),-1,1)))}rotateTowards(e,n){const r=this.angleTo(e);if(r===0)return this;const i=Math.min(1,n/r);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,n){const r=e._x,i=e._y,o=e._z,s=e._w,a=n._x,c=n._y,d=n._z,f=n._w;return this._x=r*f+s*a+i*d-o*c,this._y=i*f+s*c+o*a-r*d,this._z=o*f+s*d+r*c-i*a,this._w=s*f-r*a-i*c-o*d,this._onChangeCallback(),this}slerp(e,n){if(n===0)return this;if(n===1)return this.copy(e);const r=this._x,i=this._y,o=this._z,s=this._w;let a=s*e._w+r*e._x+i*e._y+o*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=s,this._x=r,this._y=i,this._z=o,this;const c=1-a*a;if(c<=Number.EPSILON){const y=1-n;return this._w=y*s+n*this._w,this._x=y*r+n*this._x,this._y=y*i+n*this._y,this._z=y*o+n*this._z,this.normalize(),this}const d=Math.sqrt(c),f=Math.atan2(d,a),m=Math.sin((1-n)*f)/d,g=Math.sin(n*f)/d;return this._w=s*m+this._w*g,this._x=r*m+this._x*g,this._y=i*m+this._y*g,this._z=o*m+this._z*g,this._onChangeCallback(),this}slerpQuaternions(e,n,r){return this.copy(e).slerp(n,r)}random(){const e=2*Math.PI*Math.random(),n=2*Math.PI*Math.random(),r=Math.random(),i=Math.sqrt(1-r),o=Math.sqrt(r);return this.set(i*Math.sin(e),i*Math.cos(e),o*Math.sin(n),o*Math.cos(n))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,n=0){return this._x=e[n],this._y=e[n+1],this._z=e[n+2],this._w=e[n+3],this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._w,e}fromBufferAttribute(e,n){return this._x=e.getX(n),this._y=e.getY(n),this._z=e.getZ(n),this._w=e.getW(n),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class J{constructor(e=0,n=0,r=0){J.prototype.isVector3=!0,this.x=e,this.y=n,this.z=r}set(e,n,r){return r===void 0&&(r=this.z),this.x=e,this.y=n,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,n){return this.x=e.x*n.x,this.y=e.y*n.y,this.z=e.z*n.z,this}applyEuler(e){return this.applyQuaternion(cR.setFromEuler(e))}applyAxisAngle(e,n){return this.applyQuaternion(cR.setFromAxisAngle(e,n))}applyMatrix3(e){const n=this.x,r=this.y,i=this.z,o=e.elements;return this.x=o[0]*n+o[3]*r+o[6]*i,this.y=o[1]*n+o[4]*r+o[7]*i,this.z=o[2]*n+o[5]*r+o[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const n=this.x,r=this.y,i=this.z,o=e.elements,s=1/(o[3]*n+o[7]*r+o[11]*i+o[15]);return this.x=(o[0]*n+o[4]*r+o[8]*i+o[12])*s,this.y=(o[1]*n+o[5]*r+o[9]*i+o[13])*s,this.z=(o[2]*n+o[6]*r+o[10]*i+o[14])*s,this}applyQuaternion(e){const n=this.x,r=this.y,i=this.z,o=e.x,s=e.y,a=e.z,c=e.w,d=2*(s*i-a*r),f=2*(a*n-o*i),m=2*(o*r-s*n);return this.x=n+c*d+s*m-a*f,this.y=r+c*f+a*d-o*m,this.z=i+c*m+o*f-s*d,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const n=this.x,r=this.y,i=this.z,o=e.elements;return this.x=o[0]*n+o[4]*r+o[8]*i,this.y=o[1]*n+o[5]*r+o[9]*i,this.z=o[2]*n+o[6]*r+o[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,n){return this.x=Jt(this.x,e.x,n.x),this.y=Jt(this.y,e.y,n.y),this.z=Jt(this.z,e.z,n.z),this}clampScalar(e,n){return this.x=Jt(this.x,e,n),this.y=Jt(this.y,e,n),this.z=Jt(this.z,e,n),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Jt(r,e,n))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,n){const r=e.x,i=e.y,o=e.z,s=n.x,a=n.y,c=n.z;return this.x=i*c-o*a,this.y=o*s-r*c,this.z=r*a-i*s,this}projectOnVector(e){const n=e.lengthSq();if(n===0)return this.set(0,0,0);const r=e.dot(this)/n;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return vS.copy(this).projectOnVector(e),this.sub(vS)}reflect(e){return this.sub(vS.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const r=this.dot(e)/n;return Math.acos(Jt(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y,i=this.z-e.z;return n*n+r*r+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,n,r){const i=Math.sin(n)*e;return this.x=i*Math.sin(r),this.y=Math.cos(n)*e,this.z=i*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,n,r){return this.x=e*Math.sin(n),this.y=r,this.z=e*Math.cos(n),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this}setFromMatrixScale(e){const n=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=n,this.y=r,this.z=i,this}setFromMatrixColumn(e,n){return this.fromArray(e.elements,n*4)}setFromMatrix3Column(e,n){return this.fromArray(e.elements,n*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,n=Math.random()*2-1,r=Math.sqrt(1-n*n);return this.x=r*Math.cos(e),this.y=n,this.z=r*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const vS=new J,cR=new Ri;class ji{constructor(e=new J(1/0,1/0,1/0),n=new J(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromArray(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n+=3)this.expandByPoint(aa.fromArray(e,n));return this}setFromBufferAttribute(e){this.makeEmpty();for(let n=0,r=e.count;n<r;n++)this.expandByPoint(aa.fromBufferAttribute(e,n));return this}setFromPoints(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const r=aa.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e,n=!1){return this.makeEmpty(),this.expandByObject(e,n)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,n=!1){e.updateWorldMatrix(!1,!1);const r=e.geometry;if(r!==void 0){const o=r.getAttribute("position");if(n===!0&&o!==void 0&&e.isInstancedMesh!==!0)for(let s=0,a=o.count;s<a;s++)e.isMesh===!0?e.getVertexPosition(s,aa):aa.fromBufferAttribute(o,s),aa.applyMatrix4(e.matrixWorld),this.expandByPoint(aa);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),sy.copy(e.boundingBox)):(r.boundingBox===null&&r.computeBoundingBox(),sy.copy(r.boundingBox)),sy.applyMatrix4(e.matrixWorld),this.union(sy)}const i=e.children;for(let o=0,s=i.length;o<s;o++)this.expandByObject(i[o],n);return this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y&&e.z>=this.min.z&&e.z<=this.max.z}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y&&e.max.z>=this.min.z&&e.min.z<=this.max.z}intersectsSphere(e){return this.clampPoint(e.center,aa),aa.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let n,r;return e.normal.x>0?(n=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(n=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(n+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(n+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(n+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(n+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),n<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(Qm),ay.subVectors(this.max,Qm),Ch.subVectors(e.a,Qm),Mh.subVectors(e.b,Qm),Th.subVectors(e.c,Qm),Jc.subVectors(Mh,Ch),Qc.subVectors(Th,Mh),xd.subVectors(Ch,Th);let n=[0,-Jc.z,Jc.y,0,-Qc.z,Qc.y,0,-xd.z,xd.y,Jc.z,0,-Jc.x,Qc.z,0,-Qc.x,xd.z,0,-xd.x,-Jc.y,Jc.x,0,-Qc.y,Qc.x,0,-xd.y,xd.x,0];return!yS(n,Ch,Mh,Th,ay)||(n=[1,0,0,0,1,0,0,0,1],!yS(n,Ch,Mh,Th,ay))?!1:(ly.crossVectors(Jc,Qc),n=[ly.x,ly.y,ly.z],yS(n,Ch,Mh,Th,ay))}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,aa).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(aa).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(zl[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),zl[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),zl[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),zl[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),zl[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),zl[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),zl[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),zl[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(zl),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const zl=[new J,new J,new J,new J,new J,new J,new J,new J],aa=new J,sy=new ji,Ch=new J,Mh=new J,Th=new J,Jc=new J,Qc=new J,xd=new J,Qm=new J,ay=new J,ly=new J,bd=new J;function yS(t,e,n,r,i){for(let o=0,s=t.length-3;o<=s;o+=3){bd.fromArray(t,o);const a=i.x*Math.abs(bd.x)+i.y*Math.abs(bd.y)+i.z*Math.abs(bd.z),c=e.dot(bd),d=n.dot(bd),f=r.dot(bd);if(Math.max(-Math.max(c,d,f),Math.min(c,d,f))>a)return!1}return!0}const KY=new ji,eg=new J,xS=new J;class Ai{constructor(e=new J,n=-1){this.isSphere=!0,this.center=e,this.radius=n}set(e,n){return this.center.copy(e),this.radius=n,this}setFromPoints(e,n){const r=this.center;n!==void 0?r.copy(n):KY.setFromPoints(e).getCenter(r);let i=0;for(let o=0,s=e.length;o<s;o++)i=Math.max(i,r.distanceToSquared(e[o]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const n=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=n*n}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,n){const r=this.center.distanceToSquared(e);return n.copy(e),r>this.radius*this.radius&&(n.sub(this.center).normalize(),n.multiplyScalar(this.radius).add(this.center)),n}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;eg.subVectors(e,this.center);const n=eg.lengthSq();if(n>this.radius*this.radius){const r=Math.sqrt(n),i=(r-this.radius)*.5;this.center.addScaledVector(eg,i/r),this.radius+=i}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(xS.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(eg.copy(e.center).add(xS)),this.expandByPoint(eg.copy(e.center).sub(xS))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const Ul=new J,bS=new J,cy=new J,eu=new J,_S=new J,uy=new J,SS=new J;class uf{constructor(e=new J,n=new J(0,0,-1)){this.origin=e,this.direction=n}set(e,n){return this.origin.copy(e),this.direction.copy(n),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,n){return n.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Ul)),this}closestPointToPoint(e,n){n.subVectors(e,this.origin);const r=n.dot(this.direction);return r<0?n.copy(this.origin):n.copy(this.origin).addScaledVector(this.direction,r)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const n=Ul.subVectors(e,this.origin).dot(this.direction);return n<0?this.origin.distanceToSquared(e):(Ul.copy(this.origin).addScaledVector(this.direction,n),Ul.distanceToSquared(e))}distanceSqToSegment(e,n,r,i){bS.copy(e).add(n).multiplyScalar(.5),cy.copy(n).sub(e).normalize(),eu.copy(this.origin).sub(bS);const o=e.distanceTo(n)*.5,s=-this.direction.dot(cy),a=eu.dot(this.direction),c=-eu.dot(cy),d=eu.lengthSq(),f=Math.abs(1-s*s);let m,g,y,x;if(f>0)if(m=s*c-a,g=s*a-c,x=o*f,m>=0)if(g>=-x)if(g<=x){const S=1/f;m*=S,g*=S,y=m*(m+s*g+2*a)+g*(s*m+g+2*c)+d}else g=o,m=Math.max(0,-(s*g+a)),y=-m*m+g*(g+2*c)+d;else g=-o,m=Math.max(0,-(s*g+a)),y=-m*m+g*(g+2*c)+d;else g<=-x?(m=Math.max(0,-(-s*o+a)),g=m>0?-o:Math.min(Math.max(-o,-c),o),y=-m*m+g*(g+2*c)+d):g<=x?(m=0,g=Math.min(Math.max(-o,-c),o),y=g*(g+2*c)+d):(m=Math.max(0,-(s*o+a)),g=m>0?o:Math.min(Math.max(-o,-c),o),y=-m*m+g*(g+2*c)+d);else g=s>0?-o:o,m=Math.max(0,-(s*g+a)),y=-m*m+g*(g+2*c)+d;return r&&r.copy(this.origin).addScaledVector(this.direction,m),i&&i.copy(bS).addScaledVector(cy,g),y}intersectSphere(e,n){Ul.subVectors(e.center,this.origin);const r=Ul.dot(this.direction),i=Ul.dot(Ul)-r*r,o=e.radius*e.radius;if(i>o)return null;const s=Math.sqrt(o-i),a=r-s,c=r+s;return c<0?null:a<0?this.at(c,n):this.at(a,n)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const n=e.normal.dot(this.direction);if(n===0)return e.distanceToPoint(this.origin)===0?0:null;const r=-(this.origin.dot(e.normal)+e.constant)/n;return r>=0?r:null}intersectPlane(e,n){const r=this.distanceToPlane(e);return r===null?null:this.at(r,n)}intersectsPlane(e){const n=e.distanceToPoint(this.origin);return n===0||e.normal.dot(this.direction)*n<0}intersectBox(e,n){let r,i,o,s,a,c;const d=1/this.direction.x,f=1/this.direction.y,m=1/this.direction.z,g=this.origin;return d>=0?(r=(e.min.x-g.x)*d,i=(e.max.x-g.x)*d):(r=(e.max.x-g.x)*d,i=(e.min.x-g.x)*d),f>=0?(o=(e.min.y-g.y)*f,s=(e.max.y-g.y)*f):(o=(e.max.y-g.y)*f,s=(e.min.y-g.y)*f),r>s||o>i||((o>r||isNaN(r))&&(r=o),(s<i||isNaN(i))&&(i=s),m>=0?(a=(e.min.z-g.z)*m,c=(e.max.z-g.z)*m):(a=(e.max.z-g.z)*m,c=(e.min.z-g.z)*m),r>c||a>i)||((a>r||r!==r)&&(r=a),(c<i||i!==i)&&(i=c),i<0)?null:this.at(r>=0?r:i,n)}intersectsBox(e){return this.intersectBox(e,Ul)!==null}intersectTriangle(e,n,r,i,o){_S.subVectors(n,e),uy.subVectors(r,e),SS.crossVectors(_S,uy);let s=this.direction.dot(SS),a;if(s>0){if(i)return null;a=1}else if(s<0)a=-1,s=-s;else return null;eu.subVectors(this.origin,e);const c=a*this.direction.dot(uy.crossVectors(eu,uy));if(c<0)return null;const d=a*this.direction.dot(_S.cross(eu));if(d<0||c+d>s)return null;const f=-a*eu.dot(SS);return f<0?null:this.at(f/s,o)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class Ht{constructor(e,n,r,i,o,s,a,c,d,f,m,g,y,x,S,_){Ht.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,n,r,i,o,s,a,c,d,f,m,g,y,x,S,_)}set(e,n,r,i,o,s,a,c,d,f,m,g,y,x,S,_){const b=this.elements;return b[0]=e,b[4]=n,b[8]=r,b[12]=i,b[1]=o,b[5]=s,b[9]=a,b[13]=c,b[2]=d,b[6]=f,b[10]=m,b[14]=g,b[3]=y,b[7]=x,b[11]=S,b[15]=_,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Ht().fromArray(this.elements)}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],n[9]=r[9],n[10]=r[10],n[11]=r[11],n[12]=r[12],n[13]=r[13],n[14]=r[14],n[15]=r[15],this}copyPosition(e){const n=this.elements,r=e.elements;return n[12]=r[12],n[13]=r[13],n[14]=r[14],this}setFromMatrix3(e){const n=e.elements;return this.set(n[0],n[3],n[6],0,n[1],n[4],n[7],0,n[2],n[5],n[8],0,0,0,0,1),this}extractBasis(e,n,r){return e.setFromMatrixColumn(this,0),n.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(e,n,r){return this.set(e.x,n.x,r.x,0,e.y,n.y,r.y,0,e.z,n.z,r.z,0,0,0,0,1),this}extractRotation(e){const n=this.elements,r=e.elements,i=1/Ph.setFromMatrixColumn(e,0).length(),o=1/Ph.setFromMatrixColumn(e,1).length(),s=1/Ph.setFromMatrixColumn(e,2).length();return n[0]=r[0]*i,n[1]=r[1]*i,n[2]=r[2]*i,n[3]=0,n[4]=r[4]*o,n[5]=r[5]*o,n[6]=r[6]*o,n[7]=0,n[8]=r[8]*s,n[9]=r[9]*s,n[10]=r[10]*s,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromEuler(e){const n=this.elements,r=e.x,i=e.y,o=e.z,s=Math.cos(r),a=Math.sin(r),c=Math.cos(i),d=Math.sin(i),f=Math.cos(o),m=Math.sin(o);if(e.order==="XYZ"){const g=s*f,y=s*m,x=a*f,S=a*m;n[0]=c*f,n[4]=-c*m,n[8]=d,n[1]=y+x*d,n[5]=g-S*d,n[9]=-a*c,n[2]=S-g*d,n[6]=x+y*d,n[10]=s*c}else if(e.order==="YXZ"){const g=c*f,y=c*m,x=d*f,S=d*m;n[0]=g+S*a,n[4]=x*a-y,n[8]=s*d,n[1]=s*m,n[5]=s*f,n[9]=-a,n[2]=y*a-x,n[6]=S+g*a,n[10]=s*c}else if(e.order==="ZXY"){const g=c*f,y=c*m,x=d*f,S=d*m;n[0]=g-S*a,n[4]=-s*m,n[8]=x+y*a,n[1]=y+x*a,n[5]=s*f,n[9]=S-g*a,n[2]=-s*d,n[6]=a,n[10]=s*c}else if(e.order==="ZYX"){const g=s*f,y=s*m,x=a*f,S=a*m;n[0]=c*f,n[4]=x*d-y,n[8]=g*d+S,n[1]=c*m,n[5]=S*d+g,n[9]=y*d-x,n[2]=-d,n[6]=a*c,n[10]=s*c}else if(e.order==="YZX"){const g=s*c,y=s*d,x=a*c,S=a*d;n[0]=c*f,n[4]=S-g*m,n[8]=x*m+y,n[1]=m,n[5]=s*f,n[9]=-a*f,n[2]=-d*f,n[6]=y*m+x,n[10]=g-S*m}else if(e.order==="XZY"){const g=s*c,y=s*d,x=a*c,S=a*d;n[0]=c*f,n[4]=-m,n[8]=d*f,n[1]=g*m+S,n[5]=s*f,n[9]=y*m-x,n[2]=x*m-y,n[6]=a*f,n[10]=S*m+g}return n[3]=0,n[7]=0,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromQuaternion(e){return this.compose(ZY,e,JY)}lookAt(e,n,r){const i=this.elements;return Qo.subVectors(e,n),Qo.lengthSq()===0&&(Qo.z=1),Qo.normalize(),tu.crossVectors(r,Qo),tu.lengthSq()===0&&(Math.abs(r.z)===1?Qo.x+=1e-4:Qo.z+=1e-4,Qo.normalize(),tu.crossVectors(r,Qo)),tu.normalize(),dy.crossVectors(Qo,tu),i[0]=tu.x,i[4]=dy.x,i[8]=Qo.x,i[1]=tu.y,i[5]=dy.y,i[9]=Qo.y,i[2]=tu.z,i[6]=dy.z,i[10]=Qo.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,i=n.elements,o=this.elements,s=r[0],a=r[4],c=r[8],d=r[12],f=r[1],m=r[5],g=r[9],y=r[13],x=r[2],S=r[6],_=r[10],b=r[14],C=r[3],T=r[7],A=r[11],P=r[15],R=i[0],k=i[4],z=i[8],L=i[12],O=i[1],B=i[5],j=i[9],X=i[13],ee=i[2],K=i[6],ne=i[10],se=i[14],V=i[3],Q=i[7],Z=i[11],W=i[15];return o[0]=s*R+a*O+c*ee+d*V,o[4]=s*k+a*B+c*K+d*Q,o[8]=s*z+a*j+c*ne+d*Z,o[12]=s*L+a*X+c*se+d*W,o[1]=f*R+m*O+g*ee+y*V,o[5]=f*k+m*B+g*K+y*Q,o[9]=f*z+m*j+g*ne+y*Z,o[13]=f*L+m*X+g*se+y*W,o[2]=x*R+S*O+_*ee+b*V,o[6]=x*k+S*B+_*K+b*Q,o[10]=x*z+S*j+_*ne+b*Z,o[14]=x*L+S*X+_*se+b*W,o[3]=C*R+T*O+A*ee+P*V,o[7]=C*k+T*B+A*K+P*Q,o[11]=C*z+T*j+A*ne+P*Z,o[15]=C*L+T*X+A*se+P*W,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[4]*=e,n[8]*=e,n[12]*=e,n[1]*=e,n[5]*=e,n[9]*=e,n[13]*=e,n[2]*=e,n[6]*=e,n[10]*=e,n[14]*=e,n[3]*=e,n[7]*=e,n[11]*=e,n[15]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[4],i=e[8],o=e[12],s=e[1],a=e[5],c=e[9],d=e[13],f=e[2],m=e[6],g=e[10],y=e[14],x=e[3],S=e[7],_=e[11],b=e[15];return x*(+o*c*m-i*d*m-o*a*g+r*d*g+i*a*y-r*c*y)+S*(+n*c*y-n*d*g+o*s*g-i*s*y+i*d*f-o*c*f)+_*(+n*d*m-n*a*y-o*s*m+r*s*y+o*a*f-r*d*f)+b*(-i*a*f-n*c*m+n*a*g+i*s*m-r*s*g+r*c*f)}transpose(){const e=this.elements;let n;return n=e[1],e[1]=e[4],e[4]=n,n=e[2],e[2]=e[8],e[8]=n,n=e[6],e[6]=e[9],e[9]=n,n=e[3],e[3]=e[12],e[12]=n,n=e[7],e[7]=e[13],e[13]=n,n=e[11],e[11]=e[14],e[14]=n,this}setPosition(e,n,r){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=n,i[14]=r),this}invert(){const e=this.elements,n=e[0],r=e[1],i=e[2],o=e[3],s=e[4],a=e[5],c=e[6],d=e[7],f=e[8],m=e[9],g=e[10],y=e[11],x=e[12],S=e[13],_=e[14],b=e[15],C=m*_*d-S*g*d+S*c*y-a*_*y-m*c*b+a*g*b,T=x*g*d-f*_*d-x*c*y+s*_*y+f*c*b-s*g*b,A=f*S*d-x*m*d+x*a*y-s*S*y-f*a*b+s*m*b,P=x*m*c-f*S*c-x*a*g+s*S*g+f*a*_-s*m*_,R=n*C+r*T+i*A+o*P;if(R===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const k=1/R;return e[0]=C*k,e[1]=(S*g*o-m*_*o-S*i*y+r*_*y+m*i*b-r*g*b)*k,e[2]=(a*_*o-S*c*o+S*i*d-r*_*d-a*i*b+r*c*b)*k,e[3]=(m*c*o-a*g*o-m*i*d+r*g*d+a*i*y-r*c*y)*k,e[4]=T*k,e[5]=(f*_*o-x*g*o+x*i*y-n*_*y-f*i*b+n*g*b)*k,e[6]=(x*c*o-s*_*o-x*i*d+n*_*d+s*i*b-n*c*b)*k,e[7]=(s*g*o-f*c*o+f*i*d-n*g*d-s*i*y+n*c*y)*k,e[8]=A*k,e[9]=(x*m*o-f*S*o-x*r*y+n*S*y+f*r*b-n*m*b)*k,e[10]=(s*S*o-x*a*o+x*r*d-n*S*d-s*r*b+n*a*b)*k,e[11]=(f*a*o-s*m*o-f*r*d+n*m*d+s*r*y-n*a*y)*k,e[12]=P*k,e[13]=(f*S*i-x*m*i+x*r*g-n*S*g-f*r*_+n*m*_)*k,e[14]=(x*a*i-s*S*i-x*r*c+n*S*c+s*r*_-n*a*_)*k,e[15]=(s*m*i-f*a*i+f*r*c-n*m*c-s*r*g+n*a*g)*k,this}scale(e){const n=this.elements,r=e.x,i=e.y,o=e.z;return n[0]*=r,n[4]*=i,n[8]*=o,n[1]*=r,n[5]*=i,n[9]*=o,n[2]*=r,n[6]*=i,n[10]*=o,n[3]*=r,n[7]*=i,n[11]*=o,this}getMaxScaleOnAxis(){const e=this.elements,n=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(n,r,i))}makeTranslation(e,n,r){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,n,0,0,1,r,0,0,0,1),this}makeRotationX(e){const n=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,n,-r,0,0,r,n,0,0,0,0,1),this}makeRotationY(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,0,r,0,0,1,0,0,-r,0,n,0,0,0,0,1),this}makeRotationZ(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,0,r,n,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,n){const r=Math.cos(n),i=Math.sin(n),o=1-r,s=e.x,a=e.y,c=e.z,d=o*s,f=o*a;return this.set(d*s+r,d*a-i*c,d*c+i*a,0,d*a+i*c,f*a+r,f*c-i*s,0,d*c-i*a,f*c+i*s,o*c*c+r,0,0,0,0,1),this}makeScale(e,n,r){return this.set(e,0,0,0,0,n,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,n,r,i,o,s){return this.set(1,r,o,0,e,1,s,0,n,i,1,0,0,0,0,1),this}compose(e,n,r){const i=this.elements,o=n._x,s=n._y,a=n._z,c=n._w,d=o+o,f=s+s,m=a+a,g=o*d,y=o*f,x=o*m,S=s*f,_=s*m,b=a*m,C=c*d,T=c*f,A=c*m,P=r.x,R=r.y,k=r.z;return i[0]=(1-(S+b))*P,i[1]=(y+A)*P,i[2]=(x-T)*P,i[3]=0,i[4]=(y-A)*R,i[5]=(1-(g+b))*R,i[6]=(_+C)*R,i[7]=0,i[8]=(x+T)*k,i[9]=(_-C)*k,i[10]=(1-(g+S))*k,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,n,r){const i=this.elements;let o=Ph.set(i[0],i[1],i[2]).length();const s=Ph.set(i[4],i[5],i[6]).length(),a=Ph.set(i[8],i[9],i[10]).length();this.determinant()<0&&(o=-o),e.x=i[12],e.y=i[13],e.z=i[14],la.copy(this);const d=1/o,f=1/s,m=1/a;return la.elements[0]*=d,la.elements[1]*=d,la.elements[2]*=d,la.elements[4]*=f,la.elements[5]*=f,la.elements[6]*=f,la.elements[8]*=m,la.elements[9]*=m,la.elements[10]*=m,n.setFromRotationMatrix(la),r.x=o,r.y=s,r.z=a,this}makePerspective(e,n,r,i,o,s,a=Rs){const c=this.elements,d=2*o/(n-e),f=2*o/(r-i),m=(n+e)/(n-e),g=(r+i)/(r-i);let y,x;if(a===Rs)y=-(s+o)/(s-o),x=-2*s*o/(s-o);else if(a===uv)y=-s/(s-o),x=-s*o/(s-o);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+a);return c[0]=d,c[4]=0,c[8]=m,c[12]=0,c[1]=0,c[5]=f,c[9]=g,c[13]=0,c[2]=0,c[6]=0,c[10]=y,c[14]=x,c[3]=0,c[7]=0,c[11]=-1,c[15]=0,this}makeOrthographic(e,n,r,i,o,s,a=Rs){const c=this.elements,d=1/(n-e),f=1/(r-i),m=1/(s-o),g=(n+e)*d,y=(r+i)*f;let x,S;if(a===Rs)x=(s+o)*m,S=-2*m;else if(a===uv)x=o*m,S=-1*m;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+a);return c[0]=2*d,c[4]=0,c[8]=0,c[12]=-g,c[1]=0,c[5]=2*f,c[9]=0,c[13]=-y,c[2]=0,c[6]=0,c[10]=S,c[14]=-x,c[3]=0,c[7]=0,c[11]=0,c[15]=1,this}equals(e){const n=this.elements,r=e.elements;for(let i=0;i<16;i++)if(n[i]!==r[i])return!1;return!0}fromArray(e,n=0){for(let r=0;r<16;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e[n+9]=r[9],e[n+10]=r[10],e[n+11]=r[11],e[n+12]=r[12],e[n+13]=r[13],e[n+14]=r[14],e[n+15]=r[15],e}}const Ph=new J,la=new Ht,ZY=new J(0,0,0),JY=new J(1,1,1),tu=new J,dy=new J,Qo=new J,uR=new Ht,dR=new Ri;class ss{constructor(e=0,n=0,r=0,i=ss.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=n,this._z=r,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,n,r,i=this._order){return this._x=e,this._y=n,this._z=r,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,n=this._order,r=!0){const i=e.elements,o=i[0],s=i[4],a=i[8],c=i[1],d=i[5],f=i[9],m=i[2],g=i[6],y=i[10];switch(n){case"XYZ":this._y=Math.asin(Jt(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-f,y),this._z=Math.atan2(-s,o)):(this._x=Math.atan2(g,d),this._z=0);break;case"YXZ":this._x=Math.asin(-Jt(f,-1,1)),Math.abs(f)<.9999999?(this._y=Math.atan2(a,y),this._z=Math.atan2(c,d)):(this._y=Math.atan2(-m,o),this._z=0);break;case"ZXY":this._x=Math.asin(Jt(g,-1,1)),Math.abs(g)<.9999999?(this._y=Math.atan2(-m,y),this._z=Math.atan2(-s,d)):(this._y=0,this._z=Math.atan2(c,o));break;case"ZYX":this._y=Math.asin(-Jt(m,-1,1)),Math.abs(m)<.9999999?(this._x=Math.atan2(g,y),this._z=Math.atan2(c,o)):(this._x=0,this._z=Math.atan2(-s,d));break;case"YZX":this._z=Math.asin(Jt(c,-1,1)),Math.abs(c)<.9999999?(this._x=Math.atan2(-f,d),this._y=Math.atan2(-m,o)):(this._x=0,this._y=Math.atan2(a,y));break;case"XZY":this._z=Math.asin(-Jt(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(g,d),this._y=Math.atan2(a,o)):(this._x=Math.atan2(-f,y),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+n)}return this._order=n,r===!0&&this._onChangeCallback(),this}setFromQuaternion(e,n,r){return uR.makeRotationFromQuaternion(e),this.setFromRotationMatrix(uR,n,r)}setFromVector3(e,n=this._order){return this.set(e.x,e.y,e.z,n)}reorder(e){return dR.setFromEuler(this),this.setFromQuaternion(dR,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}ss.DEFAULT_ORDER="XYZ";class Kd{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let QY=0;const fR=new J,Rh=new Ri,Bl=new Ht,fy=new J,tg=new J,eK=new J,tK=new Ri,hR=new J(1,0,0),pR=new J(0,1,0),mR=new J(0,0,1),gR={type:"added"},nK={type:"removed"},Ah={type:"childadded",child:null},wS={type:"childremoved",child:null};class Pn extends rl{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:QY++}),this.uuid=os(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Pn.DEFAULT_UP.clone();const e=new J,n=new ss,r=new Ri,i=new J(1,1,1);function o(){r.setFromEuler(n,!1)}function s(){n.setFromQuaternion(r,void 0,!1)}n._onChange(o),r._onChange(s),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:n},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new Ht},normalMatrix:{value:new en}}),this.matrix=new Ht,this.matrixWorld=new Ht,this.matrixAutoUpdate=Pn.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=Pn.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new Kd,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.customDepthMaterial=void 0,this.customDistanceMaterial=void 0,this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,n){this.quaternion.setFromAxisAngle(e,n)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,n){return Rh.setFromAxisAngle(e,n),this.quaternion.multiply(Rh),this}rotateOnWorldAxis(e,n){return Rh.setFromAxisAngle(e,n),this.quaternion.premultiply(Rh),this}rotateX(e){return this.rotateOnAxis(hR,e)}rotateY(e){return this.rotateOnAxis(pR,e)}rotateZ(e){return this.rotateOnAxis(mR,e)}translateOnAxis(e,n){return fR.copy(e).applyQuaternion(this.quaternion),this.position.add(fR.multiplyScalar(n)),this}translateX(e){return this.translateOnAxis(hR,e)}translateY(e){return this.translateOnAxis(pR,e)}translateZ(e){return this.translateOnAxis(mR,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(Bl.copy(this.matrixWorld).invert())}lookAt(e,n,r){e.isVector3?fy.copy(e):fy.set(e,n,r);const i=this.parent;this.updateWorldMatrix(!0,!1),tg.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Bl.lookAt(tg,fy,this.up):Bl.lookAt(fy,tg,this.up),this.quaternion.setFromRotationMatrix(Bl),i&&(Bl.extractRotation(i.matrixWorld),Rh.setFromRotationMatrix(Bl),this.quaternion.premultiply(Rh.invert()))}add(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.add(arguments[n]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(gR),Ah.child=e,this.dispatchEvent(Ah),Ah.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const n=this.children.indexOf(e);return n!==-1&&(e.parent=null,this.children.splice(n,1),e.dispatchEvent(nK),wS.child=e,this.dispatchEvent(wS),wS.child=null),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),Bl.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),Bl.multiply(e.parent.matrixWorld)),e.applyMatrix4(Bl),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(gR),Ah.child=e,this.dispatchEvent(Ah),Ah.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,n){if(this[e]===n)return this;for(let r=0,i=this.children.length;r<i;r++){const s=this.children[r].getObjectByProperty(e,n);if(s!==void 0)return s}}getObjectsByProperty(e,n,r=[]){this[e]===n&&r.push(this);const i=this.children;for(let o=0,s=i.length;o<s;o++)i[o].getObjectsByProperty(e,n,r);return r}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(tg,e,eK),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(tg,tK,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const n=this.matrixWorld.elements;return e.set(n[8],n[9],n[10]).normalize()}raycast(){}traverse(e){e(this);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].traverseVisible(e)}traverseAncestors(e){const n=this.parent;n!==null&&(e(n),n.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,e=!0);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].updateMatrixWorld(e)}updateWorldMatrix(e,n){const r=this.parent;if(e===!0&&r!==null&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),n===!0){const i=this.children;for(let o=0,s=i.length;o<s;o++)i[o].updateWorldMatrix(!1,!0)}}toJSON(e){const n=e===void 0||typeof e=="string",r={};n&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const i={};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),this.frustumCulled===!1&&(i.frustumCulled=!1),this.renderOrder!==0&&(i.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),i.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(i.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(i.type="BatchedMesh",i.perObjectFrustumCulled=this.perObjectFrustumCulled,i.sortObjects=this.sortObjects,i.drawRanges=this._drawRanges,i.reservedRanges=this._reservedRanges,i.geometryInfo=this._geometryInfo.map(a=>({...a,boundingBox:a.boundingBox?{min:a.boundingBox.min.toArray(),max:a.boundingBox.max.toArray()}:void 0,boundingSphere:a.boundingSphere?{radius:a.boundingSphere.radius,center:a.boundingSphere.center.toArray()}:void 0})),i.instanceInfo=this._instanceInfo.map(a=>({...a})),i.availableInstanceIds=this._availableInstanceIds.slice(),i.availableGeometryIds=this._availableGeometryIds.slice(),i.nextIndexStart=this._nextIndexStart,i.nextVertexStart=this._nextVertexStart,i.geometryCount=this._geometryCount,i.maxInstanceCount=this._maxInstanceCount,i.maxVertexCount=this._maxVertexCount,i.maxIndexCount=this._maxIndexCount,i.geometryInitialized=this._geometryInitialized,i.matricesTexture=this._matricesTexture.toJSON(e),i.indirectTexture=this._indirectTexture.toJSON(e),this._colorsTexture!==null&&(i.colorsTexture=this._colorsTexture.toJSON(e)),this.boundingSphere!==null&&(i.boundingSphere={center:this.boundingSphere.center.toArray(),radius:this.boundingSphere.radius}),this.boundingBox!==null&&(i.boundingBox={min:this.boundingBox.min.toArray(),max:this.boundingBox.max.toArray()}));function o(a,c){return a[c.uuid]===void 0&&(a[c.uuid]=c.toJSON(e)),c.uuid}if(this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(i.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=o(e.geometries,this.geometry);const a=this.geometry.parameters;if(a!==void 0&&a.shapes!==void 0){const c=a.shapes;if(Array.isArray(c))for(let d=0,f=c.length;d<f;d++){const m=c[d];o(e.shapes,m)}else o(e.shapes,c)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(o(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const a=[];for(let c=0,d=this.material.length;c<d;c++)a.push(o(e.materials,this.material[c]));i.material=a}else i.material=o(e.materials,this.material);if(this.children.length>0){i.children=[];for(let a=0;a<this.children.length;a++)i.children.push(this.children[a].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let a=0;a<this.animations.length;a++){const c=this.animations[a];i.animations.push(o(e.animations,c))}}if(n){const a=s(e.geometries),c=s(e.materials),d=s(e.textures),f=s(e.images),m=s(e.shapes),g=s(e.skeletons),y=s(e.animations),x=s(e.nodes);a.length>0&&(r.geometries=a),c.length>0&&(r.materials=c),d.length>0&&(r.textures=d),f.length>0&&(r.images=f),m.length>0&&(r.shapes=m),g.length>0&&(r.skeletons=g),y.length>0&&(r.animations=y),x.length>0&&(r.nodes=x)}return r.object=i,r;function s(a){const c=[];for(const d in a){const f=a[d];delete f.metadata,c.push(f)}return c}}clone(e){return new this.constructor().copy(this,e)}copy(e,n=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),n===!0)for(let r=0;r<e.children.length;r++){const i=e.children[r];this.add(i.clone())}return this}}Pn.DEFAULT_UP=new J(0,1,0);Pn.DEFAULT_MATRIX_AUTO_UPDATE=!0;Pn.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const ca=new J,Vl=new J,ES=new J,$l=new J,Ih=new J,kh=new J,vR=new J,CS=new J,MS=new J,TS=new J,PS=new Mn,RS=new Mn,AS=new Mn;class Lo{constructor(e=new J,n=new J,r=new J){this.a=e,this.b=n,this.c=r}static getNormal(e,n,r,i){i.subVectors(r,n),ca.subVectors(e,n),i.cross(ca);const o=i.lengthSq();return o>0?i.multiplyScalar(1/Math.sqrt(o)):i.set(0,0,0)}static getBarycoord(e,n,r,i,o){ca.subVectors(i,n),Vl.subVectors(r,n),ES.subVectors(e,n);const s=ca.dot(ca),a=ca.dot(Vl),c=ca.dot(ES),d=Vl.dot(Vl),f=Vl.dot(ES),m=s*d-a*a;if(m===0)return o.set(0,0,0),null;const g=1/m,y=(d*c-a*f)*g,x=(s*f-a*c)*g;return o.set(1-y-x,x,y)}static containsPoint(e,n,r,i){return this.getBarycoord(e,n,r,i,$l)===null?!1:$l.x>=0&&$l.y>=0&&$l.x+$l.y<=1}static getInterpolation(e,n,r,i,o,s,a,c){return this.getBarycoord(e,n,r,i,$l)===null?(c.x=0,c.y=0,"z"in c&&(c.z=0),"w"in c&&(c.w=0),null):(c.setScalar(0),c.addScaledVector(o,$l.x),c.addScaledVector(s,$l.y),c.addScaledVector(a,$l.z),c)}static getInterpolatedAttribute(e,n,r,i,o,s){return PS.setScalar(0),RS.setScalar(0),AS.setScalar(0),PS.fromBufferAttribute(e,n),RS.fromBufferAttribute(e,r),AS.fromBufferAttribute(e,i),s.setScalar(0),s.addScaledVector(PS,o.x),s.addScaledVector(RS,o.y),s.addScaledVector(AS,o.z),s}static isFrontFacing(e,n,r,i){return ca.subVectors(r,n),Vl.subVectors(e,n),ca.cross(Vl).dot(i)<0}set(e,n,r){return this.a.copy(e),this.b.copy(n),this.c.copy(r),this}setFromPointsAndIndices(e,n,r,i){return this.a.copy(e[n]),this.b.copy(e[r]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,n,r,i){return this.a.fromBufferAttribute(e,n),this.b.fromBufferAttribute(e,r),this.c.fromBufferAttribute(e,i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return ca.subVectors(this.c,this.b),Vl.subVectors(this.a,this.b),ca.cross(Vl).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Lo.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,n){return Lo.getBarycoord(e,this.a,this.b,this.c,n)}getInterpolation(e,n,r,i,o){return Lo.getInterpolation(e,this.a,this.b,this.c,n,r,i,o)}containsPoint(e){return Lo.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Lo.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,n){const r=this.a,i=this.b,o=this.c;let s,a;Ih.subVectors(i,r),kh.subVectors(o,r),CS.subVectors(e,r);const c=Ih.dot(CS),d=kh.dot(CS);if(c<=0&&d<=0)return n.copy(r);MS.subVectors(e,i);const f=Ih.dot(MS),m=kh.dot(MS);if(f>=0&&m<=f)return n.copy(i);const g=c*m-f*d;if(g<=0&&c>=0&&f<=0)return s=c/(c-f),n.copy(r).addScaledVector(Ih,s);TS.subVectors(e,o);const y=Ih.dot(TS),x=kh.dot(TS);if(x>=0&&y<=x)return n.copy(o);const S=y*d-c*x;if(S<=0&&d>=0&&x<=0)return a=d/(d-x),n.copy(r).addScaledVector(kh,a);const _=f*x-y*m;if(_<=0&&m-f>=0&&y-x>=0)return vR.subVectors(o,i),a=(m-f)/(m-f+(y-x)),n.copy(i).addScaledVector(vR,a);const b=1/(_+S+g);return s=S*b,a=g*b,n.copy(r).addScaledVector(Ih,s).addScaledVector(kh,a)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const zF={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},nu={h:0,s:0,l:0},hy={h:0,s:0,l:0};function IS(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*6*(2/3-n):t}let ct=class{constructor(e,n,r){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,n,r)}set(e,n,r){if(n===void 0&&r===void 0){const i=e;i&&i.isColor?this.copy(i):typeof i=="number"?this.setHex(i):typeof i=="string"&&this.setStyle(i)}else this.setRGB(e,n,r);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,n=co){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,wn.toWorkingColorSpace(this,n),this}setRGB(e,n,r,i=wn.workingColorSpace){return this.r=e,this.g=n,this.b=r,wn.toWorkingColorSpace(this,i),this}setHSL(e,n,r,i=wn.workingColorSpace){if(e=wM(e,1),n=Jt(n,0,1),r=Jt(r,0,1),n===0)this.r=this.g=this.b=r;else{const o=r<=.5?r*(1+n):r+n-r*n,s=2*r-o;this.r=IS(s,o,e+1/3),this.g=IS(s,o,e),this.b=IS(s,o,e-1/3)}return wn.toWorkingColorSpace(this,i),this}setStyle(e,n=co){function r(o){o!==void 0&&parseFloat(o)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let i;if(i=/^(\w+)\(([^\)]*)\)/.exec(e)){let o;const s=i[1],a=i[2];switch(s){case"rgb":case"rgba":if(o=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return r(o[4]),this.setRGB(Math.min(255,parseInt(o[1],10))/255,Math.min(255,parseInt(o[2],10))/255,Math.min(255,parseInt(o[3],10))/255,n);if(o=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return r(o[4]),this.setRGB(Math.min(100,parseInt(o[1],10))/100,Math.min(100,parseInt(o[2],10))/100,Math.min(100,parseInt(o[3],10))/100,n);break;case"hsl":case"hsla":if(o=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return r(o[4]),this.setHSL(parseFloat(o[1])/360,parseFloat(o[2])/100,parseFloat(o[3])/100,n);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(e)){const o=i[1],s=o.length;if(s===3)return this.setRGB(parseInt(o.charAt(0),16)/15,parseInt(o.charAt(1),16)/15,parseInt(o.charAt(2),16)/15,n);if(s===6)return this.setHex(parseInt(o,16),n);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,n);return this}setColorName(e,n=co){const r=zF[e.toLowerCase()];return r!==void 0?this.setHex(r,n):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=nc(e.r),this.g=nc(e.g),this.b=nc(e.b),this}copyLinearToSRGB(e){return this.r=pp(e.r),this.g=pp(e.g),this.b=pp(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=co){return wn.fromWorkingColorSpace(Bi.copy(this),e),Math.round(Jt(Bi.r*255,0,255))*65536+Math.round(Jt(Bi.g*255,0,255))*256+Math.round(Jt(Bi.b*255,0,255))}getHexString(e=co){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,n=wn.workingColorSpace){wn.fromWorkingColorSpace(Bi.copy(this),n);const r=Bi.r,i=Bi.g,o=Bi.b,s=Math.max(r,i,o),a=Math.min(r,i,o);let c,d;const f=(a+s)/2;if(a===s)c=0,d=0;else{const m=s-a;switch(d=f<=.5?m/(s+a):m/(2-s-a),s){case r:c=(i-o)/m+(i<o?6:0);break;case i:c=(o-r)/m+2;break;case o:c=(r-i)/m+4;break}c/=6}return e.h=c,e.s=d,e.l=f,e}getRGB(e,n=wn.workingColorSpace){return wn.fromWorkingColorSpace(Bi.copy(this),n),e.r=Bi.r,e.g=Bi.g,e.b=Bi.b,e}getStyle(e=co){wn.fromWorkingColorSpace(Bi.copy(this),e);const n=Bi.r,r=Bi.g,i=Bi.b;return e!==co?`color(${e} ${n.toFixed(3)} ${r.toFixed(3)} ${i.toFixed(3)})`:`rgb(${Math.round(n*255)},${Math.round(r*255)},${Math.round(i*255)})`}offsetHSL(e,n,r){return this.getHSL(nu),this.setHSL(nu.h+e,nu.s+n,nu.l+r)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,n){return this.r=e.r+n.r,this.g=e.g+n.g,this.b=e.b+n.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,n){return this.r+=(e.r-this.r)*n,this.g+=(e.g-this.g)*n,this.b+=(e.b-this.b)*n,this}lerpColors(e,n,r){return this.r=e.r+(n.r-e.r)*r,this.g=e.g+(n.g-e.g)*r,this.b=e.b+(n.b-e.b)*r,this}lerpHSL(e,n){this.getHSL(nu),e.getHSL(hy);const r=Vg(nu.h,hy.h,n),i=Vg(nu.s,hy.s,n),o=Vg(nu.l,hy.l,n);return this.setHSL(r,i,o),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const n=this.r,r=this.g,i=this.b,o=e.elements;return this.r=o[0]*n+o[3]*r+o[6]*i,this.g=o[1]*n+o[4]*r+o[7]*i,this.b=o[2]*n+o[5]*r+o[8]*i,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,n=0){return this.r=e[n],this.g=e[n+1],this.b=e[n+2],this}toArray(e=[],n=0){return e[n]=this.r,e[n+1]=this.g,e[n+2]=this.b,e}fromBufferAttribute(e,n){return this.r=e.getX(n),this.g=e.getY(n),this.b=e.getZ(n),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}};const Bi=new ct;ct.NAMES=zF;let rK=0;class ti extends rl{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:rK++}),this.uuid=os(),this.name="",this.type="Material",this.blending=qd,this.side=dc,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=jx,this.blendDst=Xx,this.blendEquation=lu,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new ct(0,0,0),this.blendAlpha=0,this.depthFunc=nf,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=kE,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Dd,this.stencilZFail=Dd,this.stencilZPass=Dd,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.allowOverride=!0,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const n in e){const r=e[n];if(r===void 0){console.warn(`THREE.Material: parameter '${n}' has value of undefined.`);continue}const i=this[n];if(i===void 0){console.warn(`THREE.Material: '${n}' is not a property of THREE.${this.type}.`);continue}i&&i.isColor?i.set(r):i&&i.isVector3&&r&&r.isVector3?i.copy(r):this[n]=r}}toJSON(e){const n=e===void 0||typeof e=="string";n&&(e={textures:{},images:{}});const r={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),this.roughness!==void 0&&(r.roughness=this.roughness),this.metalness!==void 0&&(r.metalness=this.metalness),this.sheen!==void 0&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(r.shininess=this.shininess),this.clearcoat!==void 0&&(r.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.dispersion!==void 0&&(r.dispersion=this.dispersion),this.iridescence!==void 0&&(r.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(r.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(r.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(r.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(r.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(r.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(r.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(r.combine=this.combine)),this.envMapRotation!==void 0&&(r.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(r.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(r.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(r.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(r.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(r.size=this.size),this.shadowSide!==null&&(r.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==qd&&(r.blending=this.blending),this.side!==dc&&(r.side=this.side),this.vertexColors===!0&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),this.transparent===!0&&(r.transparent=!0),this.blendSrc!==jx&&(r.blendSrc=this.blendSrc),this.blendDst!==Xx&&(r.blendDst=this.blendDst),this.blendEquation!==lu&&(r.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(r.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(r.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(r.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(r.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(r.blendAlpha=this.blendAlpha),this.depthFunc!==nf&&(r.depthFunc=this.depthFunc),this.depthTest===!1&&(r.depthTest=this.depthTest),this.depthWrite===!1&&(r.depthWrite=this.depthWrite),this.colorWrite===!1&&(r.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(r.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==kE&&(r.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(r.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(r.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==Dd&&(r.stencilFail=this.stencilFail),this.stencilZFail!==Dd&&(r.stencilZFail=this.stencilZFail),this.stencilZPass!==Dd&&(r.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(r.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(r.rotation=this.rotation),this.polygonOffset===!0&&(r.polygonOffset=!0),this.polygonOffsetFactor!==0&&(r.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(r.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(r.linewidth=this.linewidth),this.dashSize!==void 0&&(r.dashSize=this.dashSize),this.gapSize!==void 0&&(r.gapSize=this.gapSize),this.scale!==void 0&&(r.scale=this.scale),this.dithering===!0&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),this.alphaHash===!0&&(r.alphaHash=!0),this.alphaToCoverage===!0&&(r.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(r.premultipliedAlpha=!0),this.forceSinglePass===!0&&(r.forceSinglePass=!0),this.wireframe===!0&&(r.wireframe=!0),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(r.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(r.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(r.flatShading=!0),this.visible===!1&&(r.visible=!1),this.toneMapped===!1&&(r.toneMapped=!1),this.fog===!1&&(r.fog=!1),Object.keys(this.userData).length>0&&(r.userData=this.userData);function i(o){const s=[];for(const a in o){const c=o[a];delete c.metadata,s.push(c)}return s}if(n){const o=i(e.textures),s=i(e.images);o.length>0&&(r.textures=o),s.length>0&&(r.images=s)}return r}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const n=e.clippingPlanes;let r=null;if(n!==null){const i=n.length;r=new Array(i);for(let o=0;o!==i;++o)r[o]=n[o].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class Mu extends ti{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new ct(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new ss,this.combine=Ov,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const Kl=iK();function iK(){const t=new ArrayBuffer(4),e=new Float32Array(t),n=new Uint32Array(t),r=new Uint32Array(512),i=new Uint32Array(512);for(let c=0;c<256;++c){const d=c-127;d<-27?(r[c]=0,r[c|256]=32768,i[c]=24,i[c|256]=24):d<-14?(r[c]=1024>>-d-14,r[c|256]=1024>>-d-14|32768,i[c]=-d-1,i[c|256]=-d-1):d<=15?(r[c]=d+15<<10,r[c|256]=d+15<<10|32768,i[c]=13,i[c|256]=13):d<128?(r[c]=31744,r[c|256]=64512,i[c]=24,i[c|256]=24):(r[c]=31744,r[c|256]=64512,i[c]=13,i[c|256]=13)}const o=new Uint32Array(2048),s=new Uint32Array(64),a=new Uint32Array(64);for(let c=1;c<1024;++c){let d=c<<13,f=0;for(;(d&8388608)===0;)d<<=1,f-=8388608;d&=-8388609,f+=947912704,o[c]=d|f}for(let c=1024;c<2048;++c)o[c]=939524096+(c-1024<<13);for(let c=1;c<31;++c)s[c]=c<<23;s[31]=1199570944,s[32]=2147483648;for(let c=33;c<63;++c)s[c]=2147483648+(c-32<<23);s[63]=3347054592;for(let c=1;c<64;++c)c!==32&&(a[c]=1024);return{floatView:e,uint32View:n,baseTable:r,shiftTable:i,mantissaTable:o,exponentTable:s,offsetTable:a}}function Io(t){Math.abs(t)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),t=Jt(t,-65504,65504),Kl.floatView[0]=t;const e=Kl.uint32View[0],n=e>>23&511;return Kl.baseTable[n]+((e&8388607)>>Kl.shiftTable[n])}function Cg(t){const e=t>>10;return Kl.uint32View[0]=Kl.mantissaTable[Kl.offsetTable[e]+(t&1023)]+Kl.exponentTable[e],Kl.floatView[0]}class oK{static toHalfFloat(e){return Io(e)}static fromHalfFloat(e){return Cg(e)}}const Vr=new J,py=new $e;let sK=0;class Wn{constructor(e,n,r=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,Object.defineProperty(this,"id",{value:sK++}),this.name="",this.array=e,this.itemSize=n,this.count=e!==void 0?e.length/n:0,this.normalized=r,this.usage=cv,this.updateRanges=[],this.gpuType=Fo,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,n,r){e*=this.itemSize,r*=n.itemSize;for(let i=0,o=this.itemSize;i<o;i++)this.array[e+i]=n.array[r+i];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let n=0,r=this.count;n<r;n++)py.fromBufferAttribute(this,n),py.applyMatrix3(e),this.setXY(n,py.x,py.y);else if(this.itemSize===3)for(let n=0,r=this.count;n<r;n++)Vr.fromBufferAttribute(this,n),Vr.applyMatrix3(e),this.setXYZ(n,Vr.x,Vr.y,Vr.z);return this}applyMatrix4(e){for(let n=0,r=this.count;n<r;n++)Vr.fromBufferAttribute(this,n),Vr.applyMatrix4(e),this.setXYZ(n,Vr.x,Vr.y,Vr.z);return this}applyNormalMatrix(e){for(let n=0,r=this.count;n<r;n++)Vr.fromBufferAttribute(this,n),Vr.applyNormalMatrix(e),this.setXYZ(n,Vr.x,Vr.y,Vr.z);return this}transformDirection(e){for(let n=0,r=this.count;n<r;n++)Vr.fromBufferAttribute(this,n),Vr.transformDirection(e),this.setXYZ(n,Vr.x,Vr.y,Vr.z);return this}set(e,n=0){return this.array.set(e,n),this}getComponent(e,n){let r=this.array[e*this.itemSize+n];return this.normalized&&(r=uo(r,this.array)),r}setComponent(e,n,r){return this.normalized&&(r=on(r,this.array)),this.array[e*this.itemSize+n]=r,this}getX(e){let n=this.array[e*this.itemSize];return this.normalized&&(n=uo(n,this.array)),n}setX(e,n){return this.normalized&&(n=on(n,this.array)),this.array[e*this.itemSize]=n,this}getY(e){let n=this.array[e*this.itemSize+1];return this.normalized&&(n=uo(n,this.array)),n}setY(e,n){return this.normalized&&(n=on(n,this.array)),this.array[e*this.itemSize+1]=n,this}getZ(e){let n=this.array[e*this.itemSize+2];return this.normalized&&(n=uo(n,this.array)),n}setZ(e,n){return this.normalized&&(n=on(n,this.array)),this.array[e*this.itemSize+2]=n,this}getW(e){let n=this.array[e*this.itemSize+3];return this.normalized&&(n=uo(n,this.array)),n}setW(e,n){return this.normalized&&(n=on(n,this.array)),this.array[e*this.itemSize+3]=n,this}setXY(e,n,r){return e*=this.itemSize,this.normalized&&(n=on(n,this.array),r=on(r,this.array)),this.array[e+0]=n,this.array[e+1]=r,this}setXYZ(e,n,r,i){return e*=this.itemSize,this.normalized&&(n=on(n,this.array),r=on(r,this.array),i=on(i,this.array)),this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=i,this}setXYZW(e,n,r,i,o){return e*=this.itemSize,this.normalized&&(n=on(n,this.array),r=on(r,this.array),i=on(i,this.array),o=on(o,this.array)),this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=i,this.array[e+3]=o,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==cv&&(e.usage=this.usage),e}}class aK extends Wn{constructor(e,n,r){super(new Int8Array(e),n,r)}}class lK extends Wn{constructor(e,n,r){super(new Uint8Array(e),n,r)}}class cK extends Wn{constructor(e,n,r){super(new Uint8ClampedArray(e),n,r)}}class uK extends Wn{constructor(e,n,r){super(new Int16Array(e),n,r)}}class EM extends Wn{constructor(e,n,r){super(new Uint16Array(e),n,r)}}class dK extends Wn{constructor(e,n,r){super(new Int32Array(e),n,r)}}class CM extends Wn{constructor(e,n,r){super(new Uint32Array(e),n,r)}}class fK extends Wn{constructor(e,n,r){super(new Uint16Array(e),n,r),this.isFloat16BufferAttribute=!0}getX(e){let n=Cg(this.array[e*this.itemSize]);return this.normalized&&(n=uo(n,this.array)),n}setX(e,n){return this.normalized&&(n=on(n,this.array)),this.array[e*this.itemSize]=Io(n),this}getY(e){let n=Cg(this.array[e*this.itemSize+1]);return this.normalized&&(n=uo(n,this.array)),n}setY(e,n){return this.normalized&&(n=on(n,this.array)),this.array[e*this.itemSize+1]=Io(n),this}getZ(e){let n=Cg(this.array[e*this.itemSize+2]);return this.normalized&&(n=uo(n,this.array)),n}setZ(e,n){return this.normalized&&(n=on(n,this.array)),this.array[e*this.itemSize+2]=Io(n),this}getW(e){let n=Cg(this.array[e*this.itemSize+3]);return this.normalized&&(n=uo(n,this.array)),n}setW(e,n){return this.normalized&&(n=on(n,this.array)),this.array[e*this.itemSize+3]=Io(n),this}setXY(e,n,r){return e*=this.itemSize,this.normalized&&(n=on(n,this.array),r=on(r,this.array)),this.array[e+0]=Io(n),this.array[e+1]=Io(r),this}setXYZ(e,n,r,i){return e*=this.itemSize,this.normalized&&(n=on(n,this.array),r=on(r,this.array),i=on(i,this.array)),this.array[e+0]=Io(n),this.array[e+1]=Io(r),this.array[e+2]=Io(i),this}setXYZW(e,n,r,i,o){return e*=this.itemSize,this.normalized&&(n=on(n,this.array),r=on(r,this.array),i=on(i,this.array),o=on(o,this.array)),this.array[e+0]=Io(n),this.array[e+1]=Io(r),this.array[e+2]=Io(i),this.array[e+3]=Io(o),this}}class xt extends Wn{constructor(e,n,r){super(new Float32Array(e),n,r)}}let hK=0;const Ss=new Ht,kS=new Pn,Oh=new J,es=new ji,ng=new ji,fi=new J;class Yt extends rl{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:hK++}),this.uuid=os(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(NF(e)?CM:EM)(e,1):this.index=e,this}setIndirect(e){return this.indirect=e,this}getIndirect(){return this.indirect}getAttribute(e){return this.attributes[e]}setAttribute(e,n){return this.attributes[e]=n,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,n,r=0){this.groups.push({start:e,count:n,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(e,n){this.drawRange.start=e,this.drawRange.count=n}applyMatrix4(e){const n=this.attributes.position;n!==void 0&&(n.applyMatrix4(e),n.needsUpdate=!0);const r=this.attributes.normal;if(r!==void 0){const o=new en().getNormalMatrix(e);r.applyNormalMatrix(o),r.needsUpdate=!0}const i=this.attributes.tangent;return i!==void 0&&(i.transformDirection(e),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return Ss.makeRotationFromQuaternion(e),this.applyMatrix4(Ss),this}rotateX(e){return Ss.makeRotationX(e),this.applyMatrix4(Ss),this}rotateY(e){return Ss.makeRotationY(e),this.applyMatrix4(Ss),this}rotateZ(e){return Ss.makeRotationZ(e),this.applyMatrix4(Ss),this}translate(e,n,r){return Ss.makeTranslation(e,n,r),this.applyMatrix4(Ss),this}scale(e,n,r){return Ss.makeScale(e,n,r),this.applyMatrix4(Ss),this}lookAt(e){return kS.lookAt(e),kS.updateMatrix(),this.applyMatrix4(kS.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Oh).negate(),this.translate(Oh.x,Oh.y,Oh.z),this}setFromPoints(e){const n=this.getAttribute("position");if(n===void 0){const r=[];for(let i=0,o=e.length;i<o;i++){const s=e[i];r.push(s.x,s.y,s.z||0)}this.setAttribute("position",new xt(r,3))}else{const r=Math.min(e.length,n.count);for(let i=0;i<r;i++){const o=e[i];n.setXYZ(i,o.x,o.y,o.z||0)}e.length>n.count&&console.warn("THREE.BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry."),n.needsUpdate=!0}return this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new ji);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new J(-1/0,-1/0,-1/0),new J(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),n)for(let r=0,i=n.length;r<i;r++){const o=n[r];es.setFromBufferAttribute(o),this.morphTargetsRelative?(fi.addVectors(this.boundingBox.min,es.min),this.boundingBox.expandByPoint(fi),fi.addVectors(this.boundingBox.max,es.max),this.boundingBox.expandByPoint(fi)):(this.boundingBox.expandByPoint(es.min),this.boundingBox.expandByPoint(es.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Ai);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new J,1/0);return}if(e){const r=this.boundingSphere.center;if(es.setFromBufferAttribute(e),n)for(let o=0,s=n.length;o<s;o++){const a=n[o];ng.setFromBufferAttribute(a),this.morphTargetsRelative?(fi.addVectors(es.min,ng.min),es.expandByPoint(fi),fi.addVectors(es.max,ng.max),es.expandByPoint(fi)):(es.expandByPoint(ng.min),es.expandByPoint(ng.max))}es.getCenter(r);let i=0;for(let o=0,s=e.count;o<s;o++)fi.fromBufferAttribute(e,o),i=Math.max(i,r.distanceToSquared(fi));if(n)for(let o=0,s=n.length;o<s;o++){const a=n[o],c=this.morphTargetsRelative;for(let d=0,f=a.count;d<f;d++)fi.fromBufferAttribute(a,d),c&&(Oh.fromBufferAttribute(e,d),fi.add(Oh)),i=Math.max(i,r.distanceToSquared(fi))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,n=this.attributes;if(e===null||n.position===void 0||n.normal===void 0||n.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const r=n.position,i=n.normal,o=n.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new Wn(new Float32Array(4*r.count),4));const s=this.getAttribute("tangent"),a=[],c=[];for(let z=0;z<r.count;z++)a[z]=new J,c[z]=new J;const d=new J,f=new J,m=new J,g=new $e,y=new $e,x=new $e,S=new J,_=new J;function b(z,L,O){d.fromBufferAttribute(r,z),f.fromBufferAttribute(r,L),m.fromBufferAttribute(r,O),g.fromBufferAttribute(o,z),y.fromBufferAttribute(o,L),x.fromBufferAttribute(o,O),f.sub(d),m.sub(d),y.sub(g),x.sub(g);const B=1/(y.x*x.y-x.x*y.y);isFinite(B)&&(S.copy(f).multiplyScalar(x.y).addScaledVector(m,-y.y).multiplyScalar(B),_.copy(m).multiplyScalar(y.x).addScaledVector(f,-x.x).multiplyScalar(B),a[z].add(S),a[L].add(S),a[O].add(S),c[z].add(_),c[L].add(_),c[O].add(_))}let C=this.groups;C.length===0&&(C=[{start:0,count:e.count}]);for(let z=0,L=C.length;z<L;++z){const O=C[z],B=O.start,j=O.count;for(let X=B,ee=B+j;X<ee;X+=3)b(e.getX(X+0),e.getX(X+1),e.getX(X+2))}const T=new J,A=new J,P=new J,R=new J;function k(z){P.fromBufferAttribute(i,z),R.copy(P);const L=a[z];T.copy(L),T.sub(P.multiplyScalar(P.dot(L))).normalize(),A.crossVectors(R,L);const B=A.dot(c[z])<0?-1:1;s.setXYZW(z,T.x,T.y,T.z,B)}for(let z=0,L=C.length;z<L;++z){const O=C[z],B=O.start,j=O.count;for(let X=B,ee=B+j;X<ee;X+=3)k(e.getX(X+0)),k(e.getX(X+1)),k(e.getX(X+2))}}computeVertexNormals(){const e=this.index,n=this.getAttribute("position");if(n!==void 0){let r=this.getAttribute("normal");if(r===void 0)r=new Wn(new Float32Array(n.count*3),3),this.setAttribute("normal",r);else for(let g=0,y=r.count;g<y;g++)r.setXYZ(g,0,0,0);const i=new J,o=new J,s=new J,a=new J,c=new J,d=new J,f=new J,m=new J;if(e)for(let g=0,y=e.count;g<y;g+=3){const x=e.getX(g+0),S=e.getX(g+1),_=e.getX(g+2);i.fromBufferAttribute(n,x),o.fromBufferAttribute(n,S),s.fromBufferAttribute(n,_),f.subVectors(s,o),m.subVectors(i,o),f.cross(m),a.fromBufferAttribute(r,x),c.fromBufferAttribute(r,S),d.fromBufferAttribute(r,_),a.add(f),c.add(f),d.add(f),r.setXYZ(x,a.x,a.y,a.z),r.setXYZ(S,c.x,c.y,c.z),r.setXYZ(_,d.x,d.y,d.z)}else for(let g=0,y=n.count;g<y;g+=3)i.fromBufferAttribute(n,g+0),o.fromBufferAttribute(n,g+1),s.fromBufferAttribute(n,g+2),f.subVectors(s,o),m.subVectors(i,o),f.cross(m),r.setXYZ(g+0,f.x,f.y,f.z),r.setXYZ(g+1,f.x,f.y,f.z),r.setXYZ(g+2,f.x,f.y,f.z);this.normalizeNormals(),r.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let n=0,r=e.count;n<r;n++)fi.fromBufferAttribute(e,n),fi.normalize(),e.setXYZ(n,fi.x,fi.y,fi.z)}toNonIndexed(){function e(a,c){const d=a.array,f=a.itemSize,m=a.normalized,g=new d.constructor(c.length*f);let y=0,x=0;for(let S=0,_=c.length;S<_;S++){a.isInterleavedBufferAttribute?y=c[S]*a.data.stride+a.offset:y=c[S]*f;for(let b=0;b<f;b++)g[x++]=d[y++]}return new Wn(g,f,m)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const n=new Yt,r=this.index.array,i=this.attributes;for(const a in i){const c=i[a],d=e(c,r);n.setAttribute(a,d)}const o=this.morphAttributes;for(const a in o){const c=[],d=o[a];for(let f=0,m=d.length;f<m;f++){const g=d[f],y=e(g,r);c.push(y)}n.morphAttributes[a]=c}n.morphTargetsRelative=this.morphTargetsRelative;const s=this.groups;for(let a=0,c=s.length;a<c;a++){const d=s[a];n.addGroup(d.start,d.count,d.materialIndex)}return n}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const c=this.parameters;for(const d in c)c[d]!==void 0&&(e[d]=c[d]);return e}e.data={attributes:{}};const n=this.index;n!==null&&(e.data.index={type:n.array.constructor.name,array:Array.prototype.slice.call(n.array)});const r=this.attributes;for(const c in r){const d=r[c];e.data.attributes[c]=d.toJSON(e.data)}const i={};let o=!1;for(const c in this.morphAttributes){const d=this.morphAttributes[c],f=[];for(let m=0,g=d.length;m<g;m++){const y=d[m];f.push(y.toJSON(e.data))}f.length>0&&(i[c]=f,o=!0)}o&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const s=this.groups;s.length>0&&(e.data.groups=JSON.parse(JSON.stringify(s)));const a=this.boundingSphere;return a!==null&&(e.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const n={};this.name=e.name;const r=e.index;r!==null&&this.setIndex(r.clone());const i=e.attributes;for(const d in i){const f=i[d];this.setAttribute(d,f.clone(n))}const o=e.morphAttributes;for(const d in o){const f=[],m=o[d];for(let g=0,y=m.length;g<y;g++)f.push(m[g].clone(n));this.morphAttributes[d]=f}this.morphTargetsRelative=e.morphTargetsRelative;const s=e.groups;for(let d=0,f=s.length;d<f;d++){const m=s[d];this.addGroup(m.start,m.count,m.materialIndex)}const a=e.boundingBox;a!==null&&(this.boundingBox=a.clone());const c=e.boundingSphere;return c!==null&&(this.boundingSphere=c.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const yR=new Ht,_d=new uf,my=new Ai,xR=new J,gy=new J,vy=new J,yy=new J,OS=new J,xy=new J,bR=new J,by=new J;class ar extends Pn{constructor(e=new Yt,n=new Mu){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=n,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,s=i.length;o<s;o++){const a=i[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=o}}}}getVertexPosition(e,n){const r=this.geometry,i=r.attributes.position,o=r.morphAttributes.position,s=r.morphTargetsRelative;n.fromBufferAttribute(i,e);const a=this.morphTargetInfluences;if(o&&a){xy.set(0,0,0);for(let c=0,d=o.length;c<d;c++){const f=a[c],m=o[c];f!==0&&(OS.fromBufferAttribute(m,e),s?xy.addScaledVector(OS,f):xy.addScaledVector(OS.sub(n),f))}n.add(xy)}return n}raycast(e,n){const r=this.geometry,i=this.material,o=this.matrixWorld;i!==void 0&&(r.boundingSphere===null&&r.computeBoundingSphere(),my.copy(r.boundingSphere),my.applyMatrix4(o),_d.copy(e.ray).recast(e.near),!(my.containsPoint(_d.origin)===!1&&(_d.intersectSphere(my,xR)===null||_d.origin.distanceToSquared(xR)>(e.far-e.near)**2))&&(yR.copy(o).invert(),_d.copy(e.ray).applyMatrix4(yR),!(r.boundingBox!==null&&_d.intersectsBox(r.boundingBox)===!1)&&this._computeIntersections(e,n,_d)))}_computeIntersections(e,n,r){let i;const o=this.geometry,s=this.material,a=o.index,c=o.attributes.position,d=o.attributes.uv,f=o.attributes.uv1,m=o.attributes.normal,g=o.groups,y=o.drawRange;if(a!==null)if(Array.isArray(s))for(let x=0,S=g.length;x<S;x++){const _=g[x],b=s[_.materialIndex],C=Math.max(_.start,y.start),T=Math.min(a.count,Math.min(_.start+_.count,y.start+y.count));for(let A=C,P=T;A<P;A+=3){const R=a.getX(A),k=a.getX(A+1),z=a.getX(A+2);i=_y(this,b,e,r,d,f,m,R,k,z),i&&(i.faceIndex=Math.floor(A/3),i.face.materialIndex=_.materialIndex,n.push(i))}}else{const x=Math.max(0,y.start),S=Math.min(a.count,y.start+y.count);for(let _=x,b=S;_<b;_+=3){const C=a.getX(_),T=a.getX(_+1),A=a.getX(_+2);i=_y(this,s,e,r,d,f,m,C,T,A),i&&(i.faceIndex=Math.floor(_/3),n.push(i))}}else if(c!==void 0)if(Array.isArray(s))for(let x=0,S=g.length;x<S;x++){const _=g[x],b=s[_.materialIndex],C=Math.max(_.start,y.start),T=Math.min(c.count,Math.min(_.start+_.count,y.start+y.count));for(let A=C,P=T;A<P;A+=3){const R=A,k=A+1,z=A+2;i=_y(this,b,e,r,d,f,m,R,k,z),i&&(i.faceIndex=Math.floor(A/3),i.face.materialIndex=_.materialIndex,n.push(i))}}else{const x=Math.max(0,y.start),S=Math.min(c.count,y.start+y.count);for(let _=x,b=S;_<b;_+=3){const C=_,T=_+1,A=_+2;i=_y(this,s,e,r,d,f,m,C,T,A),i&&(i.faceIndex=Math.floor(_/3),n.push(i))}}}}function pK(t,e,n,r,i,o,s,a){let c;if(e.side===mo?c=r.intersectTriangle(s,o,i,!0,a):c=r.intersectTriangle(i,o,s,e.side===dc,a),c===null)return null;by.copy(a),by.applyMatrix4(t.matrixWorld);const d=n.ray.origin.distanceTo(by);return d<n.near||d>n.far?null:{distance:d,point:by.clone(),object:t}}function _y(t,e,n,r,i,o,s,a,c,d){t.getVertexPosition(a,gy),t.getVertexPosition(c,vy),t.getVertexPosition(d,yy);const f=pK(t,e,n,r,gy,vy,yy,bR);if(f){const m=new J;Lo.getBarycoord(bR,gy,vy,yy,m),i&&(f.uv=Lo.getInterpolatedAttribute(i,a,c,d,m,new $e)),o&&(f.uv1=Lo.getInterpolatedAttribute(o,a,c,d,m,new $e)),s&&(f.normal=Lo.getInterpolatedAttribute(s,a,c,d,m,new J),f.normal.dot(r.direction)>0&&f.normal.multiplyScalar(-1));const g={a,b:c,c:d,normal:new J,materialIndex:0};Lo.getNormal(gy,vy,yy,g.normal),f.face=g,f.barycoord=m}return f}class df extends Yt{constructor(e=1,n=1,r=1,i=1,o=1,s=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:n,depth:r,widthSegments:i,heightSegments:o,depthSegments:s};const a=this;i=Math.floor(i),o=Math.floor(o),s=Math.floor(s);const c=[],d=[],f=[],m=[];let g=0,y=0;x("z","y","x",-1,-1,r,n,e,s,o,0),x("z","y","x",1,-1,r,n,-e,s,o,1),x("x","z","y",1,1,e,r,n,i,s,2),x("x","z","y",1,-1,e,r,-n,i,s,3),x("x","y","z",1,-1,e,n,r,i,o,4),x("x","y","z",-1,-1,e,n,-r,i,o,5),this.setIndex(c),this.setAttribute("position",new xt(d,3)),this.setAttribute("normal",new xt(f,3)),this.setAttribute("uv",new xt(m,2));function x(S,_,b,C,T,A,P,R,k,z,L){const O=A/k,B=P/z,j=A/2,X=P/2,ee=R/2,K=k+1,ne=z+1;let se=0,V=0;const Q=new J;for(let Z=0;Z<ne;Z++){const W=Z*B-X;for(let le=0;le<K;le++){const Ie=le*O-j;Q[S]=Ie*C,Q[_]=W*T,Q[b]=ee,d.push(Q.x,Q.y,Q.z),Q[S]=0,Q[_]=0,Q[b]=R>0?1:-1,f.push(Q.x,Q.y,Q.z),m.push(le/k),m.push(1-Z/z),se+=1}}for(let Z=0;Z<z;Z++)for(let W=0;W<k;W++){const le=g+W+K*Z,Ie=g+W+K*(Z+1),fe=g+(W+1)+K*(Z+1),Me=g+(W+1)+K*Z;c.push(le,Ie,Me),c.push(Ie,fe,Me),V+=6}a.addGroup(y,V,L),y+=V,g+=se}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new df(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function Tp(t){const e={};for(const n in t){e[n]={};for(const r in t[n]){const i=t[n][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?i.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[n][r]=null):e[n][r]=i.clone():Array.isArray(i)?e[n][r]=i.slice():e[n][r]=i}}return e}function ao(t){const e={};for(let n=0;n<t.length;n++){const r=Tp(t[n]);for(const i in r)e[i]=r[i]}return e}function mK(t){const e=[];for(let n=0;n<t.length;n++)e.push(t[n].clone());return e}function UF(t){const e=t.getRenderTarget();return e===null?t.outputColorSpace:e.isXRRenderTarget===!0?e.texture.colorSpace:wn.workingColorSpace}const BF={clone:Tp,merge:ao};var gK=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,vK=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class Os extends ti{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=gK,this.fragmentShader=vK,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Tp(e.uniforms),this.uniformsGroups=mK(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const n=super.toJSON(e);n.glslVersion=this.glslVersion,n.uniforms={};for(const i in this.uniforms){const s=this.uniforms[i].value;s&&s.isTexture?n.uniforms[i]={type:"t",value:s.toJSON(e).uuid}:s&&s.isColor?n.uniforms[i]={type:"c",value:s.getHex()}:s&&s.isVector2?n.uniforms[i]={type:"v2",value:s.toArray()}:s&&s.isVector3?n.uniforms[i]={type:"v3",value:s.toArray()}:s&&s.isVector4?n.uniforms[i]={type:"v4",value:s.toArray()}:s&&s.isMatrix3?n.uniforms[i]={type:"m3",value:s.toArray()}:s&&s.isMatrix4?n.uniforms[i]={type:"m4",value:s.toArray()}:n.uniforms[i]={value:s}}Object.keys(this.defines).length>0&&(n.defines=this.defines),n.vertexShader=this.vertexShader,n.fragmentShader=this.fragmentShader,n.lights=this.lights,n.clipping=this.clipping;const r={};for(const i in this.extensions)this.extensions[i]===!0&&(r[i]=!0);return Object.keys(r).length>0&&(n.extensions=r),n}}class Dv extends Pn{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Ht,this.projectionMatrix=new Ht,this.projectionMatrixInverse=new Ht,this.coordinateSystem=Rs}copy(e,n){return super.copy(e,n),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,n){super.updateWorldMatrix(e,n),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const ru=new J,_R=new $e,SR=new $e;class yr extends Dv{constructor(e=50,n=1,r=.1,i=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=r,this.far=i,this.focus=10,this.aspect=n,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const n=.5*this.getFilmHeight()/e;this.fov=Mp*2*Math.atan(n),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(Yd*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return Mp*2*Math.atan(Math.tan(Yd*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,n,r){ru.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),n.set(ru.x,ru.y).multiplyScalar(-e/ru.z),ru.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),r.set(ru.x,ru.y).multiplyScalar(-e/ru.z)}getViewSize(e,n){return this.getViewBounds(e,_R,SR),n.subVectors(SR,_R)}setViewOffset(e,n,r,i,o,s){this.aspect=e/n,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=i,this.view.width=o,this.view.height=s,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let n=e*Math.tan(Yd*.5*this.fov)/this.zoom,r=2*n,i=this.aspect*r,o=-.5*i;const s=this.view;if(this.view!==null&&this.view.enabled){const c=s.fullWidth,d=s.fullHeight;o+=s.offsetX*i/c,n-=s.offsetY*r/d,i*=s.width/c,r*=s.height/d}const a=this.filmOffset;a!==0&&(o+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(o,o+i,n,n-r,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.fov=this.fov,n.object.zoom=this.zoom,n.object.near=this.near,n.object.far=this.far,n.object.focus=this.focus,n.object.aspect=this.aspect,this.view!==null&&(n.object.view=Object.assign({},this.view)),n.object.filmGauge=this.filmGauge,n.object.filmOffset=this.filmOffset,n}}const Lh=-90,Nh=1;class VF extends Pn{constructor(e,n,r){super(),this.type="CubeCamera",this.renderTarget=r,this.coordinateSystem=null,this.activeMipmapLevel=0;const i=new yr(Lh,Nh,e,n);i.layers=this.layers,this.add(i);const o=new yr(Lh,Nh,e,n);o.layers=this.layers,this.add(o);const s=new yr(Lh,Nh,e,n);s.layers=this.layers,this.add(s);const a=new yr(Lh,Nh,e,n);a.layers=this.layers,this.add(a);const c=new yr(Lh,Nh,e,n);c.layers=this.layers,this.add(c);const d=new yr(Lh,Nh,e,n);d.layers=this.layers,this.add(d)}updateCoordinateSystem(){const e=this.coordinateSystem,n=this.children.concat(),[r,i,o,s,a,c]=n;for(const d of n)this.remove(d);if(e===Rs)r.up.set(0,1,0),r.lookAt(1,0,0),i.up.set(0,1,0),i.lookAt(-1,0,0),o.up.set(0,0,-1),o.lookAt(0,1,0),s.up.set(0,0,1),s.lookAt(0,-1,0),a.up.set(0,1,0),a.lookAt(0,0,1),c.up.set(0,1,0),c.lookAt(0,0,-1);else if(e===uv)r.up.set(0,-1,0),r.lookAt(-1,0,0),i.up.set(0,-1,0),i.lookAt(1,0,0),o.up.set(0,0,1),o.lookAt(0,1,0),s.up.set(0,0,-1),s.lookAt(0,-1,0),a.up.set(0,-1,0),a.lookAt(0,0,1),c.up.set(0,-1,0),c.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const d of n)this.add(d),d.updateMatrixWorld()}update(e,n){this.parent===null&&this.updateMatrixWorld();const{renderTarget:r,activeMipmapLevel:i}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[o,s,a,c,d,f]=this.children,m=e.getRenderTarget(),g=e.getActiveCubeFace(),y=e.getActiveMipmapLevel(),x=e.xr.enabled;e.xr.enabled=!1;const S=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0,i),e.render(n,o),e.setRenderTarget(r,1,i),e.render(n,s),e.setRenderTarget(r,2,i),e.render(n,a),e.setRenderTarget(r,3,i),e.render(n,c),e.setRenderTarget(r,4,i),e.render(n,d),r.texture.generateMipmaps=S,e.setRenderTarget(r,5,i),e.render(n,f),e.setRenderTarget(m,g,y),e.xr.enabled=x,r.texture.needsPMREMUpdate=!0}}class Fv extends _r{constructor(e=[],n=fc,r,i,o,s,a,c,d,f){super(e,n,r,i,o,s,a,c,d,f),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class $F extends Za{constructor(e=1,n={}){super(e,e,n),this.isWebGLCubeRenderTarget=!0;const r={width:e,height:e,depth:1},i=[r,r,r,r,r,r];this.texture=new Fv(i,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=n.generateMipmaps!==void 0?n.generateMipmaps:!1,this.texture.minFilter=n.minFilter!==void 0?n.minFilter:ei}fromEquirectangularTexture(e,n){this.texture.type=n.type,this.texture.colorSpace=n.colorSpace,this.texture.generateMipmaps=n.generateMipmaps,this.texture.minFilter=n.minFilter,this.texture.magFilter=n.magFilter;const r={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},i=new df(5,5,5),o=new Os({name:"CubemapFromEquirect",uniforms:Tp(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,side:mo,blending:tc});o.uniforms.tEquirect.value=n;const s=new ar(i,o),a=n.minFilter;return n.minFilter===Wa&&(n.minFilter=ei),new VF(1,10,this).update(e,s),n.minFilter=a,s.geometry.dispose(),s.material.dispose(),this}clear(e,n=!0,r=!0,i=!0){const o=e.getRenderTarget();for(let s=0;s<6;s++)e.setRenderTarget(this,s),e.clear(n,r,i);e.setRenderTarget(o)}}class Hd extends Pn{constructor(){super(),this.isGroup=!0,this.type="Group"}}const yK={type:"move"};class Mx{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Hd,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Hd,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new J,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new J),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Hd,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new J,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new J),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const n=this._hand;if(n)for(const r of e.hand.values())this._getHandJoint(n,r)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,n,r){let i=null,o=null,s=null;const a=this._targetRay,c=this._grip,d=this._hand;if(e&&n.session.visibilityState!=="visible-blurred"){if(d&&e.hand){s=!0;for(const S of e.hand.values()){const _=n.getJointPose(S,r),b=this._getHandJoint(d,S);_!==null&&(b.matrix.fromArray(_.transform.matrix),b.matrix.decompose(b.position,b.rotation,b.scale),b.matrixWorldNeedsUpdate=!0,b.jointRadius=_.radius),b.visible=_!==null}const f=d.joints["index-finger-tip"],m=d.joints["thumb-tip"],g=f.position.distanceTo(m.position),y=.02,x=.005;d.inputState.pinching&&g>y+x?(d.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!d.inputState.pinching&&g<=y-x&&(d.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else c!==null&&e.gripSpace&&(o=n.getPose(e.gripSpace,r),o!==null&&(c.matrix.fromArray(o.transform.matrix),c.matrix.decompose(c.position,c.rotation,c.scale),c.matrixWorldNeedsUpdate=!0,o.linearVelocity?(c.hasLinearVelocity=!0,c.linearVelocity.copy(o.linearVelocity)):c.hasLinearVelocity=!1,o.angularVelocity?(c.hasAngularVelocity=!0,c.angularVelocity.copy(o.angularVelocity)):c.hasAngularVelocity=!1));a!==null&&(i=n.getPose(e.targetRaySpace,r),i===null&&o!==null&&(i=o),i!==null&&(a.matrix.fromArray(i.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),a.matrixWorldNeedsUpdate=!0,i.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(i.linearVelocity)):a.hasLinearVelocity=!1,i.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(i.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(yK)))}return a!==null&&(a.visible=i!==null),c!==null&&(c.visible=o!==null),d!==null&&(d.visible=s!==null),this}_getHandJoint(e,n){if(e.joints[n.jointName]===void 0){const r=new Hd;r.matrixAutoUpdate=!1,r.visible=!1,e.joints[n.jointName]=r,e.add(r)}return e.joints[n.jointName]}}class Ib{constructor(e,n=25e-5){this.isFogExp2=!0,this.name="",this.color=new ct(e),this.density=n}clone(){return new Ib(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class kb{constructor(e,n=1,r=1e3){this.isFog=!0,this.name="",this.color=new ct(e),this.near=n,this.far=r}clone(){return new kb(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class P1 extends Pn{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new ss,this.environmentIntensity=1,this.environmentRotation=new ss,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,n){return super.copy(e,n),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const n=super.toJSON(e);return this.fog!==null&&(n.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(n.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(n.object.backgroundIntensity=this.backgroundIntensity),n.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(n.object.environmentIntensity=this.environmentIntensity),n.object.environmentRotation=this.environmentRotation.toArray(),n}}class Ob{constructor(e,n){this.isInterleavedBuffer=!0,this.array=e,this.stride=n,this.count=e!==void 0?e.length/n:0,this.usage=cv,this.updateRanges=[],this.version=0,this.uuid=os()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,n,r){e*=this.stride,r*=n.stride;for(let i=0,o=this.stride;i<o;i++)this.array[e+i]=n.array[r+i];return this}set(e,n=0){return this.array.set(e,n),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=os()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const n=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),r=new this.constructor(n,this.stride);return r.setUsage(this.usage),r}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=os()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const oo=new J;class rf{constructor(e,n,r,i=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=n,this.offset=r,this.normalized=i}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let n=0,r=this.data.count;n<r;n++)oo.fromBufferAttribute(this,n),oo.applyMatrix4(e),this.setXYZ(n,oo.x,oo.y,oo.z);return this}applyNormalMatrix(e){for(let n=0,r=this.count;n<r;n++)oo.fromBufferAttribute(this,n),oo.applyNormalMatrix(e),this.setXYZ(n,oo.x,oo.y,oo.z);return this}transformDirection(e){for(let n=0,r=this.count;n<r;n++)oo.fromBufferAttribute(this,n),oo.transformDirection(e),this.setXYZ(n,oo.x,oo.y,oo.z);return this}getComponent(e,n){let r=this.array[e*this.data.stride+this.offset+n];return this.normalized&&(r=uo(r,this.array)),r}setComponent(e,n,r){return this.normalized&&(r=on(r,this.array)),this.data.array[e*this.data.stride+this.offset+n]=r,this}setX(e,n){return this.normalized&&(n=on(n,this.array)),this.data.array[e*this.data.stride+this.offset]=n,this}setY(e,n){return this.normalized&&(n=on(n,this.array)),this.data.array[e*this.data.stride+this.offset+1]=n,this}setZ(e,n){return this.normalized&&(n=on(n,this.array)),this.data.array[e*this.data.stride+this.offset+2]=n,this}setW(e,n){return this.normalized&&(n=on(n,this.array)),this.data.array[e*this.data.stride+this.offset+3]=n,this}getX(e){let n=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(n=uo(n,this.array)),n}getY(e){let n=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(n=uo(n,this.array)),n}getZ(e){let n=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(n=uo(n,this.array)),n}getW(e){let n=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(n=uo(n,this.array)),n}setXY(e,n,r){return e=e*this.data.stride+this.offset,this.normalized&&(n=on(n,this.array),r=on(r,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this}setXYZ(e,n,r,i){return e=e*this.data.stride+this.offset,this.normalized&&(n=on(n,this.array),r=on(r,this.array),i=on(i,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this.data.array[e+2]=i,this}setXYZW(e,n,r,i,o){return e=e*this.data.stride+this.offset,this.normalized&&(n=on(n,this.array),r=on(r,this.array),i=on(i,this.array),o=on(o,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this.data.array[e+2]=i,this.data.array[e+3]=o,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let o=0;o<this.itemSize;o++)n.push(this.data.array[i+o])}return new Wn(new this.array.constructor(n),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new rf(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let o=0;o<this.itemSize;o++)n.push(this.data.array[i+o])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:n,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class MM extends ti{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new ct(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let Dh;const rg=new J,Fh=new J,zh=new J,Uh=new $e,ig=new $e,HF=new Ht,Sy=new J,og=new J,wy=new J,wR=new $e,LS=new $e,ER=new $e;class WF extends Pn{constructor(e=new MM){if(super(),this.isSprite=!0,this.type="Sprite",Dh===void 0){Dh=new Yt;const n=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),r=new Ob(n,5);Dh.setIndex([0,1,2,0,2,3]),Dh.setAttribute("position",new rf(r,3,0,!1)),Dh.setAttribute("uv",new rf(r,2,3,!1))}this.geometry=Dh,this.material=e,this.center=new $e(.5,.5)}raycast(e,n){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Fh.setFromMatrixScale(this.matrixWorld),HF.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),zh.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&Fh.multiplyScalar(-zh.z);const r=this.material.rotation;let i,o;r!==0&&(o=Math.cos(r),i=Math.sin(r));const s=this.center;Ey(Sy.set(-.5,-.5,0),zh,s,Fh,i,o),Ey(og.set(.5,-.5,0),zh,s,Fh,i,o),Ey(wy.set(.5,.5,0),zh,s,Fh,i,o),wR.set(0,0),LS.set(1,0),ER.set(1,1);let a=e.ray.intersectTriangle(Sy,og,wy,!1,rg);if(a===null&&(Ey(og.set(-.5,.5,0),zh,s,Fh,i,o),LS.set(0,1),a=e.ray.intersectTriangle(Sy,wy,og,!1,rg),a===null))return;const c=e.ray.origin.distanceTo(rg);c<e.near||c>e.far||n.push({distance:c,point:rg.clone(),uv:Lo.getInterpolation(rg,Sy,og,wy,wR,LS,ER,new $e),face:null,object:this})}copy(e,n){return super.copy(e,n),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function Ey(t,e,n,r,i,o){Uh.subVectors(t,n).addScalar(.5).multiply(r),i!==void 0?(ig.x=o*Uh.x-i*Uh.y,ig.y=i*Uh.x+o*Uh.y):ig.copy(Uh),t.copy(e),t.x+=ig.x,t.y+=ig.y,t.applyMatrix4(HF)}const Cy=new J,CR=new J;class GF extends Pn{constructor(){super(),this.isLOD=!0,this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const n=e.levels;for(let r=0,i=n.length;r<i;r++){const o=n[r];this.addLevel(o.object.clone(),o.distance,o.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,n=0,r=0){n=Math.abs(n);const i=this.levels;let o;for(o=0;o<i.length&&!(n<i[o].distance);o++);return i.splice(o,0,{distance:n,hysteresis:r,object:e}),this.add(e),this}removeLevel(e){const n=this.levels;for(let r=0;r<n.length;r++)if(n[r].distance===e){const i=n.splice(r,1);return this.remove(i[0].object),!0}return!1}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const n=this.levels;if(n.length>0){let r,i;for(r=1,i=n.length;r<i;r++){let o=n[r].distance;if(n[r].object.visible&&(o-=o*n[r].hysteresis),e<o)break}return n[r-1].object}return null}raycast(e,n){if(this.levels.length>0){Cy.setFromMatrixPosition(this.matrixWorld);const i=e.ray.origin.distanceTo(Cy);this.getObjectForDistance(i).raycast(e,n)}}update(e){const n=this.levels;if(n.length>1){Cy.setFromMatrixPosition(e.matrixWorld),CR.setFromMatrixPosition(this.matrixWorld);const r=Cy.distanceTo(CR)/e.zoom;n[0].object.visible=!0;let i,o;for(i=1,o=n.length;i<o;i++){let s=n[i].distance;if(n[i].object.visible&&(s-=s*n[i].hysteresis),r>=s)n[i-1].object.visible=!1,n[i].object.visible=!0;else break}for(this._currentLevel=i-1;i<o;i++)n[i].object.visible=!1}}toJSON(e){const n=super.toJSON(e);this.autoUpdate===!1&&(n.object.autoUpdate=!1),n.object.levels=[];const r=this.levels;for(let i=0,o=r.length;i<o;i++){const s=r[i];n.object.levels.push({object:s.object.uuid,distance:s.distance,hysteresis:s.hysteresis})}return n}}const MR=new J,TR=new Mn,PR=new Mn,xK=new J,RR=new Ht,My=new J,NS=new Ai,AR=new Ht,DS=new uf;class jF extends ar{constructor(e,n){super(e,n),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=IE,this.bindMatrix=new Ht,this.bindMatrixInverse=new Ht,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new ji),this.boundingBox.makeEmpty();const n=e.getAttribute("position");for(let r=0;r<n.count;r++)this.getVertexPosition(r,My),this.boundingBox.expandByPoint(My)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new Ai),this.boundingSphere.makeEmpty();const n=e.getAttribute("position");for(let r=0;r<n.count;r++)this.getVertexPosition(r,My),this.boundingSphere.expandByPoint(My)}copy(e,n){return super.copy(e,n),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,n){const r=this.material,i=this.matrixWorld;r!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),NS.copy(this.boundingSphere),NS.applyMatrix4(i),e.ray.intersectsSphere(NS)!==!1&&(AR.copy(i).invert(),DS.copy(e.ray).applyMatrix4(AR),!(this.boundingBox!==null&&DS.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,n,DS)))}getVertexPosition(e,n){return super.getVertexPosition(e,n),this.applyBoneTransform(e,n),n}bind(e,n){this.skeleton=e,n===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),n=this.matrixWorld),this.bindMatrix.copy(n),this.bindMatrixInverse.copy(n).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new Mn,n=this.geometry.attributes.skinWeight;for(let r=0,i=n.count;r<i;r++){e.fromBufferAttribute(n,r);const o=1/e.manhattanLength();o!==1/0?e.multiplyScalar(o):e.set(1,0,0,0),n.setXYZW(r,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===IE?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===bF?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,n){const r=this.skeleton,i=this.geometry;TR.fromBufferAttribute(i.attributes.skinIndex,e),PR.fromBufferAttribute(i.attributes.skinWeight,e),MR.copy(n).applyMatrix4(this.bindMatrix),n.set(0,0,0);for(let o=0;o<4;o++){const s=PR.getComponent(o);if(s!==0){const a=TR.getComponent(o);RR.multiplyMatrices(r.bones[a].matrixWorld,r.boneInverses[a]),n.addScaledVector(xK.copy(MR).applyMatrix4(RR),s)}}return n.applyMatrix4(this.bindMatrixInverse)}}class TM extends Pn{constructor(){super(),this.isBone=!0,this.type="Bone"}}class qa extends _r{constructor(e=null,n=1,r=1,i,o,s,a,c,d=Pi,f=Pi,m,g){super(null,s,a,c,d,f,i,o,m,g),this.isDataTexture=!0,this.image={data:e,width:n,height:r},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const IR=new Ht,bK=new Ht;class Lb{constructor(e=[],n=[]){this.uuid=os(),this.bones=e.slice(0),this.boneInverses=n,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const e=this.bones,n=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),n.length===0)this.calculateInverses();else if(e.length!==n.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let r=0,i=this.bones.length;r<i;r++)this.boneInverses.push(new Ht)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,n=this.bones.length;e<n;e++){const r=new Ht;this.bones[e]&&r.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(r)}}pose(){for(let e=0,n=this.bones.length;e<n;e++){const r=this.bones[e];r&&r.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,n=this.bones.length;e<n;e++){const r=this.bones[e];r&&(r.parent&&r.parent.isBone?(r.matrix.copy(r.parent.matrixWorld).invert(),r.matrix.multiply(r.matrixWorld)):r.matrix.copy(r.matrixWorld),r.matrix.decompose(r.position,r.quaternion,r.scale))}}update(){const e=this.bones,n=this.boneInverses,r=this.boneMatrices,i=this.boneTexture;for(let o=0,s=e.length;o<s;o++){const a=e[o]?e[o].matrixWorld:bK;IR.multiplyMatrices(a,n[o]),IR.toArray(r,o*16)}i!==null&&(i.needsUpdate=!0)}clone(){return new Lb(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const n=new Float32Array(e*e*4);n.set(this.boneMatrices);const r=new qa(n,e,e,Wi,Fo);return r.needsUpdate=!0,this.boneMatrices=n,this.boneTexture=r,this}getBoneByName(e){for(let n=0,r=this.bones.length;n<r;n++){const i=this.bones[n];if(i.name===e)return i}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,n){this.uuid=e.uuid;for(let r=0,i=e.bones.length;r<i;r++){const o=e.bones[r];let s=n[o];s===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",o),s=new TM),this.bones.push(s),this.boneInverses.push(new Ht().fromArray(e.boneInverses[r]))}return this.init(),this}toJSON(){const e={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const n=this.bones,r=this.boneInverses;for(let i=0,o=n.length;i<o;i++){const s=n[i];e.bones.push(s.uuid);const a=r[i];e.boneInverses.push(a.toArray())}return e}}class Pp extends Wn{constructor(e,n,r,i=1){super(e,n,r),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const Bh=new Ht,kR=new Ht,Ty=[],OR=new ji,_K=new Ht,sg=new ar,ag=new Ai;class XF extends ar{constructor(e,n,r){super(e,n),this.isInstancedMesh=!0,this.instanceMatrix=new Pp(new Float32Array(r*16),16),this.instanceColor=null,this.morphTexture=null,this.count=r,this.boundingBox=null,this.boundingSphere=null;for(let i=0;i<r;i++)this.setMatrixAt(i,_K)}computeBoundingBox(){const e=this.geometry,n=this.count;this.boundingBox===null&&(this.boundingBox=new ji),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let r=0;r<n;r++)this.getMatrixAt(r,Bh),OR.copy(e.boundingBox).applyMatrix4(Bh),this.boundingBox.union(OR)}computeBoundingSphere(){const e=this.geometry,n=this.count;this.boundingSphere===null&&(this.boundingSphere=new Ai),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let r=0;r<n;r++)this.getMatrixAt(r,Bh),ag.copy(e.boundingSphere).applyMatrix4(Bh),this.boundingSphere.union(ag)}copy(e,n){return super.copy(e,n),this.instanceMatrix.copy(e.instanceMatrix),e.morphTexture!==null&&(this.morphTexture=e.morphTexture.clone()),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,n){n.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,n){n.fromArray(this.instanceMatrix.array,e*16)}getMorphAt(e,n){const r=n.morphTargetInfluences,i=this.morphTexture.source.data.data,o=r.length+1,s=e*o+1;for(let a=0;a<r.length;a++)r[a]=i[s+a]}raycast(e,n){const r=this.matrixWorld,i=this.count;if(sg.geometry=this.geometry,sg.material=this.material,sg.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),ag.copy(this.boundingSphere),ag.applyMatrix4(r),e.ray.intersectsSphere(ag)!==!1))for(let o=0;o<i;o++){this.getMatrixAt(o,Bh),kR.multiplyMatrices(r,Bh),sg.matrixWorld=kR,sg.raycast(e,Ty);for(let s=0,a=Ty.length;s<a;s++){const c=Ty[s];c.instanceId=o,c.object=this,n.push(c)}Ty.length=0}}setColorAt(e,n){this.instanceColor===null&&(this.instanceColor=new Pp(new Float32Array(this.instanceMatrix.count*3).fill(1),3)),n.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,n){n.toArray(this.instanceMatrix.array,e*16)}setMorphAt(e,n){const r=n.morphTargetInfluences,i=r.length+1;this.morphTexture===null&&(this.morphTexture=new qa(new Float32Array(i*this.count),i,this.count,Cb,Fo));const o=this.morphTexture.source.data.data;let s=0;for(let d=0;d<r.length;d++)s+=r[d];const a=this.geometry.morphTargetsRelative?1:1-s,c=i*e;o[c]=a,o.set(r,c+1)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"}),this.morphTexture!==null&&(this.morphTexture.dispose(),this.morphTexture=null)}}const FS=new J,SK=new J,wK=new en;class Xl{constructor(e=new J(1,0,0),n=0){this.isPlane=!0,this.normal=e,this.constant=n}set(e,n){return this.normal.copy(e),this.constant=n,this}setComponents(e,n,r,i){return this.normal.set(e,n,r),this.constant=i,this}setFromNormalAndCoplanarPoint(e,n){return this.normal.copy(e),this.constant=-n.dot(this.normal),this}setFromCoplanarPoints(e,n,r){const i=FS.subVectors(r,n).cross(SK.subVectors(e,n)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,n){return n.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,n){const r=e.delta(FS),i=this.normal.dot(r);if(i===0)return this.distanceToPoint(e.start)===0?n.copy(e.start):null;const o=-(e.start.dot(this.normal)+this.constant)/i;return o<0||o>1?null:n.copy(e.start).addScaledVector(r,o)}intersectsLine(e){const n=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return n<0&&r>0||r<0&&n>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,n){const r=n||wK.getNormalMatrix(e),i=this.coplanarPoint(FS).applyMatrix4(e),o=this.normal.applyMatrix3(r).normalize();return this.constant=-i.dot(o),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const Sd=new Ai,Py=new J;class Wp{constructor(e=new Xl,n=new Xl,r=new Xl,i=new Xl,o=new Xl,s=new Xl){this.planes=[e,n,r,i,o,s]}set(e,n,r,i,o,s){const a=this.planes;return a[0].copy(e),a[1].copy(n),a[2].copy(r),a[3].copy(i),a[4].copy(o),a[5].copy(s),this}copy(e){const n=this.planes;for(let r=0;r<6;r++)n[r].copy(e.planes[r]);return this}setFromProjectionMatrix(e,n=Rs){const r=this.planes,i=e.elements,o=i[0],s=i[1],a=i[2],c=i[3],d=i[4],f=i[5],m=i[6],g=i[7],y=i[8],x=i[9],S=i[10],_=i[11],b=i[12],C=i[13],T=i[14],A=i[15];if(r[0].setComponents(c-o,g-d,_-y,A-b).normalize(),r[1].setComponents(c+o,g+d,_+y,A+b).normalize(),r[2].setComponents(c+s,g+f,_+x,A+C).normalize(),r[3].setComponents(c-s,g-f,_-x,A-C).normalize(),r[4].setComponents(c-a,g-m,_-S,A-T).normalize(),n===Rs)r[5].setComponents(c+a,g+m,_+S,A+T).normalize();else if(n===uv)r[5].setComponents(a,m,S,T).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+n);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),Sd.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const n=e.geometry;n.boundingSphere===null&&n.computeBoundingSphere(),Sd.copy(n.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(Sd)}intersectsSprite(e){return Sd.center.set(0,0,0),Sd.radius=.7071067811865476,Sd.applyMatrix4(e.matrixWorld),this.intersectsSphere(Sd)}intersectsSphere(e){const n=this.planes,r=e.center,i=-e.radius;for(let o=0;o<6;o++)if(n[o].distanceToPoint(r)<i)return!1;return!0}intersectsBox(e){const n=this.planes;for(let r=0;r<6;r++){const i=n[r];if(Py.x=i.normal.x>0?e.max.x:e.min.x,Py.y=i.normal.y>0?e.max.y:e.min.y,Py.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(Py)<0)return!1}return!0}containsPoint(e){const n=this.planes;for(let r=0;r<6;r++)if(n[r].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}const Ua=new Ht,Ba=new Wp;class Nb{constructor(){this.coordinateSystem=Rs}intersectsObject(e,n){if(!n.isArrayCamera||n.cameras.length===0)return!1;for(let r=0;r<n.cameras.length;r++){const i=n.cameras[r];if(Ua.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),Ba.setFromProjectionMatrix(Ua,this.coordinateSystem),Ba.intersectsObject(e))return!0}return!1}intersectsSprite(e,n){if(!n||!n.cameras||n.cameras.length===0)return!1;for(let r=0;r<n.cameras.length;r++){const i=n.cameras[r];if(Ua.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),Ba.setFromProjectionMatrix(Ua,this.coordinateSystem),Ba.intersectsSprite(e))return!0}return!1}intersectsSphere(e,n){if(!n||!n.cameras||n.cameras.length===0)return!1;for(let r=0;r<n.cameras.length;r++){const i=n.cameras[r];if(Ua.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),Ba.setFromProjectionMatrix(Ua,this.coordinateSystem),Ba.intersectsSphere(e))return!0}return!1}intersectsBox(e,n){if(!n||!n.cameras||n.cameras.length===0)return!1;for(let r=0;r<n.cameras.length;r++){const i=n.cameras[r];if(Ua.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),Ba.setFromProjectionMatrix(Ua,this.coordinateSystem),Ba.intersectsBox(e))return!0}return!1}containsPoint(e,n){if(!n||!n.cameras||n.cameras.length===0)return!1;for(let r=0;r<n.cameras.length;r++){const i=n.cameras[r];if(Ua.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),Ba.setFromProjectionMatrix(Ua,this.coordinateSystem),Ba.containsPoint(e))return!0}return!1}clone(){return new Nb}}function zS(t,e){return t-e}function EK(t,e){return t.z-e.z}function CK(t,e){return e.z-t.z}class MK{constructor(){this.index=0,this.pool=[],this.list=[]}push(e,n,r,i){const o=this.pool,s=this.list;this.index>=o.length&&o.push({start:-1,count:-1,z:-1,index:-1});const a=o[this.index];s.push(a),this.index++,a.start=e,a.count=n,a.z=r,a.index=i}reset(){this.list.length=0,this.index=0}}const Ao=new Ht,TK=new ct(1,1,1),LR=new Wp,PK=new Nb,Ry=new ji,wd=new Ai,lg=new J,NR=new J,RK=new J,US=new MK,Vi=new ar,Ay=[];function AK(t,e,n=0){const r=e.itemSize;if(t.isInterleavedBufferAttribute||t.array.constructor!==e.array.constructor){const i=t.count;for(let o=0;o<i;o++)for(let s=0;s<r;s++)e.setComponent(o+n,s,t.getComponent(o,s))}else e.array.set(t.array,n*r);e.needsUpdate=!0}function Ed(t,e){if(t.constructor!==e.constructor){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++)e[r]=t[r]}else{const n=Math.min(t.length,e.length);e.set(new t.constructor(t.buffer,0,n))}}class qF extends ar{constructor(e,n,r=n*2,i){super(new Yt,i),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._instanceInfo=[],this._geometryInfo=[],this._availableInstanceIds=[],this._availableGeometryIds=[],this._nextIndexStart=0,this._nextVertexStart=0,this._geometryCount=0,this._visibilityChanged=!0,this._geometryInitialized=!1,this._maxInstanceCount=e,this._maxVertexCount=n,this._maxIndexCount=r,this._multiDrawCounts=new Int32Array(e),this._multiDrawStarts=new Int32Array(e),this._multiDrawCount=0,this._multiDrawInstances=null,this._matricesTexture=null,this._indirectTexture=null,this._colorsTexture=null,this._initMatricesTexture(),this._initIndirectTexture()}get maxInstanceCount(){return this._maxInstanceCount}get instanceCount(){return this._instanceInfo.length-this._availableInstanceIds.length}get unusedVertexCount(){return this._maxVertexCount-this._nextVertexStart}get unusedIndexCount(){return this._maxIndexCount-this._nextIndexStart}_initMatricesTexture(){let e=Math.sqrt(this._maxInstanceCount*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const n=new Float32Array(e*e*4),r=new qa(n,e,e,Wi,Fo);this._matricesTexture=r}_initIndirectTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const n=new Uint32Array(e*e),r=new qa(n,e,e,Lv,hc);this._indirectTexture=r}_initColorsTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const n=new Float32Array(e*e*4).fill(1),r=new qa(n,e,e,Wi,Fo);r.colorSpace=wn.workingColorSpace,this._colorsTexture=r}_initializeGeometry(e){const n=this.geometry,r=this._maxVertexCount,i=this._maxIndexCount;if(this._geometryInitialized===!1){for(const o in e.attributes){const s=e.getAttribute(o),{array:a,itemSize:c,normalized:d}=s,f=new a.constructor(r*c),m=new Wn(f,c,d);n.setAttribute(o,m)}if(e.getIndex()!==null){const o=r>65535?new Uint32Array(i):new Uint16Array(i);n.setIndex(new Wn(o,1))}this._geometryInitialized=!0}}_validateGeometry(e){const n=this.geometry;if(!!e.getIndex()!=!!n.getIndex())throw new Error('THREE.BatchedMesh: All geometries must consistently have "index".');for(const r in n.attributes){if(!e.hasAttribute(r))throw new Error(`THREE.BatchedMesh: Added geometry missing "${r}". All geometries must have consistent attributes.`);const i=e.getAttribute(r),o=n.getAttribute(r);if(i.itemSize!==o.itemSize||i.normalized!==o.normalized)throw new Error("THREE.BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}validateInstanceId(e){const n=this._instanceInfo;if(e<0||e>=n.length||n[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid instanceId ${e}. Instance is either out of range or has been deleted.`)}validateGeometryId(e){const n=this._geometryInfo;if(e<0||e>=n.length||n[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid geometryId ${e}. Geometry is either out of range or has been deleted.`)}setCustomSort(e){return this.customSort=e,this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new ji);const e=this.boundingBox,n=this._instanceInfo;e.makeEmpty();for(let r=0,i=n.length;r<i;r++){if(n[r].active===!1)continue;const o=n[r].geometryIndex;this.getMatrixAt(r,Ao),this.getBoundingBoxAt(o,Ry).applyMatrix4(Ao),e.union(Ry)}}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Ai);const e=this.boundingSphere,n=this._instanceInfo;e.makeEmpty();for(let r=0,i=n.length;r<i;r++){if(n[r].active===!1)continue;const o=n[r].geometryIndex;this.getMatrixAt(r,Ao),this.getBoundingSphereAt(o,wd).applyMatrix4(Ao),e.union(wd)}}addInstance(e){if(this._instanceInfo.length>=this.maxInstanceCount&&this._availableInstanceIds.length===0)throw new Error("THREE.BatchedMesh: Maximum item count reached.");const r={visible:!0,active:!0,geometryIndex:e};let i=null;this._availableInstanceIds.length>0?(this._availableInstanceIds.sort(zS),i=this._availableInstanceIds.shift(),this._instanceInfo[i]=r):(i=this._instanceInfo.length,this._instanceInfo.push(r));const o=this._matricesTexture;Ao.identity().toArray(o.image.data,i*16),o.needsUpdate=!0;const s=this._colorsTexture;return s&&(TK.toArray(s.image.data,i*4),s.needsUpdate=!0),this._visibilityChanged=!0,i}addGeometry(e,n=-1,r=-1){this._initializeGeometry(e),this._validateGeometry(e);const i={vertexStart:-1,vertexCount:-1,reservedVertexCount:-1,indexStart:-1,indexCount:-1,reservedIndexCount:-1,start:-1,count:-1,boundingBox:null,boundingSphere:null,active:!0},o=this._geometryInfo;i.vertexStart=this._nextVertexStart,i.reservedVertexCount=n===-1?e.getAttribute("position").count:n;const s=e.getIndex();if(s!==null&&(i.indexStart=this._nextIndexStart,i.reservedIndexCount=r===-1?s.count:r),i.indexStart!==-1&&i.indexStart+i.reservedIndexCount>this._maxIndexCount||i.vertexStart+i.reservedVertexCount>this._maxVertexCount)throw new Error("THREE.BatchedMesh: Reserved space request exceeds the maximum buffer size.");let c;return this._availableGeometryIds.length>0?(this._availableGeometryIds.sort(zS),c=this._availableGeometryIds.shift(),o[c]=i):(c=this._geometryCount,this._geometryCount++,o.push(i)),this.setGeometryAt(c,e),this._nextIndexStart=i.indexStart+i.reservedIndexCount,this._nextVertexStart=i.vertexStart+i.reservedVertexCount,c}setGeometryAt(e,n){if(e>=this._geometryCount)throw new Error("THREE.BatchedMesh: Maximum geometry count reached.");this._validateGeometry(n);const r=this.geometry,i=r.getIndex()!==null,o=r.getIndex(),s=n.getIndex(),a=this._geometryInfo[e];if(i&&s.count>a.reservedIndexCount||n.attributes.position.count>a.reservedVertexCount)throw new Error("THREE.BatchedMesh: Reserved space not large enough for provided geometry.");const c=a.vertexStart,d=a.reservedVertexCount;a.vertexCount=n.getAttribute("position").count;for(const f in r.attributes){const m=n.getAttribute(f),g=r.getAttribute(f);AK(m,g,c);const y=m.itemSize;for(let x=m.count,S=d;x<S;x++){const _=c+x;for(let b=0;b<y;b++)g.setComponent(_,b,0)}g.needsUpdate=!0,g.addUpdateRange(c*y,d*y)}if(i){const f=a.indexStart,m=a.reservedIndexCount;a.indexCount=n.getIndex().count;for(let g=0;g<s.count;g++)o.setX(f+g,c+s.getX(g));for(let g=s.count,y=m;g<y;g++)o.setX(f+g,c);o.needsUpdate=!0,o.addUpdateRange(f,a.reservedIndexCount)}return a.start=i?a.indexStart:a.vertexStart,a.count=i?a.indexCount:a.vertexCount,a.boundingBox=null,n.boundingBox!==null&&(a.boundingBox=n.boundingBox.clone()),a.boundingSphere=null,n.boundingSphere!==null&&(a.boundingSphere=n.boundingSphere.clone()),this._visibilityChanged=!0,e}deleteGeometry(e){const n=this._geometryInfo;if(e>=n.length||n[e].active===!1)return this;const r=this._instanceInfo;for(let i=0,o=r.length;i<o;i++)r[i].active&&r[i].geometryIndex===e&&this.deleteInstance(i);return n[e].active=!1,this._availableGeometryIds.push(e),this._visibilityChanged=!0,this}deleteInstance(e){return this.validateInstanceId(e),this._instanceInfo[e].active=!1,this._availableInstanceIds.push(e),this._visibilityChanged=!0,this}optimize(){let e=0,n=0;const r=this._geometryInfo,i=r.map((s,a)=>a).sort((s,a)=>r[s].vertexStart-r[a].vertexStart),o=this.geometry;for(let s=0,a=r.length;s<a;s++){const c=i[s],d=r[c];if(d.active!==!1){if(o.index!==null){if(d.indexStart!==n){const{indexStart:f,vertexStart:m,reservedIndexCount:g}=d,y=o.index,x=y.array,S=e-m;for(let _=f;_<f+g;_++)x[_]=x[_]+S;y.array.copyWithin(n,f,f+g),y.addUpdateRange(n,g),d.indexStart=n}n+=d.reservedIndexCount}if(d.vertexStart!==e){const{vertexStart:f,reservedVertexCount:m}=d,g=o.attributes;for(const y in g){const x=g[y],{array:S,itemSize:_}=x;S.copyWithin(e*_,f*_,(f+m)*_),x.addUpdateRange(e*_,m*_)}d.vertexStart=e}e+=d.reservedVertexCount,d.start=o.index?d.indexStart:d.vertexStart,this._nextIndexStart=o.index?d.indexStart+d.reservedIndexCount:0,this._nextVertexStart=d.vertexStart+d.reservedVertexCount}}return this}getBoundingBoxAt(e,n){if(e>=this._geometryCount)return null;const r=this.geometry,i=this._geometryInfo[e];if(i.boundingBox===null){const o=new ji,s=r.index,a=r.attributes.position;for(let c=i.start,d=i.start+i.count;c<d;c++){let f=c;s&&(f=s.getX(f)),o.expandByPoint(lg.fromBufferAttribute(a,f))}i.boundingBox=o}return n.copy(i.boundingBox),n}getBoundingSphereAt(e,n){if(e>=this._geometryCount)return null;const r=this.geometry,i=this._geometryInfo[e];if(i.boundingSphere===null){const o=new Ai;this.getBoundingBoxAt(e,Ry),Ry.getCenter(o.center);const s=r.index,a=r.attributes.position;let c=0;for(let d=i.start,f=i.start+i.count;d<f;d++){let m=d;s&&(m=s.getX(m)),lg.fromBufferAttribute(a,m),c=Math.max(c,o.center.distanceToSquared(lg))}o.radius=Math.sqrt(c),i.boundingSphere=o}return n.copy(i.boundingSphere),n}setMatrixAt(e,n){this.validateInstanceId(e);const r=this._matricesTexture,i=this._matricesTexture.image.data;return n.toArray(i,e*16),r.needsUpdate=!0,this}getMatrixAt(e,n){return this.validateInstanceId(e),n.fromArray(this._matricesTexture.image.data,e*16)}setColorAt(e,n){return this.validateInstanceId(e),this._colorsTexture===null&&this._initColorsTexture(),n.toArray(this._colorsTexture.image.data,e*4),this._colorsTexture.needsUpdate=!0,this}getColorAt(e,n){return this.validateInstanceId(e),n.fromArray(this._colorsTexture.image.data,e*4)}setVisibleAt(e,n){return this.validateInstanceId(e),this._instanceInfo[e].visible===n?this:(this._instanceInfo[e].visible=n,this._visibilityChanged=!0,this)}getVisibleAt(e){return this.validateInstanceId(e),this._instanceInfo[e].visible}setGeometryIdAt(e,n){return this.validateInstanceId(e),this.validateGeometryId(n),this._instanceInfo[e].geometryIndex=n,this}getGeometryIdAt(e){return this.validateInstanceId(e),this._instanceInfo[e].geometryIndex}getGeometryRangeAt(e,n={}){this.validateGeometryId(e);const r=this._geometryInfo[e];return n.vertexStart=r.vertexStart,n.vertexCount=r.vertexCount,n.reservedVertexCount=r.reservedVertexCount,n.indexStart=r.indexStart,n.indexCount=r.indexCount,n.reservedIndexCount=r.reservedIndexCount,n.start=r.start,n.count=r.count,n}setInstanceCount(e){const n=this._availableInstanceIds,r=this._instanceInfo;for(n.sort(zS);n[n.length-1]===r.length;)r.pop(),n.pop();if(e<r.length)throw new Error(`BatchedMesh: Instance ids outside the range ${e} are being used. Cannot shrink instance count.`);const i=new Int32Array(e),o=new Int32Array(e);Ed(this._multiDrawCounts,i),Ed(this._multiDrawStarts,o),this._multiDrawCounts=i,this._multiDrawStarts=o,this._maxInstanceCount=e;const s=this._indirectTexture,a=this._matricesTexture,c=this._colorsTexture;s.dispose(),this._initIndirectTexture(),Ed(s.image.data,this._indirectTexture.image.data),a.dispose(),this._initMatricesTexture(),Ed(a.image.data,this._matricesTexture.image.data),c&&(c.dispose(),this._initColorsTexture(),Ed(c.image.data,this._colorsTexture.image.data))}setGeometrySize(e,n){const r=[...this._geometryInfo].filter(a=>a.active);if(Math.max(...r.map(a=>a.vertexStart+a.reservedVertexCount))>e)throw new Error(`BatchedMesh: Geometry vertex values are being used outside the range ${n}. Cannot shrink further.`);if(this.geometry.index&&Math.max(...r.map(c=>c.indexStart+c.reservedIndexCount))>n)throw new Error(`BatchedMesh: Geometry index values are being used outside the range ${n}. Cannot shrink further.`);const o=this.geometry;o.dispose(),this._maxVertexCount=e,this._maxIndexCount=n,this._geometryInitialized&&(this._geometryInitialized=!1,this.geometry=new Yt,this._initializeGeometry(o));const s=this.geometry;o.index&&Ed(o.index.array,s.index.array);for(const a in o.attributes)Ed(o.attributes[a].array,s.attributes[a].array)}raycast(e,n){const r=this._instanceInfo,i=this._geometryInfo,o=this.matrixWorld,s=this.geometry;Vi.material=this.material,Vi.geometry.index=s.index,Vi.geometry.attributes=s.attributes,Vi.geometry.boundingBox===null&&(Vi.geometry.boundingBox=new ji),Vi.geometry.boundingSphere===null&&(Vi.geometry.boundingSphere=new Ai);for(let a=0,c=r.length;a<c;a++){if(!r[a].visible||!r[a].active)continue;const d=r[a].geometryIndex,f=i[d];Vi.geometry.setDrawRange(f.start,f.count),this.getMatrixAt(a,Vi.matrixWorld).premultiply(o),this.getBoundingBoxAt(d,Vi.geometry.boundingBox),this.getBoundingSphereAt(d,Vi.geometry.boundingSphere),Vi.raycast(e,Ay);for(let m=0,g=Ay.length;m<g;m++){const y=Ay[m];y.object=this,y.batchId=a,n.push(y)}Ay.length=0}Vi.material=null,Vi.geometry.index=null,Vi.geometry.attributes={},Vi.geometry.setDrawRange(0,1/0)}copy(e){return super.copy(e),this.geometry=e.geometry.clone(),this.perObjectFrustumCulled=e.perObjectFrustumCulled,this.sortObjects=e.sortObjects,this.boundingBox=e.boundingBox!==null?e.boundingBox.clone():null,this.boundingSphere=e.boundingSphere!==null?e.boundingSphere.clone():null,this._geometryInfo=e._geometryInfo.map(n=>({...n,boundingBox:n.boundingBox!==null?n.boundingBox.clone():null,boundingSphere:n.boundingSphere!==null?n.boundingSphere.clone():null})),this._instanceInfo=e._instanceInfo.map(n=>({...n})),this._availableInstanceIds=e._availableInstanceIds.slice(),this._availableGeometryIds=e._availableGeometryIds.slice(),this._nextIndexStart=e._nextIndexStart,this._nextVertexStart=e._nextVertexStart,this._geometryCount=e._geometryCount,this._maxInstanceCount=e._maxInstanceCount,this._maxVertexCount=e._maxVertexCount,this._maxIndexCount=e._maxIndexCount,this._geometryInitialized=e._geometryInitialized,this._multiDrawCounts=e._multiDrawCounts.slice(),this._multiDrawStarts=e._multiDrawStarts.slice(),this._indirectTexture=e._indirectTexture.clone(),this._indirectTexture.image.data=this._indirectTexture.image.data.slice(),this._matricesTexture=e._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.data.slice(),this._colorsTexture!==null&&(this._colorsTexture=e._colorsTexture.clone(),this._colorsTexture.image.data=this._colorsTexture.image.data.slice()),this}dispose(){this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this._indirectTexture.dispose(),this._indirectTexture=null,this._colorsTexture!==null&&(this._colorsTexture.dispose(),this._colorsTexture=null)}onBeforeRender(e,n,r,i,o){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const s=i.getIndex(),a=s===null?1:s.array.BYTES_PER_ELEMENT,c=this._instanceInfo,d=this._multiDrawStarts,f=this._multiDrawCounts,m=this._geometryInfo,g=this.perObjectFrustumCulled,y=this._indirectTexture,x=y.image.data,S=r.isArrayCamera?PK:LR;g&&!r.isArrayCamera&&(Ao.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse).multiply(this.matrixWorld),LR.setFromProjectionMatrix(Ao,e.coordinateSystem));let _=0;if(this.sortObjects){Ao.copy(this.matrixWorld).invert(),lg.setFromMatrixPosition(r.matrixWorld).applyMatrix4(Ao),NR.set(0,0,-1).transformDirection(r.matrixWorld).transformDirection(Ao);for(let T=0,A=c.length;T<A;T++)if(c[T].visible&&c[T].active){const P=c[T].geometryIndex;this.getMatrixAt(T,Ao),this.getBoundingSphereAt(P,wd).applyMatrix4(Ao);let R=!1;if(g&&(R=!S.intersectsSphere(wd,r)),!R){const k=m[P],z=RK.subVectors(wd.center,lg).dot(NR);US.push(k.start,k.count,z,T)}}const b=US.list,C=this.customSort;C===null?b.sort(o.transparent?CK:EK):C.call(this,b,r);for(let T=0,A=b.length;T<A;T++){const P=b[T];d[_]=P.start*a,f[_]=P.count,x[_]=P.index,_++}US.reset()}else for(let b=0,C=c.length;b<C;b++)if(c[b].visible&&c[b].active){const T=c[b].geometryIndex;let A=!1;if(g&&(this.getMatrixAt(b,Ao),this.getBoundingSphereAt(T,wd).applyMatrix4(Ao),A=!S.intersectsSphere(wd,r)),!A){const P=m[T];d[_]=P.start*a,f[_]=P.count,x[_]=b,_++}}y.needsUpdate=!0,this._multiDrawCount=_,this._visibilityChanged=!1}onBeforeShadow(e,n,r,i,o,s){this.onBeforeRender(e,null,i,o,s)}}class pi extends ti{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new ct(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const R1=new J,A1=new J,DR=new Ht,cg=new uf,Iy=new Ai,BS=new J,FR=new J;class bu extends Pn{constructor(e=new Yt,n=new pi){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=n,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,r=[0];for(let i=1,o=n.count;i<o;i++)R1.fromBufferAttribute(n,i-1),A1.fromBufferAttribute(n,i),r[i]=r[i-1],r[i]+=R1.distanceTo(A1);e.setAttribute("lineDistance",new xt(r,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,n){const r=this.geometry,i=this.matrixWorld,o=e.params.Line.threshold,s=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),Iy.copy(r.boundingSphere),Iy.applyMatrix4(i),Iy.radius+=o,e.ray.intersectsSphere(Iy)===!1)return;DR.copy(i).invert(),cg.copy(e.ray).applyMatrix4(DR);const a=o/((this.scale.x+this.scale.y+this.scale.z)/3),c=a*a,d=this.isLineSegments?2:1,f=r.index,g=r.attributes.position;if(f!==null){const y=Math.max(0,s.start),x=Math.min(f.count,s.start+s.count);for(let S=y,_=x-1;S<_;S+=d){const b=f.getX(S),C=f.getX(S+1),T=ky(this,e,cg,c,b,C,S);T&&n.push(T)}if(this.isLineLoop){const S=f.getX(x-1),_=f.getX(y),b=ky(this,e,cg,c,S,_,x-1);b&&n.push(b)}}else{const y=Math.max(0,s.start),x=Math.min(g.count,s.start+s.count);for(let S=y,_=x-1;S<_;S+=d){const b=ky(this,e,cg,c,S,S+1,S);b&&n.push(b)}if(this.isLineLoop){const S=ky(this,e,cg,c,x-1,y,x-1);S&&n.push(S)}}}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,s=i.length;o<s;o++){const a=i[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=o}}}}}function ky(t,e,n,r,i,o,s){const a=t.geometry.attributes.position;if(R1.fromBufferAttribute(a,i),A1.fromBufferAttribute(a,o),n.distanceSqToSegment(R1,A1,BS,FR)>r)return;BS.applyMatrix4(t.matrixWorld);const d=e.ray.origin.distanceTo(BS);if(!(d<e.near||d>e.far))return{distance:d,point:FR.clone().applyMatrix4(t.matrixWorld),index:s,face:null,faceIndex:null,barycoord:null,object:t}}const zR=new J,UR=new J;class Ls extends bu{constructor(e,n){super(e,n),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,r=[];for(let i=0,o=n.count;i<o;i+=2)zR.fromBufferAttribute(n,i),UR.fromBufferAttribute(n,i+1),r[i]=i===0?0:r[i-1],r[i+1]=r[i]+zR.distanceTo(UR);e.setAttribute("lineDistance",new xt(r,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class YF extends bu{constructor(e,n){super(e,n),this.isLineLoop=!0,this.type="LineLoop"}}class Wd extends ti{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new ct(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const BR=new Ht,LE=new uf,Oy=new Ai,Ly=new J;class $g extends Pn{constructor(e=new Yt,n=new Wd){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=n,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,n){const r=this.geometry,i=this.matrixWorld,o=e.params.Points.threshold,s=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),Oy.copy(r.boundingSphere),Oy.applyMatrix4(i),Oy.radius+=o,e.ray.intersectsSphere(Oy)===!1)return;BR.copy(i).invert(),LE.copy(e.ray).applyMatrix4(BR);const a=o/((this.scale.x+this.scale.y+this.scale.z)/3),c=a*a,d=r.index,m=r.attributes.position;if(d!==null){const g=Math.max(0,s.start),y=Math.min(d.count,s.start+s.count);for(let x=g,S=y;x<S;x++){const _=d.getX(x);Ly.fromBufferAttribute(m,_),VR(Ly,_,c,i,e,n,this)}}else{const g=Math.max(0,s.start),y=Math.min(m.count,s.start+s.count);for(let x=g,S=y;x<S;x++)Ly.fromBufferAttribute(m,x),VR(Ly,x,c,i,e,n,this)}}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,s=i.length;o<s;o++){const a=i[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=o}}}}}function VR(t,e,n,r,i,o,s){const a=LE.distanceSqToPoint(t);if(a<n){const c=new J;LE.closestPointToPoint(t,c),c.applyMatrix4(r);const d=i.ray.origin.distanceTo(c);if(d<i.near||d>i.far)return;o.push({distance:d,distanceToRay:Math.sqrt(a),point:c,index:e,face:null,faceIndex:null,barycoord:null,object:s})}}class KF extends _r{constructor(e,n,r,i,o=ei,s=ei,a,c,d){super(e,n,r,i,o,s,a,c,d),this.isVideoTexture=!0,this.generateMipmaps=!1;const f=this;function m(){f.needsUpdate=!0,e.requestVideoFrameCallback(m)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(m)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class IK extends KF{constructor(e,n,r,i,o,s,a,c){super({},e,n,r,i,o,s,a,c),this.isVideoFrameTexture=!0}update(){}clone(){return new this.constructor().copy(this)}setFrame(e){this.image=e,this.needsUpdate=!0}}class kK extends _r{constructor(e,n){super({width:e,height:n}),this.isFramebufferTexture=!0,this.magFilter=Pi,this.minFilter=Pi,this.generateMipmaps=!1,this.needsUpdate=!0}}class Db extends _r{constructor(e,n,r,i,o,s,a,c,d,f,m,g){super(null,s,a,c,d,f,i,o,m,g),this.isCompressedTexture=!0,this.image={width:n,height:r},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class OK extends Db{constructor(e,n,r,i,o,s){super(e,n,r,o,s),this.isCompressedArrayTexture=!0,this.image.depth=i,this.wrapR=Ps,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class LK extends Db{constructor(e,n,r){super(void 0,e[0].width,e[0].height,n,r,fc),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}}class NK extends _r{constructor(e,n,r,i,o,s,a,c,d){super(e,n,r,i,o,s,a,c,d),this.isCanvasTexture=!0,this.needsUpdate=!0}}class Fb extends _r{constructor(e,n,r=hc,i,o,s,a=Pi,c=Pi,d,f=Ep){if(f!==Ep&&f!==Cp)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");super(null,i,o,s,a,c,f,r,d),this.isDepthTexture=!0,this.image={width:e,height:n},this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.source=new cu(Object.assign({},e.image)),this.compareFunction=e.compareFunction,this}toJSON(e){const n=super.toJSON(e);return this.compareFunction!==null&&(n.compareFunction=this.compareFunction),n}}class DK extends Fb{constructor(e=1,n=1,r=1){super(e,n),this.isDepthArrayTexture=!0,this.image={width:e,height:n,depth:r},this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class zb extends Yt{constructor(e=1,n=1,r=4,i=8,o=1){super(),this.type="CapsuleGeometry",this.parameters={radius:e,height:n,capSegments:r,radialSegments:i,heightSegments:o},n=Math.max(0,n),r=Math.max(1,Math.floor(r)),i=Math.max(3,Math.floor(i)),o=Math.max(1,Math.floor(o));const s=[],a=[],c=[],d=[],f=n/2,m=Math.PI/2*e,g=n,y=2*m+g,x=r*2+o,S=i+1,_=new J,b=new J;for(let C=0;C<=x;C++){let T=0,A=0,P=0,R=0;if(C<=r){const L=C/r,O=L*Math.PI/2;A=-f-e*Math.cos(O),P=e*Math.sin(O),R=-e*Math.cos(O),T=L*m}else if(C<=r+o){const L=(C-r)/o;A=-f+L*n,P=e,R=0,T=m+L*g}else{const L=(C-r-o)/r,O=L*Math.PI/2;A=f+e*Math.sin(O),P=e*Math.cos(O),R=e*Math.sin(O),T=m+g+L*m}const k=Math.max(0,Math.min(1,T/y));let z=0;C===0?z=.5/i:C===x&&(z=-.5/i);for(let L=0;L<=i;L++){const O=L/i,B=O*Math.PI*2,j=Math.sin(B),X=Math.cos(B);b.x=-P*X,b.y=A,b.z=P*j,a.push(b.x,b.y,b.z),_.set(-P*X,R,P*j),_.normalize(),c.push(_.x,_.y,_.z),d.push(O+z,k)}if(C>0){const L=(C-1)*S;for(let O=0;O<i;O++){const B=L+O,j=L+O+1,X=C*S+O,ee=C*S+O+1;s.push(B,j,X),s.push(j,ee,X)}}}this.setIndex(s),this.setAttribute("position",new xt(a,3)),this.setAttribute("normal",new xt(c,3)),this.setAttribute("uv",new xt(d,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new zb(e.radius,e.height,e.capSegments,e.radialSegments,e.heightSegments)}}class Ub extends Yt{constructor(e=1,n=32,r=0,i=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:n,thetaStart:r,thetaLength:i},n=Math.max(3,n);const o=[],s=[],a=[],c=[],d=new J,f=new $e;s.push(0,0,0),a.push(0,0,1),c.push(.5,.5);for(let m=0,g=3;m<=n;m++,g+=3){const y=r+m/n*i;d.x=e*Math.cos(y),d.y=e*Math.sin(y),s.push(d.x,d.y,d.z),a.push(0,0,1),f.x=(s[g]/e+1)/2,f.y=(s[g+1]/e+1)/2,c.push(f.x,f.y)}for(let m=1;m<=n;m++)o.push(m,m+1,0);this.setIndex(o),this.setAttribute("position",new xt(s,3)),this.setAttribute("normal",new xt(a,3)),this.setAttribute("uv",new xt(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Ub(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class zv extends Yt{constructor(e=1,n=1,r=1,i=32,o=1,s=!1,a=0,c=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:n,height:r,radialSegments:i,heightSegments:o,openEnded:s,thetaStart:a,thetaLength:c};const d=this;i=Math.floor(i),o=Math.floor(o);const f=[],m=[],g=[],y=[];let x=0;const S=[],_=r/2;let b=0;C(),s===!1&&(e>0&&T(!0),n>0&&T(!1)),this.setIndex(f),this.setAttribute("position",new xt(m,3)),this.setAttribute("normal",new xt(g,3)),this.setAttribute("uv",new xt(y,2));function C(){const A=new J,P=new J;let R=0;const k=(n-e)/r;for(let z=0;z<=o;z++){const L=[],O=z/o,B=O*(n-e)+e;for(let j=0;j<=i;j++){const X=j/i,ee=X*c+a,K=Math.sin(ee),ne=Math.cos(ee);P.x=B*K,P.y=-O*r+_,P.z=B*ne,m.push(P.x,P.y,P.z),A.set(K,k,ne).normalize(),g.push(A.x,A.y,A.z),y.push(X,1-O),L.push(x++)}S.push(L)}for(let z=0;z<i;z++)for(let L=0;L<o;L++){const O=S[L][z],B=S[L+1][z],j=S[L+1][z+1],X=S[L][z+1];(e>0||L!==0)&&(f.push(O,B,X),R+=3),(n>0||L!==o-1)&&(f.push(B,j,X),R+=3)}d.addGroup(b,R,0),b+=R}function T(A){const P=x,R=new $e,k=new J;let z=0;const L=A===!0?e:n,O=A===!0?1:-1;for(let j=1;j<=i;j++)m.push(0,_*O,0),g.push(0,O,0),y.push(.5,.5),x++;const B=x;for(let j=0;j<=i;j++){const ee=j/i*c+a,K=Math.cos(ee),ne=Math.sin(ee);k.x=L*ne,k.y=_*O,k.z=L*K,m.push(k.x,k.y,k.z),g.push(0,O,0),R.x=K*.5+.5,R.y=ne*.5*O+.5,y.push(R.x,R.y),x++}for(let j=0;j<i;j++){const X=P+j,ee=B+j;A===!0?f.push(ee,ee+1,X):f.push(ee+1,ee,X),z+=3}d.addGroup(b,z,A===!0?1:2),b+=z}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new zv(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Uv extends zv{constructor(e=1,n=1,r=32,i=1,o=!1,s=0,a=Math.PI*2){super(0,e,n,r,i,o,s,a),this.type="ConeGeometry",this.parameters={radius:e,height:n,radialSegments:r,heightSegments:i,openEnded:o,thetaStart:s,thetaLength:a}}static fromJSON(e){return new Uv(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Tu extends Yt{constructor(e=[],n=[],r=1,i=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:n,radius:r,detail:i};const o=[],s=[];a(i),d(r),f(),this.setAttribute("position",new xt(o,3)),this.setAttribute("normal",new xt(o.slice(),3)),this.setAttribute("uv",new xt(s,2)),i===0?this.computeVertexNormals():this.normalizeNormals();function a(C){const T=new J,A=new J,P=new J;for(let R=0;R<n.length;R+=3)y(n[R+0],T),y(n[R+1],A),y(n[R+2],P),c(T,A,P,C)}function c(C,T,A,P){const R=P+1,k=[];for(let z=0;z<=R;z++){k[z]=[];const L=C.clone().lerp(A,z/R),O=T.clone().lerp(A,z/R),B=R-z;for(let j=0;j<=B;j++)j===0&&z===R?k[z][j]=L:k[z][j]=L.clone().lerp(O,j/B)}for(let z=0;z<R;z++)for(let L=0;L<2*(R-z)-1;L++){const O=Math.floor(L/2);L%2===0?(g(k[z][O+1]),g(k[z+1][O]),g(k[z][O])):(g(k[z][O+1]),g(k[z+1][O+1]),g(k[z+1][O]))}}function d(C){const T=new J;for(let A=0;A<o.length;A+=3)T.x=o[A+0],T.y=o[A+1],T.z=o[A+2],T.normalize().multiplyScalar(C),o[A+0]=T.x,o[A+1]=T.y,o[A+2]=T.z}function f(){const C=new J;for(let T=0;T<o.length;T+=3){C.x=o[T+0],C.y=o[T+1],C.z=o[T+2];const A=_(C)/2/Math.PI+.5,P=b(C)/Math.PI+.5;s.push(A,1-P)}x(),m()}function m(){for(let C=0;C<s.length;C+=6){const T=s[C+0],A=s[C+2],P=s[C+4],R=Math.max(T,A,P),k=Math.min(T,A,P);R>.9&&k<.1&&(T<.2&&(s[C+0]+=1),A<.2&&(s[C+2]+=1),P<.2&&(s[C+4]+=1))}}function g(C){o.push(C.x,C.y,C.z)}function y(C,T){const A=C*3;T.x=e[A+0],T.y=e[A+1],T.z=e[A+2]}function x(){const C=new J,T=new J,A=new J,P=new J,R=new $e,k=new $e,z=new $e;for(let L=0,O=0;L<o.length;L+=9,O+=6){C.set(o[L+0],o[L+1],o[L+2]),T.set(o[L+3],o[L+4],o[L+5]),A.set(o[L+6],o[L+7],o[L+8]),R.set(s[O+0],s[O+1]),k.set(s[O+2],s[O+3]),z.set(s[O+4],s[O+5]),P.copy(C).add(T).add(A).divideScalar(3);const B=_(P);S(R,O+0,C,B),S(k,O+2,T,B),S(z,O+4,A,B)}}function S(C,T,A,P){P<0&&C.x===1&&(s[T]=C.x-1),A.x===0&&A.z===0&&(s[T]=P/2/Math.PI+.5)}function _(C){return Math.atan2(C.z,-C.x)}function b(C){return Math.atan2(-C.y,Math.sqrt(C.x*C.x+C.z*C.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Tu(e.vertices,e.indices,e.radius,e.details)}}class Bb extends Tu{constructor(e=1,n=0){const r=(1+Math.sqrt(5))/2,i=1/r,o=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-i,-r,0,-i,r,0,i,-r,0,i,r,-i,-r,0,-i,r,0,i,-r,0,i,r,0,-r,0,-i,r,0,-i,-r,0,i,r,0,i],s=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(o,s,e,n),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new Bb(e.radius,e.detail)}}const Ny=new J,Dy=new J,VS=new J,Fy=new Lo;class ZF extends Yt{constructor(e=null,n=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:n},e!==null){const i=Math.pow(10,4),o=Math.cos(Yd*n),s=e.getIndex(),a=e.getAttribute("position"),c=s?s.count:a.count,d=[0,0,0],f=["a","b","c"],m=new Array(3),g={},y=[];for(let x=0;x<c;x+=3){s?(d[0]=s.getX(x),d[1]=s.getX(x+1),d[2]=s.getX(x+2)):(d[0]=x,d[1]=x+1,d[2]=x+2);const{a:S,b:_,c:b}=Fy;if(S.fromBufferAttribute(a,d[0]),_.fromBufferAttribute(a,d[1]),b.fromBufferAttribute(a,d[2]),Fy.getNormal(VS),m[0]=`${Math.round(S.x*i)},${Math.round(S.y*i)},${Math.round(S.z*i)}`,m[1]=`${Math.round(_.x*i)},${Math.round(_.y*i)},${Math.round(_.z*i)}`,m[2]=`${Math.round(b.x*i)},${Math.round(b.y*i)},${Math.round(b.z*i)}`,!(m[0]===m[1]||m[1]===m[2]||m[2]===m[0]))for(let C=0;C<3;C++){const T=(C+1)%3,A=m[C],P=m[T],R=Fy[f[C]],k=Fy[f[T]],z=`${A}_${P}`,L=`${P}_${A}`;L in g&&g[L]?(VS.dot(g[L].normal)<=o&&(y.push(R.x,R.y,R.z),y.push(k.x,k.y,k.z)),g[L]=null):z in g||(g[z]={index0:d[C],index1:d[T],normal:VS.clone()})}}for(const x in g)if(g[x]){const{index0:S,index1:_}=g[x];Ny.fromBufferAttribute(a,S),Dy.fromBufferAttribute(a,_),y.push(Ny.x,Ny.y,Ny.z),y.push(Dy.x,Dy.y,Dy.z)}this.setAttribute("position",new xt(y,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class Sa{constructor(){this.type="Curve",this.arcLengthDivisions=200,this.needsUpdate=!1,this.cacheArcLengths=null}getPoint(){console.warn("THREE.Curve: .getPoint() not implemented.")}getPointAt(e,n){const r=this.getUtoTmapping(e);return this.getPoint(r,n)}getPoints(e=5){const n=[];for(let r=0;r<=e;r++)n.push(this.getPoint(r/e));return n}getSpacedPoints(e=5){const n=[];for(let r=0;r<=e;r++)n.push(this.getPointAt(r/e));return n}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const n=[];let r,i=this.getPoint(0),o=0;n.push(0);for(let s=1;s<=e;s++)r=this.getPoint(s/e),o+=r.distanceTo(i),n.push(o),i=r;return this.cacheArcLengths=n,n}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,n=null){const r=this.getLengths();let i=0;const o=r.length;let s;n?s=n:s=e*r[o-1];let a=0,c=o-1,d;for(;a<=c;)if(i=Math.floor(a+(c-a)/2),d=r[i]-s,d<0)a=i+1;else if(d>0)c=i-1;else{c=i;break}if(i=c,r[i]===s)return i/(o-1);const f=r[i],g=r[i+1]-f,y=(s-f)/g;return(i+y)/(o-1)}getTangent(e,n){let i=e-1e-4,o=e+1e-4;i<0&&(i=0),o>1&&(o=1);const s=this.getPoint(i),a=this.getPoint(o),c=n||(s.isVector2?new $e:new J);return c.copy(a).sub(s).normalize(),c}getTangentAt(e,n){const r=this.getUtoTmapping(e);return this.getTangent(r,n)}computeFrenetFrames(e,n=!1){const r=new J,i=[],o=[],s=[],a=new J,c=new Ht;for(let y=0;y<=e;y++){const x=y/e;i[y]=this.getTangentAt(x,new J)}o[0]=new J,s[0]=new J;let d=Number.MAX_VALUE;const f=Math.abs(i[0].x),m=Math.abs(i[0].y),g=Math.abs(i[0].z);f<=d&&(d=f,r.set(1,0,0)),m<=d&&(d=m,r.set(0,1,0)),g<=d&&r.set(0,0,1),a.crossVectors(i[0],r).normalize(),o[0].crossVectors(i[0],a),s[0].crossVectors(i[0],o[0]);for(let y=1;y<=e;y++){if(o[y]=o[y-1].clone(),s[y]=s[y-1].clone(),a.crossVectors(i[y-1],i[y]),a.length()>Number.EPSILON){a.normalize();const x=Math.acos(Jt(i[y-1].dot(i[y]),-1,1));o[y].applyMatrix4(c.makeRotationAxis(a,x))}s[y].crossVectors(i[y],o[y])}if(n===!0){let y=Math.acos(Jt(o[0].dot(o[e]),-1,1));y/=e,i[0].dot(a.crossVectors(o[0],o[e]))>0&&(y=-y);for(let x=1;x<=e;x++)o[x].applyMatrix4(c.makeRotationAxis(i[x],y*x)),s[x].crossVectors(i[x],o[x])}return{tangents:i,normals:o,binormals:s}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class Vb extends Sa{constructor(e=0,n=0,r=1,i=1,o=0,s=Math.PI*2,a=!1,c=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=n,this.xRadius=r,this.yRadius=i,this.aStartAngle=o,this.aEndAngle=s,this.aClockwise=a,this.aRotation=c}getPoint(e,n=new $e){const r=n,i=Math.PI*2;let o=this.aEndAngle-this.aStartAngle;const s=Math.abs(o)<Number.EPSILON;for(;o<0;)o+=i;for(;o>i;)o-=i;o<Number.EPSILON&&(s?o=0:o=i),this.aClockwise===!0&&!s&&(o===i?o=-i:o=o-i);const a=this.aStartAngle+e*o;let c=this.aX+this.xRadius*Math.cos(a),d=this.aY+this.yRadius*Math.sin(a);if(this.aRotation!==0){const f=Math.cos(this.aRotation),m=Math.sin(this.aRotation),g=c-this.aX,y=d-this.aY;c=g*f-y*m+this.aX,d=g*m+y*f+this.aY}return r.set(c,d)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class JF extends Vb{constructor(e,n,r,i,o,s){super(e,n,r,r,i,o,s),this.isArcCurve=!0,this.type="ArcCurve"}}function PM(){let t=0,e=0,n=0,r=0;function i(o,s,a,c){t=o,e=a,n=-3*o+3*s-2*a-c,r=2*o-2*s+a+c}return{initCatmullRom:function(o,s,a,c,d){i(s,a,d*(a-o),d*(c-s))},initNonuniformCatmullRom:function(o,s,a,c,d,f,m){let g=(s-o)/d-(a-o)/(d+f)+(a-s)/f,y=(a-s)/f-(c-s)/(f+m)+(c-a)/m;g*=f,y*=f,i(s,a,g,y)},calc:function(o){const s=o*o,a=s*o;return t+e*o+n*s+r*a}}}const zy=new J,$S=new PM,HS=new PM,WS=new PM;class QF extends Sa{constructor(e=[],n=!1,r="centripetal",i=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=n,this.curveType=r,this.tension=i}getPoint(e,n=new J){const r=n,i=this.points,o=i.length,s=(o-(this.closed?0:1))*e;let a=Math.floor(s),c=s-a;this.closed?a+=a>0?0:(Math.floor(Math.abs(a)/o)+1)*o:c===0&&a===o-1&&(a=o-2,c=1);let d,f;this.closed||a>0?d=i[(a-1)%o]:(zy.subVectors(i[0],i[1]).add(i[0]),d=zy);const m=i[a%o],g=i[(a+1)%o];if(this.closed||a+2<o?f=i[(a+2)%o]:(zy.subVectors(i[o-1],i[o-2]).add(i[o-1]),f=zy),this.curveType==="centripetal"||this.curveType==="chordal"){const y=this.curveType==="chordal"?.5:.25;let x=Math.pow(d.distanceToSquared(m),y),S=Math.pow(m.distanceToSquared(g),y),_=Math.pow(g.distanceToSquared(f),y);S<1e-4&&(S=1),x<1e-4&&(x=S),_<1e-4&&(_=S),$S.initNonuniformCatmullRom(d.x,m.x,g.x,f.x,x,S,_),HS.initNonuniformCatmullRom(d.y,m.y,g.y,f.y,x,S,_),WS.initNonuniformCatmullRom(d.z,m.z,g.z,f.z,x,S,_)}else this.curveType==="catmullrom"&&($S.initCatmullRom(d.x,m.x,g.x,f.x,this.tension),HS.initCatmullRom(d.y,m.y,g.y,f.y,this.tension),WS.initCatmullRom(d.z,m.z,g.z,f.z,this.tension));return r.set($S.calc(c),HS.calc(c),WS.calc(c)),r}copy(e){super.copy(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(i.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,r=this.points.length;n<r;n++){const i=this.points[n];e.points.push(i.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(new J().fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function $R(t,e,n,r,i){const o=(r-e)*.5,s=(i-n)*.5,a=t*t,c=t*a;return(2*n-2*r+o+s)*c+(-3*n+3*r-2*o-s)*a+o*t+n}function FK(t,e){const n=1-t;return n*n*e}function zK(t,e){return 2*(1-t)*t*e}function UK(t,e){return t*t*e}function Hg(t,e,n,r){return FK(t,e)+zK(t,n)+UK(t,r)}function BK(t,e){const n=1-t;return n*n*n*e}function VK(t,e){const n=1-t;return 3*n*n*t*e}function $K(t,e){return 3*(1-t)*t*t*e}function HK(t,e){return t*t*t*e}function Wg(t,e,n,r,i){return BK(t,e)+VK(t,n)+$K(t,r)+HK(t,i)}class RM extends Sa{constructor(e=new $e,n=new $e,r=new $e,i=new $e){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=n,this.v2=r,this.v3=i}getPoint(e,n=new $e){const r=n,i=this.v0,o=this.v1,s=this.v2,a=this.v3;return r.set(Wg(e,i.x,o.x,s.x,a.x),Wg(e,i.y,o.y,s.y,a.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class ez extends Sa{constructor(e=new J,n=new J,r=new J,i=new J){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=n,this.v2=r,this.v3=i}getPoint(e,n=new J){const r=n,i=this.v0,o=this.v1,s=this.v2,a=this.v3;return r.set(Wg(e,i.x,o.x,s.x,a.x),Wg(e,i.y,o.y,s.y,a.y),Wg(e,i.z,o.z,s.z,a.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class AM extends Sa{constructor(e=new $e,n=new $e){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=n}getPoint(e,n=new $e){const r=n;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new $e){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class tz extends Sa{constructor(e=new J,n=new J){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=n}getPoint(e,n=new J){const r=n;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new J){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class IM extends Sa{constructor(e=new $e,n=new $e,r=new $e){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=n,this.v2=r}getPoint(e,n=new $e){const r=n,i=this.v0,o=this.v1,s=this.v2;return r.set(Hg(e,i.x,o.x,s.x),Hg(e,i.y,o.y,s.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class kM extends Sa{constructor(e=new J,n=new J,r=new J){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=n,this.v2=r}getPoint(e,n=new J){const r=n,i=this.v0,o=this.v1,s=this.v2;return r.set(Hg(e,i.x,o.x,s.x),Hg(e,i.y,o.y,s.y),Hg(e,i.z,o.z,s.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class OM extends Sa{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,n=new $e){const r=n,i=this.points,o=(i.length-1)*e,s=Math.floor(o),a=o-s,c=i[s===0?s:s-1],d=i[s],f=i[s>i.length-2?i.length-1:s+1],m=i[s>i.length-3?i.length-1:s+2];return r.set($R(a,c.x,d.x,f.x,m.x),$R(a,c.y,d.y,f.y,m.y)),r}copy(e){super.copy(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,r=this.points.length;n<r;n++){const i=this.points[n];e.points.push(i.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(new $e().fromArray(i))}return this}}var I1=Object.freeze({__proto__:null,ArcCurve:JF,CatmullRomCurve3:QF,CubicBezierCurve:RM,CubicBezierCurve3:ez,EllipseCurve:Vb,LineCurve:AM,LineCurve3:tz,QuadraticBezierCurve:IM,QuadraticBezierCurve3:kM,SplineCurve:OM});class nz extends Sa{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),n=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(n)){const r=e.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new I1[r](n,e))}return this}getPoint(e,n){const r=e*this.getLength(),i=this.getCurveLengths();let o=0;for(;o<i.length;){if(i[o]>=r){const s=i[o]-r,a=this.curves[o],c=a.getLength(),d=c===0?0:1-s/c;return a.getPointAt(d,n)}o++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let n=0;for(let r=0,i=this.curves.length;r<i;r++)n+=this.curves[r].getLength(),e.push(n);return this.cacheLengths=e,e}getSpacedPoints(e=40){const n=[];for(let r=0;r<=e;r++)n.push(this.getPoint(r/e));return this.autoClose&&n.push(n[0]),n}getPoints(e=12){const n=[];let r;for(let i=0,o=this.curves;i<o.length;i++){const s=o[i],a=s.isEllipseCurve?e*2:s.isLineCurve||s.isLineCurve3?1:s.isSplineCurve?e*s.points.length:e,c=s.getPoints(a);for(let d=0;d<c.length;d++){const f=c[d];r&&r.equals(f)||(n.push(f),r=f)}}return this.autoClose&&n.length>1&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n}copy(e){super.copy(e),this.curves=[];for(let n=0,r=e.curves.length;n<r;n++){const i=e.curves[n];this.curves.push(i.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let n=0,r=this.curves.length;n<r;n++){const i=this.curves[n];e.curves.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let n=0,r=e.curves.length;n<r;n++){const i=e.curves[n];this.curves.push(new I1[i.type]().fromJSON(i))}return this}}class k1 extends nz{constructor(e){super(),this.type="Path",this.currentPoint=new $e,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let n=1,r=e.length;n<r;n++)this.lineTo(e[n].x,e[n].y);return this}moveTo(e,n){return this.currentPoint.set(e,n),this}lineTo(e,n){const r=new AM(this.currentPoint.clone(),new $e(e,n));return this.curves.push(r),this.currentPoint.set(e,n),this}quadraticCurveTo(e,n,r,i){const o=new IM(this.currentPoint.clone(),new $e(e,n),new $e(r,i));return this.curves.push(o),this.currentPoint.set(r,i),this}bezierCurveTo(e,n,r,i,o,s){const a=new RM(this.currentPoint.clone(),new $e(e,n),new $e(r,i),new $e(o,s));return this.curves.push(a),this.currentPoint.set(o,s),this}splineThru(e){const n=[this.currentPoint.clone()].concat(e),r=new OM(n);return this.curves.push(r),this.currentPoint.copy(e[e.length-1]),this}arc(e,n,r,i,o,s){const a=this.currentPoint.x,c=this.currentPoint.y;return this.absarc(e+a,n+c,r,i,o,s),this}absarc(e,n,r,i,o,s){return this.absellipse(e,n,r,r,i,o,s),this}ellipse(e,n,r,i,o,s,a,c){const d=this.currentPoint.x,f=this.currentPoint.y;return this.absellipse(e+d,n+f,r,i,o,s,a,c),this}absellipse(e,n,r,i,o,s,a,c){const d=new Vb(e,n,r,i,o,s,a,c);if(this.curves.length>0){const m=d.getPoint(0);m.equals(this.currentPoint)||this.lineTo(m.x,m.y)}this.curves.push(d);const f=d.getPoint(1);return this.currentPoint.copy(f),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}let Zd=class extends k1{constructor(e){super(e),this.uuid=os(),this.type="Shape",this.holes=[]}getPointsHoles(e){const n=[];for(let r=0,i=this.holes.length;r<i;r++)n[r]=this.holes[r].getPoints(e);return n}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let n=0,r=e.holes.length;n<r;n++){const i=e.holes[n];this.holes.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let n=0,r=this.holes.length;n<r;n++){const i=this.holes[n];e.holes.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let n=0,r=e.holes.length;n<r;n++){const i=e.holes[n];this.holes.push(new k1().fromJSON(i))}return this}};function WK(t,e,n=2){const r=e&&e.length,i=r?e[0]*n:t.length;let o=rz(t,0,i,n,!0);const s=[];if(!o||o.next===o.prev)return s;let a,c,d;if(r&&(o=YK(t,e,o,n)),t.length>80*n){a=1/0,c=1/0;let f=-1/0,m=-1/0;for(let g=n;g<i;g+=n){const y=t[g],x=t[g+1];y<a&&(a=y),x<c&&(c=x),y>f&&(f=y),x>m&&(m=x)}d=Math.max(f-a,m-c),d=d!==0?32767/d:0}return fv(o,s,n,a,c,d,0),s}function rz(t,e,n,r,i){let o;if(i===sZ(t,e,n,r)>0)for(let s=e;s<n;s+=r)o=HR(s/r|0,t[s],t[s+1],o);else for(let s=n-r;s>=e;s-=r)o=HR(s/r|0,t[s],t[s+1],o);return o&&Rp(o,o.next)&&(pv(o),o=o.next),o}function of(t,e){if(!t)return t;e||(e=t);let n=t,r;do if(r=!1,!n.steiner&&(Rp(n,n.next)||xr(n.prev,n,n.next)===0)){if(pv(n),n=e=n.prev,n===n.next)break;r=!0}else n=n.next;while(r||n!==e);return e}function fv(t,e,n,r,i,o,s){if(!t)return;!s&&o&&eZ(t,r,i,o);let a=t;for(;t.prev!==t.next;){const c=t.prev,d=t.next;if(o?jK(t,r,i,o):GK(t)){e.push(c.i,t.i,d.i),pv(t),t=d.next,a=d.next;continue}if(t=d,t===a){s?s===1?(t=XK(of(t),e),fv(t,e,n,r,i,o,2)):s===2&&qK(t,e,n,r,i,o):fv(of(t),e,n,r,i,o,1);break}}}function GK(t){const e=t.prev,n=t,r=t.next;if(xr(e,n,r)>=0)return!1;const i=e.x,o=n.x,s=r.x,a=e.y,c=n.y,d=r.y,f=Math.min(i,o,s),m=Math.min(a,c,d),g=Math.max(i,o,s),y=Math.max(a,c,d);let x=r.next;for(;x!==e;){if(x.x>=f&&x.x<=g&&x.y>=m&&x.y<=y&&Mg(i,a,o,c,s,d,x.x,x.y)&&xr(x.prev,x,x.next)>=0)return!1;x=x.next}return!0}function jK(t,e,n,r){const i=t.prev,o=t,s=t.next;if(xr(i,o,s)>=0)return!1;const a=i.x,c=o.x,d=s.x,f=i.y,m=o.y,g=s.y,y=Math.min(a,c,d),x=Math.min(f,m,g),S=Math.max(a,c,d),_=Math.max(f,m,g),b=NE(y,x,e,n,r),C=NE(S,_,e,n,r);let T=t.prevZ,A=t.nextZ;for(;T&&T.z>=b&&A&&A.z<=C;){if(T.x>=y&&T.x<=S&&T.y>=x&&T.y<=_&&T!==i&&T!==s&&Mg(a,f,c,m,d,g,T.x,T.y)&&xr(T.prev,T,T.next)>=0||(T=T.prevZ,A.x>=y&&A.x<=S&&A.y>=x&&A.y<=_&&A!==i&&A!==s&&Mg(a,f,c,m,d,g,A.x,A.y)&&xr(A.prev,A,A.next)>=0))return!1;A=A.nextZ}for(;T&&T.z>=b;){if(T.x>=y&&T.x<=S&&T.y>=x&&T.y<=_&&T!==i&&T!==s&&Mg(a,f,c,m,d,g,T.x,T.y)&&xr(T.prev,T,T.next)>=0)return!1;T=T.prevZ}for(;A&&A.z<=C;){if(A.x>=y&&A.x<=S&&A.y>=x&&A.y<=_&&A!==i&&A!==s&&Mg(a,f,c,m,d,g,A.x,A.y)&&xr(A.prev,A,A.next)>=0)return!1;A=A.nextZ}return!0}function XK(t,e){let n=t;do{const r=n.prev,i=n.next.next;!Rp(r,i)&&oz(r,n,n.next,i)&&hv(r,i)&&hv(i,r)&&(e.push(r.i,n.i,i.i),pv(n),pv(n.next),n=t=i),n=n.next}while(n!==t);return of(n)}function qK(t,e,n,r,i,o){let s=t;do{let a=s.next.next;for(;a!==s.prev;){if(s.i!==a.i&&rZ(s,a)){let c=sz(s,a);s=of(s,s.next),c=of(c,c.next),fv(s,e,n,r,i,o,0),fv(c,e,n,r,i,o,0);return}a=a.next}s=s.next}while(s!==t)}function YK(t,e,n,r){const i=[];for(let o=0,s=e.length;o<s;o++){const a=e[o]*r,c=o<s-1?e[o+1]*r:t.length,d=rz(t,a,c,r,!1);d===d.next&&(d.steiner=!0),i.push(nZ(d))}i.sort(KK);for(let o=0;o<i.length;o++)n=ZK(i[o],n);return n}function KK(t,e){let n=t.x-e.x;if(n===0&&(n=t.y-e.y,n===0)){const r=(t.next.y-t.y)/(t.next.x-t.x),i=(e.next.y-e.y)/(e.next.x-e.x);n=r-i}return n}function ZK(t,e){const n=JK(t,e);if(!n)return e;const r=sz(n,t);return of(r,r.next),of(n,n.next)}function JK(t,e){let n=e;const r=t.x,i=t.y;let o=-1/0,s;if(Rp(t,n))return n;do{if(Rp(t,n.next))return n.next;if(i<=n.y&&i>=n.next.y&&n.next.y!==n.y){const m=n.x+(i-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(m<=r&&m>o&&(o=m,s=n.x<n.next.x?n:n.next,m===r))return s}n=n.next}while(n!==e);if(!s)return null;const a=s,c=s.x,d=s.y;let f=1/0;n=s;do{if(r>=n.x&&n.x>=c&&r!==n.x&&iz(i<d?r:o,i,c,d,i<d?o:r,i,n.x,n.y)){const m=Math.abs(i-n.y)/(r-n.x);hv(n,t)&&(m<f||m===f&&(n.x>s.x||n.x===s.x&&QK(s,n)))&&(s=n,f=m)}n=n.next}while(n!==a);return s}function QK(t,e){return xr(t.prev,t,e.prev)<0&&xr(e.next,t,t.next)<0}function eZ(t,e,n,r){let i=t;do i.z===0&&(i.z=NE(i.x,i.y,e,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,tZ(i)}function tZ(t){let e,n=1;do{let r=t,i;t=null;let o=null;for(e=0;r;){e++;let s=r,a=0;for(let d=0;d<n&&(a++,s=s.nextZ,!!s);d++);let c=n;for(;a>0||c>0&&s;)a!==0&&(c===0||!s||r.z<=s.z)?(i=r,r=r.nextZ,a--):(i=s,s=s.nextZ,c--),o?o.nextZ=i:t=i,i.prevZ=o,o=i;r=s}o.nextZ=null,n*=2}while(e>1);return t}function NE(t,e,n,r,i){return t=(t-n)*i|0,e=(e-r)*i|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function nZ(t){let e=t,n=t;do(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next;while(e!==t);return n}function iz(t,e,n,r,i,o,s,a){return(i-s)*(e-a)>=(t-s)*(o-a)&&(t-s)*(r-a)>=(n-s)*(e-a)&&(n-s)*(o-a)>=(i-s)*(r-a)}function Mg(t,e,n,r,i,o,s,a){return!(t===s&&e===a)&&iz(t,e,n,r,i,o,s,a)}function rZ(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!iZ(t,e)&&(hv(t,e)&&hv(e,t)&&oZ(t,e)&&(xr(t.prev,t,e.prev)||xr(t,e.prev,e))||Rp(t,e)&&xr(t.prev,t,t.next)>0&&xr(e.prev,e,e.next)>0)}function xr(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function Rp(t,e){return t.x===e.x&&t.y===e.y}function oz(t,e,n,r){const i=By(xr(t,e,n)),o=By(xr(t,e,r)),s=By(xr(n,r,t)),a=By(xr(n,r,e));return!!(i!==o&&s!==a||i===0&&Uy(t,n,e)||o===0&&Uy(t,r,e)||s===0&&Uy(n,t,r)||a===0&&Uy(n,e,r))}function Uy(t,e,n){return e.x<=Math.max(t.x,n.x)&&e.x>=Math.min(t.x,n.x)&&e.y<=Math.max(t.y,n.y)&&e.y>=Math.min(t.y,n.y)}function By(t){return t>0?1:t<0?-1:0}function iZ(t,e){let n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&oz(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}function hv(t,e){return xr(t.prev,t,t.next)<0?xr(t,e,t.next)>=0&&xr(t,t.prev,e)>=0:xr(t,e,t.prev)<0||xr(t,t.next,e)<0}function oZ(t,e){let n=t,r=!1;const i=(t.x+e.x)/2,o=(t.y+e.y)/2;do n.y>o!=n.next.y>o&&n.next.y!==n.y&&i<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next;while(n!==t);return r}function sz(t,e){const n=DE(t.i,t.x,t.y),r=DE(e.i,e.x,e.y),i=t.next,o=e.prev;return t.next=e,e.prev=t,n.next=i,i.prev=n,r.next=n,n.prev=r,o.next=r,r.prev=o,r}function HR(t,e,n,r){const i=DE(t,e,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function pv(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function DE(t,e,n){return{i:t,x:e,y:n,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}function sZ(t,e,n,r){let i=0;for(let o=e,s=n-r;o<n;o+=r)i+=(t[s]-t[o])*(t[o+1]+t[s+1]),s=o;return i}class aZ{static triangulate(e,n,r=2){return WK(e,n,r)}}class ma{static area(e){const n=e.length;let r=0;for(let i=n-1,o=0;o<n;i=o++)r+=e[i].x*e[o].y-e[o].x*e[i].y;return r*.5}static isClockWise(e){return ma.area(e)<0}static triangulateShape(e,n){const r=[],i=[],o=[];WR(e),GR(r,e);let s=e.length;n.forEach(WR);for(let c=0;c<n.length;c++)i.push(s),s+=n[c].length,GR(r,n[c]);const a=aZ.triangulate(r,i);for(let c=0;c<a.length;c+=3)o.push(a.slice(c,c+3));return o}}function WR(t){const e=t.length;e>2&&t[e-1].equals(t[0])&&t.pop()}function GR(t,e){for(let n=0;n<e.length;n++)t.push(e[n].x),t.push(e[n].y)}class $b extends Yt{constructor(e=new Zd([new $e(.5,.5),new $e(-.5,.5),new $e(-.5,-.5),new $e(.5,-.5)]),n={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:n},e=Array.isArray(e)?e:[e];const r=this,i=[],o=[];for(let a=0,c=e.length;a<c;a++){const d=e[a];s(d)}this.setAttribute("position",new xt(i,3)),this.setAttribute("uv",new xt(o,2)),this.computeVertexNormals();function s(a){const c=[],d=n.curveSegments!==void 0?n.curveSegments:12,f=n.steps!==void 0?n.steps:1,m=n.depth!==void 0?n.depth:1;let g=n.bevelEnabled!==void 0?n.bevelEnabled:!0,y=n.bevelThickness!==void 0?n.bevelThickness:.2,x=n.bevelSize!==void 0?n.bevelSize:y-.1,S=n.bevelOffset!==void 0?n.bevelOffset:0,_=n.bevelSegments!==void 0?n.bevelSegments:3;const b=n.extrudePath,C=n.UVGenerator!==void 0?n.UVGenerator:lZ;let T,A=!1,P,R,k,z;b&&(T=b.getSpacedPoints(f),A=!0,g=!1,P=b.computeFrenetFrames(f,!1),R=new J,k=new J,z=new J),g||(_=0,y=0,x=0,S=0);const L=a.extractPoints(d);let O=L.shape;const B=L.holes;if(!ma.isClockWise(O)){O=O.reverse();for(let q=0,Xe=B.length;q<Xe;q++){const Ve=B[q];ma.isClockWise(Ve)&&(B[q]=Ve.reverse())}}function X(q){const Ve=10000000000000001e-36;let He=q[0];for(let ze=1;ze<=q.length;ze++){const ot=ze%q.length,Be=q[ot],Y=Be.x-He.x,$=Be.y-He.y,re=Y*Y+$*$,pe=Math.max(Math.abs(Be.x),Math.abs(Be.y),Math.abs(He.x),Math.abs(He.y)),ke=Ve*pe*pe;if(re<=ke){q.splice(ot,1),ze--;continue}He=Be}}X(O),B.forEach(X);const ee=B.length,K=O;for(let q=0;q<ee;q++){const Xe=B[q];O=O.concat(Xe)}function ne(q,Xe,Ve){return Xe||console.error("THREE.ExtrudeGeometry: vec does not exist"),q.clone().addScaledVector(Xe,Ve)}const se=O.length;function V(q,Xe,Ve){let He,ze,ot;const Be=q.x-Xe.x,Y=q.y-Xe.y,$=Ve.x-q.x,re=Ve.y-q.y,pe=Be*Be+Y*Y,ke=Be*re-Y*$;if(Math.abs(ke)>Number.EPSILON){const Ce=Math.sqrt(pe),tt=Math.sqrt($*$+re*re),Qe=Xe.x-Y/Ce,St=Xe.y+Be/Ce,Mt=Ve.x-re/tt,We=Ve.y+$/tt,dt=((Mt-Qe)*re-(We-St)*$)/(Be*re-Y*$);He=Qe+Be*dt-q.x,ze=St+Y*dt-q.y;const Pt=He*He+ze*ze;if(Pt<=2)return new $e(He,ze);ot=Math.sqrt(Pt/2)}else{let Ce=!1;Be>Number.EPSILON?$>Number.EPSILON&&(Ce=!0):Be<-Number.EPSILON?$<-Number.EPSILON&&(Ce=!0):Math.sign(Y)===Math.sign(re)&&(Ce=!0),Ce?(He=-Y,ze=Be,ot=Math.sqrt(pe)):(He=Be,ze=Y,ot=Math.sqrt(pe/2))}return new $e(He/ot,ze/ot)}const Q=[];for(let q=0,Xe=K.length,Ve=Xe-1,He=q+1;q<Xe;q++,Ve++,He++)Ve===Xe&&(Ve=0),He===Xe&&(He=0),Q[q]=V(K[q],K[Ve],K[He]);const Z=[];let W,le=Q.concat();for(let q=0,Xe=ee;q<Xe;q++){const Ve=B[q];W=[];for(let He=0,ze=Ve.length,ot=ze-1,Be=He+1;He<ze;He++,ot++,Be++)ot===ze&&(ot=0),Be===ze&&(Be=0),W[He]=V(Ve[He],Ve[ot],Ve[Be]);Z.push(W),le=le.concat(W)}let Ie;if(_===0)Ie=ma.triangulateShape(K,B);else{const q=[],Xe=[];for(let Ve=0;Ve<_;Ve++){const He=Ve/_,ze=y*Math.cos(He*Math.PI/2),ot=x*Math.sin(He*Math.PI/2)+S;for(let Be=0,Y=K.length;Be<Y;Be++){const $=ne(K[Be],Q[Be],ot);be($.x,$.y,-ze),He===0&&q.push($)}for(let Be=0,Y=ee;Be<Y;Be++){const $=B[Be];W=Z[Be];const re=[];for(let pe=0,ke=$.length;pe<ke;pe++){const Ce=ne($[pe],W[pe],ot);be(Ce.x,Ce.y,-ze),He===0&&re.push(Ce)}He===0&&Xe.push(re)}}Ie=ma.triangulateShape(q,Xe)}const fe=Ie.length,Me=x+S;for(let q=0;q<se;q++){const Xe=g?ne(O[q],le[q],Me):O[q];A?(k.copy(P.normals[0]).multiplyScalar(Xe.x),R.copy(P.binormals[0]).multiplyScalar(Xe.y),z.copy(T[0]).add(k).add(R),be(z.x,z.y,z.z)):be(Xe.x,Xe.y,0)}for(let q=1;q<=f;q++)for(let Xe=0;Xe<se;Xe++){const Ve=g?ne(O[Xe],le[Xe],Me):O[Xe];A?(k.copy(P.normals[q]).multiplyScalar(Ve.x),R.copy(P.binormals[q]).multiplyScalar(Ve.y),z.copy(T[q]).add(k).add(R),be(z.x,z.y,z.z)):be(Ve.x,Ve.y,m/f*q)}for(let q=_-1;q>=0;q--){const Xe=q/_,Ve=y*Math.cos(Xe*Math.PI/2),He=x*Math.sin(Xe*Math.PI/2)+S;for(let ze=0,ot=K.length;ze<ot;ze++){const Be=ne(K[ze],Q[ze],He);be(Be.x,Be.y,m+Ve)}for(let ze=0,ot=B.length;ze<ot;ze++){const Be=B[ze];W=Z[ze];for(let Y=0,$=Be.length;Y<$;Y++){const re=ne(Be[Y],W[Y],He);A?be(re.x,re.y+T[f-1].y,T[f-1].x+Ve):be(re.x,re.y,m+Ve)}}}De(),Le();function De(){const q=i.length/3;if(g){let Xe=0,Ve=se*Xe;for(let He=0;He<fe;He++){const ze=Ie[He];Fe(ze[2]+Ve,ze[1]+Ve,ze[0]+Ve)}Xe=f+_*2,Ve=se*Xe;for(let He=0;He<fe;He++){const ze=Ie[He];Fe(ze[0]+Ve,ze[1]+Ve,ze[2]+Ve)}}else{for(let Xe=0;Xe<fe;Xe++){const Ve=Ie[Xe];Fe(Ve[2],Ve[1],Ve[0])}for(let Xe=0;Xe<fe;Xe++){const Ve=Ie[Xe];Fe(Ve[0]+se*f,Ve[1]+se*f,Ve[2]+se*f)}}r.addGroup(q,i.length/3-q,0)}function Le(){const q=i.length/3;let Xe=0;ge(K,Xe),Xe+=K.length;for(let Ve=0,He=B.length;Ve<He;Ve++){const ze=B[Ve];ge(ze,Xe),Xe+=ze.length}r.addGroup(q,i.length/3-q,1)}function ge(q,Xe){let Ve=q.length;for(;--Ve>=0;){const He=Ve;let ze=Ve-1;ze<0&&(ze=q.length-1);for(let ot=0,Be=f+_*2;ot<Be;ot++){const Y=se*ot,$=se*(ot+1),re=Xe+He+Y,pe=Xe+ze+Y,ke=Xe+ze+$,Ce=Xe+He+$;Ye(re,pe,ke,Ce)}}}function be(q,Xe,Ve){c.push(q),c.push(Xe),c.push(Ve)}function Fe(q,Xe,Ve){at(q),at(Xe),at(Ve);const He=i.length/3,ze=C.generateTopUV(r,i,He-3,He-2,He-1);Ge(ze[0]),Ge(ze[1]),Ge(ze[2])}function Ye(q,Xe,Ve,He){at(q),at(Xe),at(He),at(Xe),at(Ve),at(He);const ze=i.length/3,ot=C.generateSideWallUV(r,i,ze-6,ze-3,ze-2,ze-1);Ge(ot[0]),Ge(ot[1]),Ge(ot[3]),Ge(ot[1]),Ge(ot[2]),Ge(ot[3])}function at(q){i.push(c[q*3+0]),i.push(c[q*3+1]),i.push(c[q*3+2])}function Ge(q){o.push(q.x),o.push(q.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),n=this.parameters.shapes,r=this.parameters.options;return cZ(n,r,e)}static fromJSON(e,n){const r=[];for(let o=0,s=e.shapes.length;o<s;o++){const a=n[e.shapes[o]];r.push(a)}const i=e.options.extrudePath;return i!==void 0&&(e.options.extrudePath=new I1[i.type]().fromJSON(i)),new $b(r,e.options)}}const lZ={generateTopUV:function(t,e,n,r,i){const o=e[n*3],s=e[n*3+1],a=e[r*3],c=e[r*3+1],d=e[i*3],f=e[i*3+1];return[new $e(o,s),new $e(a,c),new $e(d,f)]},generateSideWallUV:function(t,e,n,r,i,o){const s=e[n*3],a=e[n*3+1],c=e[n*3+2],d=e[r*3],f=e[r*3+1],m=e[r*3+2],g=e[i*3],y=e[i*3+1],x=e[i*3+2],S=e[o*3],_=e[o*3+1],b=e[o*3+2];return Math.abs(a-f)<Math.abs(s-d)?[new $e(s,1-c),new $e(d,1-m),new $e(g,1-x),new $e(S,1-b)]:[new $e(a,1-c),new $e(f,1-m),new $e(y,1-x),new $e(_,1-b)]}};function cZ(t,e,n){if(n.shapes=[],Array.isArray(t))for(let r=0,i=t.length;r<i;r++){const o=t[r];n.shapes.push(o.uuid)}else n.shapes.push(t.uuid);return n.options=Object.assign({},e),e.extrudePath!==void 0&&(n.options.extrudePath=e.extrudePath.toJSON()),n}class Hb extends Tu{constructor(e=1,n=0){const r=(1+Math.sqrt(5))/2,i=[-1,r,0,1,r,0,-1,-r,0,1,-r,0,0,-1,r,0,1,r,0,-1,-r,0,1,-r,r,0,-1,r,0,1,-r,0,-1,-r,0,1],o=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(i,o,e,n),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new Hb(e.radius,e.detail)}}class Wb extends Yt{constructor(e=[new $e(0,-.5),new $e(.5,0),new $e(0,.5)],n=12,r=0,i=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:n,phiStart:r,phiLength:i},n=Math.floor(n),i=Jt(i,0,Math.PI*2);const o=[],s=[],a=[],c=[],d=[],f=1/n,m=new J,g=new $e,y=new J,x=new J,S=new J;let _=0,b=0;for(let C=0;C<=e.length-1;C++)switch(C){case 0:_=e[C+1].x-e[C].x,b=e[C+1].y-e[C].y,y.x=b*1,y.y=-_,y.z=b*0,S.copy(y),y.normalize(),c.push(y.x,y.y,y.z);break;case e.length-1:c.push(S.x,S.y,S.z);break;default:_=e[C+1].x-e[C].x,b=e[C+1].y-e[C].y,y.x=b*1,y.y=-_,y.z=b*0,x.copy(y),y.x+=S.x,y.y+=S.y,y.z+=S.z,y.normalize(),c.push(y.x,y.y,y.z),S.copy(x)}for(let C=0;C<=n;C++){const T=r+C*f*i,A=Math.sin(T),P=Math.cos(T);for(let R=0;R<=e.length-1;R++){m.x=e[R].x*A,m.y=e[R].y,m.z=e[R].x*P,s.push(m.x,m.y,m.z),g.x=C/n,g.y=R/(e.length-1),a.push(g.x,g.y);const k=c[3*R+0]*A,z=c[3*R+1],L=c[3*R+0]*P;d.push(k,z,L)}}for(let C=0;C<n;C++)for(let T=0;T<e.length-1;T++){const A=T+C*e.length,P=A,R=A+e.length,k=A+e.length+1,z=A+1;o.push(P,R,z),o.push(k,z,R)}this.setIndex(o),this.setAttribute("position",new xt(s,3)),this.setAttribute("uv",new xt(a,2)),this.setAttribute("normal",new xt(d,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Wb(e.points,e.segments,e.phiStart,e.phiLength)}}class Bv extends Tu{constructor(e=1,n=0){const r=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],i=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(r,i,e,n),this.type="OctahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new Bv(e.radius,e.detail)}}class Gp extends Yt{constructor(e=1,n=1,r=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:n,widthSegments:r,heightSegments:i};const o=e/2,s=n/2,a=Math.floor(r),c=Math.floor(i),d=a+1,f=c+1,m=e/a,g=n/c,y=[],x=[],S=[],_=[];for(let b=0;b<f;b++){const C=b*g-s;for(let T=0;T<d;T++){const A=T*m-o;x.push(A,-C,0),S.push(0,0,1),_.push(T/a),_.push(1-b/c)}}for(let b=0;b<c;b++)for(let C=0;C<a;C++){const T=C+d*b,A=C+d*(b+1),P=C+1+d*(b+1),R=C+1+d*b;y.push(T,A,R),y.push(A,P,R)}this.setIndex(y),this.setAttribute("position",new xt(x,3)),this.setAttribute("normal",new xt(S,3)),this.setAttribute("uv",new xt(_,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Gp(e.width,e.height,e.widthSegments,e.heightSegments)}}class Gb extends Yt{constructor(e=.5,n=1,r=32,i=1,o=0,s=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:n,thetaSegments:r,phiSegments:i,thetaStart:o,thetaLength:s},r=Math.max(3,r),i=Math.max(1,i);const a=[],c=[],d=[],f=[];let m=e;const g=(n-e)/i,y=new J,x=new $e;for(let S=0;S<=i;S++){for(let _=0;_<=r;_++){const b=o+_/r*s;y.x=m*Math.cos(b),y.y=m*Math.sin(b),c.push(y.x,y.y,y.z),d.push(0,0,1),x.x=(y.x/n+1)/2,x.y=(y.y/n+1)/2,f.push(x.x,x.y)}m+=g}for(let S=0;S<i;S++){const _=S*(r+1);for(let b=0;b<r;b++){const C=b+_,T=C,A=C+r+1,P=C+r+2,R=C+1;a.push(T,A,R),a.push(A,P,R)}}this.setIndex(a),this.setAttribute("position",new xt(c,3)),this.setAttribute("normal",new xt(d,3)),this.setAttribute("uv",new xt(f,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Gb(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class jb extends Yt{constructor(e=new Zd([new $e(0,.5),new $e(-.5,-.5),new $e(.5,-.5)]),n=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:n};const r=[],i=[],o=[],s=[];let a=0,c=0;if(Array.isArray(e)===!1)d(e);else for(let f=0;f<e.length;f++)d(e[f]),this.addGroup(a,c,f),a+=c,c=0;this.setIndex(r),this.setAttribute("position",new xt(i,3)),this.setAttribute("normal",new xt(o,3)),this.setAttribute("uv",new xt(s,2));function d(f){const m=i.length/3,g=f.extractPoints(n);let y=g.shape;const x=g.holes;ma.isClockWise(y)===!1&&(y=y.reverse());for(let _=0,b=x.length;_<b;_++){const C=x[_];ma.isClockWise(C)===!0&&(x[_]=C.reverse())}const S=ma.triangulateShape(y,x);for(let _=0,b=x.length;_<b;_++){const C=x[_];y=y.concat(C)}for(let _=0,b=y.length;_<b;_++){const C=y[_];i.push(C.x,C.y,0),o.push(0,0,1),s.push(C.x,C.y)}for(let _=0,b=S.length;_<b;_++){const C=S[_],T=C[0]+m,A=C[1]+m,P=C[2]+m;r.push(T,A,P),c+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),n=this.parameters.shapes;return uZ(n,e)}static fromJSON(e,n){const r=[];for(let i=0,o=e.shapes.length;i<o;i++){const s=n[e.shapes[i]];r.push(s)}return new jb(r,e.curveSegments)}}function uZ(t,e){if(e.shapes=[],Array.isArray(t))for(let n=0,r=t.length;n<r;n++){const i=t[n];e.shapes.push(i.uuid)}else e.shapes.push(t.uuid);return e}class Vv extends Yt{constructor(e=1,n=32,r=16,i=0,o=Math.PI*2,s=0,a=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:n,heightSegments:r,phiStart:i,phiLength:o,thetaStart:s,thetaLength:a},n=Math.max(3,Math.floor(n)),r=Math.max(2,Math.floor(r));const c=Math.min(s+a,Math.PI);let d=0;const f=[],m=new J,g=new J,y=[],x=[],S=[],_=[];for(let b=0;b<=r;b++){const C=[],T=b/r;let A=0;b===0&&s===0?A=.5/n:b===r&&c===Math.PI&&(A=-.5/n);for(let P=0;P<=n;P++){const R=P/n;m.x=-e*Math.cos(i+R*o)*Math.sin(s+T*a),m.y=e*Math.cos(s+T*a),m.z=e*Math.sin(i+R*o)*Math.sin(s+T*a),x.push(m.x,m.y,m.z),g.copy(m).normalize(),S.push(g.x,g.y,g.z),_.push(R+A,1-T),C.push(d++)}f.push(C)}for(let b=0;b<r;b++)for(let C=0;C<n;C++){const T=f[b][C+1],A=f[b][C],P=f[b+1][C],R=f[b+1][C+1];(b!==0||s>0)&&y.push(T,A,R),(b!==r-1||c<Math.PI)&&y.push(A,P,R)}this.setIndex(y),this.setAttribute("position",new xt(x,3)),this.setAttribute("normal",new xt(S,3)),this.setAttribute("uv",new xt(_,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Vv(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class Xb extends Tu{constructor(e=1,n=0){const r=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],i=[2,1,0,0,3,2,1,3,0,2,3,1];super(r,i,e,n),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new Xb(e.radius,e.detail)}}class qb extends Yt{constructor(e=1,n=.4,r=12,i=48,o=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:n,radialSegments:r,tubularSegments:i,arc:o},r=Math.floor(r),i=Math.floor(i);const s=[],a=[],c=[],d=[],f=new J,m=new J,g=new J;for(let y=0;y<=r;y++)for(let x=0;x<=i;x++){const S=x/i*o,_=y/r*Math.PI*2;m.x=(e+n*Math.cos(_))*Math.cos(S),m.y=(e+n*Math.cos(_))*Math.sin(S),m.z=n*Math.sin(_),a.push(m.x,m.y,m.z),f.x=e*Math.cos(S),f.y=e*Math.sin(S),g.subVectors(m,f).normalize(),c.push(g.x,g.y,g.z),d.push(x/i),d.push(y/r)}for(let y=1;y<=r;y++)for(let x=1;x<=i;x++){const S=(i+1)*y+x-1,_=(i+1)*(y-1)+x-1,b=(i+1)*(y-1)+x,C=(i+1)*y+x;s.push(S,_,C),s.push(_,b,C)}this.setIndex(s),this.setAttribute("position",new xt(a,3)),this.setAttribute("normal",new xt(c,3)),this.setAttribute("uv",new xt(d,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new qb(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class Yb extends Yt{constructor(e=1,n=.4,r=64,i=8,o=2,s=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:n,tubularSegments:r,radialSegments:i,p:o,q:s},r=Math.floor(r),i=Math.floor(i);const a=[],c=[],d=[],f=[],m=new J,g=new J,y=new J,x=new J,S=new J,_=new J,b=new J;for(let T=0;T<=r;++T){const A=T/r*o*Math.PI*2;C(A,o,s,e,y),C(A+.01,o,s,e,x),_.subVectors(x,y),b.addVectors(x,y),S.crossVectors(_,b),b.crossVectors(S,_),S.normalize(),b.normalize();for(let P=0;P<=i;++P){const R=P/i*Math.PI*2,k=-n*Math.cos(R),z=n*Math.sin(R);m.x=y.x+(k*b.x+z*S.x),m.y=y.y+(k*b.y+z*S.y),m.z=y.z+(k*b.z+z*S.z),c.push(m.x,m.y,m.z),g.subVectors(m,y).normalize(),d.push(g.x,g.y,g.z),f.push(T/r),f.push(P/i)}}for(let T=1;T<=r;T++)for(let A=1;A<=i;A++){const P=(i+1)*(T-1)+(A-1),R=(i+1)*T+(A-1),k=(i+1)*T+A,z=(i+1)*(T-1)+A;a.push(P,R,z),a.push(R,k,z)}this.setIndex(a),this.setAttribute("position",new xt(c,3)),this.setAttribute("normal",new xt(d,3)),this.setAttribute("uv",new xt(f,2));function C(T,A,P,R,k){const z=Math.cos(T),L=Math.sin(T),O=P/A*T,B=Math.cos(O);k.x=R*(2+B)*.5*z,k.y=R*(2+B)*L*.5,k.z=R*Math.sin(O)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Yb(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class Kb extends Yt{constructor(e=new kM(new J(-1,-1,0),new J(-1,1,0),new J(1,1,0)),n=64,r=1,i=8,o=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:n,radius:r,radialSegments:i,closed:o};const s=e.computeFrenetFrames(n,o);this.tangents=s.tangents,this.normals=s.normals,this.binormals=s.binormals;const a=new J,c=new J,d=new $e;let f=new J;const m=[],g=[],y=[],x=[];S(),this.setIndex(x),this.setAttribute("position",new xt(m,3)),this.setAttribute("normal",new xt(g,3)),this.setAttribute("uv",new xt(y,2));function S(){for(let T=0;T<n;T++)_(T);_(o===!1?n:0),C(),b()}function _(T){f=e.getPointAt(T/n,f);const A=s.normals[T],P=s.binormals[T];for(let R=0;R<=i;R++){const k=R/i*Math.PI*2,z=Math.sin(k),L=-Math.cos(k);c.x=L*A.x+z*P.x,c.y=L*A.y+z*P.y,c.z=L*A.z+z*P.z,c.normalize(),g.push(c.x,c.y,c.z),a.x=f.x+r*c.x,a.y=f.y+r*c.y,a.z=f.z+r*c.z,m.push(a.x,a.y,a.z)}}function b(){for(let T=1;T<=n;T++)for(let A=1;A<=i;A++){const P=(i+1)*(T-1)+(A-1),R=(i+1)*T+(A-1),k=(i+1)*T+A,z=(i+1)*(T-1)+A;x.push(P,R,z),x.push(R,k,z)}}function C(){for(let T=0;T<=n;T++)for(let A=0;A<=i;A++)d.x=T/n,d.y=A/i,y.push(d.x,d.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new Kb(new I1[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class az extends Yt{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const n=[],r=new Set,i=new J,o=new J;if(e.index!==null){const s=e.attributes.position,a=e.index;let c=e.groups;c.length===0&&(c=[{start:0,count:a.count,materialIndex:0}]);for(let d=0,f=c.length;d<f;++d){const m=c[d],g=m.start,y=m.count;for(let x=g,S=g+y;x<S;x+=3)for(let _=0;_<3;_++){const b=a.getX(x+_),C=a.getX(x+(_+1)%3);i.fromBufferAttribute(s,b),o.fromBufferAttribute(s,C),jR(i,o,r)===!0&&(n.push(i.x,i.y,i.z),n.push(o.x,o.y,o.z))}}}else{const s=e.attributes.position;for(let a=0,c=s.count/3;a<c;a++)for(let d=0;d<3;d++){const f=3*a+d,m=3*a+(d+1)%3;i.fromBufferAttribute(s,f),o.fromBufferAttribute(s,m),jR(i,o,r)===!0&&(n.push(i.x,i.y,i.z),n.push(o.x,o.y,o.z))}}this.setAttribute("position",new xt(n,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function jR(t,e,n){const r=`${t.x},${t.y},${t.z}-${e.x},${e.y},${e.z}`,i=`${e.x},${e.y},${e.z}-${t.x},${t.y},${t.z}`;return n.has(r)===!0||n.has(i)===!0?!1:(n.add(r),n.add(i),!0)}var XR=Object.freeze({__proto__:null,BoxGeometry:df,CapsuleGeometry:zb,CircleGeometry:Ub,ConeGeometry:Uv,CylinderGeometry:zv,DodecahedronGeometry:Bb,EdgesGeometry:ZF,ExtrudeGeometry:$b,IcosahedronGeometry:Hb,LatheGeometry:Wb,OctahedronGeometry:Bv,PlaneGeometry:Gp,PolyhedronGeometry:Tu,RingGeometry:Gb,ShapeGeometry:jb,SphereGeometry:Vv,TetrahedronGeometry:Xb,TorusGeometry:qb,TorusKnotGeometry:Yb,TubeGeometry:Kb,WireframeGeometry:az});class lz extends ti{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new ct(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class cz extends Os{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class Zb extends ti{constructor(e){super(),this.isMeshStandardMaterial=!0,this.type="MeshStandardMaterial",this.defines={STANDARD:""},this.color=new ct(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ct(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Cu,this.normalScale=new $e(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new ss,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class uz extends Zb{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new $e(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return Jt(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(n){this.ior=(1+.4*n)/(1-.4*n)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new ct(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new ct(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new ct(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get dispersion(){return this._dispersion}set dispersion(e){this._dispersion>0!=e>0&&this.version++,this._dispersion=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.dispersion=e.dispersion,this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class LM extends ti{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new ct(16777215),this.specular=new ct(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ct(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Cu,this.normalScale=new $e(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new ss,this.combine=Ov,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class dz extends ti{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new ct(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ct(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Cu,this.normalScale=new $e(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class fz extends ti{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Cu,this.normalScale=new $e(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class hz extends ti{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new ct(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ct(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Cu,this.normalScale=new $e(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new ss,this.combine=Ov,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class NM extends ti{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=EF,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class DM extends ti{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}class pz extends ti{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new ct(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Cu,this.normalScale=new $e(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class mz extends pi{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function Gd(t,e){return!t||t.constructor===e?t:typeof e.BYTES_PER_ELEMENT=="number"?new e(t):Array.prototype.slice.call(t)}function gz(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function vz(t){function e(i,o){return t[i]-t[o]}const n=t.length,r=new Array(n);for(let i=0;i!==n;++i)r[i]=i;return r.sort(e),r}function FE(t,e,n){const r=t.length,i=new t.constructor(r);for(let o=0,s=0;s!==r;++o){const a=n[o]*e;for(let c=0;c!==e;++c)i[s++]=t[a+c]}return i}function FM(t,e,n,r){let i=1,o=t[0];for(;o!==void 0&&o[r]===void 0;)o=t[i++];if(o===void 0)return;let s=o[r];if(s!==void 0)if(Array.isArray(s))do s=o[r],s!==void 0&&(e.push(o.time),n.push(...s)),o=t[i++];while(o!==void 0);else if(s.toArray!==void 0)do s=o[r],s!==void 0&&(e.push(o.time),s.toArray(n,n.length)),o=t[i++];while(o!==void 0);else do s=o[r],s!==void 0&&(e.push(o.time),n.push(s)),o=t[i++];while(o!==void 0)}function dZ(t,e,n,r,i=30){const o=t.clone();o.name=e;const s=[];for(let c=0;c<o.tracks.length;++c){const d=o.tracks[c],f=d.getValueSize(),m=[],g=[];for(let y=0;y<d.times.length;++y){const x=d.times[y]*i;if(!(x<n||x>=r)){m.push(d.times[y]);for(let S=0;S<f;++S)g.push(d.values[y*f+S])}}m.length!==0&&(d.times=Gd(m,d.times.constructor),d.values=Gd(g,d.values.constructor),s.push(d))}o.tracks=s;let a=1/0;for(let c=0;c<o.tracks.length;++c)a>o.tracks[c].times[0]&&(a=o.tracks[c].times[0]);for(let c=0;c<o.tracks.length;++c)o.tracks[c].shift(-1*a);return o.resetDuration(),o}function fZ(t,e=0,n=t,r=30){r<=0&&(r=30);const i=n.tracks.length,o=e/r;for(let s=0;s<i;++s){const a=n.tracks[s],c=a.ValueTypeName;if(c==="bool"||c==="string")continue;const d=t.tracks.find(function(b){return b.name===a.name&&b.ValueTypeName===c});if(d===void 0)continue;let f=0;const m=a.getValueSize();a.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(f=m/3);let g=0;const y=d.getValueSize();d.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(g=y/3);const x=a.times.length-1;let S;if(o<=a.times[0]){const b=f,C=m-f;S=a.values.slice(b,C)}else if(o>=a.times[x]){const b=x*m+f,C=b+m-f;S=a.values.slice(b,C)}else{const b=a.createInterpolant(),C=f,T=m-f;b.evaluate(o),S=b.resultBuffer.slice(C,T)}c==="quaternion"&&new Ri().fromArray(S).normalize().conjugate().toArray(S);const _=d.times.length;for(let b=0;b<_;++b){const C=b*y+g;if(c==="quaternion")Ri.multiplyQuaternionsFlat(d.values,C,S,0,d.values,C);else{const T=y-g*2;for(let A=0;A<T;++A)d.values[C+A]-=S[A]}}}return t.blendMode=_M,t}class hZ{static convertArray(e,n){return Gd(e,n)}static isTypedArray(e){return gz(e)}static getKeyframeOrder(e){return vz(e)}static sortedArray(e,n,r){return FE(e,n,r)}static flattenJSON(e,n,r,i){FM(e,n,r,i)}static subclip(e,n,r,i,o=30){return dZ(e,n,r,i,o)}static makeClipAdditive(e,n=0,r=e,i=30){return fZ(e,n,r,i)}}class $v{constructor(e,n,r,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=i!==void 0?i:new n.constructor(r),this.sampleValues=n,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}evaluate(e){const n=this.parameterPositions;let r=this._cachedIndex,i=n[r],o=n[r-1];e:{t:{let s;n:{r:if(!(e<i)){for(let a=r+2;;){if(i===void 0){if(e<o)break r;return r=n.length,this._cachedIndex=r,this.copySampleValue_(r-1)}if(r===a)break;if(o=i,i=n[++r],e<i)break t}s=n.length;break n}if(!(e>=o)){const a=n[1];e<a&&(r=2,o=a);for(let c=r-2;;){if(o===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===c)break;if(i=o,o=n[--r-1],e>=o)break t}s=r,r=0;break n}break e}for(;r<s;){const a=r+s>>>1;e<n[a]?s=a:r=a+1}if(i=n[r],o=n[r-1],o===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===void 0)return r=n.length,this._cachedIndex=r,this.copySampleValue_(r-1)}this._cachedIndex=r,this.intervalChanged_(r,o,i)}return this.interpolate_(r,o,e,i)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const n=this.resultBuffer,r=this.sampleValues,i=this.valueSize,o=e*i;for(let s=0;s!==i;++s)n[s]=r[o+s];return n}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class yz extends $v{constructor(e,n,r,i){super(e,n,r,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Vd,endingEnd:Vd}}intervalChanged_(e,n,r){const i=this.parameterPositions;let o=e-2,s=e+1,a=i[o],c=i[s];if(a===void 0)switch(this.getSettings_().endingStart){case $d:o=e,a=2*n-r;break;case av:o=i.length-2,a=n+i[o]-i[o+1];break;default:o=e,a=r}if(c===void 0)switch(this.getSettings_().endingEnd){case $d:s=e,c=2*r-n;break;case av:s=1,c=r+i[1]-i[0];break;default:s=e-1,c=n}const d=(r-n)*.5,f=this.valueSize;this._weightPrev=d/(n-a),this._weightNext=d/(c-r),this._offsetPrev=o*f,this._offsetNext=s*f}interpolate_(e,n,r,i){const o=this.resultBuffer,s=this.sampleValues,a=this.valueSize,c=e*a,d=c-a,f=this._offsetPrev,m=this._offsetNext,g=this._weightPrev,y=this._weightNext,x=(r-n)/(i-n),S=x*x,_=S*x,b=-g*_+2*g*S-g*x,C=(1+g)*_+(-1.5-2*g)*S+(-.5+g)*x+1,T=(-1-y)*_+(1.5+y)*S+.5*x,A=y*_-y*S;for(let P=0;P!==a;++P)o[P]=b*s[f+P]+C*s[d+P]+T*s[c+P]+A*s[m+P];return o}}class zM extends $v{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e,n,r,i){const o=this.resultBuffer,s=this.sampleValues,a=this.valueSize,c=e*a,d=c-a,f=(r-n)/(i-n),m=1-f;for(let g=0;g!==a;++g)o[g]=s[d+g]*m+s[c+g]*f;return o}}class xz extends $v{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e){return this.copySampleValue_(e-1)}}class Ns{constructor(e,n,r,i){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(n===void 0||n.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Gd(n,this.TimeBufferType),this.values=Gd(r,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}static toJSON(e){const n=e.constructor;let r;if(n.toJSON!==this.toJSON)r=n.toJSON(e);else{r={name:e.name,times:Gd(e.times,Array),values:Gd(e.values,Array)};const i=e.getInterpolation();i!==e.DefaultInterpolation&&(r.interpolation=i)}return r.type=e.ValueTypeName,r}InterpolantFactoryMethodDiscrete(e){return new xz(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new zM(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new yz(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let n;switch(e){case sv:n=this.InterpolantFactoryMethodDiscrete;break;case T1:n=this.InterpolantFactoryMethodLinear;break;case Ex:n=this.InterpolantFactoryMethodSmooth;break}if(n===void 0){const r="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(r);return console.warn("THREE.KeyframeTrack:",r),this}return this.createInterpolant=n,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return sv;case this.InterpolantFactoryMethodLinear:return T1;case this.InterpolantFactoryMethodSmooth:return Ex}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const n=this.times;for(let r=0,i=n.length;r!==i;++r)n[r]+=e}return this}scale(e){if(e!==1){const n=this.times;for(let r=0,i=n.length;r!==i;++r)n[r]*=e}return this}trim(e,n){const r=this.times,i=r.length;let o=0,s=i-1;for(;o!==i&&r[o]<e;)++o;for(;s!==-1&&r[s]>n;)--s;if(++s,o!==0||s!==i){o>=s&&(s=Math.max(s,1),o=s-1);const a=this.getValueSize();this.times=r.slice(o,s),this.values=this.values.slice(o*a,s*a)}return this}validate(){let e=!0;const n=this.getValueSize();n-Math.floor(n)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const r=this.times,i=this.values,o=r.length;o===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let s=null;for(let a=0;a!==o;a++){const c=r[a];if(typeof c=="number"&&isNaN(c)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,c),e=!1;break}if(s!==null&&s>c){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,c,s),e=!1;break}s=c}if(i!==void 0&&gz(i))for(let a=0,c=i.length;a!==c;++a){const d=i[a];if(isNaN(d)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,d),e=!1;break}}return e}optimize(){const e=this.times.slice(),n=this.values.slice(),r=this.getValueSize(),i=this.getInterpolation()===Ex,o=e.length-1;let s=1;for(let a=1;a<o;++a){let c=!1;const d=e[a],f=e[a+1];if(d!==f&&(a!==1||d!==e[0]))if(i)c=!0;else{const m=a*r,g=m-r,y=m+r;for(let x=0;x!==r;++x){const S=n[m+x];if(S!==n[g+x]||S!==n[y+x]){c=!0;break}}}if(c){if(a!==s){e[s]=e[a];const m=a*r,g=s*r;for(let y=0;y!==r;++y)n[g+y]=n[m+y]}++s}}if(o>0){e[s]=e[o];for(let a=o*r,c=s*r,d=0;d!==r;++d)n[c+d]=n[a+d];++s}return s!==e.length?(this.times=e.slice(0,s),this.values=n.slice(0,s*r)):(this.times=e,this.values=n),this}clone(){const e=this.times.slice(),n=this.values.slice(),r=this.constructor,i=new r(this.name,e,n);return i.createInterpolant=this.createInterpolant,i}}Ns.prototype.ValueTypeName="";Ns.prototype.TimeBufferType=Float32Array;Ns.prototype.ValueBufferType=Float32Array;Ns.prototype.DefaultInterpolation=T1;class ff extends Ns{constructor(e,n,r){super(e,n,r)}}ff.prototype.ValueTypeName="bool";ff.prototype.ValueBufferType=Array;ff.prototype.DefaultInterpolation=sv;ff.prototype.InterpolantFactoryMethodLinear=void 0;ff.prototype.InterpolantFactoryMethodSmooth=void 0;class UM extends Ns{constructor(e,n,r,i){super(e,n,r,i)}}UM.prototype.ValueTypeName="color";class mv extends Ns{constructor(e,n,r,i){super(e,n,r,i)}}mv.prototype.ValueTypeName="number";class bz extends $v{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e,n,r,i){const o=this.resultBuffer,s=this.sampleValues,a=this.valueSize,c=(r-n)/(i-n);let d=e*a;for(let f=d+a;d!==f;d+=4)Ri.slerpFlat(o,0,s,d-a,s,d,c);return o}}class Hv extends Ns{constructor(e,n,r,i){super(e,n,r,i)}InterpolantFactoryMethodLinear(e){return new bz(this.times,this.values,this.getValueSize(),e)}}Hv.prototype.ValueTypeName="quaternion";Hv.prototype.InterpolantFactoryMethodSmooth=void 0;class hf extends Ns{constructor(e,n,r){super(e,n,r)}}hf.prototype.ValueTypeName="string";hf.prototype.ValueBufferType=Array;hf.prototype.DefaultInterpolation=sv;hf.prototype.InterpolantFactoryMethodLinear=void 0;hf.prototype.InterpolantFactoryMethodSmooth=void 0;class gv extends Ns{constructor(e,n,r,i){super(e,n,r,i)}}gv.prototype.ValueTypeName="vector";class vv{constructor(e="",n=-1,r=[],i=Pb){this.name=e,this.tracks=r,this.duration=n,this.blendMode=i,this.uuid=os(),this.duration<0&&this.resetDuration()}static parse(e){const n=[],r=e.tracks,i=1/(e.fps||1);for(let s=0,a=r.length;s!==a;++s)n.push(mZ(r[s]).scale(i));const o=new this(e.name,e.duration,n,e.blendMode);return o.uuid=e.uuid,o}static toJSON(e){const n=[],r=e.tracks,i={name:e.name,duration:e.duration,tracks:n,uuid:e.uuid,blendMode:e.blendMode};for(let o=0,s=r.length;o!==s;++o)n.push(Ns.toJSON(r[o]));return i}static CreateFromMorphTargetSequence(e,n,r,i){const o=n.length,s=[];for(let a=0;a<o;a++){let c=[],d=[];c.push((a+o-1)%o,a,(a+1)%o),d.push(0,1,0);const f=vz(c);c=FE(c,1,f),d=FE(d,1,f),!i&&c[0]===0&&(c.push(o),d.push(d[0])),s.push(new mv(".morphTargetInfluences["+n[a].name+"]",c,d).scale(1/r))}return new this(e,-1,s)}static findByName(e,n){let r=e;if(!Array.isArray(e)){const i=e;r=i.geometry&&i.geometry.animations||i.animations}for(let i=0;i<r.length;i++)if(r[i].name===n)return r[i];return null}static CreateClipsFromMorphTargetSequences(e,n,r){const i={},o=/^([\w-]*?)([\d]+)$/;for(let a=0,c=e.length;a<c;a++){const d=e[a],f=d.name.match(o);if(f&&f.length>1){const m=f[1];let g=i[m];g||(i[m]=g=[]),g.push(d)}}const s=[];for(const a in i)s.push(this.CreateFromMorphTargetSequence(a,i[a],n,r));return s}static parseAnimation(e,n){if(console.warn("THREE.AnimationClip: parseAnimation() is deprecated and will be removed with r185"),!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const r=function(m,g,y,x,S){if(y.length!==0){const _=[],b=[];FM(y,_,b,x),_.length!==0&&S.push(new m(g,_,b))}},i=[],o=e.name||"default",s=e.fps||30,a=e.blendMode;let c=e.length||-1;const d=e.hierarchy||[];for(let m=0;m<d.length;m++){const g=d[m].keys;if(!(!g||g.length===0))if(g[0].morphTargets){const y={};let x;for(x=0;x<g.length;x++)if(g[x].morphTargets)for(let S=0;S<g[x].morphTargets.length;S++)y[g[x].morphTargets[S]]=-1;for(const S in y){const _=[],b=[];for(let C=0;C!==g[x].morphTargets.length;++C){const T=g[x];_.push(T.time),b.push(T.morphTarget===S?1:0)}i.push(new mv(".morphTargetInfluence["+S+"]",_,b))}c=y.length*s}else{const y=".bones["+n[m].name+"]";r(gv,y+".position",g,"pos",i),r(Hv,y+".quaternion",g,"rot",i),r(gv,y+".scale",g,"scl",i)}}return i.length===0?null:new this(o,c,i,a)}resetDuration(){const e=this.tracks;let n=0;for(let r=0,i=e.length;r!==i;++r){const o=this.tracks[r];n=Math.max(n,o.times[o.times.length-1])}return this.duration=n,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let n=0;n<this.tracks.length;n++)e=e&&this.tracks[n].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let n=0;n<this.tracks.length;n++)e.push(this.tracks[n].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function pZ(t){switch(t.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return mv;case"vector":case"vector2":case"vector3":case"vector4":return gv;case"color":return UM;case"quaternion":return Hv;case"bool":case"boolean":return ff;case"string":return hf}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+t)}function mZ(t){if(t.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=pZ(t.type);if(t.times===void 0){const n=[],r=[];FM(t.keys,n,r,"value"),t.times=n,t.values=r}return e.parse!==void 0?e.parse(t):new e(t.name,t.times,t.values,t.interpolation)}const ec={enabled:!1,files:{},add:function(t,e){this.enabled!==!1&&(this.files[t]=e)},get:function(t){if(this.enabled!==!1)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}};class BM{constructor(e,n,r){const i=this;let o=!1,s=0,a=0,c;const d=[];this.onStart=void 0,this.onLoad=e,this.onProgress=n,this.onError=r,this.itemStart=function(f){a++,o===!1&&i.onStart!==void 0&&i.onStart(f,s,a),o=!0},this.itemEnd=function(f){s++,i.onProgress!==void 0&&i.onProgress(f,s,a),s===a&&(o=!1,i.onLoad!==void 0&&i.onLoad())},this.itemError=function(f){i.onError!==void 0&&i.onError(f)},this.resolveURL=function(f){return c?c(f):f},this.setURLModifier=function(f){return c=f,this},this.addHandler=function(f,m){return d.push(f,m),this},this.removeHandler=function(f){const m=d.indexOf(f);return m!==-1&&d.splice(m,2),this},this.getHandler=function(f){for(let m=0,g=d.length;m<g;m+=2){const y=d[m],x=d[m+1];if(y.global&&(y.lastIndex=0),y.test(f))return x}return null}}}const ap=new BM;let vo=class{constructor(e){this.manager=e!==void 0?e:ap,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,n){const r=this;return new Promise(function(i,o){r.load(e,i,n,o)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}};vo.DEFAULT_MATERIAL_NAME="__DEFAULT";const Hl={};class gZ extends Error{constructor(e,n){super(e),this.response=n}}class Ja extends vo{constructor(e){super(e),this.mimeType="",this.responseType=""}load(e,n,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const o=ec.get(e);if(o!==void 0)return this.manager.itemStart(e),setTimeout(()=>{n&&n(o),this.manager.itemEnd(e)},0),o;if(Hl[e]!==void 0){Hl[e].push({onLoad:n,onProgress:r,onError:i});return}Hl[e]=[],Hl[e].push({onLoad:n,onProgress:r,onError:i});const s=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),a=this.mimeType,c=this.responseType;fetch(s).then(d=>{if(d.status===200||d.status===0){if(d.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||d.body===void 0||d.body.getReader===void 0)return d;const f=Hl[e],m=d.body.getReader(),g=d.headers.get("X-File-Size")||d.headers.get("Content-Length"),y=g?parseInt(g):0,x=y!==0;let S=0;const _=new ReadableStream({start(b){C();function C(){m.read().then(({done:T,value:A})=>{if(T)b.close();else{S+=A.byteLength;const P=new ProgressEvent("progress",{lengthComputable:x,loaded:S,total:y});for(let R=0,k=f.length;R<k;R++){const z=f[R];z.onProgress&&z.onProgress(P)}b.enqueue(A),C()}},T=>{b.error(T)})}}});return new Response(_)}else throw new gZ(`fetch for "${d.url}" responded with ${d.status}: ${d.statusText}`,d)}).then(d=>{switch(c){case"arraybuffer":return d.arrayBuffer();case"blob":return d.blob();case"document":return d.text().then(f=>new DOMParser().parseFromString(f,a));case"json":return d.json();default:if(a==="")return d.text();{const m=/charset="?([^;"\s]*)"?/i.exec(a),g=m&&m[1]?m[1].toLowerCase():void 0,y=new TextDecoder(g);return d.arrayBuffer().then(x=>y.decode(x))}}}).then(d=>{ec.add(e,d);const f=Hl[e];delete Hl[e];for(let m=0,g=f.length;m<g;m++){const y=f[m];y.onLoad&&y.onLoad(d)}}).catch(d=>{const f=Hl[e];if(f===void 0)throw this.manager.itemError(e),d;delete Hl[e];for(let m=0,g=f.length;m<g;m++){const y=f[m];y.onError&&y.onError(d)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class vZ extends vo{constructor(e){super(e)}load(e,n,r,i){const o=this,s=new Ja(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,function(a){try{n(o.parse(JSON.parse(a)))}catch(c){i?i(c):console.error(c),o.manager.itemError(e)}},r,i)}parse(e){const n=[];for(let r=0;r<e.length;r++){const i=vv.parse(e[r]);n.push(i)}return n}}class yZ extends vo{constructor(e){super(e)}load(e,n,r,i){const o=this,s=[],a=new Db,c=new Ja(this.manager);c.setPath(this.path),c.setResponseType("arraybuffer"),c.setRequestHeader(this.requestHeader),c.setWithCredentials(o.withCredentials);let d=0;function f(m){c.load(e[m],function(g){const y=o.parse(g,!0);s[m]={width:y.width,height:y.height,format:y.format,mipmaps:y.mipmaps},d+=1,d===6&&(y.mipmapCount===1&&(a.minFilter=ei),a.image=s,a.format=y.format,a.needsUpdate=!0,n&&n(a))},r,i)}if(Array.isArray(e))for(let m=0,g=e.length;m<g;++m)f(m);else c.load(e,function(m){const g=o.parse(m,!0);if(g.isCubemap){const y=g.mipmaps.length/g.mipmapCount;for(let x=0;x<y;x++){s[x]={mipmaps:[]};for(let S=0;S<g.mipmapCount;S++)s[x].mipmaps.push(g.mipmaps[x*g.mipmapCount+S]),s[x].format=g.format,s[x].width=g.width,s[x].height=g.height}a.image=s}else a.image.width=g.width,a.image.height=g.height,a.mipmaps=g.mipmaps;g.mipmapCount===1&&(a.minFilter=ei),a.format=g.format,a.needsUpdate=!0,n&&n(a)},r,i);return a}}class yv extends vo{constructor(e){super(e)}load(e,n,r,i){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const o=this,s=ec.get(e);if(s!==void 0)return o.manager.itemStart(e),setTimeout(function(){n&&n(s),o.manager.itemEnd(e)},0),s;const a=dv("img");function c(){f(),ec.add(e,this),n&&n(this),o.manager.itemEnd(e)}function d(m){f(),i&&i(m),o.manager.itemError(e),o.manager.itemEnd(e)}function f(){a.removeEventListener("load",c,!1),a.removeEventListener("error",d,!1)}return a.addEventListener("load",c,!1),a.addEventListener("error",d,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(a.crossOrigin=this.crossOrigin),o.manager.itemStart(e),a.src=e,a}}class xZ extends vo{constructor(e){super(e)}load(e,n,r,i){const o=new Fv;o.colorSpace=co;const s=new yv(this.manager);s.setCrossOrigin(this.crossOrigin),s.setPath(this.path);let a=0;function c(d){s.load(e[d],function(f){o.images[d]=f,a++,a===6&&(o.needsUpdate=!0,n&&n(o))},void 0,i)}for(let d=0;d<e.length;++d)c(d);return o}}class bZ extends vo{constructor(e){super(e)}load(e,n,r,i){const o=this,s=new qa,a=new Ja(this.manager);return a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setPath(this.path),a.setWithCredentials(o.withCredentials),a.load(e,function(c){let d;try{d=o.parse(c)}catch(f){if(i!==void 0)i(f);else{console.error(f);return}}d.image!==void 0?s.image=d.image:d.data!==void 0&&(s.image.width=d.width,s.image.height=d.height,s.image.data=d.data),s.wrapS=d.wrapS!==void 0?d.wrapS:Ps,s.wrapT=d.wrapT!==void 0?d.wrapT:Ps,s.magFilter=d.magFilter!==void 0?d.magFilter:ei,s.minFilter=d.minFilter!==void 0?d.minFilter:ei,s.anisotropy=d.anisotropy!==void 0?d.anisotropy:1,d.colorSpace!==void 0&&(s.colorSpace=d.colorSpace),d.flipY!==void 0&&(s.flipY=d.flipY),d.format!==void 0&&(s.format=d.format),d.type!==void 0&&(s.type=d.type),d.mipmaps!==void 0&&(s.mipmaps=d.mipmaps,s.minFilter=Wa),d.mipmapCount===1&&(s.minFilter=ei),d.generateMipmaps!==void 0&&(s.generateMipmaps=d.generateMipmaps),s.needsUpdate=!0,n&&n(s,d)},r,i),s}}class _Z extends vo{constructor(e){super(e)}load(e,n,r,i){const o=new _r,s=new yv(this.manager);return s.setCrossOrigin(this.crossOrigin),s.setPath(this.path),s.load(e,function(a){o.image=a,o.needsUpdate=!0,n!==void 0&&n(o)},r,i),o}}class Pu extends Pn{constructor(e,n=1){super(),this.isLight=!0,this.type="Light",this.color=new ct(e),this.intensity=n}dispose(){}copy(e,n){return super.copy(e,n),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const n=super.toJSON(e);return n.object.color=this.color.getHex(),n.object.intensity=this.intensity,this.groundColor!==void 0&&(n.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(n.object.distance=this.distance),this.angle!==void 0&&(n.object.angle=this.angle),this.decay!==void 0&&(n.object.decay=this.decay),this.penumbra!==void 0&&(n.object.penumbra=this.penumbra),this.shadow!==void 0&&(n.object.shadow=this.shadow.toJSON()),this.target!==void 0&&(n.object.target=this.target.uuid),n}}class _z extends Pu{constructor(e,n,r){super(e,r),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(Pn.DEFAULT_UP),this.updateMatrix(),this.groundColor=new ct(n)}copy(e,n){return super.copy(e,n),this.groundColor.copy(e.groundColor),this}}const GS=new Ht,qR=new J,YR=new J;class VM{constructor(e){this.camera=e,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new $e(512,512),this.mapType=ks,this.map=null,this.mapPass=null,this.matrix=new Ht,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Wp,this._frameExtents=new $e(1,1),this._viewportCount=1,this._viewports=[new Mn(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const n=this.camera,r=this.matrix;qR.setFromMatrixPosition(e.matrixWorld),n.position.copy(qR),YR.setFromMatrixPosition(e.target.matrixWorld),n.lookAt(YR),n.updateMatrixWorld(),GS.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(GS),r.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),r.multiply(GS)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.intensity=e.intensity,this.bias=e.bias,this.radius=e.radius,this.autoUpdate=e.autoUpdate,this.needsUpdate=e.needsUpdate,this.normalBias=e.normalBias,this.blurSamples=e.blurSamples,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.intensity!==1&&(e.intensity=this.intensity),this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class SZ extends VM{constructor(){super(new yr(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const n=this.camera,r=Mp*2*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height,o=e.distance||n.far;(r!==n.fov||i!==n.aspect||o!==n.far)&&(n.fov=r,n.aspect=i,n.far=o,n.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class Sz extends Pu{constructor(e,n,r=0,i=Math.PI/3,o=0,s=2){super(e,n),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Pn.DEFAULT_UP),this.updateMatrix(),this.target=new Pn,this.distance=r,this.angle=i,this.penumbra=o,this.decay=s,this.map=null,this.shadow=new SZ}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const KR=new Ht,ug=new J,jS=new J;class wZ extends VM{constructor(){super(new yr(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new $e(4,2),this._viewportCount=6,this._viewports=[new Mn(2,1,1,1),new Mn(0,1,1,1),new Mn(3,1,1,1),new Mn(1,1,1,1),new Mn(3,0,1,1),new Mn(1,0,1,1)],this._cubeDirections=[new J(1,0,0),new J(-1,0,0),new J(0,0,1),new J(0,0,-1),new J(0,1,0),new J(0,-1,0)],this._cubeUps=[new J(0,1,0),new J(0,1,0),new J(0,1,0),new J(0,1,0),new J(0,0,1),new J(0,0,-1)]}updateMatrices(e,n=0){const r=this.camera,i=this.matrix,o=e.distance||r.far;o!==r.far&&(r.far=o,r.updateProjectionMatrix()),ug.setFromMatrixPosition(e.matrixWorld),r.position.copy(ug),jS.copy(r.position),jS.add(this._cubeDirections[n]),r.up.copy(this._cubeUps[n]),r.lookAt(jS),r.updateMatrixWorld(),i.makeTranslation(-ug.x,-ug.y,-ug.z),KR.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),this._frustum.setFromProjectionMatrix(KR)}}class wz extends Pu{constructor(e,n,r=0,i=2){super(e,n),this.isPointLight=!0,this.type="PointLight",this.distance=r,this.decay=i,this.shadow=new wZ}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class Ya extends Dv{constructor(e=-1,n=1,r=1,i=-1,o=.1,s=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=n,this.top=r,this.bottom=i,this.near=o,this.far=s,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,n,r,i,o,s){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=i,this.view.width=o,this.view.height=s,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),n=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let o=r-e,s=r+e,a=i+n,c=i-n;if(this.view!==null&&this.view.enabled){const d=(this.right-this.left)/this.view.fullWidth/this.zoom,f=(this.top-this.bottom)/this.view.fullHeight/this.zoom;o+=d*this.view.offsetX,s=o+d*this.view.width,a-=f*this.view.offsetY,c=a-f*this.view.height}this.projectionMatrix.makeOrthographic(o,s,a,c,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.zoom=this.zoom,n.object.left=this.left,n.object.right=this.right,n.object.top=this.top,n.object.bottom=this.bottom,n.object.near=this.near,n.object.far=this.far,this.view!==null&&(n.object.view=Object.assign({},this.view)),n}}class EZ extends VM{constructor(){super(new Ya(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class Ez extends Pu{constructor(e,n){super(e,n),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Pn.DEFAULT_UP),this.updateMatrix(),this.target=new Pn,this.shadow=new EZ}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class Cz extends Pu{constructor(e,n){super(e,n),this.isAmbientLight=!0,this.type="AmbientLight"}}class Mz extends Pu{constructor(e,n,r=10,i=10){super(e,n),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=r,this.height=i}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const n=super.toJSON(e);return n.object.width=this.width,n.object.height=this.height,n}}class Tz{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new J)}set(e){for(let n=0;n<9;n++)this.coefficients[n].copy(e[n]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,n){const r=e.x,i=e.y,o=e.z,s=this.coefficients;return n.copy(s[0]).multiplyScalar(.282095),n.addScaledVector(s[1],.488603*i),n.addScaledVector(s[2],.488603*o),n.addScaledVector(s[3],.488603*r),n.addScaledVector(s[4],1.092548*(r*i)),n.addScaledVector(s[5],1.092548*(i*o)),n.addScaledVector(s[6],.315392*(3*o*o-1)),n.addScaledVector(s[7],1.092548*(r*o)),n.addScaledVector(s[8],.546274*(r*r-i*i)),n}getIrradianceAt(e,n){const r=e.x,i=e.y,o=e.z,s=this.coefficients;return n.copy(s[0]).multiplyScalar(.886227),n.addScaledVector(s[1],2*.511664*i),n.addScaledVector(s[2],2*.511664*o),n.addScaledVector(s[3],2*.511664*r),n.addScaledVector(s[4],2*.429043*r*i),n.addScaledVector(s[5],2*.429043*i*o),n.addScaledVector(s[6],.743125*o*o-.247708),n.addScaledVector(s[7],2*.429043*r*o),n.addScaledVector(s[8],.429043*(r*r-i*i)),n}add(e){for(let n=0;n<9;n++)this.coefficients[n].add(e.coefficients[n]);return this}addScaledSH(e,n){for(let r=0;r<9;r++)this.coefficients[r].addScaledVector(e.coefficients[r],n);return this}scale(e){for(let n=0;n<9;n++)this.coefficients[n].multiplyScalar(e);return this}lerp(e,n){for(let r=0;r<9;r++)this.coefficients[r].lerp(e.coefficients[r],n);return this}equals(e){for(let n=0;n<9;n++)if(!this.coefficients[n].equals(e.coefficients[n]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,n=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].fromArray(e,n+i*3);return this}toArray(e=[],n=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].toArray(e,n+i*3);return e}static getBasisAt(e,n){const r=e.x,i=e.y,o=e.z;n[0]=.282095,n[1]=.488603*i,n[2]=.488603*o,n[3]=.488603*r,n[4]=1.092548*r*i,n[5]=1.092548*i*o,n[6]=.315392*(3*o*o-1),n[7]=1.092548*r*o,n[8]=.546274*(r*r-i*i)}}class Pz extends Pu{constructor(e=new Tz,n=1){super(void 0,n),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const n=super.toJSON(e);return n.object.sh=this.sh.toArray(),n}}class Jb extends vo{constructor(e){super(e),this.textures={}}load(e,n,r,i){const o=this,s=new Ja(o.manager);s.setPath(o.path),s.setRequestHeader(o.requestHeader),s.setWithCredentials(o.withCredentials),s.load(e,function(a){try{n(o.parse(JSON.parse(a)))}catch(c){i?i(c):console.error(c),o.manager.itemError(e)}},r,i)}parse(e){const n=this.textures;function r(o){return n[o]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",o),n[o]}const i=this.createMaterialFromType(e.type);if(e.uuid!==void 0&&(i.uuid=e.uuid),e.name!==void 0&&(i.name=e.name),e.color!==void 0&&i.color!==void 0&&i.color.setHex(e.color),e.roughness!==void 0&&(i.roughness=e.roughness),e.metalness!==void 0&&(i.metalness=e.metalness),e.sheen!==void 0&&(i.sheen=e.sheen),e.sheenColor!==void 0&&(i.sheenColor=new ct().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(i.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&i.emissive!==void 0&&i.emissive.setHex(e.emissive),e.specular!==void 0&&i.specular!==void 0&&i.specular.setHex(e.specular),e.specularIntensity!==void 0&&(i.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&i.specularColor!==void 0&&i.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(i.shininess=e.shininess),e.clearcoat!==void 0&&(i.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=e.clearcoatRoughness),e.dispersion!==void 0&&(i.dispersion=e.dispersion),e.iridescence!==void 0&&(i.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(i.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(i.transmission=e.transmission),e.thickness!==void 0&&(i.thickness=e.thickness),e.attenuationDistance!==void 0&&(i.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&i.attenuationColor!==void 0&&i.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(i.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(i.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(i.fog=e.fog),e.flatShading!==void 0&&(i.flatShading=e.flatShading),e.blending!==void 0&&(i.blending=e.blending),e.combine!==void 0&&(i.combine=e.combine),e.side!==void 0&&(i.side=e.side),e.shadowSide!==void 0&&(i.shadowSide=e.shadowSide),e.opacity!==void 0&&(i.opacity=e.opacity),e.transparent!==void 0&&(i.transparent=e.transparent),e.alphaTest!==void 0&&(i.alphaTest=e.alphaTest),e.alphaHash!==void 0&&(i.alphaHash=e.alphaHash),e.depthFunc!==void 0&&(i.depthFunc=e.depthFunc),e.depthTest!==void 0&&(i.depthTest=e.depthTest),e.depthWrite!==void 0&&(i.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(i.colorWrite=e.colorWrite),e.blendSrc!==void 0&&(i.blendSrc=e.blendSrc),e.blendDst!==void 0&&(i.blendDst=e.blendDst),e.blendEquation!==void 0&&(i.blendEquation=e.blendEquation),e.blendSrcAlpha!==void 0&&(i.blendSrcAlpha=e.blendSrcAlpha),e.blendDstAlpha!==void 0&&(i.blendDstAlpha=e.blendDstAlpha),e.blendEquationAlpha!==void 0&&(i.blendEquationAlpha=e.blendEquationAlpha),e.blendColor!==void 0&&i.blendColor!==void 0&&i.blendColor.setHex(e.blendColor),e.blendAlpha!==void 0&&(i.blendAlpha=e.blendAlpha),e.stencilWriteMask!==void 0&&(i.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(i.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(i.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(i.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(i.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(i.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(i.stencilZPass=e.stencilZPass),e.stencilWrite!==void 0&&(i.stencilWrite=e.stencilWrite),e.wireframe!==void 0&&(i.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(i.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(i.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(i.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(i.rotation=e.rotation),e.linewidth!==void 0&&(i.linewidth=e.linewidth),e.dashSize!==void 0&&(i.dashSize=e.dashSize),e.gapSize!==void 0&&(i.gapSize=e.gapSize),e.scale!==void 0&&(i.scale=e.scale),e.polygonOffset!==void 0&&(i.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(i.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(i.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(i.dithering=e.dithering),e.alphaToCoverage!==void 0&&(i.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(i.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(i.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(i.visible=e.visible),e.toneMapped!==void 0&&(i.toneMapped=e.toneMapped),e.userData!==void 0&&(i.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?i.vertexColors=e.vertexColors>0:i.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const o in e.uniforms){const s=e.uniforms[o];switch(i.uniforms[o]={},s.type){case"t":i.uniforms[o].value=r(s.value);break;case"c":i.uniforms[o].value=new ct().setHex(s.value);break;case"v2":i.uniforms[o].value=new $e().fromArray(s.value);break;case"v3":i.uniforms[o].value=new J().fromArray(s.value);break;case"v4":i.uniforms[o].value=new Mn().fromArray(s.value);break;case"m3":i.uniforms[o].value=new en().fromArray(s.value);break;case"m4":i.uniforms[o].value=new Ht().fromArray(s.value);break;default:i.uniforms[o].value=s.value}}if(e.defines!==void 0&&(i.defines=e.defines),e.vertexShader!==void 0&&(i.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(i.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(i.glslVersion=e.glslVersion),e.extensions!==void 0)for(const o in e.extensions)i.extensions[o]=e.extensions[o];if(e.lights!==void 0&&(i.lights=e.lights),e.clipping!==void 0&&(i.clipping=e.clipping),e.size!==void 0&&(i.size=e.size),e.sizeAttenuation!==void 0&&(i.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(i.map=r(e.map)),e.matcap!==void 0&&(i.matcap=r(e.matcap)),e.alphaMap!==void 0&&(i.alphaMap=r(e.alphaMap)),e.bumpMap!==void 0&&(i.bumpMap=r(e.bumpMap)),e.bumpScale!==void 0&&(i.bumpScale=e.bumpScale),e.normalMap!==void 0&&(i.normalMap=r(e.normalMap)),e.normalMapType!==void 0&&(i.normalMapType=e.normalMapType),e.normalScale!==void 0){let o=e.normalScale;Array.isArray(o)===!1&&(o=[o,o]),i.normalScale=new $e().fromArray(o)}return e.displacementMap!==void 0&&(i.displacementMap=r(e.displacementMap)),e.displacementScale!==void 0&&(i.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(i.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(i.roughnessMap=r(e.roughnessMap)),e.metalnessMap!==void 0&&(i.metalnessMap=r(e.metalnessMap)),e.emissiveMap!==void 0&&(i.emissiveMap=r(e.emissiveMap)),e.emissiveIntensity!==void 0&&(i.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(i.specularMap=r(e.specularMap)),e.specularIntensityMap!==void 0&&(i.specularIntensityMap=r(e.specularIntensityMap)),e.specularColorMap!==void 0&&(i.specularColorMap=r(e.specularColorMap)),e.envMap!==void 0&&(i.envMap=r(e.envMap)),e.envMapRotation!==void 0&&i.envMapRotation.fromArray(e.envMapRotation),e.envMapIntensity!==void 0&&(i.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(i.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(i.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(i.lightMap=r(e.lightMap)),e.lightMapIntensity!==void 0&&(i.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(i.aoMap=r(e.aoMap)),e.aoMapIntensity!==void 0&&(i.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(i.gradientMap=r(e.gradientMap)),e.clearcoatMap!==void 0&&(i.clearcoatMap=r(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(i.clearcoatRoughnessMap=r(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(i.clearcoatNormalMap=r(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(i.clearcoatNormalScale=new $e().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(i.iridescenceMap=r(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(i.iridescenceThicknessMap=r(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(i.transmissionMap=r(e.transmissionMap)),e.thicknessMap!==void 0&&(i.thicknessMap=r(e.thicknessMap)),e.anisotropyMap!==void 0&&(i.anisotropyMap=r(e.anisotropyMap)),e.sheenColorMap!==void 0&&(i.sheenColorMap=r(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(i.sheenRoughnessMap=r(e.sheenRoughnessMap)),i}setTextures(e){return this.textures=e,this}createMaterialFromType(e){return Jb.createMaterialFromType(e)}static createMaterialFromType(e){const n={ShadowMaterial:lz,SpriteMaterial:MM,RawShaderMaterial:cz,ShaderMaterial:Os,PointsMaterial:Wd,MeshPhysicalMaterial:uz,MeshStandardMaterial:Zb,MeshPhongMaterial:LM,MeshToonMaterial:dz,MeshNormalMaterial:fz,MeshLambertMaterial:hz,MeshDepthMaterial:NM,MeshDistanceMaterial:DM,MeshBasicMaterial:Mu,MeshMatcapMaterial:pz,LineDashedMaterial:mz,LineBasicMaterial:pi,Material:ti};return new n[e]}}class zE{static extractUrlBase(e){const n=e.lastIndexOf("/");return n===-1?"./":e.slice(0,n+1)}static resolveURL(e,n){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(n)&&/^\//.test(e)&&(n=n.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:n+e)}}class Rz extends Yt{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class Az extends vo{constructor(e){super(e)}load(e,n,r,i){const o=this,s=new Ja(o.manager);s.setPath(o.path),s.setRequestHeader(o.requestHeader),s.setWithCredentials(o.withCredentials),s.load(e,function(a){try{n(o.parse(JSON.parse(a)))}catch(c){i?i(c):console.error(c),o.manager.itemError(e)}},r,i)}parse(e){const n={},r={};function i(y,x){if(n[x]!==void 0)return n[x];const _=y.interleavedBuffers[x],b=o(y,_.buffer),C=sp(_.type,b),T=new Ob(C,_.stride);return T.uuid=_.uuid,n[x]=T,T}function o(y,x){if(r[x]!==void 0)return r[x];const _=y.arrayBuffers[x],b=new Uint32Array(_).buffer;return r[x]=b,b}const s=e.isInstancedBufferGeometry?new Rz:new Yt,a=e.data.index;if(a!==void 0){const y=sp(a.type,a.array);s.setIndex(new Wn(y,1))}const c=e.data.attributes;for(const y in c){const x=c[y];let S;if(x.isInterleavedBufferAttribute){const _=i(e.data,x.data);S=new rf(_,x.itemSize,x.offset,x.normalized)}else{const _=sp(x.type,x.array),b=x.isInstancedBufferAttribute?Pp:Wn;S=new b(_,x.itemSize,x.normalized)}x.name!==void 0&&(S.name=x.name),x.usage!==void 0&&S.setUsage(x.usage),s.setAttribute(y,S)}const d=e.data.morphAttributes;if(d)for(const y in d){const x=d[y],S=[];for(let _=0,b=x.length;_<b;_++){const C=x[_];let T;if(C.isInterleavedBufferAttribute){const A=i(e.data,C.data);T=new rf(A,C.itemSize,C.offset,C.normalized)}else{const A=sp(C.type,C.array);T=new Wn(A,C.itemSize,C.normalized)}C.name!==void 0&&(T.name=C.name),S.push(T)}s.morphAttributes[y]=S}e.data.morphTargetsRelative&&(s.morphTargetsRelative=!0);const m=e.data.groups||e.data.drawcalls||e.data.offsets;if(m!==void 0)for(let y=0,x=m.length;y!==x;++y){const S=m[y];s.addGroup(S.start,S.count,S.materialIndex)}const g=e.data.boundingSphere;if(g!==void 0){const y=new J;g.center!==void 0&&y.fromArray(g.center),s.boundingSphere=new Ai(y,g.radius)}return e.name&&(s.name=e.name),e.userData&&(s.userData=e.userData),s}}class CZ extends vo{constructor(e){super(e)}load(e,n,r,i){const o=this,s=this.path===""?zE.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||s;const a=new Ja(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(c){let d=null;try{d=JSON.parse(c)}catch(m){i!==void 0&&i(m),console.error("THREE:ObjectLoader: Can't parse "+e+".",m.message);return}const f=d.metadata;if(f===void 0||f.type===void 0||f.type.toLowerCase()==="geometry"){i!==void 0&&i(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}o.parse(d,n)},r,i)}async loadAsync(e,n){const r=this,i=this.path===""?zE.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||i;const o=new Ja(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials);const s=await o.loadAsync(e,n),a=JSON.parse(s),c=a.metadata;if(c===void 0||c.type===void 0||c.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await r.parseAsync(a)}parse(e,n){const r=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),o=this.parseGeometries(e.geometries,i),s=this.parseImages(e.images,function(){n!==void 0&&n(d)}),a=this.parseTextures(e.textures,s),c=this.parseMaterials(e.materials,a),d=this.parseObject(e.object,o,c,a,r),f=this.parseSkeletons(e.skeletons,d);if(this.bindSkeletons(d,f),this.bindLightTargets(d),n!==void 0){let m=!1;for(const g in s)if(s[g].data instanceof HTMLImageElement){m=!0;break}m===!1&&n(d)}return d}async parseAsync(e){const n=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),i=this.parseGeometries(e.geometries,r),o=await this.parseImagesAsync(e.images),s=this.parseTextures(e.textures,o),a=this.parseMaterials(e.materials,s),c=this.parseObject(e.object,i,a,s,n),d=this.parseSkeletons(e.skeletons,c);return this.bindSkeletons(c,d),this.bindLightTargets(c),c}parseShapes(e){const n={};if(e!==void 0)for(let r=0,i=e.length;r<i;r++){const o=new Zd().fromJSON(e[r]);n[o.uuid]=o}return n}parseSkeletons(e,n){const r={},i={};if(n.traverse(function(o){o.isBone&&(i[o.uuid]=o)}),e!==void 0)for(let o=0,s=e.length;o<s;o++){const a=new Lb().fromJSON(e[o],i);r[a.uuid]=a}return r}parseGeometries(e,n){const r={};if(e!==void 0){const i=new Az;for(let o=0,s=e.length;o<s;o++){let a;const c=e[o];switch(c.type){case"BufferGeometry":case"InstancedBufferGeometry":a=i.parse(c);break;default:c.type in XR?a=XR[c.type].fromJSON(c,n):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${c.type}"`)}a.uuid=c.uuid,c.name!==void 0&&(a.name=c.name),c.userData!==void 0&&(a.userData=c.userData),r[c.uuid]=a}}return r}parseMaterials(e,n){const r={},i={};if(e!==void 0){const o=new Jb;o.setTextures(n);for(let s=0,a=e.length;s<a;s++){const c=e[s];r[c.uuid]===void 0&&(r[c.uuid]=o.parse(c)),i[c.uuid]=r[c.uuid]}}return i}parseAnimations(e){const n={};if(e!==void 0)for(let r=0;r<e.length;r++){const i=e[r],o=vv.parse(i);n[o.uuid]=o}return n}parseImages(e,n){const r=this,i={};let o;function s(c){return r.manager.itemStart(c),o.load(c,function(){r.manager.itemEnd(c)},void 0,function(){r.manager.itemError(c),r.manager.itemEnd(c)})}function a(c){if(typeof c=="string"){const d=c,f=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(d)?d:r.resourcePath+d;return s(f)}else return c.data?{data:sp(c.type,c.data),width:c.width,height:c.height}:null}if(e!==void 0&&e.length>0){const c=new BM(n);o=new yv(c),o.setCrossOrigin(this.crossOrigin);for(let d=0,f=e.length;d<f;d++){const m=e[d],g=m.url;if(Array.isArray(g)){const y=[];for(let x=0,S=g.length;x<S;x++){const _=g[x],b=a(_);b!==null&&(b instanceof HTMLImageElement?y.push(b):y.push(new qa(b.data,b.width,b.height)))}i[m.uuid]=new cu(y)}else{const y=a(m.url);i[m.uuid]=new cu(y)}}}return i}async parseImagesAsync(e){const n=this,r={};let i;async function o(s){if(typeof s=="string"){const a=s,c=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(a)?a:n.resourcePath+a;return await i.loadAsync(c)}else return s.data?{data:sp(s.type,s.data),width:s.width,height:s.height}:null}if(e!==void 0&&e.length>0){i=new yv(this.manager),i.setCrossOrigin(this.crossOrigin);for(let s=0,a=e.length;s<a;s++){const c=e[s],d=c.url;if(Array.isArray(d)){const f=[];for(let m=0,g=d.length;m<g;m++){const y=d[m],x=await o(y);x!==null&&(x instanceof HTMLImageElement?f.push(x):f.push(new qa(x.data,x.width,x.height)))}r[c.uuid]=new cu(f)}else{const f=await o(c.url);r[c.uuid]=new cu(f)}}}return r}parseTextures(e,n){function r(o,s){return typeof o=="number"?o:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",o),s[o])}const i={};if(e!==void 0)for(let o=0,s=e.length;o<s;o++){const a=e[o];a.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',a.uuid),n[a.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",a.image);const c=n[a.image],d=c.data;let f;Array.isArray(d)?(f=new Fv,d.length===6&&(f.needsUpdate=!0)):(d&&d.data?f=new qa:f=new _r,d&&(f.needsUpdate=!0)),f.source=c,f.uuid=a.uuid,a.name!==void 0&&(f.name=a.name),a.mapping!==void 0&&(f.mapping=r(a.mapping,MZ)),a.channel!==void 0&&(f.channel=a.channel),a.offset!==void 0&&f.offset.fromArray(a.offset),a.repeat!==void 0&&f.repeat.fromArray(a.repeat),a.center!==void 0&&f.center.fromArray(a.center),a.rotation!==void 0&&(f.rotation=a.rotation),a.wrap!==void 0&&(f.wrapS=r(a.wrap[0],ZR),f.wrapT=r(a.wrap[1],ZR)),a.format!==void 0&&(f.format=a.format),a.internalFormat!==void 0&&(f.internalFormat=a.internalFormat),a.type!==void 0&&(f.type=a.type),a.colorSpace!==void 0&&(f.colorSpace=a.colorSpace),a.minFilter!==void 0&&(f.minFilter=r(a.minFilter,JR)),a.magFilter!==void 0&&(f.magFilter=r(a.magFilter,JR)),a.anisotropy!==void 0&&(f.anisotropy=a.anisotropy),a.flipY!==void 0&&(f.flipY=a.flipY),a.generateMipmaps!==void 0&&(f.generateMipmaps=a.generateMipmaps),a.premultiplyAlpha!==void 0&&(f.premultiplyAlpha=a.premultiplyAlpha),a.unpackAlignment!==void 0&&(f.unpackAlignment=a.unpackAlignment),a.compareFunction!==void 0&&(f.compareFunction=a.compareFunction),a.userData!==void 0&&(f.userData=a.userData),i[a.uuid]=f}return i}parseObject(e,n,r,i,o){let s;function a(g){return n[g]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",g),n[g]}function c(g){if(g!==void 0){if(Array.isArray(g)){const y=[];for(let x=0,S=g.length;x<S;x++){const _=g[x];r[_]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",_),y.push(r[_])}return y}return r[g]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",g),r[g]}}function d(g){return i[g]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",g),i[g]}let f,m;switch(e.type){case"Scene":s=new P1,e.background!==void 0&&(Number.isInteger(e.background)?s.background=new ct(e.background):s.background=d(e.background)),e.environment!==void 0&&(s.environment=d(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?s.fog=new kb(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(s.fog=new Ib(e.fog.color,e.fog.density)),e.fog.name!==""&&(s.fog.name=e.fog.name)),e.backgroundBlurriness!==void 0&&(s.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(s.backgroundIntensity=e.backgroundIntensity),e.backgroundRotation!==void 0&&s.backgroundRotation.fromArray(e.backgroundRotation),e.environmentIntensity!==void 0&&(s.environmentIntensity=e.environmentIntensity),e.environmentRotation!==void 0&&s.environmentRotation.fromArray(e.environmentRotation);break;case"PerspectiveCamera":s=new yr(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(s.focus=e.focus),e.zoom!==void 0&&(s.zoom=e.zoom),e.filmGauge!==void 0&&(s.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(s.filmOffset=e.filmOffset),e.view!==void 0&&(s.view=Object.assign({},e.view));break;case"OrthographicCamera":s=new Ya(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(s.zoom=e.zoom),e.view!==void 0&&(s.view=Object.assign({},e.view));break;case"AmbientLight":s=new Cz(e.color,e.intensity);break;case"DirectionalLight":s=new Ez(e.color,e.intensity),s.target=e.target||"";break;case"PointLight":s=new wz(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":s=new Mz(e.color,e.intensity,e.width,e.height);break;case"SpotLight":s=new Sz(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay),s.target=e.target||"";break;case"HemisphereLight":s=new _z(e.color,e.groundColor,e.intensity);break;case"LightProbe":s=new Pz().fromJSON(e);break;case"SkinnedMesh":f=a(e.geometry),m=c(e.material),s=new jF(f,m),e.bindMode!==void 0&&(s.bindMode=e.bindMode),e.bindMatrix!==void 0&&s.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(s.skeleton=e.skeleton);break;case"Mesh":f=a(e.geometry),m=c(e.material),s=new ar(f,m);break;case"InstancedMesh":f=a(e.geometry),m=c(e.material);const g=e.count,y=e.instanceMatrix,x=e.instanceColor;s=new XF(f,m,g),s.instanceMatrix=new Pp(new Float32Array(y.array),16),x!==void 0&&(s.instanceColor=new Pp(new Float32Array(x.array),x.itemSize));break;case"BatchedMesh":f=a(e.geometry),m=c(e.material),s=new qF(e.maxInstanceCount,e.maxVertexCount,e.maxIndexCount,m),s.geometry=f,s.perObjectFrustumCulled=e.perObjectFrustumCulled,s.sortObjects=e.sortObjects,s._drawRanges=e.drawRanges,s._reservedRanges=e.reservedRanges,s._geometryInfo=e.geometryInfo.map(S=>{let _=null,b=null;return S.boundingBox!==void 0&&(_=new ji,_.min.fromArray(S.boundingBox.min),_.max.fromArray(S.boundingBox.max)),S.boundingSphere!==void 0&&(b=new Ai,b.radius=S.boundingSphere.radius,b.center.fromArray(S.boundingSphere.center)),{...S,boundingBox:_,boundingSphere:b}}),s._instanceInfo=e.instanceInfo,s._availableInstanceIds=e._availableInstanceIds,s._availableGeometryIds=e._availableGeometryIds,s._nextIndexStart=e.nextIndexStart,s._nextVertexStart=e.nextVertexStart,s._geometryCount=e.geometryCount,s._maxInstanceCount=e.maxInstanceCount,s._maxVertexCount=e.maxVertexCount,s._maxIndexCount=e.maxIndexCount,s._geometryInitialized=e.geometryInitialized,s._matricesTexture=d(e.matricesTexture.uuid),s._indirectTexture=d(e.indirectTexture.uuid),e.colorsTexture!==void 0&&(s._colorsTexture=d(e.colorsTexture.uuid)),e.boundingSphere!==void 0&&(s.boundingSphere=new Ai,s.boundingSphere.center.fromArray(e.boundingSphere.center),s.boundingSphere.radius=e.boundingSphere.radius),e.boundingBox!==void 0&&(s.boundingBox=new ji,s.boundingBox.min.fromArray(e.boundingBox.min),s.boundingBox.max.fromArray(e.boundingBox.max));break;case"LOD":s=new GF;break;case"Line":s=new bu(a(e.geometry),c(e.material));break;case"LineLoop":s=new YF(a(e.geometry),c(e.material));break;case"LineSegments":s=new Ls(a(e.geometry),c(e.material));break;case"PointCloud":case"Points":s=new $g(a(e.geometry),c(e.material));break;case"Sprite":s=new WF(c(e.material));break;case"Group":s=new Hd;break;case"Bone":s=new TM;break;default:s=new Pn}if(s.uuid=e.uuid,e.name!==void 0&&(s.name=e.name),e.matrix!==void 0?(s.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(s.matrixAutoUpdate=e.matrixAutoUpdate),s.matrixAutoUpdate&&s.matrix.decompose(s.position,s.quaternion,s.scale)):(e.position!==void 0&&s.position.fromArray(e.position),e.rotation!==void 0&&s.rotation.fromArray(e.rotation),e.quaternion!==void 0&&s.quaternion.fromArray(e.quaternion),e.scale!==void 0&&s.scale.fromArray(e.scale)),e.up!==void 0&&s.up.fromArray(e.up),e.castShadow!==void 0&&(s.castShadow=e.castShadow),e.receiveShadow!==void 0&&(s.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.intensity!==void 0&&(s.shadow.intensity=e.shadow.intensity),e.shadow.bias!==void 0&&(s.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(s.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(s.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&s.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(s.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(s.visible=e.visible),e.frustumCulled!==void 0&&(s.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(s.renderOrder=e.renderOrder),e.userData!==void 0&&(s.userData=e.userData),e.layers!==void 0&&(s.layers.mask=e.layers),e.children!==void 0){const g=e.children;for(let y=0;y<g.length;y++)s.add(this.parseObject(g[y],n,r,i,o))}if(e.animations!==void 0){const g=e.animations;for(let y=0;y<g.length;y++){const x=g[y];s.animations.push(o[x])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(s.autoUpdate=e.autoUpdate);const g=e.levels;for(let y=0;y<g.length;y++){const x=g[y],S=s.getObjectByProperty("uuid",x.object);S!==void 0&&s.addLevel(S,x.distance,x.hysteresis)}}return s}bindSkeletons(e,n){Object.keys(n).length!==0&&e.traverse(function(r){if(r.isSkinnedMesh===!0&&r.skeleton!==void 0){const i=n[r.skeleton];i===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",r.skeleton):r.bind(i,r.bindMatrix)}})}bindLightTargets(e){e.traverse(function(n){if(n.isDirectionalLight||n.isSpotLight){const r=n.target,i=e.getObjectByProperty("uuid",r);i!==void 0?n.target=i:n.target=new Pn}})}}const MZ={UVMapping:_b,CubeReflectionMapping:fc,CubeRefractionMapping:xu,EquirectangularReflectionMapping:nv,EquirectangularRefractionMapping:rv,CubeUVReflectionMapping:$p},ZR={RepeatWrapping:iv,ClampToEdgeWrapping:Ps,MirroredRepeatWrapping:ov},JR={NearestFilter:Pi,NearestMipmapNearestFilter:hM,NearestMipmapLinearFilter:op,LinearFilter:ei,LinearMipmapNearestFilter:Ng,LinearMipmapLinearFilter:Wa};class TZ extends vo{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,n,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const o=this,s=ec.get(e);if(s!==void 0){if(o.manager.itemStart(e),s.then){s.then(d=>{n&&n(d),o.manager.itemEnd(e)}).catch(d=>{i&&i(d)});return}return setTimeout(function(){n&&n(s),o.manager.itemEnd(e)},0),s}const a={};a.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",a.headers=this.requestHeader;const c=fetch(e,a).then(function(d){return d.blob()}).then(function(d){return createImageBitmap(d,Object.assign(o.options,{colorSpaceConversion:"none"}))}).then(function(d){return ec.add(e,d),n&&n(d),o.manager.itemEnd(e),d}).catch(function(d){i&&i(d),ec.remove(e),o.manager.itemError(e),o.manager.itemEnd(e)});ec.add(e,c),o.manager.itemStart(e)}}let Vy;class $M{static getContext(){return Vy===void 0&&(Vy=new(window.AudioContext||window.webkitAudioContext)),Vy}static setContext(e){Vy=e}}class PZ extends vo{constructor(e){super(e)}load(e,n,r,i){const o=this,s=new Ja(this.manager);s.setResponseType("arraybuffer"),s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,function(c){try{const d=c.slice(0);$M.getContext().decodeAudioData(d,function(m){n(m)}).catch(a)}catch(d){a(d)}},r,i);function a(c){i?i(c):console.error(c),o.manager.itemError(e)}}}const QR=new Ht,eA=new Ht,Cd=new Ht;class RZ{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new yr,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new yr,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const n=this._cache;if(n.focus!==e.focus||n.fov!==e.fov||n.aspect!==e.aspect*this.aspect||n.near!==e.near||n.far!==e.far||n.zoom!==e.zoom||n.eyeSep!==this.eyeSep){n.focus=e.focus,n.fov=e.fov,n.aspect=e.aspect*this.aspect,n.near=e.near,n.far=e.far,n.zoom=e.zoom,n.eyeSep=this.eyeSep,Cd.copy(e.projectionMatrix);const i=n.eyeSep/2,o=i*n.near/n.focus,s=n.near*Math.tan(Yd*n.fov*.5)/n.zoom;let a,c;eA.elements[12]=-i,QR.elements[12]=i,a=-s*n.aspect+o,c=s*n.aspect+o,Cd.elements[0]=2*n.near/(c-a),Cd.elements[8]=(c+a)/(c-a),this.cameraL.projectionMatrix.copy(Cd),a=-s*n.aspect-o,c=s*n.aspect-o,Cd.elements[0]=2*n.near/(c-a),Cd.elements[8]=(c+a)/(c-a),this.cameraR.projectionMatrix.copy(Cd)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(eA),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(QR)}}class Iz extends yr{constructor(e=[]){super(),this.isArrayCamera=!0,this.isMultiViewCamera=!1,this.cameras=e}}class HM{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=tA(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const n=tA();e=(n-this.oldTime)/1e3,this.oldTime=n,this.elapsedTime+=e}return e}}function tA(){return performance.now()}const Md=new J,nA=new Ri,AZ=new J,Td=new J;class IZ extends Pn{constructor(){super(),this.type="AudioListener",this.context=$M.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new HM}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const n=this.context.listener,r=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(Md,nA,AZ),Td.set(0,0,-1).applyQuaternion(nA),n.positionX){const i=this.context.currentTime+this.timeDelta;n.positionX.linearRampToValueAtTime(Md.x,i),n.positionY.linearRampToValueAtTime(Md.y,i),n.positionZ.linearRampToValueAtTime(Md.z,i),n.forwardX.linearRampToValueAtTime(Td.x,i),n.forwardY.linearRampToValueAtTime(Td.y,i),n.forwardZ.linearRampToValueAtTime(Td.z,i),n.upX.linearRampToValueAtTime(r.x,i),n.upY.linearRampToValueAtTime(r.y,i),n.upZ.linearRampToValueAtTime(r.z,i)}else n.setPosition(Md.x,Md.y,Md.z),n.setOrientation(Td.x,Td.y,Td.z,r.x,r.y,r.z)}}class kz extends Pn{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const n=this.context.createBufferSource();return n.buffer=this.buffer,n.loop=this.loop,n.loopStart=this.loopStart,n.loopEnd=this.loopEnd,n.onended=this.onEnded.bind(this),n.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=n,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(e=0){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(this.context.currentTime+e),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){return this.detune=e,this.isPlaying===!0&&this.source.detune!==void 0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1,this._progress=0}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}copy(e,n){return super.copy(e,n),e.sourceType!=="buffer"?(console.warn("THREE.Audio: Audio source type cannot be copied."),this):(this.autoplay=e.autoplay,this.buffer=e.buffer,this.detune=e.detune,this.loop=e.loop,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this.offset=e.offset,this.duration=e.duration,this.playbackRate=e.playbackRate,this.hasPlaybackControl=e.hasPlaybackControl,this.sourceType=e.sourceType,this.filters=e.filters.slice(),this)}clone(e){return new this.constructor(this.listener).copy(this,e)}}const Pd=new J,rA=new Ri,kZ=new J,Rd=new J;class OZ extends kz{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){return super.connect(),this.panner.connect(this.gain),this}disconnect(){return super.disconnect(),this.panner.disconnect(this.gain),this}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,n,r){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=n,this.panner.coneOuterGain=r,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(Pd,rA,kZ),Rd.set(0,0,1).applyQuaternion(rA);const n=this.panner;if(n.positionX){const r=this.context.currentTime+this.listener.timeDelta;n.positionX.linearRampToValueAtTime(Pd.x,r),n.positionY.linearRampToValueAtTime(Pd.y,r),n.positionZ.linearRampToValueAtTime(Pd.z,r),n.orientationX.linearRampToValueAtTime(Rd.x,r),n.orientationY.linearRampToValueAtTime(Rd.y,r),n.orientationZ.linearRampToValueAtTime(Rd.z,r)}else n.setPosition(Pd.x,Pd.y,Pd.z),n.setOrientation(Rd.x,Rd.y,Rd.z)}}class LZ{constructor(e,n=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=n,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const n=this.getFrequencyData();for(let r=0;r<n.length;r++)e+=n[r];return e/n.length}}class Oz{constructor(e,n,r){this.binding=e,this.valueSize=r;let i,o,s;switch(n){case"quaternion":i=this._slerp,o=this._slerpAdditive,s=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(r*6),this._workIndex=5;break;case"string":case"bool":i=this._select,o=this._select,s=this._setAdditiveIdentityOther,this.buffer=new Array(r*5);break;default:i=this._lerp,o=this._lerpAdditive,s=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(r*5)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=o,this._setIdentity=s,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,n){const r=this.buffer,i=this.valueSize,o=e*i+i;let s=this.cumulativeWeight;if(s===0){for(let a=0;a!==i;++a)r[o+a]=r[a];s=n}else{s+=n;const a=n/s;this._mixBufferRegion(r,o,0,a,i)}this.cumulativeWeight=s}accumulateAdditive(e){const n=this.buffer,r=this.valueSize,i=r*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(n,i,0,e,r),this.cumulativeWeightAdditive+=e}apply(e){const n=this.valueSize,r=this.buffer,i=e*n+n,o=this.cumulativeWeight,s=this.cumulativeWeightAdditive,a=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,o<1){const c=n*this._origIndex;this._mixBufferRegion(r,i,c,1-o,n)}s>0&&this._mixBufferRegionAdditive(r,i,this._addIndex*n,1,n);for(let c=n,d=n+n;c!==d;++c)if(r[c]!==r[c+n]){a.setValue(r,i);break}}saveOriginalState(){const e=this.binding,n=this.buffer,r=this.valueSize,i=r*this._origIndex;e.getValue(n,i);for(let o=r,s=i;o!==s;++o)n[o]=n[i+o%r];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,n=e+this.valueSize;for(let r=e;r<n;r++)this.buffer[r]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,n=this._addIndex*this.valueSize;for(let r=0;r<this.valueSize;r++)this.buffer[n+r]=this.buffer[e+r]}_select(e,n,r,i,o){if(i>=.5)for(let s=0;s!==o;++s)e[n+s]=e[r+s]}_slerp(e,n,r,i){Ri.slerpFlat(e,n,e,n,e,r,i)}_slerpAdditive(e,n,r,i,o){const s=this._workIndex*o;Ri.multiplyQuaternionsFlat(e,s,e,n,e,r),Ri.slerpFlat(e,n,e,n,e,s,i)}_lerp(e,n,r,i,o){const s=1-i;for(let a=0;a!==o;++a){const c=n+a;e[c]=e[c]*s+e[r+a]*i}}_lerpAdditive(e,n,r,i,o){for(let s=0;s!==o;++s){const a=n+s;e[a]=e[a]+e[r+s]*i}}}const WM="\\[\\]\\.:\\/",NZ=new RegExp("["+WM+"]","g"),GM="[^"+WM+"]",DZ="[^"+WM.replace("\\.","")+"]",FZ=/((?:WC+[\/:])*)/.source.replace("WC",GM),zZ=/(WCOD+)?/.source.replace("WCOD",DZ),UZ=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",GM),BZ=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",GM),VZ=new RegExp("^"+FZ+zZ+UZ+BZ+"$"),$Z=["material","materials","bones","map"];class HZ{constructor(e,n,r){const i=r||Cn.parseTrackName(n);this._targetGroup=e,this._bindings=e.subscribe_(n,i)}getValue(e,n){this.bind();const r=this._targetGroup.nCachedObjects_,i=this._bindings[r];i!==void 0&&i.getValue(e,n)}setValue(e,n){const r=this._bindings;for(let i=this._targetGroup.nCachedObjects_,o=r.length;i!==o;++i)r[i].setValue(e,n)}bind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,r=e.length;n!==r;++n)e[n].bind()}unbind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,r=e.length;n!==r;++n)e[n].unbind()}}class Cn{constructor(e,n,r){this.path=n,this.parsedPath=r||Cn.parseTrackName(n),this.node=Cn.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,n,r){return e&&e.isAnimationObjectGroup?new Cn.Composite(e,n,r):new Cn(e,n,r)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(NZ,"")}static parseTrackName(e){const n=VZ.exec(e);if(n===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const r={nodeName:n[2],objectName:n[3],objectIndex:n[4],propertyName:n[5],propertyIndex:n[6]},i=r.nodeName&&r.nodeName.lastIndexOf(".");if(i!==void 0&&i!==-1){const o=r.nodeName.substring(i+1);$Z.indexOf(o)!==-1&&(r.nodeName=r.nodeName.substring(0,i),r.objectName=o)}if(r.propertyName===null||r.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return r}static findNode(e,n){if(n===void 0||n===""||n==="."||n===-1||n===e.name||n===e.uuid)return e;if(e.skeleton){const r=e.skeleton.getBoneByName(n);if(r!==void 0)return r}if(e.children){const r=function(o){for(let s=0;s<o.length;s++){const a=o[s];if(a.name===n||a.uuid===n)return a;const c=r(a.children);if(c)return c}return null},i=r(e.children);if(i)return i}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,n){e[n]=this.targetObject[this.propertyName]}_getValue_array(e,n){const r=this.resolvedProperty;for(let i=0,o=r.length;i!==o;++i)e[n++]=r[i]}_getValue_arrayElement(e,n){e[n]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,n){this.resolvedProperty.toArray(e,n)}_setValue_direct(e,n){this.targetObject[this.propertyName]=e[n]}_setValue_direct_setNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,n){const r=this.resolvedProperty;for(let i=0,o=r.length;i!==o;++i)r[i]=e[n++]}_setValue_array_setNeedsUpdate(e,n){const r=this.resolvedProperty;for(let i=0,o=r.length;i!==o;++i)r[i]=e[n++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,n){const r=this.resolvedProperty;for(let i=0,o=r.length;i!==o;++i)r[i]=e[n++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,n){this.resolvedProperty[this.propertyIndex]=e[n]}_setValue_arrayElement_setNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,n){this.resolvedProperty.fromArray(e,n)}_setValue_fromArray_setNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,n){this.bind(),this.getValue(e,n)}_setValue_unbound(e,n){this.bind(),this.setValue(e,n)}bind(){let e=this.node;const n=this.parsedPath,r=n.objectName,i=n.propertyName;let o=n.propertyIndex;if(e||(e=Cn.findNode(this.rootNode,n.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");return}if(r){let d=n.objectIndex;switch(r){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let f=0;f<e.length;f++)if(e[f].name===d){d=f;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[r]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[r]}if(d!==void 0){if(e[d]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[d]}}const s=e[i];if(s===void 0){const d=n.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+d+"."+i+" but it wasn't found.",e);return}let a=this.Versioning.None;this.targetObject=e,e.isMaterial===!0?a=this.Versioning.NeedsUpdate:e.isObject3D===!0&&(a=this.Versioning.MatrixWorldNeedsUpdate);let c=this.BindingType.Direct;if(o!==void 0){if(i==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[o]!==void 0&&(o=e.morphTargetDictionary[o])}c=this.BindingType.ArrayElement,this.resolvedProperty=s,this.propertyIndex=o}else s.fromArray!==void 0&&s.toArray!==void 0?(c=this.BindingType.HasFromToArray,this.resolvedProperty=s):Array.isArray(s)?(c=this.BindingType.EntireArray,this.resolvedProperty=s):this.propertyName=i;this.getValue=this.GetterByBindingType[c],this.setValue=this.SetterByBindingTypeAndVersioning[c][a]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}Cn.Composite=HZ;Cn.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};Cn.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};Cn.prototype.GetterByBindingType=[Cn.prototype._getValue_direct,Cn.prototype._getValue_array,Cn.prototype._getValue_arrayElement,Cn.prototype._getValue_toArray];Cn.prototype.SetterByBindingTypeAndVersioning=[[Cn.prototype._setValue_direct,Cn.prototype._setValue_direct_setNeedsUpdate,Cn.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Cn.prototype._setValue_array,Cn.prototype._setValue_array_setNeedsUpdate,Cn.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Cn.prototype._setValue_arrayElement,Cn.prototype._setValue_arrayElement_setNeedsUpdate,Cn.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Cn.prototype._setValue_fromArray,Cn.prototype._setValue_fromArray_setNeedsUpdate,Cn.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class WZ{constructor(){this.isAnimationObjectGroup=!0,this.uuid=os(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let r=0,i=arguments.length;r!==i;++r)e[arguments[r].uuid]=r;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const n=this;this.stats={objects:{get total(){return n._objects.length},get inUse(){return this.total-n.nCachedObjects_}},get bindingsPerObject(){return n._bindings.length}}}add(){const e=this._objects,n=this._indicesByUUID,r=this._paths,i=this._parsedPaths,o=this._bindings,s=o.length;let a,c=e.length,d=this.nCachedObjects_;for(let f=0,m=arguments.length;f!==m;++f){const g=arguments[f],y=g.uuid;let x=n[y];if(x===void 0){x=c++,n[y]=x,e.push(g);for(let S=0,_=s;S!==_;++S)o[S].push(new Cn(g,r[S],i[S]))}else if(x<d){a=e[x];const S=--d,_=e[S];n[_.uuid]=x,e[x]=_,n[y]=S,e[S]=g;for(let b=0,C=s;b!==C;++b){const T=o[b],A=T[S];let P=T[x];T[x]=A,P===void 0&&(P=new Cn(g,r[b],i[b])),T[S]=P}}else e[x]!==a&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=d}remove(){const e=this._objects,n=this._indicesByUUID,r=this._bindings,i=r.length;let o=this.nCachedObjects_;for(let s=0,a=arguments.length;s!==a;++s){const c=arguments[s],d=c.uuid,f=n[d];if(f!==void 0&&f>=o){const m=o++,g=e[m];n[g.uuid]=f,e[f]=g,n[d]=m,e[m]=c;for(let y=0,x=i;y!==x;++y){const S=r[y],_=S[m],b=S[f];S[f]=_,S[m]=b}}}this.nCachedObjects_=o}uncache(){const e=this._objects,n=this._indicesByUUID,r=this._bindings,i=r.length;let o=this.nCachedObjects_,s=e.length;for(let a=0,c=arguments.length;a!==c;++a){const d=arguments[a],f=d.uuid,m=n[f];if(m!==void 0)if(delete n[f],m<o){const g=--o,y=e[g],x=--s,S=e[x];n[y.uuid]=m,e[m]=y,n[S.uuid]=g,e[g]=S,e.pop();for(let _=0,b=i;_!==b;++_){const C=r[_],T=C[g],A=C[x];C[m]=T,C[g]=A,C.pop()}}else{const g=--s,y=e[g];g>0&&(n[y.uuid]=m),e[m]=y,e.pop();for(let x=0,S=i;x!==S;++x){const _=r[x];_[m]=_[g],_.pop()}}}this.nCachedObjects_=o}subscribe_(e,n){const r=this._bindingsIndicesByPath;let i=r[e];const o=this._bindings;if(i!==void 0)return o[i];const s=this._paths,a=this._parsedPaths,c=this._objects,d=c.length,f=this.nCachedObjects_,m=new Array(d);i=o.length,r[e]=i,s.push(e),a.push(n),o.push(m);for(let g=f,y=c.length;g!==y;++g){const x=c[g];m[g]=new Cn(x,e,n)}return m}unsubscribe_(e){const n=this._bindingsIndicesByPath,r=n[e];if(r!==void 0){const i=this._paths,o=this._parsedPaths,s=this._bindings,a=s.length-1,c=s[a],d=e[a];n[d]=r,s[r]=c,s.pop(),o[r]=o[a],o.pop(),i[r]=i[a],i.pop()}}}class Lz{constructor(e,n,r=null,i=n.blendMode){this._mixer=e,this._clip=n,this._localRoot=r,this.blendMode=i;const o=n.tracks,s=o.length,a=new Array(s),c={endingStart:Vd,endingEnd:Vd};for(let d=0;d!==s;++d){const f=o[d].createInterpolant(null);a[d]=f,f.settings=c}this._interpolantSettings=c,this._interpolants=a,this._propertyBindings=new Array(s),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=SF,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,n){return this.loop=e,this.repetitions=n,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,n,r=!1){if(e.fadeOut(n),this.fadeIn(n),r===!0){const i=this._clip.duration,o=e._clip.duration,s=o/i,a=i/o;e.warp(1,s,n),this.warp(a,1,n)}return this}crossFadeTo(e,n,r=!1){return e.crossFadeFrom(this,n,r)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,n,r){const i=this._mixer,o=i.time,s=this.timeScale;let a=this._timeScaleInterpolant;a===null&&(a=i._lendControlInterpolant(),this._timeScaleInterpolant=a);const c=a.parameterPositions,d=a.sampleValues;return c[0]=o,c[1]=o+r,d[0]=e/s,d[1]=n/s,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,n,r,i){if(!this.enabled){this._updateWeight(e);return}const o=this._startTime;if(o!==null){const c=(e-o)*r;c<0||r===0?n=0:(this._startTime=null,n=r*c)}n*=this._updateTimeScale(e);const s=this._updateTime(n),a=this._updateWeight(e);if(a>0){const c=this._interpolants,d=this._propertyBindings;switch(this.blendMode){case _M:for(let f=0,m=c.length;f!==m;++f)c[f].evaluate(s),d[f].accumulateAdditive(a);break;case Pb:default:for(let f=0,m=c.length;f!==m;++f)c[f].evaluate(s),d[f].accumulate(i,a)}}}_updateWeight(e){let n=0;if(this.enabled){n=this.weight;const r=this._weightInterpolant;if(r!==null){const i=r.evaluate(e)[0];n*=i,e>r.parameterPositions[1]&&(this.stopFading(),i===0&&(this.enabled=!1))}}return this._effectiveWeight=n,n}_updateTimeScale(e){let n=0;if(!this.paused){n=this.timeScale;const r=this._timeScaleInterpolant;if(r!==null){const i=r.evaluate(e)[0];n*=i,e>r.parameterPositions[1]&&(this.stopWarping(),n===0?this.paused=!0:this.timeScale=n)}}return this._effectiveTimeScale=n,n}_updateTime(e){const n=this._clip.duration,r=this.loop;let i=this.time+e,o=this._loopCount;const s=r===wF;if(e===0)return o===-1?i:s&&(o&1)===1?n-i:i;if(r===_F){o===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(i>=n)i=n;else if(i<0)i=0;else{this.time=i;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(o===-1&&(e>=0?(o=0,this._setEndings(!0,this.repetitions===0,s)):this._setEndings(this.repetitions===0,!0,s)),i>=n||i<0){const a=Math.floor(i/n);i-=n*a,o+=Math.abs(a);const c=this.repetitions-o;if(c<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,i=e>0?n:0,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(c===1){const d=e<0;this._setEndings(d,!d,s)}else this._setEndings(!1,!1,s);this._loopCount=o,this.time=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}else this.time=i;if(s&&(o&1)===1)return n-i}return i}_setEndings(e,n,r){const i=this._interpolantSettings;r?(i.endingStart=$d,i.endingEnd=$d):(e?i.endingStart=this.zeroSlopeAtStart?$d:Vd:i.endingStart=av,n?i.endingEnd=this.zeroSlopeAtEnd?$d:Vd:i.endingEnd=av)}_scheduleFading(e,n,r){const i=this._mixer,o=i.time;let s=this._weightInterpolant;s===null&&(s=i._lendControlInterpolant(),this._weightInterpolant=s);const a=s.parameterPositions,c=s.sampleValues;return a[0]=o,c[0]=n,a[1]=o+e,c[1]=r,this}}const GZ=new Float32Array(1);class jZ extends rl{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,n){const r=e._localRoot||this._root,i=e._clip.tracks,o=i.length,s=e._propertyBindings,a=e._interpolants,c=r.uuid,d=this._bindingsByRootAndName;let f=d[c];f===void 0&&(f={},d[c]=f);for(let m=0;m!==o;++m){const g=i[m],y=g.name;let x=f[y];if(x!==void 0)++x.referenceCount,s[m]=x;else{if(x=s[m],x!==void 0){x._cacheIndex===null&&(++x.referenceCount,this._addInactiveBinding(x,c,y));continue}const S=n&&n._propertyBindings[m].binding.parsedPath;x=new Oz(Cn.create(r,y,S),g.ValueTypeName,g.getValueSize()),++x.referenceCount,this._addInactiveBinding(x,c,y),s[m]=x}a[m].resultBuffer=x.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const r=(e._localRoot||this._root).uuid,i=e._clip.uuid,o=this._actionsByClip[i];this._bindAction(e,o&&o.knownActions[0]),this._addInactiveAction(e,i,r)}const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const o=n[r];o.useCount++===0&&(this._lendBinding(o),o.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const o=n[r];--o.useCount===0&&(o.restoreOriginalState(),this._takeBackBinding(o))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const n=e._cacheIndex;return n!==null&&n<this._nActiveActions}_addInactiveAction(e,n,r){const i=this._actions,o=this._actionsByClip;let s=o[n];if(s===void 0)s={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,o[n]=s;else{const a=s.knownActions;e._byClipCacheIndex=a.length,a.push(e)}e._cacheIndex=i.length,i.push(e),s.actionByRoot[r]=e}_removeInactiveAction(e){const n=this._actions,r=n[n.length-1],i=e._cacheIndex;r._cacheIndex=i,n[i]=r,n.pop(),e._cacheIndex=null;const o=e._clip.uuid,s=this._actionsByClip,a=s[o],c=a.knownActions,d=c[c.length-1],f=e._byClipCacheIndex;d._byClipCacheIndex=f,c[f]=d,c.pop(),e._byClipCacheIndex=null;const m=a.actionByRoot,g=(e._localRoot||this._root).uuid;delete m[g],c.length===0&&delete s[o],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const o=n[r];--o.referenceCount===0&&this._removeInactiveBinding(o)}}_lendAction(e){const n=this._actions,r=e._cacheIndex,i=this._nActiveActions++,o=n[i];e._cacheIndex=i,n[i]=e,o._cacheIndex=r,n[r]=o}_takeBackAction(e){const n=this._actions,r=e._cacheIndex,i=--this._nActiveActions,o=n[i];e._cacheIndex=i,n[i]=e,o._cacheIndex=r,n[r]=o}_addInactiveBinding(e,n,r){const i=this._bindingsByRootAndName,o=this._bindings;let s=i[n];s===void 0&&(s={},i[n]=s),s[r]=e,e._cacheIndex=o.length,o.push(e)}_removeInactiveBinding(e){const n=this._bindings,r=e.binding,i=r.rootNode.uuid,o=r.path,s=this._bindingsByRootAndName,a=s[i],c=n[n.length-1],d=e._cacheIndex;c._cacheIndex=d,n[d]=c,n.pop(),delete a[o],Object.keys(a).length===0&&delete s[i]}_lendBinding(e){const n=this._bindings,r=e._cacheIndex,i=this._nActiveBindings++,o=n[i];e._cacheIndex=i,n[i]=e,o._cacheIndex=r,n[r]=o}_takeBackBinding(e){const n=this._bindings,r=e._cacheIndex,i=--this._nActiveBindings,o=n[i];e._cacheIndex=i,n[i]=e,o._cacheIndex=r,n[r]=o}_lendControlInterpolant(){const e=this._controlInterpolants,n=this._nActiveControlInterpolants++;let r=e[n];return r===void 0&&(r=new zM(new Float32Array(2),new Float32Array(2),1,GZ),r.__cacheIndex=n,e[n]=r),r}_takeBackControlInterpolant(e){const n=this._controlInterpolants,r=e.__cacheIndex,i=--this._nActiveControlInterpolants,o=n[i];e.__cacheIndex=i,n[i]=e,o.__cacheIndex=r,n[r]=o}clipAction(e,n,r){const i=n||this._root,o=i.uuid;let s=typeof e=="string"?vv.findByName(i,e):e;const a=s!==null?s.uuid:e,c=this._actionsByClip[a];let d=null;if(r===void 0&&(s!==null?r=s.blendMode:r=Pb),c!==void 0){const m=c.actionByRoot[o];if(m!==void 0&&m.blendMode===r)return m;d=c.knownActions[0],s===null&&(s=d._clip)}if(s===null)return null;const f=new Lz(this,s,n,r);return this._bindAction(f,d),this._addInactiveAction(f,a,o),f}existingAction(e,n){const r=n||this._root,i=r.uuid,o=typeof e=="string"?vv.findByName(r,e):e,s=o?o.uuid:e,a=this._actionsByClip[s];return a!==void 0&&a.actionByRoot[i]||null}stopAllAction(){const e=this._actions,n=this._nActiveActions;for(let r=n-1;r>=0;--r)e[r].stop();return this}update(e){e*=this.timeScale;const n=this._actions,r=this._nActiveActions,i=this.time+=e,o=Math.sign(e),s=this._accuIndex^=1;for(let d=0;d!==r;++d)n[d]._update(i,e,o,s);const a=this._bindings,c=this._nActiveBindings;for(let d=0;d!==c;++d)a[d].apply(s);return this}setTime(e){this.time=0;for(let n=0;n<this._actions.length;n++)this._actions[n].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const n=this._actions,r=e.uuid,i=this._actionsByClip,o=i[r];if(o!==void 0){const s=o.knownActions;for(let a=0,c=s.length;a!==c;++a){const d=s[a];this._deactivateAction(d);const f=d._cacheIndex,m=n[n.length-1];d._cacheIndex=null,d._byClipCacheIndex=null,m._cacheIndex=f,n[f]=m,n.pop(),this._removeInactiveBindingsForAction(d)}delete i[r]}}uncacheRoot(e){const n=e.uuid,r=this._actionsByClip;for(const s in r){const a=r[s].actionByRoot,c=a[n];c!==void 0&&(this._deactivateAction(c),this._removeInactiveAction(c))}const i=this._bindingsByRootAndName,o=i[n];if(o!==void 0)for(const s in o){const a=o[s];a.restoreOriginalState(),this._removeInactiveBinding(a)}}uncacheAction(e,n){const r=this.existingAction(e,n);r!==null&&(this._deactivateAction(r),this._removeInactiveAction(r))}}class XZ extends Rb{constructor(e=1,n=1,r=1,i={}){super(e,n,i),this.isRenderTarget3D=!0,this.depth=r,this.texture=new Ab(null,e,n,r),this.texture.isRenderTargetTexture=!0}}class qZ extends Rb{constructor(e=1,n=1,r=1,i={}){super(e,n,i),this.isRenderTargetArray=!0,this.depth=r,this.texture=new Nv(null,e,n,r),this.texture.isRenderTargetTexture=!0}}class jM{constructor(e){this.value=e}clone(){return new jM(this.value.clone===void 0?this.value:this.value.clone())}}let YZ=0;class KZ extends rl{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:YZ++}),this.name="",this.usage=cv,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const n=this.uniforms.indexOf(e);return n!==-1&&this.uniforms.splice(n,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){this.dispatchEvent({type:"dispose"})}copy(e){this.name=e.name,this.usage=e.usage;const n=e.uniforms;this.uniforms.length=0;for(let r=0,i=n.length;r<i;r++){const o=Array.isArray(n[r])?n[r]:[n[r]];for(let s=0;s<o.length;s++)this.uniforms.push(o[s].clone())}return this}clone(){return new this.constructor().copy(this)}}class ZZ extends Ob{constructor(e,n,r=1){super(e,n),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const n=super.clone(e);return n.meshPerAttribute=this.meshPerAttribute,n}toJSON(e){const n=super.toJSON(e);return n.isInstancedInterleavedBuffer=!0,n.meshPerAttribute=this.meshPerAttribute,n}}class JZ{constructor(e,n,r,i,o){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=n,this.itemSize=r,this.elementSize=i,this.count=o,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,n){return this.type=e,this.elementSize=n,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}const iA=new Ht;class Nz{constructor(e,n,r=0,i=1/0){this.ray=new uf(e,n),this.near=r,this.far=i,this.camera=null,this.layers=new Kd,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,n){this.ray.set(e,n)}setFromCamera(e,n){n.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(n.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(n).sub(this.ray.origin).normalize(),this.camera=n):n.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(n.near+n.far)/(n.near-n.far)).unproject(n),this.ray.direction.set(0,0,-1).transformDirection(n.matrixWorld),this.camera=n):console.error("THREE.Raycaster: Unsupported camera type: "+n.type)}setFromXRController(e){return iA.identity().extractRotation(e.matrixWorld),this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(iA),this}intersectObject(e,n=!0,r=[]){return UE(e,this,r,n),r.sort(oA),r}intersectObjects(e,n=!0,r=[]){for(let i=0,o=e.length;i<o;i++)UE(e[i],this,r,n);return r.sort(oA),r}}function oA(t,e){return t.distance-e.distance}function UE(t,e,n,r){let i=!0;if(t.layers.test(e.layers)&&t.raycast(e,n)===!1&&(i=!1),i===!0&&r===!0){const o=t.children;for(let s=0,a=o.length;s<a;s++)UE(o[s],e,n,!0)}}class BE{constructor(e=1,n=0,r=0){this.radius=e,this.phi=n,this.theta=r}set(e,n,r){return this.radius=e,this.phi=n,this.theta=r,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Jt(this.phi,1e-6,Math.PI-1e-6),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,r){return this.radius=Math.sqrt(e*e+n*n+r*r),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,r),this.phi=Math.acos(Jt(n/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class QZ{constructor(e=1,n=0,r=0){this.radius=e,this.theta=n,this.y=r}set(e,n,r){return this.radius=e,this.theta=n,this.y=r,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,r){return this.radius=Math.sqrt(e*e+r*r),this.theta=Math.atan2(e,r),this.y=n,this}clone(){return new this.constructor().copy(this)}}class XM{constructor(e,n,r,i){XM.prototype.isMatrix2=!0,this.elements=[1,0,0,1],e!==void 0&&this.set(e,n,r,i)}identity(){return this.set(1,0,0,1),this}fromArray(e,n=0){for(let r=0;r<4;r++)this.elements[r]=e[r+n];return this}set(e,n,r,i){const o=this.elements;return o[0]=e,o[2]=n,o[1]=r,o[3]=i,this}}const sA=new $e;class eJ{constructor(e=new $e(1/0,1/0),n=new $e(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromPoints(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const r=sA.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,sA).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const aA=new J,$y=new J;class tJ{constructor(e=new J,n=new J){this.start=e,this.end=n}set(e,n){return this.start.copy(e),this.end.copy(n),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,n){return this.delta(n).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,n){aA.subVectors(e,this.start),$y.subVectors(this.end,this.start);const r=$y.dot($y);let o=$y.dot(aA)/r;return n&&(o=Jt(o,0,1)),o}closestPointToPoint(e,n,r){const i=this.closestPointToPointParameter(e,n);return this.delta(r).multiplyScalar(i).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const lA=new J;class nJ extends Pn{constructor(e,n){super(),this.light=e,this.matrixAutoUpdate=!1,this.color=n,this.type="SpotLightHelper";const r=new Yt,i=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let s=0,a=1,c=32;s<c;s++,a++){const d=s/c*Math.PI*2,f=a/c*Math.PI*2;i.push(Math.cos(d),Math.sin(d),1,Math.cos(f),Math.sin(f),1)}r.setAttribute("position",new xt(i,3));const o=new pi({fog:!1,toneMapped:!1});this.cone=new Ls(r,o),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),this.parent?(this.parent.updateWorldMatrix(!0),this.matrix.copy(this.parent.matrixWorld).invert().multiply(this.light.matrixWorld)):this.matrix.copy(this.light.matrixWorld),this.matrixWorld.copy(this.light.matrixWorld);const e=this.light.distance?this.light.distance:1e3,n=e*Math.tan(this.light.angle);this.cone.scale.set(n,n,e),lA.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(lA),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const iu=new J,Hy=new Ht,XS=new Ht;class rJ extends Ls{constructor(e){const n=Dz(e),r=new Yt,i=[],o=[],s=new ct(0,0,1),a=new ct(0,1,0);for(let d=0;d<n.length;d++){const f=n[d];f.parent&&f.parent.isBone&&(i.push(0,0,0),i.push(0,0,0),o.push(s.r,s.g,s.b),o.push(a.r,a.g,a.b))}r.setAttribute("position",new xt(i,3)),r.setAttribute("color",new xt(o,3));const c=new pi({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(r,c),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=n,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const n=this.bones,r=this.geometry,i=r.getAttribute("position");XS.copy(this.root.matrixWorld).invert();for(let o=0,s=0;o<n.length;o++){const a=n[o];a.parent&&a.parent.isBone&&(Hy.multiplyMatrices(XS,a.matrixWorld),iu.setFromMatrixPosition(Hy),i.setXYZ(s,iu.x,iu.y,iu.z),Hy.multiplyMatrices(XS,a.parent.matrixWorld),iu.setFromMatrixPosition(Hy),i.setXYZ(s+1,iu.x,iu.y,iu.z),s+=2)}r.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function Dz(t){const e=[];t.isBone===!0&&e.push(t);for(let n=0;n<t.children.length;n++)e.push(...Dz(t.children[n]));return e}class iJ extends ar{constructor(e,n,r){const i=new Vv(n,4,2),o=new Mu({wireframe:!0,fog:!1,toneMapped:!1});super(i,o),this.light=e,this.color=r,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const oJ=new J,cA=new ct,uA=new ct;class sJ extends Pn{constructor(e,n,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="HemisphereLightHelper";const i=new Bv(n);i.rotateY(Math.PI*.5),this.material=new Mu({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const o=i.getAttribute("position"),s=new Float32Array(o.count*3);i.setAttribute("color",new Wn(s,3)),this.add(new ar(i,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const n=e.geometry.getAttribute("color");cA.copy(this.light.color),uA.copy(this.light.groundColor);for(let r=0,i=n.count;r<i;r++){const o=r<i/2?cA:uA;n.setXYZ(r,o.r,o.g,o.b)}n.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(oJ.setFromMatrixPosition(this.light.matrixWorld).negate())}}class aJ extends Ls{constructor(e=10,n=10,r=4473924,i=8947848){r=new ct(r),i=new ct(i);const o=n/2,s=e/n,a=e/2,c=[],d=[];for(let g=0,y=0,x=-a;g<=n;g++,x+=s){c.push(-a,0,x,a,0,x),c.push(x,0,-a,x,0,a);const S=g===o?r:i;S.toArray(d,y),y+=3,S.toArray(d,y),y+=3,S.toArray(d,y),y+=3,S.toArray(d,y),y+=3}const f=new Yt;f.setAttribute("position",new xt(c,3)),f.setAttribute("color",new xt(d,3));const m=new pi({vertexColors:!0,toneMapped:!1});super(f,m),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class lJ extends Ls{constructor(e=10,n=16,r=8,i=64,o=4473924,s=8947848){o=new ct(o),s=new ct(s);const a=[],c=[];if(n>1)for(let m=0;m<n;m++){const g=m/n*(Math.PI*2),y=Math.sin(g)*e,x=Math.cos(g)*e;a.push(0,0,0),a.push(y,0,x);const S=m&1?o:s;c.push(S.r,S.g,S.b),c.push(S.r,S.g,S.b)}for(let m=0;m<r;m++){const g=m&1?o:s,y=e-e/r*m;for(let x=0;x<i;x++){let S=x/i*(Math.PI*2),_=Math.sin(S)*y,b=Math.cos(S)*y;a.push(_,0,b),c.push(g.r,g.g,g.b),S=(x+1)/i*(Math.PI*2),_=Math.sin(S)*y,b=Math.cos(S)*y,a.push(_,0,b),c.push(g.r,g.g,g.b)}}const d=new Yt;d.setAttribute("position",new xt(a,3)),d.setAttribute("color",new xt(c,3));const f=new pi({vertexColors:!0,toneMapped:!1});super(d,f),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const dA=new J,Wy=new J,fA=new J;class cJ extends Pn{constructor(e,n,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="DirectionalLightHelper",n===void 0&&(n=1);let i=new Yt;i.setAttribute("position",new xt([-n,n,0,n,n,0,n,-n,0,-n,-n,0,-n,n,0],3));const o=new pi({fog:!1,toneMapped:!1});this.lightPlane=new bu(i,o),this.add(this.lightPlane),i=new Yt,i.setAttribute("position",new xt([0,0,0,0,0,1],3)),this.targetLine=new bu(i,o),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),dA.setFromMatrixPosition(this.light.matrixWorld),Wy.setFromMatrixPosition(this.light.target.matrixWorld),fA.subVectors(Wy,dA),this.lightPlane.lookAt(Wy),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(Wy),this.targetLine.scale.z=fA.length()}}const Gy=new J,Tr=new Dv;class uJ extends Ls{constructor(e){const n=new Yt,r=new pi({color:16777215,vertexColors:!0,toneMapped:!1}),i=[],o=[],s={};a("n1","n2"),a("n2","n4"),a("n4","n3"),a("n3","n1"),a("f1","f2"),a("f2","f4"),a("f4","f3"),a("f3","f1"),a("n1","f1"),a("n2","f2"),a("n3","f3"),a("n4","f4"),a("p","n1"),a("p","n2"),a("p","n3"),a("p","n4"),a("u1","u2"),a("u2","u3"),a("u3","u1"),a("c","t"),a("p","c"),a("cn1","cn2"),a("cn3","cn4"),a("cf1","cf2"),a("cf3","cf4");function a(x,S){c(x),c(S)}function c(x){i.push(0,0,0),o.push(0,0,0),s[x]===void 0&&(s[x]=[]),s[x].push(i.length/3-1)}n.setAttribute("position",new xt(i,3)),n.setAttribute("color",new xt(o,3)),super(n,r),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=s,this.update();const d=new ct(16755200),f=new ct(16711680),m=new ct(43775),g=new ct(16777215),y=new ct(3355443);this.setColors(d,f,m,g,y)}setColors(e,n,r,i,o){const a=this.geometry.getAttribute("color");a.setXYZ(0,e.r,e.g,e.b),a.setXYZ(1,e.r,e.g,e.b),a.setXYZ(2,e.r,e.g,e.b),a.setXYZ(3,e.r,e.g,e.b),a.setXYZ(4,e.r,e.g,e.b),a.setXYZ(5,e.r,e.g,e.b),a.setXYZ(6,e.r,e.g,e.b),a.setXYZ(7,e.r,e.g,e.b),a.setXYZ(8,e.r,e.g,e.b),a.setXYZ(9,e.r,e.g,e.b),a.setXYZ(10,e.r,e.g,e.b),a.setXYZ(11,e.r,e.g,e.b),a.setXYZ(12,e.r,e.g,e.b),a.setXYZ(13,e.r,e.g,e.b),a.setXYZ(14,e.r,e.g,e.b),a.setXYZ(15,e.r,e.g,e.b),a.setXYZ(16,e.r,e.g,e.b),a.setXYZ(17,e.r,e.g,e.b),a.setXYZ(18,e.r,e.g,e.b),a.setXYZ(19,e.r,e.g,e.b),a.setXYZ(20,e.r,e.g,e.b),a.setXYZ(21,e.r,e.g,e.b),a.setXYZ(22,e.r,e.g,e.b),a.setXYZ(23,e.r,e.g,e.b),a.setXYZ(24,n.r,n.g,n.b),a.setXYZ(25,n.r,n.g,n.b),a.setXYZ(26,n.r,n.g,n.b),a.setXYZ(27,n.r,n.g,n.b),a.setXYZ(28,n.r,n.g,n.b),a.setXYZ(29,n.r,n.g,n.b),a.setXYZ(30,n.r,n.g,n.b),a.setXYZ(31,n.r,n.g,n.b),a.setXYZ(32,r.r,r.g,r.b),a.setXYZ(33,r.r,r.g,r.b),a.setXYZ(34,r.r,r.g,r.b),a.setXYZ(35,r.r,r.g,r.b),a.setXYZ(36,r.r,r.g,r.b),a.setXYZ(37,r.r,r.g,r.b),a.setXYZ(38,i.r,i.g,i.b),a.setXYZ(39,i.r,i.g,i.b),a.setXYZ(40,o.r,o.g,o.b),a.setXYZ(41,o.r,o.g,o.b),a.setXYZ(42,o.r,o.g,o.b),a.setXYZ(43,o.r,o.g,o.b),a.setXYZ(44,o.r,o.g,o.b),a.setXYZ(45,o.r,o.g,o.b),a.setXYZ(46,o.r,o.g,o.b),a.setXYZ(47,o.r,o.g,o.b),a.setXYZ(48,o.r,o.g,o.b),a.setXYZ(49,o.r,o.g,o.b),a.needsUpdate=!0}update(){const e=this.geometry,n=this.pointMap,r=1,i=1;Tr.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse);const o=this.camera.coordinateSystem===Rs?-1:0;kr("c",n,e,Tr,0,0,o),kr("t",n,e,Tr,0,0,1),kr("n1",n,e,Tr,-1,-1,o),kr("n2",n,e,Tr,r,-1,o),kr("n3",n,e,Tr,-1,i,o),kr("n4",n,e,Tr,r,i,o),kr("f1",n,e,Tr,-1,-1,1),kr("f2",n,e,Tr,r,-1,1),kr("f3",n,e,Tr,-1,i,1),kr("f4",n,e,Tr,r,i,1),kr("u1",n,e,Tr,r*.7,i*1.1,o),kr("u2",n,e,Tr,-1*.7,i*1.1,o),kr("u3",n,e,Tr,0,i*2,o),kr("cf1",n,e,Tr,-1,0,1),kr("cf2",n,e,Tr,r,0,1),kr("cf3",n,e,Tr,0,-1,1),kr("cf4",n,e,Tr,0,i,1),kr("cn1",n,e,Tr,-1,0,o),kr("cn2",n,e,Tr,r,0,o),kr("cn3",n,e,Tr,0,-1,o),kr("cn4",n,e,Tr,0,i,o),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function kr(t,e,n,r,i,o,s){Gy.set(i,o,s).unproject(r);const a=e[t];if(a!==void 0){const c=n.getAttribute("position");for(let d=0,f=a.length;d<f;d++)c.setXYZ(a[d],Gy.x,Gy.y,Gy.z)}}const jy=new ji;class dJ extends Ls{constructor(e,n=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new Float32Array(8*3),o=new Yt;o.setIndex(new Wn(r,1)),o.setAttribute("position",new Wn(i,3)),super(o,new pi({color:n,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(){if(this.object!==void 0&&jy.setFromObject(this.object),jy.isEmpty())return;const e=jy.min,n=jy.max,r=this.geometry.attributes.position,i=r.array;i[0]=n.x,i[1]=n.y,i[2]=n.z,i[3]=e.x,i[4]=n.y,i[5]=n.z,i[6]=e.x,i[7]=e.y,i[8]=n.z,i[9]=n.x,i[10]=e.y,i[11]=n.z,i[12]=n.x,i[13]=n.y,i[14]=e.z,i[15]=e.x,i[16]=n.y,i[17]=e.z,i[18]=e.x,i[19]=e.y,i[20]=e.z,i[21]=n.x,i[22]=e.y,i[23]=e.z,r.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,n){return super.copy(e,n),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class fJ extends Ls{constructor(e,n=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],o=new Yt;o.setIndex(new Wn(r,1)),o.setAttribute("position",new xt(i,3)),super(o,new pi({color:n,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const n=this.box;n.isEmpty()||(n.getCenter(this.position),n.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class hJ extends bu{constructor(e,n=1,r=16776960){const i=r,o=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],s=new Yt;s.setAttribute("position",new xt(o,3)),s.computeBoundingSphere(),super(s,new pi({color:i,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=n;const a=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],c=new Yt;c.setAttribute("position",new xt(a,3)),c.computeBoundingSphere(),this.add(new ar(c,new Mu({color:i,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const hA=new J;let Xy,qS;class pJ extends Pn{constructor(e=new J(0,0,1),n=new J(0,0,0),r=1,i=16776960,o=r*.2,s=o*.2){super(),this.type="ArrowHelper",Xy===void 0&&(Xy=new Yt,Xy.setAttribute("position",new xt([0,0,0,0,1,0],3)),qS=new Uv(.5,1,5,1),qS.translate(0,-.5,0)),this.position.copy(n),this.line=new bu(Xy,new pi({color:i,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new ar(qS,new Mu({color:i,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(r,o,s)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{hA.set(e.z,0,-e.x).normalize();const n=Math.acos(e.y);this.quaternion.setFromAxisAngle(hA,n)}}setLength(e,n=e*.2,r=n*.2){this.line.scale.set(1,Math.max(1e-4,e-n),1),this.line.updateMatrix(),this.cone.scale.set(r,n,r),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class mJ extends Ls{constructor(e=1){const n=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],r=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],i=new Yt;i.setAttribute("position",new xt(n,3)),i.setAttribute("color",new xt(r,3));const o=new pi({vertexColors:!0,toneMapped:!1});super(i,o),this.type="AxesHelper"}setColors(e,n,r){const i=new ct,o=this.geometry.attributes.color.array;return i.set(e),i.toArray(o,0),i.toArray(o,3),i.set(n),i.toArray(o,6),i.toArray(o,9),i.set(r),i.toArray(o,12),i.toArray(o,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class gJ{constructor(){this.type="ShapePath",this.color=new ct,this.subPaths=[],this.currentPath=null}moveTo(e,n){return this.currentPath=new k1,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,n),this}lineTo(e,n){return this.currentPath.lineTo(e,n),this}quadraticCurveTo(e,n,r,i){return this.currentPath.quadraticCurveTo(e,n,r,i),this}bezierCurveTo(e,n,r,i,o,s){return this.currentPath.bezierCurveTo(e,n,r,i,o,s),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function n(b){const C=[];for(let T=0,A=b.length;T<A;T++){const P=b[T],R=new Zd;R.curves=P.curves,C.push(R)}return C}function r(b,C){const T=C.length;let A=!1;for(let P=T-1,R=0;R<T;P=R++){let k=C[P],z=C[R],L=z.x-k.x,O=z.y-k.y;if(Math.abs(O)>Number.EPSILON){if(O<0&&(k=C[R],L=-L,z=C[P],O=-O),b.y<k.y||b.y>z.y)continue;if(b.y===k.y){if(b.x===k.x)return!0}else{const B=O*(b.x-k.x)-L*(b.y-k.y);if(B===0)return!0;if(B<0)continue;A=!A}}else{if(b.y!==k.y)continue;if(z.x<=b.x&&b.x<=k.x||k.x<=b.x&&b.x<=z.x)return!0}}return A}const i=ma.isClockWise,o=this.subPaths;if(o.length===0)return[];let s,a,c;const d=[];if(o.length===1)return a=o[0],c=new Zd,c.curves=a.curves,d.push(c),d;let f=!i(o[0].getPoints());f=e?!f:f;const m=[],g=[];let y=[],x=0,S;g[x]=void 0,y[x]=[];for(let b=0,C=o.length;b<C;b++)a=o[b],S=a.getPoints(),s=i(S),s=e?!s:s,s?(!f&&g[x]&&x++,g[x]={s:new Zd,p:S},g[x].s.curves=a.curves,f&&x++,y[x]=[]):y[x].push({h:a,p:S[0]});if(!g[0])return n(o);if(g.length>1){let b=!1,C=0;for(let T=0,A=g.length;T<A;T++)m[T]=[];for(let T=0,A=g.length;T<A;T++){const P=y[T];for(let R=0;R<P.length;R++){const k=P[R];let z=!0;for(let L=0;L<g.length;L++)r(k.p,g[L].p)&&(T!==L&&C++,z?(z=!1,m[L].push(k)):b=!0);z&&m[T].push(k)}}C>0&&b===!1&&(y=m)}let _;for(let b=0,C=g.length;b<C;b++){c=g[b].s,d.push(c),_=y[b];for(let T=0,A=_.length;T<A;T++)c.holes.push(_[T].h)}return d}}class vJ extends rl{constructor(e,n=null){super(),this.object=e,this.domElement=n,this.enabled=!0,this.state=-1,this.keys={},this.mouseButtons={LEFT:null,MIDDLE:null,RIGHT:null},this.touches={ONE:null,TWO:null}}connect(e){if(e===void 0){console.warn("THREE.Controls: connect() now requires an element.");return}this.domElement!==null&&this.disconnect(),this.domElement=e}disconnect(){}dispose(){}update(){}}function yJ(t,e){const n=t.image&&t.image.width?t.image.width/t.image.height:1;return n>e?(t.repeat.x=1,t.repeat.y=n/e,t.offset.x=0,t.offset.y=(1-t.repeat.y)/2):(t.repeat.x=e/n,t.repeat.y=1,t.offset.x=(1-t.repeat.x)/2,t.offset.y=0),t}function xJ(t,e){const n=t.image&&t.image.width?t.image.width/t.image.height:1;return n>e?(t.repeat.x=e/n,t.repeat.y=1,t.offset.x=(1-t.repeat.x)/2,t.offset.y=0):(t.repeat.x=1,t.repeat.y=n/e,t.offset.x=0,t.offset.y=(1-t.repeat.y)/2),t}function bJ(t){return t.repeat.x=1,t.repeat.y=1,t.offset.x=0,t.offset.y=0,t}function VE(t,e,n,r){const i=_J(r);switch(n){case vM:return t*e;case Cb:return t*e/i.components*i.byteLength;case Lv:return t*e/i.components*i.byteLength;case xM:return t*e*2/i.components*i.byteLength;case Mb:return t*e*2/i.components*i.byteLength;case yM:return t*e*3/i.components*i.byteLength;case Wi:return t*e*4/i.components*i.byteLength;case Tb:return t*e*4/i.components*i.byteLength;case Dg:case Fg:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*8;case zg:case Ug:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case n1:case i1:return Math.max(t,16)*Math.max(e,8)/4;case t1:case r1:return Math.max(t,8)*Math.max(e,8)/2;case o1:case s1:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*8;case a1:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case l1:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case c1:return Math.floor((t+4)/5)*Math.floor((e+3)/4)*16;case u1:return Math.floor((t+4)/5)*Math.floor((e+4)/5)*16;case d1:return Math.floor((t+5)/6)*Math.floor((e+4)/5)*16;case f1:return Math.floor((t+5)/6)*Math.floor((e+5)/6)*16;case h1:return Math.floor((t+7)/8)*Math.floor((e+4)/5)*16;case p1:return Math.floor((t+7)/8)*Math.floor((e+5)/6)*16;case m1:return Math.floor((t+7)/8)*Math.floor((e+7)/8)*16;case g1:return Math.floor((t+9)/10)*Math.floor((e+4)/5)*16;case v1:return Math.floor((t+9)/10)*Math.floor((e+5)/6)*16;case y1:return Math.floor((t+9)/10)*Math.floor((e+7)/8)*16;case x1:return Math.floor((t+9)/10)*Math.floor((e+9)/10)*16;case b1:return Math.floor((t+11)/12)*Math.floor((e+9)/10)*16;case _1:return Math.floor((t+11)/12)*Math.floor((e+11)/12)*16;case Bg:case S1:case w1:return Math.ceil(t/4)*Math.ceil(e/4)*16;case bM:case E1:return Math.ceil(t/4)*Math.ceil(e/4)*8;case C1:case M1:return Math.ceil(t/4)*Math.ceil(e/4)*16}throw new Error(`Unable to determine texture byte length for ${n} format.`)}function _J(t){switch(t){case ks:case pM:return{byteLength:1,components:1};case Sp:case mM:case Hp:return{byteLength:2,components:1};case wb:case Eb:return{byteLength:2,components:4};case hc:case Sb:case Fo:return{byteLength:4,components:1};case gM:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${t}.`)}class SJ{static contain(e,n){return yJ(e,n)}static cover(e,n){return xJ(e,n)}static fill(e){return bJ(e)}static getByteLength(e,n,r,i){return VE(e,n,r,i)}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:xb}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=xb);/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */function Fz(){let t=null,e=!1,n=null,r=null;function i(o,s){n(o,s),r=t.requestAnimationFrame(i)}return{start:function(){e!==!0&&n!==null&&(r=t.requestAnimationFrame(i),e=!0)},stop:function(){t.cancelAnimationFrame(r),e=!1},setAnimationLoop:function(o){n=o},setContext:function(o){t=o}}}function wJ(t){const e=new WeakMap;function n(a,c){const d=a.array,f=a.usage,m=d.byteLength,g=t.createBuffer();t.bindBuffer(c,g),t.bufferData(c,d,f),a.onUploadCallback();let y;if(d instanceof Float32Array)y=t.FLOAT;else if(d instanceof Uint16Array)a.isFloat16BufferAttribute?y=t.HALF_FLOAT:y=t.UNSIGNED_SHORT;else if(d instanceof Int16Array)y=t.SHORT;else if(d instanceof Uint32Array)y=t.UNSIGNED_INT;else if(d instanceof Int32Array)y=t.INT;else if(d instanceof Int8Array)y=t.BYTE;else if(d instanceof Uint8Array)y=t.UNSIGNED_BYTE;else if(d instanceof Uint8ClampedArray)y=t.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+d);return{buffer:g,type:y,bytesPerElement:d.BYTES_PER_ELEMENT,version:a.version,size:m}}function r(a,c,d){const f=c.array,m=c.updateRanges;if(t.bindBuffer(d,a),m.length===0)t.bufferSubData(d,0,f);else{m.sort((y,x)=>y.start-x.start);let g=0;for(let y=1;y<m.length;y++){const x=m[g],S=m[y];S.start<=x.start+x.count+1?x.count=Math.max(x.count,S.start+S.count-x.start):(++g,m[g]=S)}m.length=g+1;for(let y=0,x=m.length;y<x;y++){const S=m[y];t.bufferSubData(d,S.start*f.BYTES_PER_ELEMENT,f,S.start,S.count)}c.clearUpdateRanges()}c.onUploadCallback()}function i(a){return a.isInterleavedBufferAttribute&&(a=a.data),e.get(a)}function o(a){a.isInterleavedBufferAttribute&&(a=a.data);const c=e.get(a);c&&(t.deleteBuffer(c.buffer),e.delete(a))}function s(a,c){if(a.isInterleavedBufferAttribute&&(a=a.data),a.isGLBufferAttribute){const f=e.get(a);(!f||f.version<a.version)&&e.set(a,{buffer:a.buffer,type:a.type,bytesPerElement:a.elementSize,version:a.version});return}const d=e.get(a);if(d===void 0)e.set(a,n(a,c));else if(d.version<a.version){if(d.size!==a.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");r(d.buffer,a,c),d.version=a.version}}return{get:i,remove:o,update:s}}var EJ=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,CJ=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,MJ=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,TJ=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,PJ=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,RJ=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,AJ=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,IJ=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,kJ=`#ifdef USE_BATCHING
	#if ! defined( GL_ANGLE_multi_draw )
	#define gl_DrawID _gl_DrawID
	uniform int _gl_DrawID;
	#endif
	uniform highp sampler2D batchingTexture;
	uniform highp usampler2D batchingIdTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
	float getIndirectIndex( const in int i ) {
		int size = textureSize( batchingIdTexture, 0 ).x;
		int x = i % size;
		int y = i / size;
		return float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );
	}
#endif
#ifdef USE_BATCHING_COLOR
	uniform sampler2D batchingColorTexture;
	vec3 getBatchingColor( const in float i ) {
		int size = textureSize( batchingColorTexture, 0 ).x;
		int j = int( i );
		int x = j % size;
		int y = j / size;
		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;
	}
#endif`,OJ=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );
#endif`,LJ=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,NJ=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,DJ=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,FJ=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,zJ=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,UJ=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,BJ=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,VJ=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,$J=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,HJ=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,WJ=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,GJ=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	varying vec3 vColor;
#endif`,jJ=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif
#ifdef USE_BATCHING_COLOR
	vec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );
	vColor.xyz *= batchingColor.xyz;
#endif`,XJ=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,qJ=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,YJ=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,KJ=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,ZJ=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,JJ=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	#ifdef DECODE_VIDEO_TEXTURE_EMISSIVE
		emissiveColor = sRGBTransferEOTF( emissiveColor );
	#endif
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,QJ=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,eQ="gl_FragColor = linearToOutputTexel( gl_FragColor );",tQ=`vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferEOTF( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,nQ=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,rQ=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,iQ=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,oQ=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,sQ=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,aQ=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,lQ=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,cQ=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,uQ=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,dQ=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,fQ=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,hQ=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,pQ=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,mQ=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if ( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,gQ=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,vQ=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,yQ=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,xQ=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,bQ=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,_Q=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,SQ=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,wQ=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,EQ=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,CQ=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,MQ=`#if defined( USE_LOGDEPTHBUF )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,TQ=`#if defined( USE_LOGDEPTHBUF )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,PQ=`#ifdef USE_LOGDEPTHBUF
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,RQ=`#ifdef USE_LOGDEPTHBUF
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,AQ=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = sRGBTransferEOTF( sampledDiffuseColor );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,IQ=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,kQ=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,OQ=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,LQ=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,NQ=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,DQ=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,FQ=`#if defined( USE_MORPHCOLORS )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,zQ=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,UQ=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	#endif
	uniform sampler2DArray morphTargetsTexture;
	uniform ivec2 morphTargetsTextureSize;
	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
		int y = texelIndex / morphTargetsTextureSize.x;
		int x = texelIndex - y * morphTargetsTextureSize.x;
		ivec3 morphUV = ivec3( x, y, morphTargetIndex );
		return texelFetch( morphTargetsTexture, morphUV, 0 );
	}
#endif`,BQ=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,VQ=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,$Q=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,HQ=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,WQ=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,GQ=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,jQ=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,XQ=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,qQ=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,YQ=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,KQ=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,ZQ=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,JQ=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;
const float Inv255 = 1. / 255.;
const vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );
const vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );
const vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );
const vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );
vec4 packDepthToRGBA( const in float v ) {
	if( v <= 0.0 )
		return vec4( 0., 0., 0., 0. );
	if( v >= 1.0 )
		return vec4( 1., 1., 1., 1. );
	float vuf;
	float af = modf( v * PackFactors.a, vuf );
	float bf = modf( vuf * ShiftRight8, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );
}
vec3 packDepthToRGB( const in float v ) {
	if( v <= 0.0 )
		return vec3( 0., 0., 0. );
	if( v >= 1.0 )
		return vec3( 1., 1., 1. );
	float vuf;
	float bf = modf( v * PackFactors.b, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec3( vuf * Inv255, gf * PackUpscale, bf );
}
vec2 packDepthToRG( const in float v ) {
	if( v <= 0.0 )
		return vec2( 0., 0. );
	if( v >= 1.0 )
		return vec2( 1., 1. );
	float vuf;
	float gf = modf( v * 256., vuf );
	return vec2( vuf * Inv255, gf );
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors4 );
}
float unpackRGBToDepth( const in vec3 v ) {
	return dot( v, UnpackFactors3 );
}
float unpackRGToDepth( const in vec2 v ) {
	return v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;
}
vec4 pack2HalfToRGBA( const in vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( const in vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,QQ=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,eee=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,tee=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,nee=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,ree=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,iee=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,oee=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		
		float lightToPositionLength = length( lightToPosition );
		if ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {
			float dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );			dp += shadowBias;
			vec3 bd3D = normalize( lightToPosition );
			vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
			#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
				vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
				shadow = (
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
				) * ( 1.0 / 9.0 );
			#else
				shadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
			#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
#endif`,see=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,aee=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,lee=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,cee=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,uee=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,dee=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,fee=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,hee=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,pee=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,mee=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,gee=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 CineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,vee=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,yee=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		#else
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,xee=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,bee=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,_ee=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,See=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const wee=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,Eee=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Cee=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,Mee=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Tee=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,Pee=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Ree=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,Aee=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#elif DEPTH_PACKING == 3202
		gl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );
	#elif DEPTH_PACKING == 3203
		gl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );
	#endif
}`,Iee=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,kee=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,Oee=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,Lee=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Nee=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,Dee=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,Fee=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,zee=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Uee=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Bee=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Vee=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,$ee=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Hee=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,Wee=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,Gee=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,jee=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Xee=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,qee=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Yee=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Kee=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Zee=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,Jee=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,Qee=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,ete=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,tte=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix[ 3 ];
	vec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,nte=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,un={alphahash_fragment:EJ,alphahash_pars_fragment:CJ,alphamap_fragment:MJ,alphamap_pars_fragment:TJ,alphatest_fragment:PJ,alphatest_pars_fragment:RJ,aomap_fragment:AJ,aomap_pars_fragment:IJ,batching_pars_vertex:kJ,batching_vertex:OJ,begin_vertex:LJ,beginnormal_vertex:NJ,bsdfs:DJ,iridescence_fragment:FJ,bumpmap_pars_fragment:zJ,clipping_planes_fragment:UJ,clipping_planes_pars_fragment:BJ,clipping_planes_pars_vertex:VJ,clipping_planes_vertex:$J,color_fragment:HJ,color_pars_fragment:WJ,color_pars_vertex:GJ,color_vertex:jJ,common:XJ,cube_uv_reflection_fragment:qJ,defaultnormal_vertex:YJ,displacementmap_pars_vertex:KJ,displacementmap_vertex:ZJ,emissivemap_fragment:JJ,emissivemap_pars_fragment:QJ,colorspace_fragment:eQ,colorspace_pars_fragment:tQ,envmap_fragment:nQ,envmap_common_pars_fragment:rQ,envmap_pars_fragment:iQ,envmap_pars_vertex:oQ,envmap_physical_pars_fragment:gQ,envmap_vertex:sQ,fog_vertex:aQ,fog_pars_vertex:lQ,fog_fragment:cQ,fog_pars_fragment:uQ,gradientmap_pars_fragment:dQ,lightmap_pars_fragment:fQ,lights_lambert_fragment:hQ,lights_lambert_pars_fragment:pQ,lights_pars_begin:mQ,lights_toon_fragment:vQ,lights_toon_pars_fragment:yQ,lights_phong_fragment:xQ,lights_phong_pars_fragment:bQ,lights_physical_fragment:_Q,lights_physical_pars_fragment:SQ,lights_fragment_begin:wQ,lights_fragment_maps:EQ,lights_fragment_end:CQ,logdepthbuf_fragment:MQ,logdepthbuf_pars_fragment:TQ,logdepthbuf_pars_vertex:PQ,logdepthbuf_vertex:RQ,map_fragment:AQ,map_pars_fragment:IQ,map_particle_fragment:kQ,map_particle_pars_fragment:OQ,metalnessmap_fragment:LQ,metalnessmap_pars_fragment:NQ,morphinstance_vertex:DQ,morphcolor_vertex:FQ,morphnormal_vertex:zQ,morphtarget_pars_vertex:UQ,morphtarget_vertex:BQ,normal_fragment_begin:VQ,normal_fragment_maps:$Q,normal_pars_fragment:HQ,normal_pars_vertex:WQ,normal_vertex:GQ,normalmap_pars_fragment:jQ,clearcoat_normal_fragment_begin:XQ,clearcoat_normal_fragment_maps:qQ,clearcoat_pars_fragment:YQ,iridescence_pars_fragment:KQ,opaque_fragment:ZQ,packing:JQ,premultiplied_alpha_fragment:QQ,project_vertex:eee,dithering_fragment:tee,dithering_pars_fragment:nee,roughnessmap_fragment:ree,roughnessmap_pars_fragment:iee,shadowmap_pars_fragment:oee,shadowmap_pars_vertex:see,shadowmap_vertex:aee,shadowmask_pars_fragment:lee,skinbase_vertex:cee,skinning_pars_vertex:uee,skinning_vertex:dee,skinnormal_vertex:fee,specularmap_fragment:hee,specularmap_pars_fragment:pee,tonemapping_fragment:mee,tonemapping_pars_fragment:gee,transmission_fragment:vee,transmission_pars_fragment:yee,uv_pars_fragment:xee,uv_pars_vertex:bee,uv_vertex:_ee,worldpos_vertex:See,background_vert:wee,background_frag:Eee,backgroundCube_vert:Cee,backgroundCube_frag:Mee,cube_vert:Tee,cube_frag:Pee,depth_vert:Ree,depth_frag:Aee,distanceRGBA_vert:Iee,distanceRGBA_frag:kee,equirect_vert:Oee,equirect_frag:Lee,linedashed_vert:Nee,linedashed_frag:Dee,meshbasic_vert:Fee,meshbasic_frag:zee,meshlambert_vert:Uee,meshlambert_frag:Bee,meshmatcap_vert:Vee,meshmatcap_frag:$ee,meshnormal_vert:Hee,meshnormal_frag:Wee,meshphong_vert:Gee,meshphong_frag:jee,meshphysical_vert:Xee,meshphysical_frag:qee,meshtoon_vert:Yee,meshtoon_frag:Kee,points_vert:Zee,points_frag:Jee,shadow_vert:Qee,shadow_frag:ete,sprite_vert:tte,sprite_frag:nte},ht={common:{diffuse:{value:new ct(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new en},alphaMap:{value:null},alphaMapTransform:{value:new en},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new en}},envmap:{envMap:{value:null},envMapRotation:{value:new en},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new en}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new en}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new en},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new en},normalScale:{value:new $e(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new en},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new en}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new en}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new en}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new ct(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new ct(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new en},alphaTest:{value:0},uvTransform:{value:new en}},sprite:{diffuse:{value:new ct(16777215)},opacity:{value:1},center:{value:new $e(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new en},alphaMap:{value:null},alphaMapTransform:{value:new en},alphaTest:{value:0}}},fa={basic:{uniforms:ao([ht.common,ht.specularmap,ht.envmap,ht.aomap,ht.lightmap,ht.fog]),vertexShader:un.meshbasic_vert,fragmentShader:un.meshbasic_frag},lambert:{uniforms:ao([ht.common,ht.specularmap,ht.envmap,ht.aomap,ht.lightmap,ht.emissivemap,ht.bumpmap,ht.normalmap,ht.displacementmap,ht.fog,ht.lights,{emissive:{value:new ct(0)}}]),vertexShader:un.meshlambert_vert,fragmentShader:un.meshlambert_frag},phong:{uniforms:ao([ht.common,ht.specularmap,ht.envmap,ht.aomap,ht.lightmap,ht.emissivemap,ht.bumpmap,ht.normalmap,ht.displacementmap,ht.fog,ht.lights,{emissive:{value:new ct(0)},specular:{value:new ct(1118481)},shininess:{value:30}}]),vertexShader:un.meshphong_vert,fragmentShader:un.meshphong_frag},standard:{uniforms:ao([ht.common,ht.envmap,ht.aomap,ht.lightmap,ht.emissivemap,ht.bumpmap,ht.normalmap,ht.displacementmap,ht.roughnessmap,ht.metalnessmap,ht.fog,ht.lights,{emissive:{value:new ct(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:un.meshphysical_vert,fragmentShader:un.meshphysical_frag},toon:{uniforms:ao([ht.common,ht.aomap,ht.lightmap,ht.emissivemap,ht.bumpmap,ht.normalmap,ht.displacementmap,ht.gradientmap,ht.fog,ht.lights,{emissive:{value:new ct(0)}}]),vertexShader:un.meshtoon_vert,fragmentShader:un.meshtoon_frag},matcap:{uniforms:ao([ht.common,ht.bumpmap,ht.normalmap,ht.displacementmap,ht.fog,{matcap:{value:null}}]),vertexShader:un.meshmatcap_vert,fragmentShader:un.meshmatcap_frag},points:{uniforms:ao([ht.points,ht.fog]),vertexShader:un.points_vert,fragmentShader:un.points_frag},dashed:{uniforms:ao([ht.common,ht.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:un.linedashed_vert,fragmentShader:un.linedashed_frag},depth:{uniforms:ao([ht.common,ht.displacementmap]),vertexShader:un.depth_vert,fragmentShader:un.depth_frag},normal:{uniforms:ao([ht.common,ht.bumpmap,ht.normalmap,ht.displacementmap,{opacity:{value:1}}]),vertexShader:un.meshnormal_vert,fragmentShader:un.meshnormal_frag},sprite:{uniforms:ao([ht.sprite,ht.fog]),vertexShader:un.sprite_vert,fragmentShader:un.sprite_frag},background:{uniforms:{uvTransform:{value:new en},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:un.background_vert,fragmentShader:un.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new en}},vertexShader:un.backgroundCube_vert,fragmentShader:un.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:un.cube_vert,fragmentShader:un.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:un.equirect_vert,fragmentShader:un.equirect_frag},distanceRGBA:{uniforms:ao([ht.common,ht.displacementmap,{referencePosition:{value:new J},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:un.distanceRGBA_vert,fragmentShader:un.distanceRGBA_frag},shadow:{uniforms:ao([ht.lights,ht.fog,{color:{value:new ct(0)},opacity:{value:1}}]),vertexShader:un.shadow_vert,fragmentShader:un.shadow_frag}};fa.physical={uniforms:ao([fa.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new en},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new en},clearcoatNormalScale:{value:new $e(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new en},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new en},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new en},sheen:{value:0},sheenColor:{value:new ct(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new en},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new en},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new en},transmissionSamplerSize:{value:new $e},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new en},attenuationDistance:{value:0},attenuationColor:{value:new ct(0)},specularColor:{value:new ct(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new en},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new en},anisotropyVector:{value:new $e},anisotropyMap:{value:null},anisotropyMapTransform:{value:new en}}]),vertexShader:un.meshphysical_vert,fragmentShader:un.meshphysical_frag};const qy={r:0,b:0,g:0},Ad=new ss,rte=new Ht;function ite(t,e,n,r,i,o,s){const a=new ct(0);let c=o===!0?0:1,d,f,m=null,g=0,y=null;function x(T){let A=T.isScene===!0?T.background:null;return A&&A.isTexture&&(A=(T.backgroundBlurriness>0?n:e).get(A)),A}function S(T){let A=!1;const P=x(T);P===null?b(a,c):P&&P.isColor&&(b(P,1),A=!0);const R=t.xr.getEnvironmentBlendMode();R==="additive"?r.buffers.color.setClear(0,0,0,1,s):R==="alpha-blend"&&r.buffers.color.setClear(0,0,0,0,s),(t.autoClear||A)&&(r.buffers.depth.setTest(!0),r.buffers.depth.setMask(!0),r.buffers.color.setMask(!0),t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil))}function _(T,A){const P=x(A);P&&(P.isCubeTexture||P.mapping===$p)?(f===void 0&&(f=new ar(new df(1,1,1),new Os({name:"BackgroundCubeMaterial",uniforms:Tp(fa.backgroundCube.uniforms),vertexShader:fa.backgroundCube.vertexShader,fragmentShader:fa.backgroundCube.fragmentShader,side:mo,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),f.geometry.deleteAttribute("normal"),f.geometry.deleteAttribute("uv"),f.onBeforeRender=function(R,k,z){this.matrixWorld.copyPosition(z.matrixWorld)},Object.defineProperty(f.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(f)),Ad.copy(A.backgroundRotation),Ad.x*=-1,Ad.y*=-1,Ad.z*=-1,P.isCubeTexture&&P.isRenderTargetTexture===!1&&(Ad.y*=-1,Ad.z*=-1),f.material.uniforms.envMap.value=P,f.material.uniforms.flipEnvMap.value=P.isCubeTexture&&P.isRenderTargetTexture===!1?-1:1,f.material.uniforms.backgroundBlurriness.value=A.backgroundBlurriness,f.material.uniforms.backgroundIntensity.value=A.backgroundIntensity,f.material.uniforms.backgroundRotation.value.setFromMatrix4(rte.makeRotationFromEuler(Ad)),f.material.toneMapped=wn.getTransfer(P.colorSpace)!==Fn,(m!==P||g!==P.version||y!==t.toneMapping)&&(f.material.needsUpdate=!0,m=P,g=P.version,y=t.toneMapping),f.layers.enableAll(),T.unshift(f,f.geometry,f.material,0,0,null)):P&&P.isTexture&&(d===void 0&&(d=new ar(new Gp(2,2),new Os({name:"BackgroundMaterial",uniforms:Tp(fa.background.uniforms),vertexShader:fa.background.vertexShader,fragmentShader:fa.background.fragmentShader,side:dc,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),d.geometry.deleteAttribute("normal"),Object.defineProperty(d.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(d)),d.material.uniforms.t2D.value=P,d.material.uniforms.backgroundIntensity.value=A.backgroundIntensity,d.material.toneMapped=wn.getTransfer(P.colorSpace)!==Fn,P.matrixAutoUpdate===!0&&P.updateMatrix(),d.material.uniforms.uvTransform.value.copy(P.matrix),(m!==P||g!==P.version||y!==t.toneMapping)&&(d.material.needsUpdate=!0,m=P,g=P.version,y=t.toneMapping),d.layers.enableAll(),T.unshift(d,d.geometry,d.material,0,0,null))}function b(T,A){T.getRGB(qy,UF(t)),r.buffers.color.setClear(qy.r,qy.g,qy.b,A,s)}function C(){f!==void 0&&(f.geometry.dispose(),f.material.dispose(),f=void 0),d!==void 0&&(d.geometry.dispose(),d.material.dispose(),d=void 0)}return{getClearColor:function(){return a},setClearColor:function(T,A=1){a.set(T),c=A,b(a,c)},getClearAlpha:function(){return c},setClearAlpha:function(T){c=T,b(a,c)},render:S,addToRenderList:_,dispose:C}}function ote(t,e){const n=t.getParameter(t.MAX_VERTEX_ATTRIBS),r={},i=g(null);let o=i,s=!1;function a(O,B,j,X,ee){let K=!1;const ne=m(X,j,B);o!==ne&&(o=ne,d(o.object)),K=y(O,X,j,ee),K&&x(O,X,j,ee),ee!==null&&e.update(ee,t.ELEMENT_ARRAY_BUFFER),(K||s)&&(s=!1,A(O,B,j,X),ee!==null&&t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,e.get(ee).buffer))}function c(){return t.createVertexArray()}function d(O){return t.bindVertexArray(O)}function f(O){return t.deleteVertexArray(O)}function m(O,B,j){const X=j.wireframe===!0;let ee=r[O.id];ee===void 0&&(ee={},r[O.id]=ee);let K=ee[B.id];K===void 0&&(K={},ee[B.id]=K);let ne=K[X];return ne===void 0&&(ne=g(c()),K[X]=ne),ne}function g(O){const B=[],j=[],X=[];for(let ee=0;ee<n;ee++)B[ee]=0,j[ee]=0,X[ee]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:B,enabledAttributes:j,attributeDivisors:X,object:O,attributes:{},index:null}}function y(O,B,j,X){const ee=o.attributes,K=B.attributes;let ne=0;const se=j.getAttributes();for(const V in se)if(se[V].location>=0){const Z=ee[V];let W=K[V];if(W===void 0&&(V==="instanceMatrix"&&O.instanceMatrix&&(W=O.instanceMatrix),V==="instanceColor"&&O.instanceColor&&(W=O.instanceColor)),Z===void 0||Z.attribute!==W||W&&Z.data!==W.data)return!0;ne++}return o.attributesNum!==ne||o.index!==X}function x(O,B,j,X){const ee={},K=B.attributes;let ne=0;const se=j.getAttributes();for(const V in se)if(se[V].location>=0){let Z=K[V];Z===void 0&&(V==="instanceMatrix"&&O.instanceMatrix&&(Z=O.instanceMatrix),V==="instanceColor"&&O.instanceColor&&(Z=O.instanceColor));const W={};W.attribute=Z,Z&&Z.data&&(W.data=Z.data),ee[V]=W,ne++}o.attributes=ee,o.attributesNum=ne,o.index=X}function S(){const O=o.newAttributes;for(let B=0,j=O.length;B<j;B++)O[B]=0}function _(O){b(O,0)}function b(O,B){const j=o.newAttributes,X=o.enabledAttributes,ee=o.attributeDivisors;j[O]=1,X[O]===0&&(t.enableVertexAttribArray(O),X[O]=1),ee[O]!==B&&(t.vertexAttribDivisor(O,B),ee[O]=B)}function C(){const O=o.newAttributes,B=o.enabledAttributes;for(let j=0,X=B.length;j<X;j++)B[j]!==O[j]&&(t.disableVertexAttribArray(j),B[j]=0)}function T(O,B,j,X,ee,K,ne){ne===!0?t.vertexAttribIPointer(O,B,j,ee,K):t.vertexAttribPointer(O,B,j,X,ee,K)}function A(O,B,j,X){S();const ee=X.attributes,K=j.getAttributes(),ne=B.defaultAttributeValues;for(const se in K){const V=K[se];if(V.location>=0){let Q=ee[se];if(Q===void 0&&(se==="instanceMatrix"&&O.instanceMatrix&&(Q=O.instanceMatrix),se==="instanceColor"&&O.instanceColor&&(Q=O.instanceColor)),Q!==void 0){const Z=Q.normalized,W=Q.itemSize,le=e.get(Q);if(le===void 0)continue;const Ie=le.buffer,fe=le.type,Me=le.bytesPerElement,De=fe===t.INT||fe===t.UNSIGNED_INT||Q.gpuType===Sb;if(Q.isInterleavedBufferAttribute){const Le=Q.data,ge=Le.stride,be=Q.offset;if(Le.isInstancedInterleavedBuffer){for(let Fe=0;Fe<V.locationSize;Fe++)b(V.location+Fe,Le.meshPerAttribute);O.isInstancedMesh!==!0&&X._maxInstanceCount===void 0&&(X._maxInstanceCount=Le.meshPerAttribute*Le.count)}else for(let Fe=0;Fe<V.locationSize;Fe++)_(V.location+Fe);t.bindBuffer(t.ARRAY_BUFFER,Ie);for(let Fe=0;Fe<V.locationSize;Fe++)T(V.location+Fe,W/V.locationSize,fe,Z,ge*Me,(be+W/V.locationSize*Fe)*Me,De)}else{if(Q.isInstancedBufferAttribute){for(let Le=0;Le<V.locationSize;Le++)b(V.location+Le,Q.meshPerAttribute);O.isInstancedMesh!==!0&&X._maxInstanceCount===void 0&&(X._maxInstanceCount=Q.meshPerAttribute*Q.count)}else for(let Le=0;Le<V.locationSize;Le++)_(V.location+Le);t.bindBuffer(t.ARRAY_BUFFER,Ie);for(let Le=0;Le<V.locationSize;Le++)T(V.location+Le,W/V.locationSize,fe,Z,W*Me,W/V.locationSize*Le*Me,De)}}else if(ne!==void 0){const Z=ne[se];if(Z!==void 0)switch(Z.length){case 2:t.vertexAttrib2fv(V.location,Z);break;case 3:t.vertexAttrib3fv(V.location,Z);break;case 4:t.vertexAttrib4fv(V.location,Z);break;default:t.vertexAttrib1fv(V.location,Z)}}}}C()}function P(){z();for(const O in r){const B=r[O];for(const j in B){const X=B[j];for(const ee in X)f(X[ee].object),delete X[ee];delete B[j]}delete r[O]}}function R(O){if(r[O.id]===void 0)return;const B=r[O.id];for(const j in B){const X=B[j];for(const ee in X)f(X[ee].object),delete X[ee];delete B[j]}delete r[O.id]}function k(O){for(const B in r){const j=r[B];if(j[O.id]===void 0)continue;const X=j[O.id];for(const ee in X)f(X[ee].object),delete X[ee];delete j[O.id]}}function z(){L(),s=!0,o!==i&&(o=i,d(o.object))}function L(){i.geometry=null,i.program=null,i.wireframe=!1}return{setup:a,reset:z,resetDefaultState:L,dispose:P,releaseStatesOfGeometry:R,releaseStatesOfProgram:k,initAttributes:S,enableAttribute:_,disableUnusedAttributes:C}}function ste(t,e,n){let r;function i(d){r=d}function o(d,f){t.drawArrays(r,d,f),n.update(f,r,1)}function s(d,f,m){m!==0&&(t.drawArraysInstanced(r,d,f,m),n.update(f,r,m))}function a(d,f,m){if(m===0)return;e.get("WEBGL_multi_draw").multiDrawArraysWEBGL(r,d,0,f,0,m);let y=0;for(let x=0;x<m;x++)y+=f[x];n.update(y,r,1)}function c(d,f,m,g){if(m===0)return;const y=e.get("WEBGL_multi_draw");if(y===null)for(let x=0;x<d.length;x++)s(d[x],f[x],g[x]);else{y.multiDrawArraysInstancedWEBGL(r,d,0,f,0,g,0,m);let x=0;for(let S=0;S<m;S++)x+=f[S]*g[S];n.update(x,r,1)}}this.setMode=i,this.render=o,this.renderInstances=s,this.renderMultiDraw=a,this.renderMultiDrawInstances=c}function ate(t,e,n,r){let i;function o(){if(i!==void 0)return i;if(e.has("EXT_texture_filter_anisotropic")===!0){const k=e.get("EXT_texture_filter_anisotropic");i=t.getParameter(k.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else i=0;return i}function s(k){return!(k!==Wi&&r.convert(k)!==t.getParameter(t.IMPLEMENTATION_COLOR_READ_FORMAT))}function a(k){const z=k===Hp&&(e.has("EXT_color_buffer_half_float")||e.has("EXT_color_buffer_float"));return!(k!==ks&&r.convert(k)!==t.getParameter(t.IMPLEMENTATION_COLOR_READ_TYPE)&&k!==Fo&&!z)}function c(k){if(k==="highp"){if(t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.HIGH_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision>0)return"highp";k="mediump"}return k==="mediump"&&t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.MEDIUM_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let d=n.precision!==void 0?n.precision:"highp";const f=c(d);f!==d&&(console.warn("THREE.WebGLRenderer:",d,"not supported, using",f,"instead."),d=f);const m=n.logarithmicDepthBuffer===!0,g=n.reverseDepthBuffer===!0&&e.has("EXT_clip_control"),y=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),x=t.getParameter(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS),S=t.getParameter(t.MAX_TEXTURE_SIZE),_=t.getParameter(t.MAX_CUBE_MAP_TEXTURE_SIZE),b=t.getParameter(t.MAX_VERTEX_ATTRIBS),C=t.getParameter(t.MAX_VERTEX_UNIFORM_VECTORS),T=t.getParameter(t.MAX_VARYING_VECTORS),A=t.getParameter(t.MAX_FRAGMENT_UNIFORM_VECTORS),P=x>0,R=t.getParameter(t.MAX_SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:o,getMaxPrecision:c,textureFormatReadable:s,textureTypeReadable:a,precision:d,logarithmicDepthBuffer:m,reverseDepthBuffer:g,maxTextures:y,maxVertexTextures:x,maxTextureSize:S,maxCubemapSize:_,maxAttributes:b,maxVertexUniforms:C,maxVaryings:T,maxFragmentUniforms:A,vertexTextures:P,maxSamples:R}}function lte(t){const e=this;let n=null,r=0,i=!1,o=!1;const s=new Xl,a=new en,c={value:null,needsUpdate:!1};this.uniform=c,this.numPlanes=0,this.numIntersection=0,this.init=function(m,g){const y=m.length!==0||g||r!==0||i;return i=g,r=m.length,y},this.beginShadows=function(){o=!0,f(null)},this.endShadows=function(){o=!1},this.setGlobalState=function(m,g){n=f(m,g,0)},this.setState=function(m,g,y){const x=m.clippingPlanes,S=m.clipIntersection,_=m.clipShadows,b=t.get(m);if(!i||x===null||x.length===0||o&&!_)o?f(null):d();else{const C=o?0:r,T=C*4;let A=b.clippingState||null;c.value=A,A=f(x,g,T,y);for(let P=0;P!==T;++P)A[P]=n[P];b.clippingState=A,this.numIntersection=S?this.numPlanes:0,this.numPlanes+=C}};function d(){c.value!==n&&(c.value=n,c.needsUpdate=r>0),e.numPlanes=r,e.numIntersection=0}function f(m,g,y,x){const S=m!==null?m.length:0;let _=null;if(S!==0){if(_=c.value,x!==!0||_===null){const b=y+S*4,C=g.matrixWorldInverse;a.getNormalMatrix(C),(_===null||_.length<b)&&(_=new Float32Array(b));for(let T=0,A=y;T!==S;++T,A+=4)s.copy(m[T]).applyMatrix4(C,a),s.normal.toArray(_,A),_[A+3]=s.constant}c.value=_,c.needsUpdate=!0}return e.numPlanes=S,e.numIntersection=0,_}}function cte(t){let e=new WeakMap;function n(s,a){return a===nv?s.mapping=fc:a===rv&&(s.mapping=xu),s}function r(s){if(s&&s.isTexture){const a=s.mapping;if(a===nv||a===rv)if(e.has(s)){const c=e.get(s).texture;return n(c,s.mapping)}else{const c=s.image;if(c&&c.height>0){const d=new $F(c.height);return d.fromEquirectangularTexture(t,s),e.set(s,d),s.addEventListener("dispose",i),n(d.texture,s.mapping)}else return null}}return s}function i(s){const a=s.target;a.removeEventListener("dispose",i);const c=e.get(a);c!==void 0&&(e.delete(a),c.dispose())}function o(){e=new WeakMap}return{get:r,dispose:o}}const lp=4,pA=[.125,.215,.35,.446,.526,.582],Bd=20,YS=new Ya,mA=new ct;let KS=null,ZS=0,JS=0,QS=!1;const Fd=(1+Math.sqrt(5))/2,Vh=1/Fd,gA=[new J(-Fd,Vh,0),new J(Fd,Vh,0),new J(-Vh,0,Fd),new J(Vh,0,Fd),new J(0,Fd,-Vh),new J(0,Fd,Vh),new J(-1,1,-1),new J(1,1,-1),new J(-1,1,1),new J(1,1,1)],ute=new J;class $E{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,n=0,r=.1,i=100,o={}){const{size:s=256,position:a=ute}=o;KS=this._renderer.getRenderTarget(),ZS=this._renderer.getActiveCubeFace(),JS=this._renderer.getActiveMipmapLevel(),QS=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(s);const c=this._allocateTargets();return c.depthBuffer=!0,this._sceneToCubeUV(e,r,i,c,a),n>0&&this._blur(c,0,0,n),this._applyPMREM(c),this._cleanup(c),c}fromEquirectangular(e,n=null){return this._fromTexture(e,n)}fromCubemap(e,n=null){return this._fromTexture(e,n)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=xA(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=yA(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(KS,ZS,JS),this._renderer.xr.enabled=QS,e.scissorTest=!1,Yy(e,0,0,e.width,e.height)}_fromTexture(e,n){e.mapping===fc||e.mapping===xu?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),KS=this._renderer.getRenderTarget(),ZS=this._renderer.getActiveCubeFace(),JS=this._renderer.getActiveMipmapLevel(),QS=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const r=n||this._allocateTargets();return this._textureToCubeUV(e,r),this._applyPMREM(r),this._cleanup(r),r}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),n=4*this._cubeSize,r={magFilter:ei,minFilter:ei,generateMipmaps:!1,type:Hp,format:Wi,colorSpace:pa,depthBuffer:!1},i=vA(e,n,r);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==n){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=vA(e,n,r);const{_lodMax:o}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=dte(o)),this._blurMaterial=fte(o,e,n)}return i}_compileMaterial(e){const n=new ar(this._lodPlanes[0],e);this._renderer.compile(n,YS)}_sceneToCubeUV(e,n,r,i,o){const c=new yr(90,1,n,r),d=[1,-1,1,1,1,1],f=[1,1,1,-1,-1,-1],m=this._renderer,g=m.autoClear,y=m.toneMapping;m.getClearColor(mA),m.toneMapping=Xa,m.autoClear=!1;const x=new Mu({name:"PMREM.Background",side:mo,depthWrite:!1,depthTest:!1}),S=new ar(new df,x);let _=!1;const b=e.background;b?b.isColor&&(x.color.copy(b),e.background=null,_=!0):(x.color.copy(mA),_=!0);for(let C=0;C<6;C++){const T=C%3;T===0?(c.up.set(0,d[C],0),c.position.set(o.x,o.y,o.z),c.lookAt(o.x+f[C],o.y,o.z)):T===1?(c.up.set(0,0,d[C]),c.position.set(o.x,o.y,o.z),c.lookAt(o.x,o.y+f[C],o.z)):(c.up.set(0,d[C],0),c.position.set(o.x,o.y,o.z),c.lookAt(o.x,o.y,o.z+f[C]));const A=this._cubeSize;Yy(i,T*A,C>2?A:0,A,A),m.setRenderTarget(i),_&&m.render(S,c),m.render(e,c)}S.geometry.dispose(),S.material.dispose(),m.toneMapping=y,m.autoClear=g,e.background=b}_textureToCubeUV(e,n){const r=this._renderer,i=e.mapping===fc||e.mapping===xu;i?(this._cubemapMaterial===null&&(this._cubemapMaterial=xA()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=yA());const o=i?this._cubemapMaterial:this._equirectMaterial,s=new ar(this._lodPlanes[0],o),a=o.uniforms;a.envMap.value=e;const c=this._cubeSize;Yy(n,0,0,3*c,2*c),r.setRenderTarget(n),r.render(s,YS)}_applyPMREM(e){const n=this._renderer,r=n.autoClear;n.autoClear=!1;const i=this._lodPlanes.length;for(let o=1;o<i;o++){const s=Math.sqrt(this._sigmas[o]*this._sigmas[o]-this._sigmas[o-1]*this._sigmas[o-1]),a=gA[(i-o-1)%gA.length];this._blur(e,o-1,o,s,a)}n.autoClear=r}_blur(e,n,r,i,o){const s=this._pingPongRenderTarget;this._halfBlur(e,s,n,r,i,"latitudinal",o),this._halfBlur(s,e,r,r,i,"longitudinal",o)}_halfBlur(e,n,r,i,o,s,a){const c=this._renderer,d=this._blurMaterial;s!=="latitudinal"&&s!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const f=3,m=new ar(this._lodPlanes[i],d),g=d.uniforms,y=this._sizeLods[r]-1,x=isFinite(o)?Math.PI/(2*y):2*Math.PI/(2*Bd-1),S=o/x,_=isFinite(o)?1+Math.floor(f*S):Bd;_>Bd&&console.warn(`sigmaRadians, ${o}, is too large and will clip, as it requested ${_} samples when the maximum is set to ${Bd}`);const b=[];let C=0;for(let k=0;k<Bd;++k){const z=k/S,L=Math.exp(-z*z/2);b.push(L),k===0?C+=L:k<_&&(C+=2*L)}for(let k=0;k<b.length;k++)b[k]=b[k]/C;g.envMap.value=e.texture,g.samples.value=_,g.weights.value=b,g.latitudinal.value=s==="latitudinal",a&&(g.poleAxis.value=a);const{_lodMax:T}=this;g.dTheta.value=x,g.mipInt.value=T-r;const A=this._sizeLods[i],P=3*A*(i>T-lp?i-T+lp:0),R=4*(this._cubeSize-A);Yy(n,P,R,3*A,2*A),c.setRenderTarget(n),c.render(m,YS)}}function dte(t){const e=[],n=[],r=[];let i=t;const o=t-lp+1+pA.length;for(let s=0;s<o;s++){const a=Math.pow(2,i);n.push(a);let c=1/a;s>t-lp?c=pA[s-t+lp-1]:s===0&&(c=0),r.push(c);const d=1/(a-2),f=-d,m=1+d,g=[f,f,m,f,m,m,f,f,m,m,f,m],y=6,x=6,S=3,_=2,b=1,C=new Float32Array(S*x*y),T=new Float32Array(_*x*y),A=new Float32Array(b*x*y);for(let R=0;R<y;R++){const k=R%3*2/3-1,z=R>2?0:-1,L=[k,z,0,k+2/3,z,0,k+2/3,z+1,0,k,z,0,k+2/3,z+1,0,k,z+1,0];C.set(L,S*x*R),T.set(g,_*x*R);const O=[R,R,R,R,R,R];A.set(O,b*x*R)}const P=new Yt;P.setAttribute("position",new Wn(C,S)),P.setAttribute("uv",new Wn(T,_)),P.setAttribute("faceIndex",new Wn(A,b)),e.push(P),i>lp&&i--}return{lodPlanes:e,sizeLods:n,sigmas:r}}function vA(t,e,n){const r=new Za(t,e,n);return r.texture.mapping=$p,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function Yy(t,e,n,r,i){t.viewport.set(e,n,r,i),t.scissor.set(e,n,r,i)}function fte(t,e,n){const r=new Float32Array(Bd),i=new J(0,1,0);return new Os({name:"SphericalGaussianBlur",defines:{n:Bd,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:`${t}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:qM(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:tc,depthTest:!1,depthWrite:!1})}function yA(){return new Os({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:qM(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:tc,depthTest:!1,depthWrite:!1})}function xA(){return new Os({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:qM(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:tc,depthTest:!1,depthWrite:!1})}function qM(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function hte(t){let e=new WeakMap,n=null;function r(a){if(a&&a.isTexture){const c=a.mapping,d=c===nv||c===rv,f=c===fc||c===xu;if(d||f){let m=e.get(a);const g=m!==void 0?m.texture.pmremVersion:0;if(a.isRenderTargetTexture&&a.pmremVersion!==g)return n===null&&(n=new $E(t)),m=d?n.fromEquirectangular(a,m):n.fromCubemap(a,m),m.texture.pmremVersion=a.pmremVersion,e.set(a,m),m.texture;if(m!==void 0)return m.texture;{const y=a.image;return d&&y&&y.height>0||f&&y&&i(y)?(n===null&&(n=new $E(t)),m=d?n.fromEquirectangular(a):n.fromCubemap(a),m.texture.pmremVersion=a.pmremVersion,e.set(a,m),a.addEventListener("dispose",o),m.texture):null}}}return a}function i(a){let c=0;const d=6;for(let f=0;f<d;f++)a[f]!==void 0&&c++;return c===d}function o(a){const c=a.target;c.removeEventListener("dispose",o);const d=e.get(c);d!==void 0&&(e.delete(c),d.dispose())}function s(){e=new WeakMap,n!==null&&(n.dispose(),n=null)}return{get:r,dispose:s}}function pte(t){const e={};function n(r){if(e[r]!==void 0)return e[r];let i;switch(r){case"WEBGL_depth_texture":i=t.getExtension("WEBGL_depth_texture")||t.getExtension("MOZ_WEBGL_depth_texture")||t.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=t.getExtension(r)}return e[r]=i,i}return{has:function(r){return n(r)!==null},init:function(){n("EXT_color_buffer_float"),n("WEBGL_clip_cull_distance"),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture"),n("WEBGL_render_shared_exponent")},get:function(r){const i=n(r);return i===null&&Cx("THREE.WebGLRenderer: "+r+" extension not supported."),i}}}function mte(t,e,n,r){const i={},o=new WeakMap;function s(m){const g=m.target;g.index!==null&&e.remove(g.index);for(const x in g.attributes)e.remove(g.attributes[x]);g.removeEventListener("dispose",s),delete i[g.id];const y=o.get(g);y&&(e.remove(y),o.delete(g)),r.releaseStatesOfGeometry(g),g.isInstancedBufferGeometry===!0&&delete g._maxInstanceCount,n.memory.geometries--}function a(m,g){return i[g.id]===!0||(g.addEventListener("dispose",s),i[g.id]=!0,n.memory.geometries++),g}function c(m){const g=m.attributes;for(const y in g)e.update(g[y],t.ARRAY_BUFFER)}function d(m){const g=[],y=m.index,x=m.attributes.position;let S=0;if(y!==null){const C=y.array;S=y.version;for(let T=0,A=C.length;T<A;T+=3){const P=C[T+0],R=C[T+1],k=C[T+2];g.push(P,R,R,k,k,P)}}else if(x!==void 0){const C=x.array;S=x.version;for(let T=0,A=C.length/3-1;T<A;T+=3){const P=T+0,R=T+1,k=T+2;g.push(P,R,R,k,k,P)}}else return;const _=new(NF(g)?CM:EM)(g,1);_.version=S;const b=o.get(m);b&&e.remove(b),o.set(m,_)}function f(m){const g=o.get(m);if(g){const y=m.index;y!==null&&g.version<y.version&&d(m)}else d(m);return o.get(m)}return{get:a,update:c,getWireframeAttribute:f}}function gte(t,e,n){let r;function i(g){r=g}let o,s;function a(g){o=g.type,s=g.bytesPerElement}function c(g,y){t.drawElements(r,y,o,g*s),n.update(y,r,1)}function d(g,y,x){x!==0&&(t.drawElementsInstanced(r,y,o,g*s,x),n.update(y,r,x))}function f(g,y,x){if(x===0)return;e.get("WEBGL_multi_draw").multiDrawElementsWEBGL(r,y,0,o,g,0,x);let _=0;for(let b=0;b<x;b++)_+=y[b];n.update(_,r,1)}function m(g,y,x,S){if(x===0)return;const _=e.get("WEBGL_multi_draw");if(_===null)for(let b=0;b<g.length;b++)d(g[b]/s,y[b],S[b]);else{_.multiDrawElementsInstancedWEBGL(r,y,0,o,g,0,S,0,x);let b=0;for(let C=0;C<x;C++)b+=y[C]*S[C];n.update(b,r,1)}}this.setMode=i,this.setIndex=a,this.render=c,this.renderInstances=d,this.renderMultiDraw=f,this.renderMultiDrawInstances=m}function vte(t){const e={geometries:0,textures:0},n={frame:0,calls:0,triangles:0,points:0,lines:0};function r(o,s,a){switch(n.calls++,s){case t.TRIANGLES:n.triangles+=a*(o/3);break;case t.LINES:n.lines+=a*(o/2);break;case t.LINE_STRIP:n.lines+=a*(o-1);break;case t.LINE_LOOP:n.lines+=a*o;break;case t.POINTS:n.points+=a*o;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",s);break}}function i(){n.calls=0,n.triangles=0,n.points=0,n.lines=0}return{memory:e,render:n,programs:null,autoReset:!0,reset:i,update:r}}function yte(t,e,n){const r=new WeakMap,i=new Mn;function o(s,a,c){const d=s.morphTargetInfluences,f=a.morphAttributes.position||a.morphAttributes.normal||a.morphAttributes.color,m=f!==void 0?f.length:0;let g=r.get(a);if(g===void 0||g.count!==m){let O=function(){z.dispose(),r.delete(a),a.removeEventListener("dispose",O)};var y=O;g!==void 0&&g.texture.dispose();const x=a.morphAttributes.position!==void 0,S=a.morphAttributes.normal!==void 0,_=a.morphAttributes.color!==void 0,b=a.morphAttributes.position||[],C=a.morphAttributes.normal||[],T=a.morphAttributes.color||[];let A=0;x===!0&&(A=1),S===!0&&(A=2),_===!0&&(A=3);let P=a.attributes.position.count*A,R=1;P>e.maxTextureSize&&(R=Math.ceil(P/e.maxTextureSize),P=e.maxTextureSize);const k=new Float32Array(P*R*4*m),z=new Nv(k,P,R,m);z.type=Fo,z.needsUpdate=!0;const L=A*4;for(let B=0;B<m;B++){const j=b[B],X=C[B],ee=T[B],K=P*R*4*B;for(let ne=0;ne<j.count;ne++){const se=ne*L;x===!0&&(i.fromBufferAttribute(j,ne),k[K+se+0]=i.x,k[K+se+1]=i.y,k[K+se+2]=i.z,k[K+se+3]=0),S===!0&&(i.fromBufferAttribute(X,ne),k[K+se+4]=i.x,k[K+se+5]=i.y,k[K+se+6]=i.z,k[K+se+7]=0),_===!0&&(i.fromBufferAttribute(ee,ne),k[K+se+8]=i.x,k[K+se+9]=i.y,k[K+se+10]=i.z,k[K+se+11]=ee.itemSize===4?i.w:1)}}g={count:m,texture:z,size:new $e(P,R)},r.set(a,g),a.addEventListener("dispose",O)}if(s.isInstancedMesh===!0&&s.morphTexture!==null)c.getUniforms().setValue(t,"morphTexture",s.morphTexture,n);else{let x=0;for(let _=0;_<d.length;_++)x+=d[_];const S=a.morphTargetsRelative?1:1-x;c.getUniforms().setValue(t,"morphTargetBaseInfluence",S),c.getUniforms().setValue(t,"morphTargetInfluences",d)}c.getUniforms().setValue(t,"morphTargetsTexture",g.texture,n),c.getUniforms().setValue(t,"morphTargetsTextureSize",g.size)}return{update:o}}function xte(t,e,n,r){let i=new WeakMap;function o(c){const d=r.render.frame,f=c.geometry,m=e.get(c,f);if(i.get(m)!==d&&(e.update(m),i.set(m,d)),c.isInstancedMesh&&(c.hasEventListener("dispose",a)===!1&&c.addEventListener("dispose",a),i.get(c)!==d&&(n.update(c.instanceMatrix,t.ARRAY_BUFFER),c.instanceColor!==null&&n.update(c.instanceColor,t.ARRAY_BUFFER),i.set(c,d))),c.isSkinnedMesh){const g=c.skeleton;i.get(g)!==d&&(g.update(),i.set(g,d))}return m}function s(){i=new WeakMap}function a(c){const d=c.target;d.removeEventListener("dispose",a),n.remove(d.instanceMatrix),d.instanceColor!==null&&n.remove(d.instanceColor)}return{update:o,dispose:s}}const zz=new _r,bA=new Fb(1,1),Uz=new Nv,Bz=new Ab,Vz=new Fv,_A=[],SA=[],wA=new Float32Array(16),EA=new Float32Array(9),CA=new Float32Array(4);function jp(t,e,n){const r=t[0];if(r<=0||r>0)return t;const i=e*n;let o=_A[i];if(o===void 0&&(o=new Float32Array(i),_A[i]=o),e!==0){r.toArray(o,0);for(let s=1,a=0;s!==e;++s)a+=n,t[s].toArray(o,a)}return o}function ni(t,e){if(t.length!==e.length)return!1;for(let n=0,r=t.length;n<r;n++)if(t[n]!==e[n])return!1;return!0}function ri(t,e){for(let n=0,r=e.length;n<r;n++)t[n]=e[n]}function Qb(t,e){let n=SA[e];n===void 0&&(n=new Int32Array(e),SA[e]=n);for(let r=0;r!==e;++r)n[r]=t.allocateTextureUnit();return n}function bte(t,e){const n=this.cache;n[0]!==e&&(t.uniform1f(this.addr,e),n[0]=e)}function _te(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2f(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(ni(n,e))return;t.uniform2fv(this.addr,e),ri(n,e)}}function Ste(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3f(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else if(e.r!==void 0)(n[0]!==e.r||n[1]!==e.g||n[2]!==e.b)&&(t.uniform3f(this.addr,e.r,e.g,e.b),n[0]=e.r,n[1]=e.g,n[2]=e.b);else{if(ni(n,e))return;t.uniform3fv(this.addr,e),ri(n,e)}}function wte(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(ni(n,e))return;t.uniform4fv(this.addr,e),ri(n,e)}}function Ete(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(ni(n,e))return;t.uniformMatrix2fv(this.addr,!1,e),ri(n,e)}else{if(ni(n,r))return;CA.set(r),t.uniformMatrix2fv(this.addr,!1,CA),ri(n,r)}}function Cte(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(ni(n,e))return;t.uniformMatrix3fv(this.addr,!1,e),ri(n,e)}else{if(ni(n,r))return;EA.set(r),t.uniformMatrix3fv(this.addr,!1,EA),ri(n,r)}}function Mte(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(ni(n,e))return;t.uniformMatrix4fv(this.addr,!1,e),ri(n,e)}else{if(ni(n,r))return;wA.set(r),t.uniformMatrix4fv(this.addr,!1,wA),ri(n,r)}}function Tte(t,e){const n=this.cache;n[0]!==e&&(t.uniform1i(this.addr,e),n[0]=e)}function Pte(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2i(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(ni(n,e))return;t.uniform2iv(this.addr,e),ri(n,e)}}function Rte(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3i(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(ni(n,e))return;t.uniform3iv(this.addr,e),ri(n,e)}}function Ate(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4i(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(ni(n,e))return;t.uniform4iv(this.addr,e),ri(n,e)}}function Ite(t,e){const n=this.cache;n[0]!==e&&(t.uniform1ui(this.addr,e),n[0]=e)}function kte(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2ui(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(ni(n,e))return;t.uniform2uiv(this.addr,e),ri(n,e)}}function Ote(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3ui(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(ni(n,e))return;t.uniform3uiv(this.addr,e),ri(n,e)}}function Lte(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4ui(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(ni(n,e))return;t.uniform4uiv(this.addr,e),ri(n,e)}}function Nte(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i);let o;this.type===t.SAMPLER_2D_SHADOW?(bA.compareFunction=SM,o=bA):o=zz,n.setTexture2D(e||o,i)}function Dte(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture3D(e||Bz,i)}function Fte(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTextureCube(e||Vz,i)}function zte(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture2DArray(e||Uz,i)}function Ute(t){switch(t){case 5126:return bte;case 35664:return _te;case 35665:return Ste;case 35666:return wte;case 35674:return Ete;case 35675:return Cte;case 35676:return Mte;case 5124:case 35670:return Tte;case 35667:case 35671:return Pte;case 35668:case 35672:return Rte;case 35669:case 35673:return Ate;case 5125:return Ite;case 36294:return kte;case 36295:return Ote;case 36296:return Lte;case 35678:case 36198:case 36298:case 36306:case 35682:return Nte;case 35679:case 36299:case 36307:return Dte;case 35680:case 36300:case 36308:case 36293:return Fte;case 36289:case 36303:case 36311:case 36292:return zte}}function Bte(t,e){t.uniform1fv(this.addr,e)}function Vte(t,e){const n=jp(e,this.size,2);t.uniform2fv(this.addr,n)}function $te(t,e){const n=jp(e,this.size,3);t.uniform3fv(this.addr,n)}function Hte(t,e){const n=jp(e,this.size,4);t.uniform4fv(this.addr,n)}function Wte(t,e){const n=jp(e,this.size,4);t.uniformMatrix2fv(this.addr,!1,n)}function Gte(t,e){const n=jp(e,this.size,9);t.uniformMatrix3fv(this.addr,!1,n)}function jte(t,e){const n=jp(e,this.size,16);t.uniformMatrix4fv(this.addr,!1,n)}function Xte(t,e){t.uniform1iv(this.addr,e)}function qte(t,e){t.uniform2iv(this.addr,e)}function Yte(t,e){t.uniform3iv(this.addr,e)}function Kte(t,e){t.uniform4iv(this.addr,e)}function Zte(t,e){t.uniform1uiv(this.addr,e)}function Jte(t,e){t.uniform2uiv(this.addr,e)}function Qte(t,e){t.uniform3uiv(this.addr,e)}function ene(t,e){t.uniform4uiv(this.addr,e)}function tne(t,e,n){const r=this.cache,i=e.length,o=Qb(n,i);ni(r,o)||(t.uniform1iv(this.addr,o),ri(r,o));for(let s=0;s!==i;++s)n.setTexture2D(e[s]||zz,o[s])}function nne(t,e,n){const r=this.cache,i=e.length,o=Qb(n,i);ni(r,o)||(t.uniform1iv(this.addr,o),ri(r,o));for(let s=0;s!==i;++s)n.setTexture3D(e[s]||Bz,o[s])}function rne(t,e,n){const r=this.cache,i=e.length,o=Qb(n,i);ni(r,o)||(t.uniform1iv(this.addr,o),ri(r,o));for(let s=0;s!==i;++s)n.setTextureCube(e[s]||Vz,o[s])}function ine(t,e,n){const r=this.cache,i=e.length,o=Qb(n,i);ni(r,o)||(t.uniform1iv(this.addr,o),ri(r,o));for(let s=0;s!==i;++s)n.setTexture2DArray(e[s]||Uz,o[s])}function one(t){switch(t){case 5126:return Bte;case 35664:return Vte;case 35665:return $te;case 35666:return Hte;case 35674:return Wte;case 35675:return Gte;case 35676:return jte;case 5124:case 35670:return Xte;case 35667:case 35671:return qte;case 35668:case 35672:return Yte;case 35669:case 35673:return Kte;case 5125:return Zte;case 36294:return Jte;case 36295:return Qte;case 36296:return ene;case 35678:case 36198:case 36298:case 36306:case 35682:return tne;case 35679:case 36299:case 36307:return nne;case 35680:case 36300:case 36308:case 36293:return rne;case 36289:case 36303:case 36311:case 36292:return ine}}class sne{constructor(e,n,r){this.id=e,this.addr=r,this.cache=[],this.type=n.type,this.setValue=Ute(n.type)}}class ane{constructor(e,n,r){this.id=e,this.addr=r,this.cache=[],this.type=n.type,this.size=n.size,this.setValue=one(n.type)}}class lne{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,n,r){const i=this.seq;for(let o=0,s=i.length;o!==s;++o){const a=i[o];a.setValue(e,n[a.id],r)}}}const ew=/(\w+)(\])?(\[|\.)?/g;function MA(t,e){t.seq.push(e),t.map[e.id]=e}function cne(t,e,n){const r=t.name,i=r.length;for(ew.lastIndex=0;;){const o=ew.exec(r),s=ew.lastIndex;let a=o[1];const c=o[2]==="]",d=o[3];if(c&&(a=a|0),d===void 0||d==="["&&s+2===i){MA(n,d===void 0?new sne(a,t,e):new ane(a,t,e));break}else{let m=n.map[a];m===void 0&&(m=new lne(a),MA(n,m)),n=m}}}class Tx{constructor(e,n){this.seq=[],this.map={};const r=e.getProgramParameter(n,e.ACTIVE_UNIFORMS);for(let i=0;i<r;++i){const o=e.getActiveUniform(n,i),s=e.getUniformLocation(n,o.name);cne(o,s,this)}}setValue(e,n,r,i){const o=this.map[n];o!==void 0&&o.setValue(e,r,i)}setOptional(e,n,r){const i=n[r];i!==void 0&&this.setValue(e,r,i)}static upload(e,n,r,i){for(let o=0,s=n.length;o!==s;++o){const a=n[o],c=r[a.id];c.needsUpdate!==!1&&a.setValue(e,c.value,i)}}static seqWithValue(e,n){const r=[];for(let i=0,o=e.length;i!==o;++i){const s=e[i];s.id in n&&r.push(s)}return r}}function TA(t,e,n){const r=t.createShader(e);return t.shaderSource(r,n),t.compileShader(r),r}const une=37297;let dne=0;function fne(t,e){const n=t.split(`
`),r=[],i=Math.max(e-6,0),o=Math.min(e+6,n.length);for(let s=i;s<o;s++){const a=s+1;r.push(`${a===e?">":" "} ${a}: ${n[s]}`)}return r.join(`
`)}const PA=new en;function hne(t){wn._getMatrix(PA,wn.workingColorSpace,t);const e=`mat3( ${PA.elements.map(n=>n.toFixed(4))} )`;switch(wn.getTransfer(t)){case lv:return[e,"LinearTransferOETF"];case Fn:return[e,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space: ",t),[e,"LinearTransferOETF"]}}function RA(t,e,n){const r=t.getShaderParameter(e,t.COMPILE_STATUS),i=t.getShaderInfoLog(e).trim();if(r&&i==="")return"";const o=/ERROR: 0:(\d+)/.exec(i);if(o){const s=parseInt(o[1]);return n.toUpperCase()+`

`+i+`

`+fne(t.getShaderSource(e),s)}else return i}function pne(t,e){const n=hne(e);return[`vec4 ${t}( vec4 value ) {`,`	return ${n[1]}( vec4( value.rgb * ${n[0]}, value.a ) );`,"}"].join(`
`)}function mne(t,e){let n;switch(e){case pF:n="Linear";break;case mF:n="Reinhard";break;case gF:n="Cineon";break;case fM:n="ACESFilmic";break;case yF:n="AgX";break;case xF:n="Neutral";break;case vF:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),n="Linear"}return"vec3 "+t+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}const Ky=new J;function gne(){wn.getLuminanceCoefficients(Ky);const t=Ky.x.toFixed(4),e=Ky.y.toFixed(4),n=Ky.z.toFixed(4);return["float luminance( const in vec3 rgb ) {",`	const vec3 weights = vec3( ${t}, ${e}, ${n} );`,"	return dot( weights, rgb );","}"].join(`
`)}function vne(t){return[t.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",t.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(Tg).join(`
`)}function yne(t){const e=[];for(const n in t){const r=t[n];r!==!1&&e.push("#define "+n+" "+r)}return e.join(`
`)}function xne(t,e){const n={},r=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES);for(let i=0;i<r;i++){const o=t.getActiveAttrib(e,i),s=o.name;let a=1;o.type===t.FLOAT_MAT2&&(a=2),o.type===t.FLOAT_MAT3&&(a=3),o.type===t.FLOAT_MAT4&&(a=4),n[s]={type:o.type,location:t.getAttribLocation(e,s),locationSize:a}}return n}function Tg(t){return t!==""}function AA(t,e){const n=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function IA(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const bne=/^[ \t]*#include +<([\w\d./]+)>/gm;function HE(t){return t.replace(bne,Sne)}const _ne=new Map;function Sne(t,e){let n=un[e];if(n===void 0){const r=_ne.get(e);if(r!==void 0)n=un[r],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,r);else throw new Error("Can not resolve #include <"+e+">")}return HE(n)}const wne=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function kA(t){return t.replace(wne,Ene)}function Ene(t,e,n,r){let i="";for(let o=parseInt(e);o<parseInt(n);o++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+o+" ]").replace(/UNROLLED_LOOP_INDEX/g,o);return i}function OA(t){let e=`precision ${t.precision} float;
	precision ${t.precision} int;
	precision ${t.precision} sampler2D;
	precision ${t.precision} samplerCube;
	precision ${t.precision} sampler3D;
	precision ${t.precision} sampler2DArray;
	precision ${t.precision} sampler2DShadow;
	precision ${t.precision} samplerCubeShadow;
	precision ${t.precision} sampler2DArrayShadow;
	precision ${t.precision} isampler2D;
	precision ${t.precision} isampler3D;
	precision ${t.precision} isamplerCube;
	precision ${t.precision} isampler2DArray;
	precision ${t.precision} usampler2D;
	precision ${t.precision} usampler3D;
	precision ${t.precision} usamplerCube;
	precision ${t.precision} usampler2DArray;
	`;return t.precision==="highp"?e+=`
#define HIGH_PRECISION`:t.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:t.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function Cne(t){let e="SHADOWMAP_TYPE_BASIC";return t.shadowMapType===bb?e="SHADOWMAP_TYPE_PCF":t.shadowMapType===Lg?e="SHADOWMAP_TYPE_PCF_SOFT":t.shadowMapType===ua&&(e="SHADOWMAP_TYPE_VSM"),e}function Mne(t){let e="ENVMAP_TYPE_CUBE";if(t.envMap)switch(t.envMapMode){case fc:case xu:e="ENVMAP_TYPE_CUBE";break;case $p:e="ENVMAP_TYPE_CUBE_UV";break}return e}function Tne(t){let e="ENVMAP_MODE_REFLECTION";if(t.envMap)switch(t.envMapMode){case xu:e="ENVMAP_MODE_REFRACTION";break}return e}function Pne(t){let e="ENVMAP_BLENDING_NONE";if(t.envMap)switch(t.combine){case Ov:e="ENVMAP_BLENDING_MULTIPLY";break;case fF:e="ENVMAP_BLENDING_MIX";break;case hF:e="ENVMAP_BLENDING_ADD";break}return e}function Rne(t){const e=t.envMapCubeUVHeight;if(e===null)return null;const n=Math.log2(e)-2,r=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,n),7*16)),texelHeight:r,maxMip:n}}function Ane(t,e,n,r){const i=t.getContext(),o=n.defines;let s=n.vertexShader,a=n.fragmentShader;const c=Cne(n),d=Mne(n),f=Tne(n),m=Pne(n),g=Rne(n),y=vne(n),x=yne(o),S=i.createProgram();let _,b,C=n.glslVersion?"#version "+n.glslVersion+`
`:"";n.isRawShaderMaterial?(_=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,x].filter(Tg).join(`
`),_.length>0&&(_+=`
`),b=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,x].filter(Tg).join(`
`),b.length>0&&(b+=`
`)):(_=[OA(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,x,n.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",n.batching?"#define USE_BATCHING":"",n.batchingColor?"#define USE_BATCHING_COLOR":"",n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.instancingMorph?"#define USE_INSTANCING_MORPH":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+f:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.displacementMap?"#define USE_DISPLACEMENTMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.mapUv?"#define MAP_UV "+n.mapUv:"",n.alphaMapUv?"#define ALPHAMAP_UV "+n.alphaMapUv:"",n.lightMapUv?"#define LIGHTMAP_UV "+n.lightMapUv:"",n.aoMapUv?"#define AOMAP_UV "+n.aoMapUv:"",n.emissiveMapUv?"#define EMISSIVEMAP_UV "+n.emissiveMapUv:"",n.bumpMapUv?"#define BUMPMAP_UV "+n.bumpMapUv:"",n.normalMapUv?"#define NORMALMAP_UV "+n.normalMapUv:"",n.displacementMapUv?"#define DISPLACEMENTMAP_UV "+n.displacementMapUv:"",n.metalnessMapUv?"#define METALNESSMAP_UV "+n.metalnessMapUv:"",n.roughnessMapUv?"#define ROUGHNESSMAP_UV "+n.roughnessMapUv:"",n.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+n.anisotropyMapUv:"",n.clearcoatMapUv?"#define CLEARCOATMAP_UV "+n.clearcoatMapUv:"",n.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+n.clearcoatNormalMapUv:"",n.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+n.clearcoatRoughnessMapUv:"",n.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+n.iridescenceMapUv:"",n.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+n.iridescenceThicknessMapUv:"",n.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+n.sheenColorMapUv:"",n.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+n.sheenRoughnessMapUv:"",n.specularMapUv?"#define SPECULARMAP_UV "+n.specularMapUv:"",n.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+n.specularColorMapUv:"",n.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+n.specularIntensityMapUv:"",n.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+n.transmissionMapUv:"",n.thicknessMapUv?"#define THICKNESSMAP_UV "+n.thicknessMapUv:"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&n.flatShading===!1?"#define USE_MORPHNORMALS":"",n.morphColors?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+c:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(Tg).join(`
`),b=[OA(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,x,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+d:"",n.envMap?"#define "+f:"",n.envMap?"#define "+m:"",g?"#define CUBEUV_TEXEL_WIDTH "+g.texelWidth:"",g?"#define CUBEUV_TEXEL_HEIGHT "+g.texelHeight:"",g?"#define CUBEUV_MAX_MIP "+g.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.dispersion?"#define USE_DISPERSION":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor||n.batchingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+c:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",n.decodeVideoTextureEmissive?"#define DECODE_VIDEO_TEXTURE_EMISSIVE":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==Xa?"#define TONE_MAPPING":"",n.toneMapping!==Xa?un.tonemapping_pars_fragment:"",n.toneMapping!==Xa?mne("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",un.colorspace_pars_fragment,pne("linearToOutputTexel",n.outputColorSpace),gne(),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"",`
`].filter(Tg).join(`
`)),s=HE(s),s=AA(s,n),s=IA(s,n),a=HE(a),a=AA(a,n),a=IA(a,n),s=kA(s),a=kA(a),n.isRawShaderMaterial!==!0&&(C=`#version 300 es
`,_=[y,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+_,b=["#define varying in",n.glslVersion===OE?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===OE?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+b);const T=C+_+s,A=C+b+a,P=TA(i,i.VERTEX_SHADER,T),R=TA(i,i.FRAGMENT_SHADER,A);i.attachShader(S,P),i.attachShader(S,R),n.index0AttributeName!==void 0?i.bindAttribLocation(S,0,n.index0AttributeName):n.morphTargets===!0&&i.bindAttribLocation(S,0,"position"),i.linkProgram(S);function k(B){if(t.debug.checkShaderErrors){const j=i.getProgramInfoLog(S).trim(),X=i.getShaderInfoLog(P).trim(),ee=i.getShaderInfoLog(R).trim();let K=!0,ne=!0;if(i.getProgramParameter(S,i.LINK_STATUS)===!1)if(K=!1,typeof t.debug.onShaderError=="function")t.debug.onShaderError(i,S,P,R);else{const se=RA(i,P,"vertex"),V=RA(i,R,"fragment");console.error("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(S,i.VALIDATE_STATUS)+`

Material Name: `+B.name+`
Material Type: `+B.type+`

Program Info Log: `+j+`
`+se+`
`+V)}else j!==""?console.warn("THREE.WebGLProgram: Program Info Log:",j):(X===""||ee==="")&&(ne=!1);ne&&(B.diagnostics={runnable:K,programLog:j,vertexShader:{log:X,prefix:_},fragmentShader:{log:ee,prefix:b}})}i.deleteShader(P),i.deleteShader(R),z=new Tx(i,S),L=xne(i,S)}let z;this.getUniforms=function(){return z===void 0&&k(this),z};let L;this.getAttributes=function(){return L===void 0&&k(this),L};let O=n.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return O===!1&&(O=i.getProgramParameter(S,une)),O},this.destroy=function(){r.releaseStatesOfProgram(this),i.deleteProgram(S),this.program=void 0},this.type=n.shaderType,this.name=n.shaderName,this.id=dne++,this.cacheKey=e,this.usedTimes=1,this.program=S,this.vertexShader=P,this.fragmentShader=R,this}let Ine=0;class kne{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const n=e.vertexShader,r=e.fragmentShader,i=this._getShaderStage(n),o=this._getShaderStage(r),s=this._getShaderCacheForMaterial(e);return s.has(i)===!1&&(s.add(i),i.usedTimes++),s.has(o)===!1&&(s.add(o),o.usedTimes++),this}remove(e){const n=this.materialCache.get(e);for(const r of n)r.usedTimes--,r.usedTimes===0&&this.shaderCache.delete(r.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const n=this.materialCache;let r=n.get(e);return r===void 0&&(r=new Set,n.set(e,r)),r}_getShaderStage(e){const n=this.shaderCache;let r=n.get(e);return r===void 0&&(r=new One(e),n.set(e,r)),r}}class One{constructor(e){this.id=Ine++,this.code=e,this.usedTimes=0}}function Lne(t,e,n,r,i,o,s){const a=new Kd,c=new kne,d=new Set,f=[],m=i.logarithmicDepthBuffer,g=i.vertexTextures;let y=i.precision;const x={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function S(L){return d.add(L),L===0?"uv":`uv${L}`}function _(L,O,B,j,X){const ee=j.fog,K=X.geometry,ne=L.isMeshStandardMaterial?j.environment:null,se=(L.isMeshStandardMaterial?n:e).get(L.envMap||ne),V=se&&se.mapping===$p?se.image.height:null,Q=x[L.type];L.precision!==null&&(y=i.getMaxPrecision(L.precision),y!==L.precision&&console.warn("THREE.WebGLProgram.getParameters:",L.precision,"not supported, using",y,"instead."));const Z=K.morphAttributes.position||K.morphAttributes.normal||K.morphAttributes.color,W=Z!==void 0?Z.length:0;let le=0;K.morphAttributes.position!==void 0&&(le=1),K.morphAttributes.normal!==void 0&&(le=2),K.morphAttributes.color!==void 0&&(le=3);let Ie,fe,Me,De;if(Q){const tn=fa[Q];Ie=tn.vertexShader,fe=tn.fragmentShader}else Ie=L.vertexShader,fe=L.fragmentShader,c.update(L),Me=c.getVertexShaderID(L),De=c.getFragmentShaderID(L);const Le=t.getRenderTarget(),ge=t.state.buffers.depth.getReversed(),be=X.isInstancedMesh===!0,Fe=X.isBatchedMesh===!0,Ye=!!L.map,at=!!L.matcap,Ge=!!se,q=!!L.aoMap,Xe=!!L.lightMap,Ve=!!L.bumpMap,He=!!L.normalMap,ze=!!L.displacementMap,ot=!!L.emissiveMap,Be=!!L.metalnessMap,Y=!!L.roughnessMap,$=L.anisotropy>0,re=L.clearcoat>0,pe=L.dispersion>0,ke=L.iridescence>0,Ce=L.sheen>0,tt=L.transmission>0,Qe=$&&!!L.anisotropyMap,St=re&&!!L.clearcoatMap,Mt=re&&!!L.clearcoatNormalMap,We=re&&!!L.clearcoatRoughnessMap,dt=ke&&!!L.iridescenceMap,Pt=ke&&!!L.iridescenceThicknessMap,Lt=Ce&&!!L.sheenColorMap,pt=Ce&&!!L.sheenRoughnessMap,ue=!!L.specularMap,Ne=!!L.specularColorMap,st=!!L.specularIntensityMap,ce=tt&&!!L.transmissionMap,Ze=tt&&!!L.thicknessMap,Re=!!L.gradientMap,Ue=!!L.alphaMap,mt=L.alphaTest>0,lt=!!L.alphaHash,Nt=!!L.extensions;let vn=Xa;L.toneMapped&&(Le===null||Le.isXRRenderTarget===!0)&&(vn=t.toneMapping);const Un={shaderID:Q,shaderType:L.type,shaderName:L.name,vertexShader:Ie,fragmentShader:fe,defines:L.defines,customVertexShaderID:Me,customFragmentShaderID:De,isRawShaderMaterial:L.isRawShaderMaterial===!0,glslVersion:L.glslVersion,precision:y,batching:Fe,batchingColor:Fe&&X._colorsTexture!==null,instancing:be,instancingColor:be&&X.instanceColor!==null,instancingMorph:be&&X.morphTexture!==null,supportsVertexTextures:g,outputColorSpace:Le===null?t.outputColorSpace:Le.isXRRenderTarget===!0?Le.texture.colorSpace:pa,alphaToCoverage:!!L.alphaToCoverage,map:Ye,matcap:at,envMap:Ge,envMapMode:Ge&&se.mapping,envMapCubeUVHeight:V,aoMap:q,lightMap:Xe,bumpMap:Ve,normalMap:He,displacementMap:g&&ze,emissiveMap:ot,normalMapObjectSpace:He&&L.normalMapType===MF,normalMapTangentSpace:He&&L.normalMapType===Cu,metalnessMap:Be,roughnessMap:Y,anisotropy:$,anisotropyMap:Qe,clearcoat:re,clearcoatMap:St,clearcoatNormalMap:Mt,clearcoatRoughnessMap:We,dispersion:pe,iridescence:ke,iridescenceMap:dt,iridescenceThicknessMap:Pt,sheen:Ce,sheenColorMap:Lt,sheenRoughnessMap:pt,specularMap:ue,specularColorMap:Ne,specularIntensityMap:st,transmission:tt,transmissionMap:ce,thicknessMap:Ze,gradientMap:Re,opaque:L.transparent===!1&&L.blending===qd&&L.alphaToCoverage===!1,alphaMap:Ue,alphaTest:mt,alphaHash:lt,combine:L.combine,mapUv:Ye&&S(L.map.channel),aoMapUv:q&&S(L.aoMap.channel),lightMapUv:Xe&&S(L.lightMap.channel),bumpMapUv:Ve&&S(L.bumpMap.channel),normalMapUv:He&&S(L.normalMap.channel),displacementMapUv:ze&&S(L.displacementMap.channel),emissiveMapUv:ot&&S(L.emissiveMap.channel),metalnessMapUv:Be&&S(L.metalnessMap.channel),roughnessMapUv:Y&&S(L.roughnessMap.channel),anisotropyMapUv:Qe&&S(L.anisotropyMap.channel),clearcoatMapUv:St&&S(L.clearcoatMap.channel),clearcoatNormalMapUv:Mt&&S(L.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:We&&S(L.clearcoatRoughnessMap.channel),iridescenceMapUv:dt&&S(L.iridescenceMap.channel),iridescenceThicknessMapUv:Pt&&S(L.iridescenceThicknessMap.channel),sheenColorMapUv:Lt&&S(L.sheenColorMap.channel),sheenRoughnessMapUv:pt&&S(L.sheenRoughnessMap.channel),specularMapUv:ue&&S(L.specularMap.channel),specularColorMapUv:Ne&&S(L.specularColorMap.channel),specularIntensityMapUv:st&&S(L.specularIntensityMap.channel),transmissionMapUv:ce&&S(L.transmissionMap.channel),thicknessMapUv:Ze&&S(L.thicknessMap.channel),alphaMapUv:Ue&&S(L.alphaMap.channel),vertexTangents:!!K.attributes.tangent&&(He||$),vertexColors:L.vertexColors,vertexAlphas:L.vertexColors===!0&&!!K.attributes.color&&K.attributes.color.itemSize===4,pointsUvs:X.isPoints===!0&&!!K.attributes.uv&&(Ye||Ue),fog:!!ee,useFog:L.fog===!0,fogExp2:!!ee&&ee.isFogExp2,flatShading:L.flatShading===!0,sizeAttenuation:L.sizeAttenuation===!0,logarithmicDepthBuffer:m,reverseDepthBuffer:ge,skinning:X.isSkinnedMesh===!0,morphTargets:K.morphAttributes.position!==void 0,morphNormals:K.morphAttributes.normal!==void 0,morphColors:K.morphAttributes.color!==void 0,morphTargetsCount:W,morphTextureStride:le,numDirLights:O.directional.length,numPointLights:O.point.length,numSpotLights:O.spot.length,numSpotLightMaps:O.spotLightMap.length,numRectAreaLights:O.rectArea.length,numHemiLights:O.hemi.length,numDirLightShadows:O.directionalShadowMap.length,numPointLightShadows:O.pointShadowMap.length,numSpotLightShadows:O.spotShadowMap.length,numSpotLightShadowsWithMaps:O.numSpotLightShadowsWithMaps,numLightProbes:O.numLightProbes,numClippingPlanes:s.numPlanes,numClipIntersection:s.numIntersection,dithering:L.dithering,shadowMapEnabled:t.shadowMap.enabled&&B.length>0,shadowMapType:t.shadowMap.type,toneMapping:vn,decodeVideoTexture:Ye&&L.map.isVideoTexture===!0&&wn.getTransfer(L.map.colorSpace)===Fn,decodeVideoTextureEmissive:ot&&L.emissiveMap.isVideoTexture===!0&&wn.getTransfer(L.emissiveMap.colorSpace)===Fn,premultipliedAlpha:L.premultipliedAlpha,doubleSided:L.side===ns,flipSided:L.side===mo,useDepthPacking:L.depthPacking>=0,depthPacking:L.depthPacking||0,index0AttributeName:L.index0AttributeName,extensionClipCullDistance:Nt&&L.extensions.clipCullDistance===!0&&r.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(Nt&&L.extensions.multiDraw===!0||Fe)&&r.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:r.has("KHR_parallel_shader_compile"),customProgramCacheKey:L.customProgramCacheKey()};return Un.vertexUv1s=d.has(1),Un.vertexUv2s=d.has(2),Un.vertexUv3s=d.has(3),d.clear(),Un}function b(L){const O=[];if(L.shaderID?O.push(L.shaderID):(O.push(L.customVertexShaderID),O.push(L.customFragmentShaderID)),L.defines!==void 0)for(const B in L.defines)O.push(B),O.push(L.defines[B]);return L.isRawShaderMaterial===!1&&(C(O,L),T(O,L),O.push(t.outputColorSpace)),O.push(L.customProgramCacheKey),O.join()}function C(L,O){L.push(O.precision),L.push(O.outputColorSpace),L.push(O.envMapMode),L.push(O.envMapCubeUVHeight),L.push(O.mapUv),L.push(O.alphaMapUv),L.push(O.lightMapUv),L.push(O.aoMapUv),L.push(O.bumpMapUv),L.push(O.normalMapUv),L.push(O.displacementMapUv),L.push(O.emissiveMapUv),L.push(O.metalnessMapUv),L.push(O.roughnessMapUv),L.push(O.anisotropyMapUv),L.push(O.clearcoatMapUv),L.push(O.clearcoatNormalMapUv),L.push(O.clearcoatRoughnessMapUv),L.push(O.iridescenceMapUv),L.push(O.iridescenceThicknessMapUv),L.push(O.sheenColorMapUv),L.push(O.sheenRoughnessMapUv),L.push(O.specularMapUv),L.push(O.specularColorMapUv),L.push(O.specularIntensityMapUv),L.push(O.transmissionMapUv),L.push(O.thicknessMapUv),L.push(O.combine),L.push(O.fogExp2),L.push(O.sizeAttenuation),L.push(O.morphTargetsCount),L.push(O.morphAttributeCount),L.push(O.numDirLights),L.push(O.numPointLights),L.push(O.numSpotLights),L.push(O.numSpotLightMaps),L.push(O.numHemiLights),L.push(O.numRectAreaLights),L.push(O.numDirLightShadows),L.push(O.numPointLightShadows),L.push(O.numSpotLightShadows),L.push(O.numSpotLightShadowsWithMaps),L.push(O.numLightProbes),L.push(O.shadowMapType),L.push(O.toneMapping),L.push(O.numClippingPlanes),L.push(O.numClipIntersection),L.push(O.depthPacking)}function T(L,O){a.disableAll(),O.supportsVertexTextures&&a.enable(0),O.instancing&&a.enable(1),O.instancingColor&&a.enable(2),O.instancingMorph&&a.enable(3),O.matcap&&a.enable(4),O.envMap&&a.enable(5),O.normalMapObjectSpace&&a.enable(6),O.normalMapTangentSpace&&a.enable(7),O.clearcoat&&a.enable(8),O.iridescence&&a.enable(9),O.alphaTest&&a.enable(10),O.vertexColors&&a.enable(11),O.vertexAlphas&&a.enable(12),O.vertexUv1s&&a.enable(13),O.vertexUv2s&&a.enable(14),O.vertexUv3s&&a.enable(15),O.vertexTangents&&a.enable(16),O.anisotropy&&a.enable(17),O.alphaHash&&a.enable(18),O.batching&&a.enable(19),O.dispersion&&a.enable(20),O.batchingColor&&a.enable(21),L.push(a.mask),a.disableAll(),O.fog&&a.enable(0),O.useFog&&a.enable(1),O.flatShading&&a.enable(2),O.logarithmicDepthBuffer&&a.enable(3),O.reverseDepthBuffer&&a.enable(4),O.skinning&&a.enable(5),O.morphTargets&&a.enable(6),O.morphNormals&&a.enable(7),O.morphColors&&a.enable(8),O.premultipliedAlpha&&a.enable(9),O.shadowMapEnabled&&a.enable(10),O.doubleSided&&a.enable(11),O.flipSided&&a.enable(12),O.useDepthPacking&&a.enable(13),O.dithering&&a.enable(14),O.transmission&&a.enable(15),O.sheen&&a.enable(16),O.opaque&&a.enable(17),O.pointsUvs&&a.enable(18),O.decodeVideoTexture&&a.enable(19),O.decodeVideoTextureEmissive&&a.enable(20),O.alphaToCoverage&&a.enable(21),L.push(a.mask)}function A(L){const O=x[L.type];let B;if(O){const j=fa[O];B=BF.clone(j.uniforms)}else B=L.uniforms;return B}function P(L,O){let B;for(let j=0,X=f.length;j<X;j++){const ee=f[j];if(ee.cacheKey===O){B=ee,++B.usedTimes;break}}return B===void 0&&(B=new Ane(t,O,L,o),f.push(B)),B}function R(L){if(--L.usedTimes===0){const O=f.indexOf(L);f[O]=f[f.length-1],f.pop(),L.destroy()}}function k(L){c.remove(L)}function z(){c.dispose()}return{getParameters:_,getProgramCacheKey:b,getUniforms:A,acquireProgram:P,releaseProgram:R,releaseShaderCache:k,programs:f,dispose:z}}function Nne(){let t=new WeakMap;function e(s){return t.has(s)}function n(s){let a=t.get(s);return a===void 0&&(a={},t.set(s,a)),a}function r(s){t.delete(s)}function i(s,a,c){t.get(s)[a]=c}function o(){t=new WeakMap}return{has:e,get:n,remove:r,update:i,dispose:o}}function Dne(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function LA(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function NA(){const t=[];let e=0;const n=[],r=[],i=[];function o(){e=0,n.length=0,r.length=0,i.length=0}function s(m,g,y,x,S,_){let b=t[e];return b===void 0?(b={id:m.id,object:m,geometry:g,material:y,groupOrder:x,renderOrder:m.renderOrder,z:S,group:_},t[e]=b):(b.id=m.id,b.object=m,b.geometry=g,b.material=y,b.groupOrder=x,b.renderOrder=m.renderOrder,b.z=S,b.group=_),e++,b}function a(m,g,y,x,S,_){const b=s(m,g,y,x,S,_);y.transmission>0?r.push(b):y.transparent===!0?i.push(b):n.push(b)}function c(m,g,y,x,S,_){const b=s(m,g,y,x,S,_);y.transmission>0?r.unshift(b):y.transparent===!0?i.unshift(b):n.unshift(b)}function d(m,g){n.length>1&&n.sort(m||Dne),r.length>1&&r.sort(g||LA),i.length>1&&i.sort(g||LA)}function f(){for(let m=e,g=t.length;m<g;m++){const y=t[m];if(y.id===null)break;y.id=null,y.object=null,y.geometry=null,y.material=null,y.group=null}}return{opaque:n,transmissive:r,transparent:i,init:o,push:a,unshift:c,finish:f,sort:d}}function Fne(){let t=new WeakMap;function e(r,i){const o=t.get(r);let s;return o===void 0?(s=new NA,t.set(r,[s])):i>=o.length?(s=new NA,o.push(s)):s=o[i],s}function n(){t=new WeakMap}return{get:e,dispose:n}}function zne(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={direction:new J,color:new ct};break;case"SpotLight":n={position:new J,direction:new J,color:new ct,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new J,color:new ct,distance:0,decay:0};break;case"HemisphereLight":n={direction:new J,skyColor:new ct,groundColor:new ct};break;case"RectAreaLight":n={color:new ct,position:new J,halfWidth:new J,halfHeight:new J};break}return t[e.id]=n,n}}}function Une(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new $e};break;case"SpotLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new $e};break;case"PointLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new $e,shadowCameraNear:1,shadowCameraFar:1e3};break}return t[e.id]=n,n}}}let Bne=0;function Vne(t,e){return(e.castShadow?2:0)-(t.castShadow?2:0)+(e.map?1:0)-(t.map?1:0)}function $ne(t){const e=new zne,n=Une(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let d=0;d<9;d++)r.probe.push(new J);const i=new J,o=new Ht,s=new Ht;function a(d){let f=0,m=0,g=0;for(let L=0;L<9;L++)r.probe[L].set(0,0,0);let y=0,x=0,S=0,_=0,b=0,C=0,T=0,A=0,P=0,R=0,k=0;d.sort(Vne);for(let L=0,O=d.length;L<O;L++){const B=d[L],j=B.color,X=B.intensity,ee=B.distance,K=B.shadow&&B.shadow.map?B.shadow.map.texture:null;if(B.isAmbientLight)f+=j.r*X,m+=j.g*X,g+=j.b*X;else if(B.isLightProbe){for(let ne=0;ne<9;ne++)r.probe[ne].addScaledVector(B.sh.coefficients[ne],X);k++}else if(B.isDirectionalLight){const ne=e.get(B);if(ne.color.copy(B.color).multiplyScalar(B.intensity),B.castShadow){const se=B.shadow,V=n.get(B);V.shadowIntensity=se.intensity,V.shadowBias=se.bias,V.shadowNormalBias=se.normalBias,V.shadowRadius=se.radius,V.shadowMapSize=se.mapSize,r.directionalShadow[y]=V,r.directionalShadowMap[y]=K,r.directionalShadowMatrix[y]=B.shadow.matrix,C++}r.directional[y]=ne,y++}else if(B.isSpotLight){const ne=e.get(B);ne.position.setFromMatrixPosition(B.matrixWorld),ne.color.copy(j).multiplyScalar(X),ne.distance=ee,ne.coneCos=Math.cos(B.angle),ne.penumbraCos=Math.cos(B.angle*(1-B.penumbra)),ne.decay=B.decay,r.spot[S]=ne;const se=B.shadow;if(B.map&&(r.spotLightMap[P]=B.map,P++,se.updateMatrices(B),B.castShadow&&R++),r.spotLightMatrix[S]=se.matrix,B.castShadow){const V=n.get(B);V.shadowIntensity=se.intensity,V.shadowBias=se.bias,V.shadowNormalBias=se.normalBias,V.shadowRadius=se.radius,V.shadowMapSize=se.mapSize,r.spotShadow[S]=V,r.spotShadowMap[S]=K,A++}S++}else if(B.isRectAreaLight){const ne=e.get(B);ne.color.copy(j).multiplyScalar(X),ne.halfWidth.set(B.width*.5,0,0),ne.halfHeight.set(0,B.height*.5,0),r.rectArea[_]=ne,_++}else if(B.isPointLight){const ne=e.get(B);if(ne.color.copy(B.color).multiplyScalar(B.intensity),ne.distance=B.distance,ne.decay=B.decay,B.castShadow){const se=B.shadow,V=n.get(B);V.shadowIntensity=se.intensity,V.shadowBias=se.bias,V.shadowNormalBias=se.normalBias,V.shadowRadius=se.radius,V.shadowMapSize=se.mapSize,V.shadowCameraNear=se.camera.near,V.shadowCameraFar=se.camera.far,r.pointShadow[x]=V,r.pointShadowMap[x]=K,r.pointShadowMatrix[x]=B.shadow.matrix,T++}r.point[x]=ne,x++}else if(B.isHemisphereLight){const ne=e.get(B);ne.skyColor.copy(B.color).multiplyScalar(X),ne.groundColor.copy(B.groundColor).multiplyScalar(X),r.hemi[b]=ne,b++}}_>0&&(t.has("OES_texture_float_linear")===!0?(r.rectAreaLTC1=ht.LTC_FLOAT_1,r.rectAreaLTC2=ht.LTC_FLOAT_2):(r.rectAreaLTC1=ht.LTC_HALF_1,r.rectAreaLTC2=ht.LTC_HALF_2)),r.ambient[0]=f,r.ambient[1]=m,r.ambient[2]=g;const z=r.hash;(z.directionalLength!==y||z.pointLength!==x||z.spotLength!==S||z.rectAreaLength!==_||z.hemiLength!==b||z.numDirectionalShadows!==C||z.numPointShadows!==T||z.numSpotShadows!==A||z.numSpotMaps!==P||z.numLightProbes!==k)&&(r.directional.length=y,r.spot.length=S,r.rectArea.length=_,r.point.length=x,r.hemi.length=b,r.directionalShadow.length=C,r.directionalShadowMap.length=C,r.pointShadow.length=T,r.pointShadowMap.length=T,r.spotShadow.length=A,r.spotShadowMap.length=A,r.directionalShadowMatrix.length=C,r.pointShadowMatrix.length=T,r.spotLightMatrix.length=A+P-R,r.spotLightMap.length=P,r.numSpotLightShadowsWithMaps=R,r.numLightProbes=k,z.directionalLength=y,z.pointLength=x,z.spotLength=S,z.rectAreaLength=_,z.hemiLength=b,z.numDirectionalShadows=C,z.numPointShadows=T,z.numSpotShadows=A,z.numSpotMaps=P,z.numLightProbes=k,r.version=Bne++)}function c(d,f){let m=0,g=0,y=0,x=0,S=0;const _=f.matrixWorldInverse;for(let b=0,C=d.length;b<C;b++){const T=d[b];if(T.isDirectionalLight){const A=r.directional[m];A.direction.setFromMatrixPosition(T.matrixWorld),i.setFromMatrixPosition(T.target.matrixWorld),A.direction.sub(i),A.direction.transformDirection(_),m++}else if(T.isSpotLight){const A=r.spot[y];A.position.setFromMatrixPosition(T.matrixWorld),A.position.applyMatrix4(_),A.direction.setFromMatrixPosition(T.matrixWorld),i.setFromMatrixPosition(T.target.matrixWorld),A.direction.sub(i),A.direction.transformDirection(_),y++}else if(T.isRectAreaLight){const A=r.rectArea[x];A.position.setFromMatrixPosition(T.matrixWorld),A.position.applyMatrix4(_),s.identity(),o.copy(T.matrixWorld),o.premultiply(_),s.extractRotation(o),A.halfWidth.set(T.width*.5,0,0),A.halfHeight.set(0,T.height*.5,0),A.halfWidth.applyMatrix4(s),A.halfHeight.applyMatrix4(s),x++}else if(T.isPointLight){const A=r.point[g];A.position.setFromMatrixPosition(T.matrixWorld),A.position.applyMatrix4(_),g++}else if(T.isHemisphereLight){const A=r.hemi[S];A.direction.setFromMatrixPosition(T.matrixWorld),A.direction.transformDirection(_),S++}}}return{setup:a,setupView:c,state:r}}function DA(t){const e=new $ne(t),n=[],r=[];function i(f){d.camera=f,n.length=0,r.length=0}function o(f){n.push(f)}function s(f){r.push(f)}function a(){e.setup(n)}function c(f){e.setupView(n,f)}const d={lightsArray:n,shadowsArray:r,camera:null,lights:e,transmissionRenderTarget:{}};return{init:i,state:d,setupLights:a,setupLightsView:c,pushLight:o,pushShadow:s}}function Hne(t){let e=new WeakMap;function n(i,o=0){const s=e.get(i);let a;return s===void 0?(a=new DA(t),e.set(i,[a])):o>=s.length?(a=new DA(t),s.push(a)):a=s[o],a}function r(){e=new WeakMap}return{get:n,dispose:r}}const Wne=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,Gne=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function jne(t,e,n){let r=new Wp;const i=new $e,o=new $e,s=new Mn,a=new NM({depthPacking:CF}),c=new DM,d={},f=n.maxTextureSize,m={[dc]:mo,[mo]:dc,[ns]:ns},g=new Os({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new $e},radius:{value:4}},vertexShader:Wne,fragmentShader:Gne}),y=g.clone();y.defines.HORIZONTAL_PASS=1;const x=new Yt;x.setAttribute("position",new Wn(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const S=new ar(x,g),_=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=bb;let b=this.type;this.render=function(R,k,z){if(_.enabled===!1||_.autoUpdate===!1&&_.needsUpdate===!1||R.length===0)return;const L=t.getRenderTarget(),O=t.getActiveCubeFace(),B=t.getActiveMipmapLevel(),j=t.state;j.setBlending(tc),j.buffers.color.setClear(1,1,1,1),j.buffers.depth.setTest(!0),j.setScissorTest(!1);const X=b!==ua&&this.type===ua,ee=b===ua&&this.type!==ua;for(let K=0,ne=R.length;K<ne;K++){const se=R[K],V=se.shadow;if(V===void 0){console.warn("THREE.WebGLShadowMap:",se,"has no shadow.");continue}if(V.autoUpdate===!1&&V.needsUpdate===!1)continue;i.copy(V.mapSize);const Q=V.getFrameExtents();if(i.multiply(Q),o.copy(V.mapSize),(i.x>f||i.y>f)&&(i.x>f&&(o.x=Math.floor(f/Q.x),i.x=o.x*Q.x,V.mapSize.x=o.x),i.y>f&&(o.y=Math.floor(f/Q.y),i.y=o.y*Q.y,V.mapSize.y=o.y)),V.map===null||X===!0||ee===!0){const W=this.type!==ua?{minFilter:Pi,magFilter:Pi}:{};V.map!==null&&V.map.dispose(),V.map=new Za(i.x,i.y,W),V.map.texture.name=se.name+".shadowMap",V.camera.updateProjectionMatrix()}t.setRenderTarget(V.map),t.clear();const Z=V.getViewportCount();for(let W=0;W<Z;W++){const le=V.getViewport(W);s.set(o.x*le.x,o.y*le.y,o.x*le.z,o.y*le.w),j.viewport(s),V.updateMatrices(se,W),r=V.getFrustum(),A(k,z,V.camera,se,this.type)}V.isPointLightShadow!==!0&&this.type===ua&&C(V,z),V.needsUpdate=!1}b=this.type,_.needsUpdate=!1,t.setRenderTarget(L,O,B)};function C(R,k){const z=e.update(S);g.defines.VSM_SAMPLES!==R.blurSamples&&(g.defines.VSM_SAMPLES=R.blurSamples,y.defines.VSM_SAMPLES=R.blurSamples,g.needsUpdate=!0,y.needsUpdate=!0),R.mapPass===null&&(R.mapPass=new Za(i.x,i.y)),g.uniforms.shadow_pass.value=R.map.texture,g.uniforms.resolution.value=R.mapSize,g.uniforms.radius.value=R.radius,t.setRenderTarget(R.mapPass),t.clear(),t.renderBufferDirect(k,null,z,g,S,null),y.uniforms.shadow_pass.value=R.mapPass.texture,y.uniforms.resolution.value=R.mapSize,y.uniforms.radius.value=R.radius,t.setRenderTarget(R.map),t.clear(),t.renderBufferDirect(k,null,z,y,S,null)}function T(R,k,z,L){let O=null;const B=z.isPointLight===!0?R.customDistanceMaterial:R.customDepthMaterial;if(B!==void 0)O=B;else if(O=z.isPointLight===!0?c:a,t.localClippingEnabled&&k.clipShadows===!0&&Array.isArray(k.clippingPlanes)&&k.clippingPlanes.length!==0||k.displacementMap&&k.displacementScale!==0||k.alphaMap&&k.alphaTest>0||k.map&&k.alphaTest>0||k.alphaToCoverage===!0){const j=O.uuid,X=k.uuid;let ee=d[j];ee===void 0&&(ee={},d[j]=ee);let K=ee[X];K===void 0&&(K=O.clone(),ee[X]=K,k.addEventListener("dispose",P)),O=K}if(O.visible=k.visible,O.wireframe=k.wireframe,L===ua?O.side=k.shadowSide!==null?k.shadowSide:k.side:O.side=k.shadowSide!==null?k.shadowSide:m[k.side],O.alphaMap=k.alphaMap,O.alphaTest=k.alphaToCoverage===!0?.5:k.alphaTest,O.map=k.map,O.clipShadows=k.clipShadows,O.clippingPlanes=k.clippingPlanes,O.clipIntersection=k.clipIntersection,O.displacementMap=k.displacementMap,O.displacementScale=k.displacementScale,O.displacementBias=k.displacementBias,O.wireframeLinewidth=k.wireframeLinewidth,O.linewidth=k.linewidth,z.isPointLight===!0&&O.isMeshDistanceMaterial===!0){const j=t.properties.get(O);j.light=z}return O}function A(R,k,z,L,O){if(R.visible===!1)return;if(R.layers.test(k.layers)&&(R.isMesh||R.isLine||R.isPoints)&&(R.castShadow||R.receiveShadow&&O===ua)&&(!R.frustumCulled||r.intersectsObject(R))){R.modelViewMatrix.multiplyMatrices(z.matrixWorldInverse,R.matrixWorld);const X=e.update(R),ee=R.material;if(Array.isArray(ee)){const K=X.groups;for(let ne=0,se=K.length;ne<se;ne++){const V=K[ne],Q=ee[V.materialIndex];if(Q&&Q.visible){const Z=T(R,Q,L,O);R.onBeforeShadow(t,R,k,z,X,Z,V),t.renderBufferDirect(z,null,X,Z,R,V),R.onAfterShadow(t,R,k,z,X,Z,V)}}}else if(ee.visible){const K=T(R,ee,L,O);R.onBeforeShadow(t,R,k,z,X,K,null),t.renderBufferDirect(z,null,X,K,R,null),R.onAfterShadow(t,R,k,z,X,K,null)}}const j=R.children;for(let X=0,ee=j.length;X<ee;X++)A(j[X],k,z,L,O)}function P(R){R.target.removeEventListener("dispose",P);for(const z in d){const L=d[z],O=R.target.uuid;O in L&&(L[O].dispose(),delete L[O])}}}const Xne={[qx]:Yx,[Kx]:Qx,[Zx]:e1,[nf]:Jx,[Yx]:qx,[Qx]:Kx,[e1]:Zx,[Jx]:nf};function qne(t,e){function n(){let ce=!1;const Ze=new Mn;let Re=null;const Ue=new Mn(0,0,0,0);return{setMask:function(mt){Re!==mt&&!ce&&(t.colorMask(mt,mt,mt,mt),Re=mt)},setLocked:function(mt){ce=mt},setClear:function(mt,lt,Nt,vn,Un){Un===!0&&(mt*=vn,lt*=vn,Nt*=vn),Ze.set(mt,lt,Nt,vn),Ue.equals(Ze)===!1&&(t.clearColor(mt,lt,Nt,vn),Ue.copy(Ze))},reset:function(){ce=!1,Re=null,Ue.set(-1,0,0,0)}}}function r(){let ce=!1,Ze=!1,Re=null,Ue=null,mt=null;return{setReversed:function(lt){if(Ze!==lt){const Nt=e.get("EXT_clip_control");lt?Nt.clipControlEXT(Nt.LOWER_LEFT_EXT,Nt.ZERO_TO_ONE_EXT):Nt.clipControlEXT(Nt.LOWER_LEFT_EXT,Nt.NEGATIVE_ONE_TO_ONE_EXT),Ze=lt;const vn=mt;mt=null,this.setClear(vn)}},getReversed:function(){return Ze},setTest:function(lt){lt?Le(t.DEPTH_TEST):ge(t.DEPTH_TEST)},setMask:function(lt){Re!==lt&&!ce&&(t.depthMask(lt),Re=lt)},setFunc:function(lt){if(Ze&&(lt=Xne[lt]),Ue!==lt){switch(lt){case qx:t.depthFunc(t.NEVER);break;case Yx:t.depthFunc(t.ALWAYS);break;case Kx:t.depthFunc(t.LESS);break;case nf:t.depthFunc(t.LEQUAL);break;case Zx:t.depthFunc(t.EQUAL);break;case Jx:t.depthFunc(t.GEQUAL);break;case Qx:t.depthFunc(t.GREATER);break;case e1:t.depthFunc(t.NOTEQUAL);break;default:t.depthFunc(t.LEQUAL)}Ue=lt}},setLocked:function(lt){ce=lt},setClear:function(lt){mt!==lt&&(Ze&&(lt=1-lt),t.clearDepth(lt),mt=lt)},reset:function(){ce=!1,Re=null,Ue=null,mt=null,Ze=!1}}}function i(){let ce=!1,Ze=null,Re=null,Ue=null,mt=null,lt=null,Nt=null,vn=null,Un=null;return{setTest:function(tn){ce||(tn?Le(t.STENCIL_TEST):ge(t.STENCIL_TEST))},setMask:function(tn){Ze!==tn&&!ce&&(t.stencilMask(tn),Ze=tn)},setFunc:function(tn,fr,wr){(Re!==tn||Ue!==fr||mt!==wr)&&(t.stencilFunc(tn,fr,wr),Re=tn,Ue=fr,mt=wr)},setOp:function(tn,fr,wr){(lt!==tn||Nt!==fr||vn!==wr)&&(t.stencilOp(tn,fr,wr),lt=tn,Nt=fr,vn=wr)},setLocked:function(tn){ce=tn},setClear:function(tn){Un!==tn&&(t.clearStencil(tn),Un=tn)},reset:function(){ce=!1,Ze=null,Re=null,Ue=null,mt=null,lt=null,Nt=null,vn=null,Un=null}}}const o=new n,s=new r,a=new i,c=new WeakMap,d=new WeakMap;let f={},m={},g=new WeakMap,y=[],x=null,S=!1,_=null,b=null,C=null,T=null,A=null,P=null,R=null,k=new ct(0,0,0),z=0,L=!1,O=null,B=null,j=null,X=null,ee=null;const K=t.getParameter(t.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let ne=!1,se=0;const V=t.getParameter(t.VERSION);V.indexOf("WebGL")!==-1?(se=parseFloat(/^WebGL (\d)/.exec(V)[1]),ne=se>=1):V.indexOf("OpenGL ES")!==-1&&(se=parseFloat(/^OpenGL ES (\d)/.exec(V)[1]),ne=se>=2);let Q=null,Z={};const W=t.getParameter(t.SCISSOR_BOX),le=t.getParameter(t.VIEWPORT),Ie=new Mn().fromArray(W),fe=new Mn().fromArray(le);function Me(ce,Ze,Re,Ue){const mt=new Uint8Array(4),lt=t.createTexture();t.bindTexture(ce,lt),t.texParameteri(ce,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(ce,t.TEXTURE_MAG_FILTER,t.NEAREST);for(let Nt=0;Nt<Re;Nt++)ce===t.TEXTURE_3D||ce===t.TEXTURE_2D_ARRAY?t.texImage3D(Ze,0,t.RGBA,1,1,Ue,0,t.RGBA,t.UNSIGNED_BYTE,mt):t.texImage2D(Ze+Nt,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,mt);return lt}const De={};De[t.TEXTURE_2D]=Me(t.TEXTURE_2D,t.TEXTURE_2D,1),De[t.TEXTURE_CUBE_MAP]=Me(t.TEXTURE_CUBE_MAP,t.TEXTURE_CUBE_MAP_POSITIVE_X,6),De[t.TEXTURE_2D_ARRAY]=Me(t.TEXTURE_2D_ARRAY,t.TEXTURE_2D_ARRAY,1,1),De[t.TEXTURE_3D]=Me(t.TEXTURE_3D,t.TEXTURE_3D,1,1),o.setClear(0,0,0,1),s.setClear(1),a.setClear(0),Le(t.DEPTH_TEST),s.setFunc(nf),Ve(!1),He(TE),Le(t.CULL_FACE),q(tc);function Le(ce){f[ce]!==!0&&(t.enable(ce),f[ce]=!0)}function ge(ce){f[ce]!==!1&&(t.disable(ce),f[ce]=!1)}function be(ce,Ze){return m[ce]!==Ze?(t.bindFramebuffer(ce,Ze),m[ce]=Ze,ce===t.DRAW_FRAMEBUFFER&&(m[t.FRAMEBUFFER]=Ze),ce===t.FRAMEBUFFER&&(m[t.DRAW_FRAMEBUFFER]=Ze),!0):!1}function Fe(ce,Ze){let Re=y,Ue=!1;if(ce){Re=g.get(Ze),Re===void 0&&(Re=[],g.set(Ze,Re));const mt=ce.textures;if(Re.length!==mt.length||Re[0]!==t.COLOR_ATTACHMENT0){for(let lt=0,Nt=mt.length;lt<Nt;lt++)Re[lt]=t.COLOR_ATTACHMENT0+lt;Re.length=mt.length,Ue=!0}}else Re[0]!==t.BACK&&(Re[0]=t.BACK,Ue=!0);Ue&&t.drawBuffers(Re)}function Ye(ce){return x!==ce?(t.useProgram(ce),x=ce,!0):!1}const at={[lu]:t.FUNC_ADD,[YD]:t.FUNC_SUBTRACT,[KD]:t.FUNC_REVERSE_SUBTRACT};at[ZD]=t.MIN,at[JD]=t.MAX;const Ge={[QD]:t.ZERO,[eF]:t.ONE,[tF]:t.SRC_COLOR,[jx]:t.SRC_ALPHA,[aF]:t.SRC_ALPHA_SATURATE,[oF]:t.DST_COLOR,[rF]:t.DST_ALPHA,[nF]:t.ONE_MINUS_SRC_COLOR,[Xx]:t.ONE_MINUS_SRC_ALPHA,[sF]:t.ONE_MINUS_DST_COLOR,[iF]:t.ONE_MINUS_DST_ALPHA,[lF]:t.CONSTANT_COLOR,[cF]:t.ONE_MINUS_CONSTANT_COLOR,[uF]:t.CONSTANT_ALPHA,[dF]:t.ONE_MINUS_CONSTANT_ALPHA};function q(ce,Ze,Re,Ue,mt,lt,Nt,vn,Un,tn){if(ce===tc){S===!0&&(ge(t.BLEND),S=!1);return}if(S===!1&&(Le(t.BLEND),S=!0),ce!==qD){if(ce!==_||tn!==L){if((b!==lu||A!==lu)&&(t.blendEquation(t.FUNC_ADD),b=lu,A=lu),tn)switch(ce){case qd:t.blendFuncSeparate(t.ONE,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case PE:t.blendFunc(t.ONE,t.ONE);break;case RE:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case AE:t.blendFuncSeparate(t.ZERO,t.SRC_COLOR,t.ZERO,t.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",ce);break}else switch(ce){case qd:t.blendFuncSeparate(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case PE:t.blendFunc(t.SRC_ALPHA,t.ONE);break;case RE:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case AE:t.blendFunc(t.ZERO,t.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",ce);break}C=null,T=null,P=null,R=null,k.set(0,0,0),z=0,_=ce,L=tn}return}mt=mt||Ze,lt=lt||Re,Nt=Nt||Ue,(Ze!==b||mt!==A)&&(t.blendEquationSeparate(at[Ze],at[mt]),b=Ze,A=mt),(Re!==C||Ue!==T||lt!==P||Nt!==R)&&(t.blendFuncSeparate(Ge[Re],Ge[Ue],Ge[lt],Ge[Nt]),C=Re,T=Ue,P=lt,R=Nt),(vn.equals(k)===!1||Un!==z)&&(t.blendColor(vn.r,vn.g,vn.b,Un),k.copy(vn),z=Un),_=ce,L=!1}function Xe(ce,Ze){ce.side===ns?ge(t.CULL_FACE):Le(t.CULL_FACE);let Re=ce.side===mo;Ze&&(Re=!Re),Ve(Re),ce.blending===qd&&ce.transparent===!1?q(tc):q(ce.blending,ce.blendEquation,ce.blendSrc,ce.blendDst,ce.blendEquationAlpha,ce.blendSrcAlpha,ce.blendDstAlpha,ce.blendColor,ce.blendAlpha,ce.premultipliedAlpha),s.setFunc(ce.depthFunc),s.setTest(ce.depthTest),s.setMask(ce.depthWrite),o.setMask(ce.colorWrite);const Ue=ce.stencilWrite;a.setTest(Ue),Ue&&(a.setMask(ce.stencilWriteMask),a.setFunc(ce.stencilFunc,ce.stencilRef,ce.stencilFuncMask),a.setOp(ce.stencilFail,ce.stencilZFail,ce.stencilZPass)),ot(ce.polygonOffset,ce.polygonOffsetFactor,ce.polygonOffsetUnits),ce.alphaToCoverage===!0?Le(t.SAMPLE_ALPHA_TO_COVERAGE):ge(t.SAMPLE_ALPHA_TO_COVERAGE)}function Ve(ce){O!==ce&&(ce?t.frontFace(t.CW):t.frontFace(t.CCW),O=ce)}function He(ce){ce!==GD?(Le(t.CULL_FACE),ce!==B&&(ce===TE?t.cullFace(t.BACK):ce===jD?t.cullFace(t.FRONT):t.cullFace(t.FRONT_AND_BACK))):ge(t.CULL_FACE),B=ce}function ze(ce){ce!==j&&(ne&&t.lineWidth(ce),j=ce)}function ot(ce,Ze,Re){ce?(Le(t.POLYGON_OFFSET_FILL),(X!==Ze||ee!==Re)&&(t.polygonOffset(Ze,Re),X=Ze,ee=Re)):ge(t.POLYGON_OFFSET_FILL)}function Be(ce){ce?Le(t.SCISSOR_TEST):ge(t.SCISSOR_TEST)}function Y(ce){ce===void 0&&(ce=t.TEXTURE0+K-1),Q!==ce&&(t.activeTexture(ce),Q=ce)}function $(ce,Ze,Re){Re===void 0&&(Q===null?Re=t.TEXTURE0+K-1:Re=Q);let Ue=Z[Re];Ue===void 0&&(Ue={type:void 0,texture:void 0},Z[Re]=Ue),(Ue.type!==ce||Ue.texture!==Ze)&&(Q!==Re&&(t.activeTexture(Re),Q=Re),t.bindTexture(ce,Ze||De[ce]),Ue.type=ce,Ue.texture=Ze)}function re(){const ce=Z[Q];ce!==void 0&&ce.type!==void 0&&(t.bindTexture(ce.type,null),ce.type=void 0,ce.texture=void 0)}function pe(){try{t.compressedTexImage2D(...arguments)}catch(ce){console.error("THREE.WebGLState:",ce)}}function ke(){try{t.compressedTexImage3D(...arguments)}catch(ce){console.error("THREE.WebGLState:",ce)}}function Ce(){try{t.texSubImage2D(...arguments)}catch(ce){console.error("THREE.WebGLState:",ce)}}function tt(){try{t.texSubImage3D(...arguments)}catch(ce){console.error("THREE.WebGLState:",ce)}}function Qe(){try{t.compressedTexSubImage2D(...arguments)}catch(ce){console.error("THREE.WebGLState:",ce)}}function St(){try{t.compressedTexSubImage3D(...arguments)}catch(ce){console.error("THREE.WebGLState:",ce)}}function Mt(){try{t.texStorage2D(...arguments)}catch(ce){console.error("THREE.WebGLState:",ce)}}function We(){try{t.texStorage3D(...arguments)}catch(ce){console.error("THREE.WebGLState:",ce)}}function dt(){try{t.texImage2D(...arguments)}catch(ce){console.error("THREE.WebGLState:",ce)}}function Pt(){try{t.texImage3D(...arguments)}catch(ce){console.error("THREE.WebGLState:",ce)}}function Lt(ce){Ie.equals(ce)===!1&&(t.scissor(ce.x,ce.y,ce.z,ce.w),Ie.copy(ce))}function pt(ce){fe.equals(ce)===!1&&(t.viewport(ce.x,ce.y,ce.z,ce.w),fe.copy(ce))}function ue(ce,Ze){let Re=d.get(Ze);Re===void 0&&(Re=new WeakMap,d.set(Ze,Re));let Ue=Re.get(ce);Ue===void 0&&(Ue=t.getUniformBlockIndex(Ze,ce.name),Re.set(ce,Ue))}function Ne(ce,Ze){const Ue=d.get(Ze).get(ce);c.get(Ze)!==Ue&&(t.uniformBlockBinding(Ze,Ue,ce.__bindingPointIndex),c.set(Ze,Ue))}function st(){t.disable(t.BLEND),t.disable(t.CULL_FACE),t.disable(t.DEPTH_TEST),t.disable(t.POLYGON_OFFSET_FILL),t.disable(t.SCISSOR_TEST),t.disable(t.STENCIL_TEST),t.disable(t.SAMPLE_ALPHA_TO_COVERAGE),t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ONE,t.ZERO),t.blendFuncSeparate(t.ONE,t.ZERO,t.ONE,t.ZERO),t.blendColor(0,0,0,0),t.colorMask(!0,!0,!0,!0),t.clearColor(0,0,0,0),t.depthMask(!0),t.depthFunc(t.LESS),s.setReversed(!1),t.clearDepth(1),t.stencilMask(4294967295),t.stencilFunc(t.ALWAYS,0,4294967295),t.stencilOp(t.KEEP,t.KEEP,t.KEEP),t.clearStencil(0),t.cullFace(t.BACK),t.frontFace(t.CCW),t.polygonOffset(0,0),t.activeTexture(t.TEXTURE0),t.bindFramebuffer(t.FRAMEBUFFER,null),t.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),t.bindFramebuffer(t.READ_FRAMEBUFFER,null),t.useProgram(null),t.lineWidth(1),t.scissor(0,0,t.canvas.width,t.canvas.height),t.viewport(0,0,t.canvas.width,t.canvas.height),f={},Q=null,Z={},m={},g=new WeakMap,y=[],x=null,S=!1,_=null,b=null,C=null,T=null,A=null,P=null,R=null,k=new ct(0,0,0),z=0,L=!1,O=null,B=null,j=null,X=null,ee=null,Ie.set(0,0,t.canvas.width,t.canvas.height),fe.set(0,0,t.canvas.width,t.canvas.height),o.reset(),s.reset(),a.reset()}return{buffers:{color:o,depth:s,stencil:a},enable:Le,disable:ge,bindFramebuffer:be,drawBuffers:Fe,useProgram:Ye,setBlending:q,setMaterial:Xe,setFlipSided:Ve,setCullFace:He,setLineWidth:ze,setPolygonOffset:ot,setScissorTest:Be,activeTexture:Y,bindTexture:$,unbindTexture:re,compressedTexImage2D:pe,compressedTexImage3D:ke,texImage2D:dt,texImage3D:Pt,updateUBOMapping:ue,uniformBlockBinding:Ne,texStorage2D:Mt,texStorage3D:We,texSubImage2D:Ce,texSubImage3D:tt,compressedTexSubImage2D:Qe,compressedTexSubImage3D:St,scissor:Lt,viewport:pt,reset:st}}function Yne(t,e,n,r,i,o,s){const a=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,c=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),d=new $e,f=new WeakMap;let m;const g=new WeakMap;let y=!1;try{y=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function x(Y,$){return y?new OffscreenCanvas(Y,$):dv("canvas")}function S(Y,$,re){let pe=1;const ke=Be(Y);if((ke.width>re||ke.height>re)&&(pe=re/Math.max(ke.width,ke.height)),pe<1)if(typeof HTMLImageElement<"u"&&Y instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&Y instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&Y instanceof ImageBitmap||typeof VideoFrame<"u"&&Y instanceof VideoFrame){const Ce=Math.floor(pe*ke.width),tt=Math.floor(pe*ke.height);m===void 0&&(m=x(Ce,tt));const Qe=$?x(Ce,tt):m;return Qe.width=Ce,Qe.height=tt,Qe.getContext("2d").drawImage(Y,0,0,Ce,tt),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+ke.width+"x"+ke.height+") to ("+Ce+"x"+tt+")."),Qe}else return"data"in Y&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+ke.width+"x"+ke.height+")."),Y;return Y}function _(Y){return Y.generateMipmaps}function b(Y){t.generateMipmap(Y)}function C(Y){return Y.isWebGLCubeRenderTarget?t.TEXTURE_CUBE_MAP:Y.isWebGL3DRenderTarget?t.TEXTURE_3D:Y.isWebGLArrayRenderTarget||Y.isCompressedArrayTexture?t.TEXTURE_2D_ARRAY:t.TEXTURE_2D}function T(Y,$,re,pe,ke=!1){if(Y!==null){if(t[Y]!==void 0)return t[Y];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+Y+"'")}let Ce=$;if($===t.RED&&(re===t.FLOAT&&(Ce=t.R32F),re===t.HALF_FLOAT&&(Ce=t.R16F),re===t.UNSIGNED_BYTE&&(Ce=t.R8)),$===t.RED_INTEGER&&(re===t.UNSIGNED_BYTE&&(Ce=t.R8UI),re===t.UNSIGNED_SHORT&&(Ce=t.R16UI),re===t.UNSIGNED_INT&&(Ce=t.R32UI),re===t.BYTE&&(Ce=t.R8I),re===t.SHORT&&(Ce=t.R16I),re===t.INT&&(Ce=t.R32I)),$===t.RG&&(re===t.FLOAT&&(Ce=t.RG32F),re===t.HALF_FLOAT&&(Ce=t.RG16F),re===t.UNSIGNED_BYTE&&(Ce=t.RG8)),$===t.RG_INTEGER&&(re===t.UNSIGNED_BYTE&&(Ce=t.RG8UI),re===t.UNSIGNED_SHORT&&(Ce=t.RG16UI),re===t.UNSIGNED_INT&&(Ce=t.RG32UI),re===t.BYTE&&(Ce=t.RG8I),re===t.SHORT&&(Ce=t.RG16I),re===t.INT&&(Ce=t.RG32I)),$===t.RGB_INTEGER&&(re===t.UNSIGNED_BYTE&&(Ce=t.RGB8UI),re===t.UNSIGNED_SHORT&&(Ce=t.RGB16UI),re===t.UNSIGNED_INT&&(Ce=t.RGB32UI),re===t.BYTE&&(Ce=t.RGB8I),re===t.SHORT&&(Ce=t.RGB16I),re===t.INT&&(Ce=t.RGB32I)),$===t.RGBA_INTEGER&&(re===t.UNSIGNED_BYTE&&(Ce=t.RGBA8UI),re===t.UNSIGNED_SHORT&&(Ce=t.RGBA16UI),re===t.UNSIGNED_INT&&(Ce=t.RGBA32UI),re===t.BYTE&&(Ce=t.RGBA8I),re===t.SHORT&&(Ce=t.RGBA16I),re===t.INT&&(Ce=t.RGBA32I)),$===t.RGB&&re===t.UNSIGNED_INT_5_9_9_9_REV&&(Ce=t.RGB9_E5),$===t.RGBA){const tt=ke?lv:wn.getTransfer(pe);re===t.FLOAT&&(Ce=t.RGBA32F),re===t.HALF_FLOAT&&(Ce=t.RGBA16F),re===t.UNSIGNED_BYTE&&(Ce=tt===Fn?t.SRGB8_ALPHA8:t.RGBA8),re===t.UNSIGNED_SHORT_4_4_4_4&&(Ce=t.RGBA4),re===t.UNSIGNED_SHORT_5_5_5_1&&(Ce=t.RGB5_A1)}return(Ce===t.R16F||Ce===t.R32F||Ce===t.RG16F||Ce===t.RG32F||Ce===t.RGBA16F||Ce===t.RGBA32F)&&e.get("EXT_color_buffer_float"),Ce}function A(Y,$){let re;return Y?$===null||$===hc||$===wp?re=t.DEPTH24_STENCIL8:$===Fo?re=t.DEPTH32F_STENCIL8:$===Sp&&(re=t.DEPTH24_STENCIL8,console.warn("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):$===null||$===hc||$===wp?re=t.DEPTH_COMPONENT24:$===Fo?re=t.DEPTH_COMPONENT32F:$===Sp&&(re=t.DEPTH_COMPONENT16),re}function P(Y,$){return _(Y)===!0||Y.isFramebufferTexture&&Y.minFilter!==Pi&&Y.minFilter!==ei?Math.log2(Math.max($.width,$.height))+1:Y.mipmaps!==void 0&&Y.mipmaps.length>0?Y.mipmaps.length:Y.isCompressedTexture&&Array.isArray(Y.image)?$.mipmaps.length:1}function R(Y){const $=Y.target;$.removeEventListener("dispose",R),z($),$.isVideoTexture&&f.delete($)}function k(Y){const $=Y.target;$.removeEventListener("dispose",k),O($)}function z(Y){const $=r.get(Y);if($.__webglInit===void 0)return;const re=Y.source,pe=g.get(re);if(pe){const ke=pe[$.__cacheKey];ke.usedTimes--,ke.usedTimes===0&&L(Y),Object.keys(pe).length===0&&g.delete(re)}r.remove(Y)}function L(Y){const $=r.get(Y);t.deleteTexture($.__webglTexture);const re=Y.source,pe=g.get(re);delete pe[$.__cacheKey],s.memory.textures--}function O(Y){const $=r.get(Y);if(Y.depthTexture&&(Y.depthTexture.dispose(),r.remove(Y.depthTexture)),Y.isWebGLCubeRenderTarget)for(let pe=0;pe<6;pe++){if(Array.isArray($.__webglFramebuffer[pe]))for(let ke=0;ke<$.__webglFramebuffer[pe].length;ke++)t.deleteFramebuffer($.__webglFramebuffer[pe][ke]);else t.deleteFramebuffer($.__webglFramebuffer[pe]);$.__webglDepthbuffer&&t.deleteRenderbuffer($.__webglDepthbuffer[pe])}else{if(Array.isArray($.__webglFramebuffer))for(let pe=0;pe<$.__webglFramebuffer.length;pe++)t.deleteFramebuffer($.__webglFramebuffer[pe]);else t.deleteFramebuffer($.__webglFramebuffer);if($.__webglDepthbuffer&&t.deleteRenderbuffer($.__webglDepthbuffer),$.__webglMultisampledFramebuffer&&t.deleteFramebuffer($.__webglMultisampledFramebuffer),$.__webglColorRenderbuffer)for(let pe=0;pe<$.__webglColorRenderbuffer.length;pe++)$.__webglColorRenderbuffer[pe]&&t.deleteRenderbuffer($.__webglColorRenderbuffer[pe]);$.__webglDepthRenderbuffer&&t.deleteRenderbuffer($.__webglDepthRenderbuffer)}const re=Y.textures;for(let pe=0,ke=re.length;pe<ke;pe++){const Ce=r.get(re[pe]);Ce.__webglTexture&&(t.deleteTexture(Ce.__webglTexture),s.memory.textures--),r.remove(re[pe])}r.remove(Y)}let B=0;function j(){B=0}function X(){const Y=B;return Y>=i.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+Y+" texture units while this GPU supports only "+i.maxTextures),B+=1,Y}function ee(Y){const $=[];return $.push(Y.wrapS),$.push(Y.wrapT),$.push(Y.wrapR||0),$.push(Y.magFilter),$.push(Y.minFilter),$.push(Y.anisotropy),$.push(Y.internalFormat),$.push(Y.format),$.push(Y.type),$.push(Y.generateMipmaps),$.push(Y.premultiplyAlpha),$.push(Y.flipY),$.push(Y.unpackAlignment),$.push(Y.colorSpace),$.join()}function K(Y,$){const re=r.get(Y);if(Y.isVideoTexture&&ze(Y),Y.isRenderTargetTexture===!1&&Y.version>0&&re.__version!==Y.version){const pe=Y.image;if(pe===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(pe.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{fe(re,Y,$);return}}n.bindTexture(t.TEXTURE_2D,re.__webglTexture,t.TEXTURE0+$)}function ne(Y,$){const re=r.get(Y);if(Y.version>0&&re.__version!==Y.version){fe(re,Y,$);return}n.bindTexture(t.TEXTURE_2D_ARRAY,re.__webglTexture,t.TEXTURE0+$)}function se(Y,$){const re=r.get(Y);if(Y.version>0&&re.__version!==Y.version){fe(re,Y,$);return}n.bindTexture(t.TEXTURE_3D,re.__webglTexture,t.TEXTURE0+$)}function V(Y,$){const re=r.get(Y);if(Y.version>0&&re.__version!==Y.version){Me(re,Y,$);return}n.bindTexture(t.TEXTURE_CUBE_MAP,re.__webglTexture,t.TEXTURE0+$)}const Q={[iv]:t.REPEAT,[Ps]:t.CLAMP_TO_EDGE,[ov]:t.MIRRORED_REPEAT},Z={[Pi]:t.NEAREST,[hM]:t.NEAREST_MIPMAP_NEAREST,[op]:t.NEAREST_MIPMAP_LINEAR,[ei]:t.LINEAR,[Ng]:t.LINEAR_MIPMAP_NEAREST,[Wa]:t.LINEAR_MIPMAP_LINEAR},W={[TF]:t.NEVER,[OF]:t.ALWAYS,[PF]:t.LESS,[SM]:t.LEQUAL,[RF]:t.EQUAL,[kF]:t.GEQUAL,[AF]:t.GREATER,[IF]:t.NOTEQUAL};function le(Y,$){if($.type===Fo&&e.has("OES_texture_float_linear")===!1&&($.magFilter===ei||$.magFilter===Ng||$.magFilter===op||$.magFilter===Wa||$.minFilter===ei||$.minFilter===Ng||$.minFilter===op||$.minFilter===Wa)&&console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),t.texParameteri(Y,t.TEXTURE_WRAP_S,Q[$.wrapS]),t.texParameteri(Y,t.TEXTURE_WRAP_T,Q[$.wrapT]),(Y===t.TEXTURE_3D||Y===t.TEXTURE_2D_ARRAY)&&t.texParameteri(Y,t.TEXTURE_WRAP_R,Q[$.wrapR]),t.texParameteri(Y,t.TEXTURE_MAG_FILTER,Z[$.magFilter]),t.texParameteri(Y,t.TEXTURE_MIN_FILTER,Z[$.minFilter]),$.compareFunction&&(t.texParameteri(Y,t.TEXTURE_COMPARE_MODE,t.COMPARE_REF_TO_TEXTURE),t.texParameteri(Y,t.TEXTURE_COMPARE_FUNC,W[$.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){if($.magFilter===Pi||$.minFilter!==op&&$.minFilter!==Wa||$.type===Fo&&e.has("OES_texture_float_linear")===!1)return;if($.anisotropy>1||r.get($).__currentAnisotropy){const re=e.get("EXT_texture_filter_anisotropic");t.texParameterf(Y,re.TEXTURE_MAX_ANISOTROPY_EXT,Math.min($.anisotropy,i.getMaxAnisotropy())),r.get($).__currentAnisotropy=$.anisotropy}}}function Ie(Y,$){let re=!1;Y.__webglInit===void 0&&(Y.__webglInit=!0,$.addEventListener("dispose",R));const pe=$.source;let ke=g.get(pe);ke===void 0&&(ke={},g.set(pe,ke));const Ce=ee($);if(Ce!==Y.__cacheKey){ke[Ce]===void 0&&(ke[Ce]={texture:t.createTexture(),usedTimes:0},s.memory.textures++,re=!0),ke[Ce].usedTimes++;const tt=ke[Y.__cacheKey];tt!==void 0&&(ke[Y.__cacheKey].usedTimes--,tt.usedTimes===0&&L($)),Y.__cacheKey=Ce,Y.__webglTexture=ke[Ce].texture}return re}function fe(Y,$,re){let pe=t.TEXTURE_2D;($.isDataArrayTexture||$.isCompressedArrayTexture)&&(pe=t.TEXTURE_2D_ARRAY),$.isData3DTexture&&(pe=t.TEXTURE_3D);const ke=Ie(Y,$),Ce=$.source;n.bindTexture(pe,Y.__webglTexture,t.TEXTURE0+re);const tt=r.get(Ce);if(Ce.version!==tt.__version||ke===!0){n.activeTexture(t.TEXTURE0+re);const Qe=wn.getPrimaries(wn.workingColorSpace),St=$.colorSpace===Yl?null:wn.getPrimaries($.colorSpace),Mt=$.colorSpace===Yl||Qe===St?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,$.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,$.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,$.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,Mt);let We=S($.image,!1,i.maxTextureSize);We=ot($,We);const dt=o.convert($.format,$.colorSpace),Pt=o.convert($.type);let Lt=T($.internalFormat,dt,Pt,$.colorSpace,$.isVideoTexture);le(pe,$);let pt;const ue=$.mipmaps,Ne=$.isVideoTexture!==!0,st=tt.__version===void 0||ke===!0,ce=Ce.dataReady,Ze=P($,We);if($.isDepthTexture)Lt=A($.format===Cp,$.type),st&&(Ne?n.texStorage2D(t.TEXTURE_2D,1,Lt,We.width,We.height):n.texImage2D(t.TEXTURE_2D,0,Lt,We.width,We.height,0,dt,Pt,null));else if($.isDataTexture)if(ue.length>0){Ne&&st&&n.texStorage2D(t.TEXTURE_2D,Ze,Lt,ue[0].width,ue[0].height);for(let Re=0,Ue=ue.length;Re<Ue;Re++)pt=ue[Re],Ne?ce&&n.texSubImage2D(t.TEXTURE_2D,Re,0,0,pt.width,pt.height,dt,Pt,pt.data):n.texImage2D(t.TEXTURE_2D,Re,Lt,pt.width,pt.height,0,dt,Pt,pt.data);$.generateMipmaps=!1}else Ne?(st&&n.texStorage2D(t.TEXTURE_2D,Ze,Lt,We.width,We.height),ce&&n.texSubImage2D(t.TEXTURE_2D,0,0,0,We.width,We.height,dt,Pt,We.data)):n.texImage2D(t.TEXTURE_2D,0,Lt,We.width,We.height,0,dt,Pt,We.data);else if($.isCompressedTexture)if($.isCompressedArrayTexture){Ne&&st&&n.texStorage3D(t.TEXTURE_2D_ARRAY,Ze,Lt,ue[0].width,ue[0].height,We.depth);for(let Re=0,Ue=ue.length;Re<Ue;Re++)if(pt=ue[Re],$.format!==Wi)if(dt!==null)if(Ne){if(ce)if($.layerUpdates.size>0){const mt=VE(pt.width,pt.height,$.format,$.type);for(const lt of $.layerUpdates){const Nt=pt.data.subarray(lt*mt/pt.data.BYTES_PER_ELEMENT,(lt+1)*mt/pt.data.BYTES_PER_ELEMENT);n.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,Re,0,0,lt,pt.width,pt.height,1,dt,Nt)}$.clearLayerUpdates()}else n.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,Re,0,0,0,pt.width,pt.height,We.depth,dt,pt.data)}else n.compressedTexImage3D(t.TEXTURE_2D_ARRAY,Re,Lt,pt.width,pt.height,We.depth,0,pt.data,0,0);else console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else Ne?ce&&n.texSubImage3D(t.TEXTURE_2D_ARRAY,Re,0,0,0,pt.width,pt.height,We.depth,dt,Pt,pt.data):n.texImage3D(t.TEXTURE_2D_ARRAY,Re,Lt,pt.width,pt.height,We.depth,0,dt,Pt,pt.data)}else{Ne&&st&&n.texStorage2D(t.TEXTURE_2D,Ze,Lt,ue[0].width,ue[0].height);for(let Re=0,Ue=ue.length;Re<Ue;Re++)pt=ue[Re],$.format!==Wi?dt!==null?Ne?ce&&n.compressedTexSubImage2D(t.TEXTURE_2D,Re,0,0,pt.width,pt.height,dt,pt.data):n.compressedTexImage2D(t.TEXTURE_2D,Re,Lt,pt.width,pt.height,0,pt.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Ne?ce&&n.texSubImage2D(t.TEXTURE_2D,Re,0,0,pt.width,pt.height,dt,Pt,pt.data):n.texImage2D(t.TEXTURE_2D,Re,Lt,pt.width,pt.height,0,dt,Pt,pt.data)}else if($.isDataArrayTexture)if(Ne){if(st&&n.texStorage3D(t.TEXTURE_2D_ARRAY,Ze,Lt,We.width,We.height,We.depth),ce)if($.layerUpdates.size>0){const Re=VE(We.width,We.height,$.format,$.type);for(const Ue of $.layerUpdates){const mt=We.data.subarray(Ue*Re/We.data.BYTES_PER_ELEMENT,(Ue+1)*Re/We.data.BYTES_PER_ELEMENT);n.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,Ue,We.width,We.height,1,dt,Pt,mt)}$.clearLayerUpdates()}else n.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,0,We.width,We.height,We.depth,dt,Pt,We.data)}else n.texImage3D(t.TEXTURE_2D_ARRAY,0,Lt,We.width,We.height,We.depth,0,dt,Pt,We.data);else if($.isData3DTexture)Ne?(st&&n.texStorage3D(t.TEXTURE_3D,Ze,Lt,We.width,We.height,We.depth),ce&&n.texSubImage3D(t.TEXTURE_3D,0,0,0,0,We.width,We.height,We.depth,dt,Pt,We.data)):n.texImage3D(t.TEXTURE_3D,0,Lt,We.width,We.height,We.depth,0,dt,Pt,We.data);else if($.isFramebufferTexture){if(st)if(Ne)n.texStorage2D(t.TEXTURE_2D,Ze,Lt,We.width,We.height);else{let Re=We.width,Ue=We.height;for(let mt=0;mt<Ze;mt++)n.texImage2D(t.TEXTURE_2D,mt,Lt,Re,Ue,0,dt,Pt,null),Re>>=1,Ue>>=1}}else if(ue.length>0){if(Ne&&st){const Re=Be(ue[0]);n.texStorage2D(t.TEXTURE_2D,Ze,Lt,Re.width,Re.height)}for(let Re=0,Ue=ue.length;Re<Ue;Re++)pt=ue[Re],Ne?ce&&n.texSubImage2D(t.TEXTURE_2D,Re,0,0,dt,Pt,pt):n.texImage2D(t.TEXTURE_2D,Re,Lt,dt,Pt,pt);$.generateMipmaps=!1}else if(Ne){if(st){const Re=Be(We);n.texStorage2D(t.TEXTURE_2D,Ze,Lt,Re.width,Re.height)}ce&&n.texSubImage2D(t.TEXTURE_2D,0,0,0,dt,Pt,We)}else n.texImage2D(t.TEXTURE_2D,0,Lt,dt,Pt,We);_($)&&b(pe),tt.__version=Ce.version,$.onUpdate&&$.onUpdate($)}Y.__version=$.version}function Me(Y,$,re){if($.image.length!==6)return;const pe=Ie(Y,$),ke=$.source;n.bindTexture(t.TEXTURE_CUBE_MAP,Y.__webglTexture,t.TEXTURE0+re);const Ce=r.get(ke);if(ke.version!==Ce.__version||pe===!0){n.activeTexture(t.TEXTURE0+re);const tt=wn.getPrimaries(wn.workingColorSpace),Qe=$.colorSpace===Yl?null:wn.getPrimaries($.colorSpace),St=$.colorSpace===Yl||tt===Qe?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,$.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,$.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,$.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,St);const Mt=$.isCompressedTexture||$.image[0].isCompressedTexture,We=$.image[0]&&$.image[0].isDataTexture,dt=[];for(let Ue=0;Ue<6;Ue++)!Mt&&!We?dt[Ue]=S($.image[Ue],!0,i.maxCubemapSize):dt[Ue]=We?$.image[Ue].image:$.image[Ue],dt[Ue]=ot($,dt[Ue]);const Pt=dt[0],Lt=o.convert($.format,$.colorSpace),pt=o.convert($.type),ue=T($.internalFormat,Lt,pt,$.colorSpace),Ne=$.isVideoTexture!==!0,st=Ce.__version===void 0||pe===!0,ce=ke.dataReady;let Ze=P($,Pt);le(t.TEXTURE_CUBE_MAP,$);let Re;if(Mt){Ne&&st&&n.texStorage2D(t.TEXTURE_CUBE_MAP,Ze,ue,Pt.width,Pt.height);for(let Ue=0;Ue<6;Ue++){Re=dt[Ue].mipmaps;for(let mt=0;mt<Re.length;mt++){const lt=Re[mt];$.format!==Wi?Lt!==null?Ne?ce&&n.compressedTexSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ue,mt,0,0,lt.width,lt.height,Lt,lt.data):n.compressedTexImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ue,mt,ue,lt.width,lt.height,0,lt.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):Ne?ce&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ue,mt,0,0,lt.width,lt.height,Lt,pt,lt.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ue,mt,ue,lt.width,lt.height,0,Lt,pt,lt.data)}}}else{if(Re=$.mipmaps,Ne&&st){Re.length>0&&Ze++;const Ue=Be(dt[0]);n.texStorage2D(t.TEXTURE_CUBE_MAP,Ze,ue,Ue.width,Ue.height)}for(let Ue=0;Ue<6;Ue++)if(We){Ne?ce&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ue,0,0,0,dt[Ue].width,dt[Ue].height,Lt,pt,dt[Ue].data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ue,0,ue,dt[Ue].width,dt[Ue].height,0,Lt,pt,dt[Ue].data);for(let mt=0;mt<Re.length;mt++){const Nt=Re[mt].image[Ue].image;Ne?ce&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ue,mt+1,0,0,Nt.width,Nt.height,Lt,pt,Nt.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ue,mt+1,ue,Nt.width,Nt.height,0,Lt,pt,Nt.data)}}else{Ne?ce&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ue,0,0,0,Lt,pt,dt[Ue]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ue,0,ue,Lt,pt,dt[Ue]);for(let mt=0;mt<Re.length;mt++){const lt=Re[mt];Ne?ce&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ue,mt+1,0,0,Lt,pt,lt.image[Ue]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ue,mt+1,ue,Lt,pt,lt.image[Ue])}}}_($)&&b(t.TEXTURE_CUBE_MAP),Ce.__version=ke.version,$.onUpdate&&$.onUpdate($)}Y.__version=$.version}function De(Y,$,re,pe,ke,Ce){const tt=o.convert(re.format,re.colorSpace),Qe=o.convert(re.type),St=T(re.internalFormat,tt,Qe,re.colorSpace),Mt=r.get($),We=r.get(re);if(We.__renderTarget=$,!Mt.__hasExternalTextures){const dt=Math.max(1,$.width>>Ce),Pt=Math.max(1,$.height>>Ce);ke===t.TEXTURE_3D||ke===t.TEXTURE_2D_ARRAY?n.texImage3D(ke,Ce,St,dt,Pt,$.depth,0,tt,Qe,null):n.texImage2D(ke,Ce,St,dt,Pt,0,tt,Qe,null)}n.bindFramebuffer(t.FRAMEBUFFER,Y),He($)?a.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,pe,ke,We.__webglTexture,0,Ve($)):(ke===t.TEXTURE_2D||ke>=t.TEXTURE_CUBE_MAP_POSITIVE_X&&ke<=t.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&t.framebufferTexture2D(t.FRAMEBUFFER,pe,ke,We.__webglTexture,Ce),n.bindFramebuffer(t.FRAMEBUFFER,null)}function Le(Y,$,re){if(t.bindRenderbuffer(t.RENDERBUFFER,Y),$.depthBuffer){const pe=$.depthTexture,ke=pe&&pe.isDepthTexture?pe.type:null,Ce=A($.stencilBuffer,ke),tt=$.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,Qe=Ve($);He($)?a.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,Qe,Ce,$.width,$.height):re?t.renderbufferStorageMultisample(t.RENDERBUFFER,Qe,Ce,$.width,$.height):t.renderbufferStorage(t.RENDERBUFFER,Ce,$.width,$.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,tt,t.RENDERBUFFER,Y)}else{const pe=$.textures;for(let ke=0;ke<pe.length;ke++){const Ce=pe[ke],tt=o.convert(Ce.format,Ce.colorSpace),Qe=o.convert(Ce.type),St=T(Ce.internalFormat,tt,Qe,Ce.colorSpace),Mt=Ve($);re&&He($)===!1?t.renderbufferStorageMultisample(t.RENDERBUFFER,Mt,St,$.width,$.height):He($)?a.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,Mt,St,$.width,$.height):t.renderbufferStorage(t.RENDERBUFFER,St,$.width,$.height)}}t.bindRenderbuffer(t.RENDERBUFFER,null)}function ge(Y,$){if($&&$.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(t.FRAMEBUFFER,Y),!($.depthTexture&&$.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");const pe=r.get($.depthTexture);pe.__renderTarget=$,(!pe.__webglTexture||$.depthTexture.image.width!==$.width||$.depthTexture.image.height!==$.height)&&($.depthTexture.image.width=$.width,$.depthTexture.image.height=$.height,$.depthTexture.needsUpdate=!0),K($.depthTexture,0);const ke=pe.__webglTexture,Ce=Ve($);if($.depthTexture.format===Ep)He($)?a.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,ke,0,Ce):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,ke,0);else if($.depthTexture.format===Cp)He($)?a.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,ke,0,Ce):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,ke,0);else throw new Error("Unknown depthTexture format")}function be(Y){const $=r.get(Y),re=Y.isWebGLCubeRenderTarget===!0;if($.__boundDepthTexture!==Y.depthTexture){const pe=Y.depthTexture;if($.__depthDisposeCallback&&$.__depthDisposeCallback(),pe){const ke=()=>{delete $.__boundDepthTexture,delete $.__depthDisposeCallback,pe.removeEventListener("dispose",ke)};pe.addEventListener("dispose",ke),$.__depthDisposeCallback=ke}$.__boundDepthTexture=pe}if(Y.depthTexture&&!$.__autoAllocateDepthBuffer){if(re)throw new Error("target.depthTexture not supported in Cube render targets");const pe=Y.texture.mipmaps;pe&&pe.length>0?ge($.__webglFramebuffer[0],Y):ge($.__webglFramebuffer,Y)}else if(re){$.__webglDepthbuffer=[];for(let pe=0;pe<6;pe++)if(n.bindFramebuffer(t.FRAMEBUFFER,$.__webglFramebuffer[pe]),$.__webglDepthbuffer[pe]===void 0)$.__webglDepthbuffer[pe]=t.createRenderbuffer(),Le($.__webglDepthbuffer[pe],Y,!1);else{const ke=Y.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,Ce=$.__webglDepthbuffer[pe];t.bindRenderbuffer(t.RENDERBUFFER,Ce),t.framebufferRenderbuffer(t.FRAMEBUFFER,ke,t.RENDERBUFFER,Ce)}}else{const pe=Y.texture.mipmaps;if(pe&&pe.length>0?n.bindFramebuffer(t.FRAMEBUFFER,$.__webglFramebuffer[0]):n.bindFramebuffer(t.FRAMEBUFFER,$.__webglFramebuffer),$.__webglDepthbuffer===void 0)$.__webglDepthbuffer=t.createRenderbuffer(),Le($.__webglDepthbuffer,Y,!1);else{const ke=Y.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,Ce=$.__webglDepthbuffer;t.bindRenderbuffer(t.RENDERBUFFER,Ce),t.framebufferRenderbuffer(t.FRAMEBUFFER,ke,t.RENDERBUFFER,Ce)}}n.bindFramebuffer(t.FRAMEBUFFER,null)}function Fe(Y,$,re){const pe=r.get(Y);$!==void 0&&De(pe.__webglFramebuffer,Y,Y.texture,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,0),re!==void 0&&be(Y)}function Ye(Y){const $=Y.texture,re=r.get(Y),pe=r.get($);Y.addEventListener("dispose",k);const ke=Y.textures,Ce=Y.isWebGLCubeRenderTarget===!0,tt=ke.length>1;if(tt||(pe.__webglTexture===void 0&&(pe.__webglTexture=t.createTexture()),pe.__version=$.version,s.memory.textures++),Ce){re.__webglFramebuffer=[];for(let Qe=0;Qe<6;Qe++)if($.mipmaps&&$.mipmaps.length>0){re.__webglFramebuffer[Qe]=[];for(let St=0;St<$.mipmaps.length;St++)re.__webglFramebuffer[Qe][St]=t.createFramebuffer()}else re.__webglFramebuffer[Qe]=t.createFramebuffer()}else{if($.mipmaps&&$.mipmaps.length>0){re.__webglFramebuffer=[];for(let Qe=0;Qe<$.mipmaps.length;Qe++)re.__webglFramebuffer[Qe]=t.createFramebuffer()}else re.__webglFramebuffer=t.createFramebuffer();if(tt)for(let Qe=0,St=ke.length;Qe<St;Qe++){const Mt=r.get(ke[Qe]);Mt.__webglTexture===void 0&&(Mt.__webglTexture=t.createTexture(),s.memory.textures++)}if(Y.samples>0&&He(Y)===!1){re.__webglMultisampledFramebuffer=t.createFramebuffer(),re.__webglColorRenderbuffer=[],n.bindFramebuffer(t.FRAMEBUFFER,re.__webglMultisampledFramebuffer);for(let Qe=0;Qe<ke.length;Qe++){const St=ke[Qe];re.__webglColorRenderbuffer[Qe]=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,re.__webglColorRenderbuffer[Qe]);const Mt=o.convert(St.format,St.colorSpace),We=o.convert(St.type),dt=T(St.internalFormat,Mt,We,St.colorSpace,Y.isXRRenderTarget===!0),Pt=Ve(Y);t.renderbufferStorageMultisample(t.RENDERBUFFER,Pt,dt,Y.width,Y.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+Qe,t.RENDERBUFFER,re.__webglColorRenderbuffer[Qe])}t.bindRenderbuffer(t.RENDERBUFFER,null),Y.depthBuffer&&(re.__webglDepthRenderbuffer=t.createRenderbuffer(),Le(re.__webglDepthRenderbuffer,Y,!0)),n.bindFramebuffer(t.FRAMEBUFFER,null)}}if(Ce){n.bindTexture(t.TEXTURE_CUBE_MAP,pe.__webglTexture),le(t.TEXTURE_CUBE_MAP,$);for(let Qe=0;Qe<6;Qe++)if($.mipmaps&&$.mipmaps.length>0)for(let St=0;St<$.mipmaps.length;St++)De(re.__webglFramebuffer[Qe][St],Y,$,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+Qe,St);else De(re.__webglFramebuffer[Qe],Y,$,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+Qe,0);_($)&&b(t.TEXTURE_CUBE_MAP),n.unbindTexture()}else if(tt){for(let Qe=0,St=ke.length;Qe<St;Qe++){const Mt=ke[Qe],We=r.get(Mt);n.bindTexture(t.TEXTURE_2D,We.__webglTexture),le(t.TEXTURE_2D,Mt),De(re.__webglFramebuffer,Y,Mt,t.COLOR_ATTACHMENT0+Qe,t.TEXTURE_2D,0),_(Mt)&&b(t.TEXTURE_2D)}n.unbindTexture()}else{let Qe=t.TEXTURE_2D;if((Y.isWebGL3DRenderTarget||Y.isWebGLArrayRenderTarget)&&(Qe=Y.isWebGL3DRenderTarget?t.TEXTURE_3D:t.TEXTURE_2D_ARRAY),n.bindTexture(Qe,pe.__webglTexture),le(Qe,$),$.mipmaps&&$.mipmaps.length>0)for(let St=0;St<$.mipmaps.length;St++)De(re.__webglFramebuffer[St],Y,$,t.COLOR_ATTACHMENT0,Qe,St);else De(re.__webglFramebuffer,Y,$,t.COLOR_ATTACHMENT0,Qe,0);_($)&&b(Qe),n.unbindTexture()}Y.depthBuffer&&be(Y)}function at(Y){const $=Y.textures;for(let re=0,pe=$.length;re<pe;re++){const ke=$[re];if(_(ke)){const Ce=C(Y),tt=r.get(ke).__webglTexture;n.bindTexture(Ce,tt),b(Ce),n.unbindTexture()}}}const Ge=[],q=[];function Xe(Y){if(Y.samples>0){if(He(Y)===!1){const $=Y.textures,re=Y.width,pe=Y.height;let ke=t.COLOR_BUFFER_BIT;const Ce=Y.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,tt=r.get(Y),Qe=$.length>1;if(Qe)for(let Mt=0;Mt<$.length;Mt++)n.bindFramebuffer(t.FRAMEBUFFER,tt.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+Mt,t.RENDERBUFFER,null),n.bindFramebuffer(t.FRAMEBUFFER,tt.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+Mt,t.TEXTURE_2D,null,0);n.bindFramebuffer(t.READ_FRAMEBUFFER,tt.__webglMultisampledFramebuffer);const St=Y.texture.mipmaps;St&&St.length>0?n.bindFramebuffer(t.DRAW_FRAMEBUFFER,tt.__webglFramebuffer[0]):n.bindFramebuffer(t.DRAW_FRAMEBUFFER,tt.__webglFramebuffer);for(let Mt=0;Mt<$.length;Mt++){if(Y.resolveDepthBuffer&&(Y.depthBuffer&&(ke|=t.DEPTH_BUFFER_BIT),Y.stencilBuffer&&Y.resolveStencilBuffer&&(ke|=t.STENCIL_BUFFER_BIT)),Qe){t.framebufferRenderbuffer(t.READ_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.RENDERBUFFER,tt.__webglColorRenderbuffer[Mt]);const We=r.get($[Mt]).__webglTexture;t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,We,0)}t.blitFramebuffer(0,0,re,pe,0,0,re,pe,ke,t.NEAREST),c===!0&&(Ge.length=0,q.length=0,Ge.push(t.COLOR_ATTACHMENT0+Mt),Y.depthBuffer&&Y.resolveDepthBuffer===!1&&(Ge.push(Ce),q.push(Ce),t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,q)),t.invalidateFramebuffer(t.READ_FRAMEBUFFER,Ge))}if(n.bindFramebuffer(t.READ_FRAMEBUFFER,null),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),Qe)for(let Mt=0;Mt<$.length;Mt++){n.bindFramebuffer(t.FRAMEBUFFER,tt.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+Mt,t.RENDERBUFFER,tt.__webglColorRenderbuffer[Mt]);const We=r.get($[Mt]).__webglTexture;n.bindFramebuffer(t.FRAMEBUFFER,tt.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+Mt,t.TEXTURE_2D,We,0)}n.bindFramebuffer(t.DRAW_FRAMEBUFFER,tt.__webglMultisampledFramebuffer)}else if(Y.depthBuffer&&Y.resolveDepthBuffer===!1&&c){const $=Y.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT;t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,[$])}}}function Ve(Y){return Math.min(i.maxSamples,Y.samples)}function He(Y){const $=r.get(Y);return Y.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&$.__useRenderToTexture!==!1}function ze(Y){const $=s.render.frame;f.get(Y)!==$&&(f.set(Y,$),Y.update())}function ot(Y,$){const re=Y.colorSpace,pe=Y.format,ke=Y.type;return Y.isCompressedTexture===!0||Y.isVideoTexture===!0||re!==pa&&re!==Yl&&(wn.getTransfer(re)===Fn?(pe!==Wi||ke!==ks)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",re)),$}function Be(Y){return typeof HTMLImageElement<"u"&&Y instanceof HTMLImageElement?(d.width=Y.naturalWidth||Y.width,d.height=Y.naturalHeight||Y.height):typeof VideoFrame<"u"&&Y instanceof VideoFrame?(d.width=Y.displayWidth,d.height=Y.displayHeight):(d.width=Y.width,d.height=Y.height),d}this.allocateTextureUnit=X,this.resetTextureUnits=j,this.setTexture2D=K,this.setTexture2DArray=ne,this.setTexture3D=se,this.setTextureCube=V,this.rebindTextures=Fe,this.setupRenderTarget=Ye,this.updateRenderTargetMipmap=at,this.updateMultisampleRenderTarget=Xe,this.setupDepthRenderbuffer=be,this.setupFrameBufferTexture=De,this.useMultisampledRTT=He}function $z(t,e){function n(r,i=Yl){let o;const s=wn.getTransfer(i);if(r===ks)return t.UNSIGNED_BYTE;if(r===wb)return t.UNSIGNED_SHORT_4_4_4_4;if(r===Eb)return t.UNSIGNED_SHORT_5_5_5_1;if(r===gM)return t.UNSIGNED_INT_5_9_9_9_REV;if(r===pM)return t.BYTE;if(r===mM)return t.SHORT;if(r===Sp)return t.UNSIGNED_SHORT;if(r===Sb)return t.INT;if(r===hc)return t.UNSIGNED_INT;if(r===Fo)return t.FLOAT;if(r===Hp)return t.HALF_FLOAT;if(r===vM)return t.ALPHA;if(r===yM)return t.RGB;if(r===Wi)return t.RGBA;if(r===Ep)return t.DEPTH_COMPONENT;if(r===Cp)return t.DEPTH_STENCIL;if(r===Cb)return t.RED;if(r===Lv)return t.RED_INTEGER;if(r===xM)return t.RG;if(r===Mb)return t.RG_INTEGER;if(r===Tb)return t.RGBA_INTEGER;if(r===Dg||r===Fg||r===zg||r===Ug)if(s===Fn)if(o=e.get("WEBGL_compressed_texture_s3tc_srgb"),o!==null){if(r===Dg)return o.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(r===Fg)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(r===zg)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(r===Ug)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(o=e.get("WEBGL_compressed_texture_s3tc"),o!==null){if(r===Dg)return o.COMPRESSED_RGB_S3TC_DXT1_EXT;if(r===Fg)return o.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(r===zg)return o.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(r===Ug)return o.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(r===t1||r===n1||r===r1||r===i1)if(o=e.get("WEBGL_compressed_texture_pvrtc"),o!==null){if(r===t1)return o.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(r===n1)return o.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(r===r1)return o.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(r===i1)return o.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(r===o1||r===s1||r===a1)if(o=e.get("WEBGL_compressed_texture_etc"),o!==null){if(r===o1||r===s1)return s===Fn?o.COMPRESSED_SRGB8_ETC2:o.COMPRESSED_RGB8_ETC2;if(r===a1)return s===Fn?o.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:o.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(r===l1||r===c1||r===u1||r===d1||r===f1||r===h1||r===p1||r===m1||r===g1||r===v1||r===y1||r===x1||r===b1||r===_1)if(o=e.get("WEBGL_compressed_texture_astc"),o!==null){if(r===l1)return s===Fn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:o.COMPRESSED_RGBA_ASTC_4x4_KHR;if(r===c1)return s===Fn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:o.COMPRESSED_RGBA_ASTC_5x4_KHR;if(r===u1)return s===Fn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:o.COMPRESSED_RGBA_ASTC_5x5_KHR;if(r===d1)return s===Fn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:o.COMPRESSED_RGBA_ASTC_6x5_KHR;if(r===f1)return s===Fn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:o.COMPRESSED_RGBA_ASTC_6x6_KHR;if(r===h1)return s===Fn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:o.COMPRESSED_RGBA_ASTC_8x5_KHR;if(r===p1)return s===Fn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:o.COMPRESSED_RGBA_ASTC_8x6_KHR;if(r===m1)return s===Fn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:o.COMPRESSED_RGBA_ASTC_8x8_KHR;if(r===g1)return s===Fn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:o.COMPRESSED_RGBA_ASTC_10x5_KHR;if(r===v1)return s===Fn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:o.COMPRESSED_RGBA_ASTC_10x6_KHR;if(r===y1)return s===Fn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:o.COMPRESSED_RGBA_ASTC_10x8_KHR;if(r===x1)return s===Fn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:o.COMPRESSED_RGBA_ASTC_10x10_KHR;if(r===b1)return s===Fn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:o.COMPRESSED_RGBA_ASTC_12x10_KHR;if(r===_1)return s===Fn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:o.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(r===Bg||r===S1||r===w1)if(o=e.get("EXT_texture_compression_bptc"),o!==null){if(r===Bg)return s===Fn?o.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:o.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(r===S1)return o.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(r===w1)return o.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(r===bM||r===E1||r===C1||r===M1)if(o=e.get("EXT_texture_compression_rgtc"),o!==null){if(r===Bg)return o.COMPRESSED_RED_RGTC1_EXT;if(r===E1)return o.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(r===C1)return o.COMPRESSED_RED_GREEN_RGTC2_EXT;if(r===M1)return o.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return r===wp?t.UNSIGNED_INT_24_8:t[r]!==void 0?t[r]:null}return{convert:n}}const Kne=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,Zne=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class Jne{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,n,r){if(this.texture===null){const i=new _r,o=e.properties.get(i);o.__webglTexture=n.texture,(n.depthNear!==r.depthNear||n.depthFar!==r.depthFar)&&(this.depthNear=n.depthNear,this.depthFar=n.depthFar),this.texture=i}}getMesh(e){if(this.texture!==null&&this.mesh===null){const n=e.cameras[0].viewport,r=new Os({vertexShader:Kne,fragmentShader:Zne,uniforms:{depthColor:{value:this.texture},depthWidth:{value:n.z},depthHeight:{value:n.w}}});this.mesh=new ar(new Gp(20,20),r)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class Qne extends rl{constructor(e,n){super();const r=this;let i=null,o=1,s=null,a="local-floor",c=1,d=null,f=null,m=null,g=null,y=null,x=null;const S=new Jne,_=n.getContextAttributes();let b=null,C=null;const T=[],A=[],P=new $e;let R=null;const k=new yr;k.viewport=new Mn;const z=new yr;z.viewport=new Mn;const L=[k,z],O=new Iz;let B=null,j=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(fe){let Me=T[fe];return Me===void 0&&(Me=new Mx,T[fe]=Me),Me.getTargetRaySpace()},this.getControllerGrip=function(fe){let Me=T[fe];return Me===void 0&&(Me=new Mx,T[fe]=Me),Me.getGripSpace()},this.getHand=function(fe){let Me=T[fe];return Me===void 0&&(Me=new Mx,T[fe]=Me),Me.getHandSpace()};function X(fe){const Me=A.indexOf(fe.inputSource);if(Me===-1)return;const De=T[Me];De!==void 0&&(De.update(fe.inputSource,fe.frame,d||s),De.dispatchEvent({type:fe.type,data:fe.inputSource}))}function ee(){i.removeEventListener("select",X),i.removeEventListener("selectstart",X),i.removeEventListener("selectend",X),i.removeEventListener("squeeze",X),i.removeEventListener("squeezestart",X),i.removeEventListener("squeezeend",X),i.removeEventListener("end",ee),i.removeEventListener("inputsourceschange",K);for(let fe=0;fe<T.length;fe++){const Me=A[fe];Me!==null&&(A[fe]=null,T[fe].disconnect(Me))}B=null,j=null,S.reset(),e.setRenderTarget(b),y=null,g=null,m=null,i=null,C=null,Ie.stop(),r.isPresenting=!1,e.setPixelRatio(R),e.setSize(P.width,P.height,!1),r.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(fe){o=fe,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(fe){a=fe,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return d||s},this.setReferenceSpace=function(fe){d=fe},this.getBaseLayer=function(){return g!==null?g:y},this.getBinding=function(){return m},this.getFrame=function(){return x},this.getSession=function(){return i},this.setSession=async function(fe){if(i=fe,i!==null){if(b=e.getRenderTarget(),i.addEventListener("select",X),i.addEventListener("selectstart",X),i.addEventListener("selectend",X),i.addEventListener("squeeze",X),i.addEventListener("squeezestart",X),i.addEventListener("squeezeend",X),i.addEventListener("end",ee),i.addEventListener("inputsourceschange",K),_.xrCompatible!==!0&&await n.makeXRCompatible(),R=e.getPixelRatio(),e.getSize(P),typeof XRWebGLBinding<"u"&&"createProjectionLayer"in XRWebGLBinding.prototype){let De=null,Le=null,ge=null;_.depth&&(ge=_.stencil?n.DEPTH24_STENCIL8:n.DEPTH_COMPONENT24,De=_.stencil?Cp:Ep,Le=_.stencil?wp:hc);const be={colorFormat:n.RGBA8,depthFormat:ge,scaleFactor:o};m=new XRWebGLBinding(i,n),g=m.createProjectionLayer(be),i.updateRenderState({layers:[g]}),e.setPixelRatio(1),e.setSize(g.textureWidth,g.textureHeight,!1),C=new Za(g.textureWidth,g.textureHeight,{format:Wi,type:ks,depthTexture:new Fb(g.textureWidth,g.textureHeight,Le,void 0,void 0,void 0,void 0,void 0,void 0,De),stencilBuffer:_.stencil,colorSpace:e.outputColorSpace,samples:_.antialias?4:0,resolveDepthBuffer:g.ignoreDepthValues===!1,resolveStencilBuffer:g.ignoreDepthValues===!1})}else{const De={antialias:_.antialias,alpha:!0,depth:_.depth,stencil:_.stencil,framebufferScaleFactor:o};y=new XRWebGLLayer(i,n,De),i.updateRenderState({baseLayer:y}),e.setPixelRatio(1),e.setSize(y.framebufferWidth,y.framebufferHeight,!1),C=new Za(y.framebufferWidth,y.framebufferHeight,{format:Wi,type:ks,colorSpace:e.outputColorSpace,stencilBuffer:_.stencil,resolveDepthBuffer:y.ignoreDepthValues===!1,resolveStencilBuffer:y.ignoreDepthValues===!1})}C.isXRRenderTarget=!0,this.setFoveation(c),d=null,s=await i.requestReferenceSpace(a),Ie.setContext(i),Ie.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(i!==null)return i.environmentBlendMode},this.getDepthTexture=function(){return S.getDepthTexture()};function K(fe){for(let Me=0;Me<fe.removed.length;Me++){const De=fe.removed[Me],Le=A.indexOf(De);Le>=0&&(A[Le]=null,T[Le].disconnect(De))}for(let Me=0;Me<fe.added.length;Me++){const De=fe.added[Me];let Le=A.indexOf(De);if(Le===-1){for(let be=0;be<T.length;be++)if(be>=A.length){A.push(De),Le=be;break}else if(A[be]===null){A[be]=De,Le=be;break}if(Le===-1)break}const ge=T[Le];ge&&ge.connect(De)}}const ne=new J,se=new J;function V(fe,Me,De){ne.setFromMatrixPosition(Me.matrixWorld),se.setFromMatrixPosition(De.matrixWorld);const Le=ne.distanceTo(se),ge=Me.projectionMatrix.elements,be=De.projectionMatrix.elements,Fe=ge[14]/(ge[10]-1),Ye=ge[14]/(ge[10]+1),at=(ge[9]+1)/ge[5],Ge=(ge[9]-1)/ge[5],q=(ge[8]-1)/ge[0],Xe=(be[8]+1)/be[0],Ve=Fe*q,He=Fe*Xe,ze=Le/(-q+Xe),ot=ze*-q;if(Me.matrixWorld.decompose(fe.position,fe.quaternion,fe.scale),fe.translateX(ot),fe.translateZ(ze),fe.matrixWorld.compose(fe.position,fe.quaternion,fe.scale),fe.matrixWorldInverse.copy(fe.matrixWorld).invert(),ge[10]===-1)fe.projectionMatrix.copy(Me.projectionMatrix),fe.projectionMatrixInverse.copy(Me.projectionMatrixInverse);else{const Be=Fe+ze,Y=Ye+ze,$=Ve-ot,re=He+(Le-ot),pe=at*Ye/Y*Be,ke=Ge*Ye/Y*Be;fe.projectionMatrix.makePerspective($,re,pe,ke,Be,Y),fe.projectionMatrixInverse.copy(fe.projectionMatrix).invert()}}function Q(fe,Me){Me===null?fe.matrixWorld.copy(fe.matrix):fe.matrixWorld.multiplyMatrices(Me.matrixWorld,fe.matrix),fe.matrixWorldInverse.copy(fe.matrixWorld).invert()}this.updateCamera=function(fe){if(i===null)return;let Me=fe.near,De=fe.far;S.texture!==null&&(S.depthNear>0&&(Me=S.depthNear),S.depthFar>0&&(De=S.depthFar)),O.near=z.near=k.near=Me,O.far=z.far=k.far=De,(B!==O.near||j!==O.far)&&(i.updateRenderState({depthNear:O.near,depthFar:O.far}),B=O.near,j=O.far),k.layers.mask=fe.layers.mask|2,z.layers.mask=fe.layers.mask|4,O.layers.mask=k.layers.mask|z.layers.mask;const Le=fe.parent,ge=O.cameras;Q(O,Le);for(let be=0;be<ge.length;be++)Q(ge[be],Le);ge.length===2?V(O,k,z):O.projectionMatrix.copy(k.projectionMatrix),Z(fe,O,Le)};function Z(fe,Me,De){De===null?fe.matrix.copy(Me.matrixWorld):(fe.matrix.copy(De.matrixWorld),fe.matrix.invert(),fe.matrix.multiply(Me.matrixWorld)),fe.matrix.decompose(fe.position,fe.quaternion,fe.scale),fe.updateMatrixWorld(!0),fe.projectionMatrix.copy(Me.projectionMatrix),fe.projectionMatrixInverse.copy(Me.projectionMatrixInverse),fe.isPerspectiveCamera&&(fe.fov=Mp*2*Math.atan(1/fe.projectionMatrix.elements[5]),fe.zoom=1)}this.getCamera=function(){return O},this.getFoveation=function(){if(!(g===null&&y===null))return c},this.setFoveation=function(fe){c=fe,g!==null&&(g.fixedFoveation=fe),y!==null&&y.fixedFoveation!==void 0&&(y.fixedFoveation=fe)},this.hasDepthSensing=function(){return S.texture!==null},this.getDepthSensingMesh=function(){return S.getMesh(O)};let W=null;function le(fe,Me){if(f=Me.getViewerPose(d||s),x=Me,f!==null){const De=f.views;y!==null&&(e.setRenderTargetFramebuffer(C,y.framebuffer),e.setRenderTarget(C));let Le=!1;De.length!==O.cameras.length&&(O.cameras.length=0,Le=!0);for(let Fe=0;Fe<De.length;Fe++){const Ye=De[Fe];let at=null;if(y!==null)at=y.getViewport(Ye);else{const q=m.getViewSubImage(g,Ye);at=q.viewport,Fe===0&&(e.setRenderTargetTextures(C,q.colorTexture,q.depthStencilTexture),e.setRenderTarget(C))}let Ge=L[Fe];Ge===void 0&&(Ge=new yr,Ge.layers.enable(Fe),Ge.viewport=new Mn,L[Fe]=Ge),Ge.matrix.fromArray(Ye.transform.matrix),Ge.matrix.decompose(Ge.position,Ge.quaternion,Ge.scale),Ge.projectionMatrix.fromArray(Ye.projectionMatrix),Ge.projectionMatrixInverse.copy(Ge.projectionMatrix).invert(),Ge.viewport.set(at.x,at.y,at.width,at.height),Fe===0&&(O.matrix.copy(Ge.matrix),O.matrix.decompose(O.position,O.quaternion,O.scale)),Le===!0&&O.cameras.push(Ge)}const ge=i.enabledFeatures;if(ge&&ge.includes("depth-sensing")&&i.depthUsage=="gpu-optimized"&&m){const Fe=m.getDepthInformation(De[0]);Fe&&Fe.isValid&&Fe.texture&&S.init(e,Fe,i.renderState)}}for(let De=0;De<T.length;De++){const Le=A[De],ge=T[De];Le!==null&&ge!==void 0&&ge.update(Le,Me,d||s)}W&&W(fe,Me),Me.detectedPlanes&&r.dispatchEvent({type:"planesdetected",data:Me}),x=null}const Ie=new Fz;Ie.setAnimationLoop(le),this.setAnimationLoop=function(fe){W=fe},this.dispose=function(){}}}const Id=new ss,ere=new Ht;function tre(t,e){function n(_,b){_.matrixAutoUpdate===!0&&_.updateMatrix(),b.value.copy(_.matrix)}function r(_,b){b.color.getRGB(_.fogColor.value,UF(t)),b.isFog?(_.fogNear.value=b.near,_.fogFar.value=b.far):b.isFogExp2&&(_.fogDensity.value=b.density)}function i(_,b,C,T,A){b.isMeshBasicMaterial||b.isMeshLambertMaterial?o(_,b):b.isMeshToonMaterial?(o(_,b),m(_,b)):b.isMeshPhongMaterial?(o(_,b),f(_,b)):b.isMeshStandardMaterial?(o(_,b),g(_,b),b.isMeshPhysicalMaterial&&y(_,b,A)):b.isMeshMatcapMaterial?(o(_,b),x(_,b)):b.isMeshDepthMaterial?o(_,b):b.isMeshDistanceMaterial?(o(_,b),S(_,b)):b.isMeshNormalMaterial?o(_,b):b.isLineBasicMaterial?(s(_,b),b.isLineDashedMaterial&&a(_,b)):b.isPointsMaterial?c(_,b,C,T):b.isSpriteMaterial?d(_,b):b.isShadowMaterial?(_.color.value.copy(b.color),_.opacity.value=b.opacity):b.isShaderMaterial&&(b.uniformsNeedUpdate=!1)}function o(_,b){_.opacity.value=b.opacity,b.color&&_.diffuse.value.copy(b.color),b.emissive&&_.emissive.value.copy(b.emissive).multiplyScalar(b.emissiveIntensity),b.map&&(_.map.value=b.map,n(b.map,_.mapTransform)),b.alphaMap&&(_.alphaMap.value=b.alphaMap,n(b.alphaMap,_.alphaMapTransform)),b.bumpMap&&(_.bumpMap.value=b.bumpMap,n(b.bumpMap,_.bumpMapTransform),_.bumpScale.value=b.bumpScale,b.side===mo&&(_.bumpScale.value*=-1)),b.normalMap&&(_.normalMap.value=b.normalMap,n(b.normalMap,_.normalMapTransform),_.normalScale.value.copy(b.normalScale),b.side===mo&&_.normalScale.value.negate()),b.displacementMap&&(_.displacementMap.value=b.displacementMap,n(b.displacementMap,_.displacementMapTransform),_.displacementScale.value=b.displacementScale,_.displacementBias.value=b.displacementBias),b.emissiveMap&&(_.emissiveMap.value=b.emissiveMap,n(b.emissiveMap,_.emissiveMapTransform)),b.specularMap&&(_.specularMap.value=b.specularMap,n(b.specularMap,_.specularMapTransform)),b.alphaTest>0&&(_.alphaTest.value=b.alphaTest);const C=e.get(b),T=C.envMap,A=C.envMapRotation;T&&(_.envMap.value=T,Id.copy(A),Id.x*=-1,Id.y*=-1,Id.z*=-1,T.isCubeTexture&&T.isRenderTargetTexture===!1&&(Id.y*=-1,Id.z*=-1),_.envMapRotation.value.setFromMatrix4(ere.makeRotationFromEuler(Id)),_.flipEnvMap.value=T.isCubeTexture&&T.isRenderTargetTexture===!1?-1:1,_.reflectivity.value=b.reflectivity,_.ior.value=b.ior,_.refractionRatio.value=b.refractionRatio),b.lightMap&&(_.lightMap.value=b.lightMap,_.lightMapIntensity.value=b.lightMapIntensity,n(b.lightMap,_.lightMapTransform)),b.aoMap&&(_.aoMap.value=b.aoMap,_.aoMapIntensity.value=b.aoMapIntensity,n(b.aoMap,_.aoMapTransform))}function s(_,b){_.diffuse.value.copy(b.color),_.opacity.value=b.opacity,b.map&&(_.map.value=b.map,n(b.map,_.mapTransform))}function a(_,b){_.dashSize.value=b.dashSize,_.totalSize.value=b.dashSize+b.gapSize,_.scale.value=b.scale}function c(_,b,C,T){_.diffuse.value.copy(b.color),_.opacity.value=b.opacity,_.size.value=b.size*C,_.scale.value=T*.5,b.map&&(_.map.value=b.map,n(b.map,_.uvTransform)),b.alphaMap&&(_.alphaMap.value=b.alphaMap,n(b.alphaMap,_.alphaMapTransform)),b.alphaTest>0&&(_.alphaTest.value=b.alphaTest)}function d(_,b){_.diffuse.value.copy(b.color),_.opacity.value=b.opacity,_.rotation.value=b.rotation,b.map&&(_.map.value=b.map,n(b.map,_.mapTransform)),b.alphaMap&&(_.alphaMap.value=b.alphaMap,n(b.alphaMap,_.alphaMapTransform)),b.alphaTest>0&&(_.alphaTest.value=b.alphaTest)}function f(_,b){_.specular.value.copy(b.specular),_.shininess.value=Math.max(b.shininess,1e-4)}function m(_,b){b.gradientMap&&(_.gradientMap.value=b.gradientMap)}function g(_,b){_.metalness.value=b.metalness,b.metalnessMap&&(_.metalnessMap.value=b.metalnessMap,n(b.metalnessMap,_.metalnessMapTransform)),_.roughness.value=b.roughness,b.roughnessMap&&(_.roughnessMap.value=b.roughnessMap,n(b.roughnessMap,_.roughnessMapTransform)),b.envMap&&(_.envMapIntensity.value=b.envMapIntensity)}function y(_,b,C){_.ior.value=b.ior,b.sheen>0&&(_.sheenColor.value.copy(b.sheenColor).multiplyScalar(b.sheen),_.sheenRoughness.value=b.sheenRoughness,b.sheenColorMap&&(_.sheenColorMap.value=b.sheenColorMap,n(b.sheenColorMap,_.sheenColorMapTransform)),b.sheenRoughnessMap&&(_.sheenRoughnessMap.value=b.sheenRoughnessMap,n(b.sheenRoughnessMap,_.sheenRoughnessMapTransform))),b.clearcoat>0&&(_.clearcoat.value=b.clearcoat,_.clearcoatRoughness.value=b.clearcoatRoughness,b.clearcoatMap&&(_.clearcoatMap.value=b.clearcoatMap,n(b.clearcoatMap,_.clearcoatMapTransform)),b.clearcoatRoughnessMap&&(_.clearcoatRoughnessMap.value=b.clearcoatRoughnessMap,n(b.clearcoatRoughnessMap,_.clearcoatRoughnessMapTransform)),b.clearcoatNormalMap&&(_.clearcoatNormalMap.value=b.clearcoatNormalMap,n(b.clearcoatNormalMap,_.clearcoatNormalMapTransform),_.clearcoatNormalScale.value.copy(b.clearcoatNormalScale),b.side===mo&&_.clearcoatNormalScale.value.negate())),b.dispersion>0&&(_.dispersion.value=b.dispersion),b.iridescence>0&&(_.iridescence.value=b.iridescence,_.iridescenceIOR.value=b.iridescenceIOR,_.iridescenceThicknessMinimum.value=b.iridescenceThicknessRange[0],_.iridescenceThicknessMaximum.value=b.iridescenceThicknessRange[1],b.iridescenceMap&&(_.iridescenceMap.value=b.iridescenceMap,n(b.iridescenceMap,_.iridescenceMapTransform)),b.iridescenceThicknessMap&&(_.iridescenceThicknessMap.value=b.iridescenceThicknessMap,n(b.iridescenceThicknessMap,_.iridescenceThicknessMapTransform))),b.transmission>0&&(_.transmission.value=b.transmission,_.transmissionSamplerMap.value=C.texture,_.transmissionSamplerSize.value.set(C.width,C.height),b.transmissionMap&&(_.transmissionMap.value=b.transmissionMap,n(b.transmissionMap,_.transmissionMapTransform)),_.thickness.value=b.thickness,b.thicknessMap&&(_.thicknessMap.value=b.thicknessMap,n(b.thicknessMap,_.thicknessMapTransform)),_.attenuationDistance.value=b.attenuationDistance,_.attenuationColor.value.copy(b.attenuationColor)),b.anisotropy>0&&(_.anisotropyVector.value.set(b.anisotropy*Math.cos(b.anisotropyRotation),b.anisotropy*Math.sin(b.anisotropyRotation)),b.anisotropyMap&&(_.anisotropyMap.value=b.anisotropyMap,n(b.anisotropyMap,_.anisotropyMapTransform))),_.specularIntensity.value=b.specularIntensity,_.specularColor.value.copy(b.specularColor),b.specularColorMap&&(_.specularColorMap.value=b.specularColorMap,n(b.specularColorMap,_.specularColorMapTransform)),b.specularIntensityMap&&(_.specularIntensityMap.value=b.specularIntensityMap,n(b.specularIntensityMap,_.specularIntensityMapTransform))}function x(_,b){b.matcap&&(_.matcap.value=b.matcap)}function S(_,b){const C=e.get(b).light;_.referencePosition.value.setFromMatrixPosition(C.matrixWorld),_.nearDistance.value=C.shadow.camera.near,_.farDistance.value=C.shadow.camera.far}return{refreshFogUniforms:r,refreshMaterialUniforms:i}}function nre(t,e,n,r){let i={},o={},s=[];const a=t.getParameter(t.MAX_UNIFORM_BUFFER_BINDINGS);function c(C,T){const A=T.program;r.uniformBlockBinding(C,A)}function d(C,T){let A=i[C.id];A===void 0&&(x(C),A=f(C),i[C.id]=A,C.addEventListener("dispose",_));const P=T.program;r.updateUBOMapping(C,P);const R=e.render.frame;o[C.id]!==R&&(g(C),o[C.id]=R)}function f(C){const T=m();C.__bindingPointIndex=T;const A=t.createBuffer(),P=C.__size,R=C.usage;return t.bindBuffer(t.UNIFORM_BUFFER,A),t.bufferData(t.UNIFORM_BUFFER,P,R),t.bindBuffer(t.UNIFORM_BUFFER,null),t.bindBufferBase(t.UNIFORM_BUFFER,T,A),A}function m(){for(let C=0;C<a;C++)if(s.indexOf(C)===-1)return s.push(C),C;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function g(C){const T=i[C.id],A=C.uniforms,P=C.__cache;t.bindBuffer(t.UNIFORM_BUFFER,T);for(let R=0,k=A.length;R<k;R++){const z=Array.isArray(A[R])?A[R]:[A[R]];for(let L=0,O=z.length;L<O;L++){const B=z[L];if(y(B,R,L,P)===!0){const j=B.__offset,X=Array.isArray(B.value)?B.value:[B.value];let ee=0;for(let K=0;K<X.length;K++){const ne=X[K],se=S(ne);typeof ne=="number"||typeof ne=="boolean"?(B.__data[0]=ne,t.bufferSubData(t.UNIFORM_BUFFER,j+ee,B.__data)):ne.isMatrix3?(B.__data[0]=ne.elements[0],B.__data[1]=ne.elements[1],B.__data[2]=ne.elements[2],B.__data[3]=0,B.__data[4]=ne.elements[3],B.__data[5]=ne.elements[4],B.__data[6]=ne.elements[5],B.__data[7]=0,B.__data[8]=ne.elements[6],B.__data[9]=ne.elements[7],B.__data[10]=ne.elements[8],B.__data[11]=0):(ne.toArray(B.__data,ee),ee+=se.storage/Float32Array.BYTES_PER_ELEMENT)}t.bufferSubData(t.UNIFORM_BUFFER,j,B.__data)}}}t.bindBuffer(t.UNIFORM_BUFFER,null)}function y(C,T,A,P){const R=C.value,k=T+"_"+A;if(P[k]===void 0)return typeof R=="number"||typeof R=="boolean"?P[k]=R:P[k]=R.clone(),!0;{const z=P[k];if(typeof R=="number"||typeof R=="boolean"){if(z!==R)return P[k]=R,!0}else if(z.equals(R)===!1)return z.copy(R),!0}return!1}function x(C){const T=C.uniforms;let A=0;const P=16;for(let k=0,z=T.length;k<z;k++){const L=Array.isArray(T[k])?T[k]:[T[k]];for(let O=0,B=L.length;O<B;O++){const j=L[O],X=Array.isArray(j.value)?j.value:[j.value];for(let ee=0,K=X.length;ee<K;ee++){const ne=X[ee],se=S(ne),V=A%P,Q=V%se.boundary,Z=V+Q;A+=Q,Z!==0&&P-Z<se.storage&&(A+=P-Z),j.__data=new Float32Array(se.storage/Float32Array.BYTES_PER_ELEMENT),j.__offset=A,A+=se.storage}}}const R=A%P;return R>0&&(A+=P-R),C.__size=A,C.__cache={},this}function S(C){const T={boundary:0,storage:0};return typeof C=="number"||typeof C=="boolean"?(T.boundary=4,T.storage=4):C.isVector2?(T.boundary=8,T.storage=8):C.isVector3||C.isColor?(T.boundary=16,T.storage=12):C.isVector4?(T.boundary=16,T.storage=16):C.isMatrix3?(T.boundary=48,T.storage=48):C.isMatrix4?(T.boundary=64,T.storage=64):C.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",C),T}function _(C){const T=C.target;T.removeEventListener("dispose",_);const A=s.indexOf(T.__bindingPointIndex);s.splice(A,1),t.deleteBuffer(i[T.id]),delete i[T.id],delete o[T.id]}function b(){for(const C in i)t.deleteBuffer(i[C]);s=[],i={},o={}}return{bind:c,update:d,dispose:b}}class Hz{constructor(e={}){const{canvas:n=DF(),context:r=null,depth:i=!0,stencil:o=!1,alpha:s=!1,antialias:a=!1,premultipliedAlpha:c=!0,preserveDrawingBuffer:d=!1,powerPreference:f="default",failIfMajorPerformanceCaveat:m=!1,reverseDepthBuffer:g=!1}=e;this.isWebGLRenderer=!0;let y;if(r!==null){if(typeof WebGLRenderingContext<"u"&&r instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");y=r.getContextAttributes().alpha}else y=s;const x=new Uint32Array(4),S=new Int32Array(4);let _=null,b=null;const C=[],T=[];this.domElement=n,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.toneMapping=Xa,this.toneMappingExposure=1,this.transmissionResolutionScale=1;const A=this;let P=!1;this._outputColorSpace=co;let R=0,k=0,z=null,L=-1,O=null;const B=new Mn,j=new Mn;let X=null;const ee=new ct(0);let K=0,ne=n.width,se=n.height,V=1,Q=null,Z=null;const W=new Mn(0,0,ne,se),le=new Mn(0,0,ne,se);let Ie=!1;const fe=new Wp;let Me=!1,De=!1;const Le=new Ht,ge=new Ht,be=new J,Fe=new Mn,Ye={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let at=!1;function Ge(){return z===null?V:1}let q=r;function Xe(G,xe){return n.getContext(G,xe)}try{const G={alpha:!0,depth:i,stencil:o,antialias:a,premultipliedAlpha:c,preserveDrawingBuffer:d,powerPreference:f,failIfMajorPerformanceCaveat:m};if("setAttribute"in n&&n.setAttribute("data-engine",`three.js r${xb}`),n.addEventListener("webglcontextlost",Ue,!1),n.addEventListener("webglcontextrestored",mt,!1),n.addEventListener("webglcontextcreationerror",lt,!1),q===null){const xe="webgl2";if(q=Xe(xe,G),q===null)throw Xe(xe)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(G){throw console.error("THREE.WebGLRenderer: "+G.message),G}let Ve,He,ze,ot,Be,Y,$,re,pe,ke,Ce,tt,Qe,St,Mt,We,dt,Pt,Lt,pt,ue,Ne,st,ce;function Ze(){Ve=new pte(q),Ve.init(),Ne=new $z(q,Ve),He=new ate(q,Ve,e,Ne),ze=new qne(q,Ve),He.reverseDepthBuffer&&g&&ze.buffers.depth.setReversed(!0),ot=new vte(q),Be=new Nne,Y=new Yne(q,Ve,ze,Be,He,Ne,ot),$=new cte(A),re=new hte(A),pe=new wJ(q),st=new ote(q,pe),ke=new mte(q,pe,ot,st),Ce=new xte(q,ke,pe,ot),Lt=new yte(q,He,Y),We=new lte(Be),tt=new Lne(A,$,re,Ve,He,st,We),Qe=new tre(A,Be),St=new Fne,Mt=new Hne(Ve),Pt=new ite(A,$,re,ze,Ce,y,c),dt=new jne(A,Ce,He),ce=new nre(q,ot,He,ze),pt=new ste(q,Ve,ot),ue=new gte(q,Ve,ot),ot.programs=tt.programs,A.capabilities=He,A.extensions=Ve,A.properties=Be,A.renderLists=St,A.shadowMap=dt,A.state=ze,A.info=ot}Ze();const Re=new Qne(A,q);this.xr=Re,this.getContext=function(){return q},this.getContextAttributes=function(){return q.getContextAttributes()},this.forceContextLoss=function(){const G=Ve.get("WEBGL_lose_context");G&&G.loseContext()},this.forceContextRestore=function(){const G=Ve.get("WEBGL_lose_context");G&&G.restoreContext()},this.getPixelRatio=function(){return V},this.setPixelRatio=function(G){G!==void 0&&(V=G,this.setSize(ne,se,!1))},this.getSize=function(G){return G.set(ne,se)},this.setSize=function(G,xe,Te=!0){if(Re.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}ne=G,se=xe,n.width=Math.floor(G*V),n.height=Math.floor(xe*V),Te===!0&&(n.style.width=G+"px",n.style.height=xe+"px"),this.setViewport(0,0,G,xe)},this.getDrawingBufferSize=function(G){return G.set(ne*V,se*V).floor()},this.setDrawingBufferSize=function(G,xe,Te){ne=G,se=xe,V=Te,n.width=Math.floor(G*Te),n.height=Math.floor(xe*Te),this.setViewport(0,0,G,xe)},this.getCurrentViewport=function(G){return G.copy(B)},this.getViewport=function(G){return G.copy(W)},this.setViewport=function(G,xe,Te,_e){G.isVector4?W.set(G.x,G.y,G.z,G.w):W.set(G,xe,Te,_e),ze.viewport(B.copy(W).multiplyScalar(V).round())},this.getScissor=function(G){return G.copy(le)},this.setScissor=function(G,xe,Te,_e){G.isVector4?le.set(G.x,G.y,G.z,G.w):le.set(G,xe,Te,_e),ze.scissor(j.copy(le).multiplyScalar(V).round())},this.getScissorTest=function(){return Ie},this.setScissorTest=function(G){ze.setScissorTest(Ie=G)},this.setOpaqueSort=function(G){Q=G},this.setTransparentSort=function(G){Z=G},this.getClearColor=function(G){return G.copy(Pt.getClearColor())},this.setClearColor=function(){Pt.setClearColor(...arguments)},this.getClearAlpha=function(){return Pt.getClearAlpha()},this.setClearAlpha=function(){Pt.setClearAlpha(...arguments)},this.clear=function(G=!0,xe=!0,Te=!0){let _e=0;if(G){let ye=!1;if(z!==null){const Ke=z.texture.format;ye=Ke===Tb||Ke===Mb||Ke===Lv}if(ye){const Ke=z.texture.type,ut=Ke===ks||Ke===hc||Ke===Sp||Ke===wp||Ke===wb||Ke===Eb,vt=Pt.getClearColor(),bt=Pt.getClearAlpha(),Dt=vt.r,kt=vt.g,nt=vt.b;ut?(x[0]=Dt,x[1]=kt,x[2]=nt,x[3]=bt,q.clearBufferuiv(q.COLOR,0,x)):(S[0]=Dt,S[1]=kt,S[2]=nt,S[3]=bt,q.clearBufferiv(q.COLOR,0,S))}else _e|=q.COLOR_BUFFER_BIT}xe&&(_e|=q.DEPTH_BUFFER_BIT),Te&&(_e|=q.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),q.clear(_e)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){n.removeEventListener("webglcontextlost",Ue,!1),n.removeEventListener("webglcontextrestored",mt,!1),n.removeEventListener("webglcontextcreationerror",lt,!1),Pt.dispose(),St.dispose(),Mt.dispose(),Be.dispose(),$.dispose(),re.dispose(),Ce.dispose(),st.dispose(),ce.dispose(),tt.dispose(),Re.dispose(),Re.removeEventListener("sessionstart",bc),Re.removeEventListener("sessionend",Ea),as.stop()};function Ue(G){G.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),P=!0}function mt(){console.log("THREE.WebGLRenderer: Context Restored."),P=!1;const G=ot.autoReset,xe=dt.enabled,Te=dt.autoUpdate,_e=dt.needsUpdate,ye=dt.type;Ze(),ot.autoReset=G,dt.enabled=xe,dt.autoUpdate=Te,dt.needsUpdate=_e,dt.type=ye}function lt(G){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",G.statusMessage)}function Nt(G){const xe=G.target;xe.removeEventListener("dispose",Nt),vn(xe)}function vn(G){Un(G),Be.remove(G)}function Un(G){const xe=Be.get(G).programs;xe!==void 0&&(xe.forEach(function(Te){tt.releaseProgram(Te)}),G.isShaderMaterial&&tt.releaseShaderCache(G))}this.renderBufferDirect=function(G,xe,Te,_e,ye,Ke){xe===null&&(xe=Ye);const ut=ye.isMesh&&ye.matrixWorld.determinant()<0,vt=vf(G,xe,Te,_e,ye);ze.setMaterial(_e,ut);let bt=Te.index,Dt=1;if(_e.wireframe===!0){if(bt=ke.getWireframeAttribute(Te),bt===void 0)return;Dt=2}const kt=Te.drawRange,nt=Te.attributes.position;let Rt=kt.start*Dt,$t=(kt.start+kt.count)*Dt;Ke!==null&&(Rt=Math.max(Rt,Ke.start*Dt),$t=Math.min($t,(Ke.start+Ke.count)*Dt)),bt!==null?(Rt=Math.max(Rt,0),$t=Math.min($t,bt.count)):nt!=null&&(Rt=Math.max(Rt,0),$t=Math.min($t,nt.count));const fn=$t-Rt;if(fn<0||fn===1/0)return;st.setup(ye,_e,vt,Te,bt);let hn,nn=pt;if(bt!==null&&(hn=pe.get(bt),nn=ue,nn.setIndex(hn)),ye.isMesh)_e.wireframe===!0?(ze.setLineWidth(_e.wireframeLinewidth*Ge()),nn.setMode(q.LINES)):nn.setMode(q.TRIANGLES);else if(ye.isLine){let Tt=_e.linewidth;Tt===void 0&&(Tt=1),ze.setLineWidth(Tt*Ge()),ye.isLineSegments?nn.setMode(q.LINES):ye.isLineLoop?nn.setMode(q.LINE_LOOP):nn.setMode(q.LINE_STRIP)}else ye.isPoints?nn.setMode(q.POINTS):ye.isSprite&&nn.setMode(q.TRIANGLES);if(ye.isBatchedMesh)if(ye._multiDrawInstances!==null)Cx("THREE.WebGLRenderer: renderMultiDrawInstances has been deprecated and will be removed in r184. Append to renderMultiDraw arguments and use indirection."),nn.renderMultiDrawInstances(ye._multiDrawStarts,ye._multiDrawCounts,ye._multiDrawCount,ye._multiDrawInstances);else if(Ve.get("WEBGL_multi_draw"))nn.renderMultiDraw(ye._multiDrawStarts,ye._multiDrawCounts,ye._multiDrawCount);else{const Tt=ye._multiDrawStarts,yn=ye._multiDrawCounts,sn=ye._multiDrawCount,Gr=bt?pe.get(bt).bytesPerElement:1,Fs=Be.get(_e).currentProgram.getUniforms();for(let Or=0;Or<sn;Or++)Fs.setValue(q,"_gl_DrawID",Or),nn.render(Tt[Or]/Gr,yn[Or])}else if(ye.isInstancedMesh)nn.renderInstances(Rt,fn,ye.count);else if(Te.isInstancedBufferGeometry){const Tt=Te._maxInstanceCount!==void 0?Te._maxInstanceCount:1/0,yn=Math.min(Te.instanceCount,Tt);nn.renderInstances(Rt,fn,yn)}else nn.render(Rt,fn)};function tn(G,xe,Te){G.transparent===!0&&G.side===ns&&G.forceSinglePass===!1?(G.side=mo,G.needsUpdate=!0,_c(G,xe,Te),G.side=dc,G.needsUpdate=!0,_c(G,xe,Te),G.side=ns):_c(G,xe,Te)}this.compile=function(G,xe,Te=null){Te===null&&(Te=G),b=Mt.get(Te),b.init(xe),T.push(b),Te.traverseVisible(function(ye){ye.isLight&&ye.layers.test(xe.layers)&&(b.pushLight(ye),ye.castShadow&&b.pushShadow(ye))}),G!==Te&&G.traverseVisible(function(ye){ye.isLight&&ye.layers.test(xe.layers)&&(b.pushLight(ye),ye.castShadow&&b.pushShadow(ye))}),b.setupLights();const _e=new Set;return G.traverse(function(ye){if(!(ye.isMesh||ye.isPoints||ye.isLine||ye.isSprite))return;const Ke=ye.material;if(Ke)if(Array.isArray(Ke))for(let ut=0;ut<Ke.length;ut++){const vt=Ke[ut];tn(vt,Te,ye),_e.add(vt)}else tn(Ke,Te,ye),_e.add(Ke)}),b=T.pop(),_e},this.compileAsync=function(G,xe,Te=null){const _e=this.compile(G,xe,Te);return new Promise(ye=>{function Ke(){if(_e.forEach(function(ut){Be.get(ut).currentProgram.isReady()&&_e.delete(ut)}),_e.size===0){ye(G);return}setTimeout(Ke,10)}Ve.get("KHR_parallel_shader_compile")!==null?Ke():setTimeout(Ke,10)})};let fr=null;function wr(G){fr&&fr(G)}function bc(){as.stop()}function Ea(){as.start()}const as=new Fz;as.setAnimationLoop(wr),typeof self<"u"&&as.setContext(self),this.setAnimationLoop=function(G){fr=G,Re.setAnimationLoop(G),G===null?as.stop():as.start()},Re.addEventListener("sessionstart",bc),Re.addEventListener("sessionend",Ea),this.render=function(G,xe){if(xe!==void 0&&xe.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(P===!0)return;if(G.matrixWorldAutoUpdate===!0&&G.updateMatrixWorld(),xe.parent===null&&xe.matrixWorldAutoUpdate===!0&&xe.updateMatrixWorld(),Re.enabled===!0&&Re.isPresenting===!0&&(Re.cameraAutoUpdate===!0&&Re.updateCamera(xe),xe=Re.getCamera()),G.isScene===!0&&G.onBeforeRender(A,G,xe,z),b=Mt.get(G,T.length),b.init(xe),T.push(b),ge.multiplyMatrices(xe.projectionMatrix,xe.matrixWorldInverse),fe.setFromProjectionMatrix(ge),De=this.localClippingEnabled,Me=We.init(this.clippingPlanes,De),_=St.get(G,C.length),_.init(),C.push(_),Re.enabled===!0&&Re.isPresenting===!0){const Ke=A.xr.getDepthSensingMesh();Ke!==null&&Vo(Ke,xe,-1/0,A.sortObjects)}Vo(G,xe,0,A.sortObjects),_.finish(),A.sortObjects===!0&&_.sort(Q,Z),at=Re.enabled===!1||Re.isPresenting===!1||Re.hasDepthSensing()===!1,at&&Pt.addToRenderList(_,G),this.info.render.frame++,Me===!0&&We.beginShadows();const Te=b.state.shadowsArray;dt.render(Te,G,xe),Me===!0&&We.endShadows(),this.info.autoReset===!0&&this.info.reset();const _e=_.opaque,ye=_.transmissive;if(b.setupLights(),xe.isArrayCamera){const Ke=xe.cameras;if(ye.length>0)for(let ut=0,vt=Ke.length;ut<vt;ut++){const bt=Ke[ut];$o(_e,ye,G,bt)}at&&Pt.render(G);for(let ut=0,vt=Ke.length;ut<vt;ut++){const bt=Ke[ut];il(_,G,bt,bt.viewport)}}else ye.length>0&&$o(_e,ye,G,xe),at&&Pt.render(G),il(_,G,xe);z!==null&&k===0&&(Y.updateMultisampleRenderTarget(z),Y.updateRenderTargetMipmap(z)),G.isScene===!0&&G.onAfterRender(A,G,xe),st.resetDefaultState(),L=-1,O=null,T.pop(),T.length>0?(b=T[T.length-1],Me===!0&&We.setGlobalState(A.clippingPlanes,b.state.camera)):b=null,C.pop(),C.length>0?_=C[C.length-1]:_=null};function Vo(G,xe,Te,_e){if(G.visible===!1)return;if(G.layers.test(xe.layers)){if(G.isGroup)Te=G.renderOrder;else if(G.isLOD)G.autoUpdate===!0&&G.update(xe);else if(G.isLight)b.pushLight(G),G.castShadow&&b.pushShadow(G);else if(G.isSprite){if(!G.frustumCulled||fe.intersectsSprite(G)){_e&&Fe.setFromMatrixPosition(G.matrixWorld).applyMatrix4(ge);const ut=Ce.update(G),vt=G.material;vt.visible&&_.push(G,ut,vt,Te,Fe.z,null)}}else if((G.isMesh||G.isLine||G.isPoints)&&(!G.frustumCulled||fe.intersectsObject(G))){const ut=Ce.update(G),vt=G.material;if(_e&&(G.boundingSphere!==void 0?(G.boundingSphere===null&&G.computeBoundingSphere(),Fe.copy(G.boundingSphere.center)):(ut.boundingSphere===null&&ut.computeBoundingSphere(),Fe.copy(ut.boundingSphere.center)),Fe.applyMatrix4(G.matrixWorld).applyMatrix4(ge)),Array.isArray(vt)){const bt=ut.groups;for(let Dt=0,kt=bt.length;Dt<kt;Dt++){const nt=bt[Dt],Rt=vt[nt.materialIndex];Rt&&Rt.visible&&_.push(G,ut,Rt,Te,Fe.z,nt)}}else vt.visible&&_.push(G,ut,vt,Te,Fe.z,null)}}const Ke=G.children;for(let ut=0,vt=Ke.length;ut<vt;ut++)Vo(Ke[ut],xe,Te,_e)}function il(G,xe,Te,_e){const ye=G.opaque,Ke=G.transmissive,ut=G.transparent;b.setupLightsView(Te),Me===!0&&We.setGlobalState(A.clippingPlanes,Te),_e&&ze.viewport(B.copy(_e)),ye.length>0&&Ca(ye,xe,Te),Ke.length>0&&Ca(Ke,xe,Te),ut.length>0&&Ca(ut,xe,Te),ze.buffers.depth.setTest(!0),ze.buffers.depth.setMask(!0),ze.buffers.color.setMask(!0),ze.setPolygonOffset(!1)}function $o(G,xe,Te,_e){if((Te.isScene===!0?Te.overrideMaterial:null)!==null)return;b.state.transmissionRenderTarget[_e.id]===void 0&&(b.state.transmissionRenderTarget[_e.id]=new Za(1,1,{generateMipmaps:!0,type:Ve.has("EXT_color_buffer_half_float")||Ve.has("EXT_color_buffer_float")?Hp:ks,minFilter:Wa,samples:4,stencilBuffer:o,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:wn.workingColorSpace}));const Ke=b.state.transmissionRenderTarget[_e.id],ut=_e.viewport||B;Ke.setSize(ut.z*A.transmissionResolutionScale,ut.w*A.transmissionResolutionScale);const vt=A.getRenderTarget();A.setRenderTarget(Ke),A.getClearColor(ee),K=A.getClearAlpha(),K<1&&A.setClearColor(16777215,.5),A.clear(),at&&Pt.render(Te);const bt=A.toneMapping;A.toneMapping=Xa;const Dt=_e.viewport;if(_e.viewport!==void 0&&(_e.viewport=void 0),b.setupLightsView(_e),Me===!0&&We.setGlobalState(A.clippingPlanes,_e),Ca(G,Te,_e),Y.updateMultisampleRenderTarget(Ke),Y.updateRenderTargetMipmap(Ke),Ve.has("WEBGL_multisampled_render_to_texture")===!1){let kt=!1;for(let nt=0,Rt=xe.length;nt<Rt;nt++){const $t=xe[nt],fn=$t.object,hn=$t.geometry,nn=$t.material,Tt=$t.group;if(nn.side===ns&&fn.layers.test(_e.layers)){const yn=nn.side;nn.side=mo,nn.needsUpdate=!0,mf(fn,Te,_e,hn,nn,Tt),nn.side=yn,nn.needsUpdate=!0,kt=!0}}kt===!0&&(Y.updateMultisampleRenderTarget(Ke),Y.updateRenderTargetMipmap(Ke))}A.setRenderTarget(vt),A.setClearColor(ee,K),Dt!==void 0&&(_e.viewport=Dt),A.toneMapping=bt}function Ca(G,xe,Te){const _e=xe.isScene===!0?xe.overrideMaterial:null;for(let ye=0,Ke=G.length;ye<Ke;ye++){const ut=G[ye],vt=ut.object,bt=ut.geometry,Dt=ut.group;let kt=ut.material;kt.allowOverride===!0&&_e!==null&&(kt=_e),vt.layers.test(Te.layers)&&mf(vt,xe,Te,bt,kt,Dt)}}function mf(G,xe,Te,_e,ye,Ke){G.onBeforeRender(A,xe,Te,_e,ye,Ke),G.modelViewMatrix.multiplyMatrices(Te.matrixWorldInverse,G.matrixWorld),G.normalMatrix.getNormalMatrix(G.modelViewMatrix),ye.onBeforeRender(A,xe,Te,_e,G,Ke),ye.transparent===!0&&ye.side===ns&&ye.forceSinglePass===!1?(ye.side=mo,ye.needsUpdate=!0,A.renderBufferDirect(Te,xe,_e,ye,G,Ke),ye.side=dc,ye.needsUpdate=!0,A.renderBufferDirect(Te,xe,_e,ye,G,Ke),ye.side=ns):A.renderBufferDirect(Te,xe,_e,ye,G,Ke),G.onAfterRender(A,xe,Te,_e,ye,Ke)}function _c(G,xe,Te){xe.isScene!==!0&&(xe=Ye);const _e=Be.get(G),ye=b.state.lights,Ke=b.state.shadowsArray,ut=ye.state.version,vt=tt.getParameters(G,ye.state,Ke,xe,Te),bt=tt.getProgramCacheKey(vt);let Dt=_e.programs;_e.environment=G.isMeshStandardMaterial?xe.environment:null,_e.fog=xe.fog,_e.envMap=(G.isMeshStandardMaterial?re:$).get(G.envMap||_e.environment),_e.envMapRotation=_e.environment!==null&&G.envMap===null?xe.environmentRotation:G.envMapRotation,Dt===void 0&&(G.addEventListener("dispose",Nt),Dt=new Map,_e.programs=Dt);let kt=Dt.get(bt);if(kt!==void 0){if(_e.currentProgram===kt&&_e.lightsStateVersion===ut)return ls(G,vt),kt}else vt.uniforms=tt.getUniforms(G),G.onBeforeCompile(vt,A),kt=tt.acquireProgram(vt,bt),Dt.set(bt,kt),_e.uniforms=vt.uniforms;const nt=_e.uniforms;return(!G.isShaderMaterial&&!G.isRawShaderMaterial||G.clipping===!0)&&(nt.clippingPlanes=We.uniform),ls(G,vt),_e.needsLights=xf(G),_e.lightsStateVersion=ut,_e.needsLights&&(nt.ambientLightColor.value=ye.state.ambient,nt.lightProbe.value=ye.state.probe,nt.directionalLights.value=ye.state.directional,nt.directionalLightShadows.value=ye.state.directionalShadow,nt.spotLights.value=ye.state.spot,nt.spotLightShadows.value=ye.state.spotShadow,nt.rectAreaLights.value=ye.state.rectArea,nt.ltc_1.value=ye.state.rectAreaLTC1,nt.ltc_2.value=ye.state.rectAreaLTC2,nt.pointLights.value=ye.state.point,nt.pointLightShadows.value=ye.state.pointShadow,nt.hemisphereLights.value=ye.state.hemi,nt.directionalShadowMap.value=ye.state.directionalShadowMap,nt.directionalShadowMatrix.value=ye.state.directionalShadowMatrix,nt.spotShadowMap.value=ye.state.spotShadowMap,nt.spotLightMatrix.value=ye.state.spotLightMatrix,nt.spotLightMap.value=ye.state.spotLightMap,nt.pointShadowMap.value=ye.state.pointShadowMap,nt.pointShadowMatrix.value=ye.state.pointShadowMatrix),_e.currentProgram=kt,_e.uniformsList=null,kt}function gf(G){if(G.uniformsList===null){const xe=G.currentProgram.getUniforms();G.uniformsList=Tx.seqWithValue(xe.seq,G.uniforms)}return G.uniformsList}function ls(G,xe){const Te=Be.get(G);Te.outputColorSpace=xe.outputColorSpace,Te.batching=xe.batching,Te.batchingColor=xe.batchingColor,Te.instancing=xe.instancing,Te.instancingColor=xe.instancingColor,Te.instancingMorph=xe.instancingMorph,Te.skinning=xe.skinning,Te.morphTargets=xe.morphTargets,Te.morphNormals=xe.morphNormals,Te.morphColors=xe.morphColors,Te.morphTargetsCount=xe.morphTargetsCount,Te.numClippingPlanes=xe.numClippingPlanes,Te.numIntersection=xe.numClipIntersection,Te.vertexAlphas=xe.vertexAlphas,Te.vertexTangents=xe.vertexTangents,Te.toneMapping=xe.toneMapping}function vf(G,xe,Te,_e,ye){xe.isScene!==!0&&(xe=Ye),Y.resetTextureUnits();const Ke=xe.fog,ut=_e.isMeshStandardMaterial?xe.environment:null,vt=z===null?A.outputColorSpace:z.isXRRenderTarget===!0?z.texture.colorSpace:pa,bt=(_e.isMeshStandardMaterial?re:$).get(_e.envMap||ut),Dt=_e.vertexColors===!0&&!!Te.attributes.color&&Te.attributes.color.itemSize===4,kt=!!Te.attributes.tangent&&(!!_e.normalMap||_e.anisotropy>0),nt=!!Te.morphAttributes.position,Rt=!!Te.morphAttributes.normal,$t=!!Te.morphAttributes.color;let fn=Xa;_e.toneMapped&&(z===null||z.isXRRenderTarget===!0)&&(fn=A.toneMapping);const hn=Te.morphAttributes.position||Te.morphAttributes.normal||Te.morphAttributes.color,nn=hn!==void 0?hn.length:0,Tt=Be.get(_e),yn=b.state.lights;if(Me===!0&&(De===!0||G!==O)){const jr=G===O&&_e.id===L;We.setState(_e,G,jr)}let sn=!1;_e.version===Tt.__version?(Tt.needsLights&&Tt.lightsStateVersion!==yn.state.version||Tt.outputColorSpace!==vt||ye.isBatchedMesh&&Tt.batching===!1||!ye.isBatchedMesh&&Tt.batching===!0||ye.isBatchedMesh&&Tt.batchingColor===!0&&ye.colorTexture===null||ye.isBatchedMesh&&Tt.batchingColor===!1&&ye.colorTexture!==null||ye.isInstancedMesh&&Tt.instancing===!1||!ye.isInstancedMesh&&Tt.instancing===!0||ye.isSkinnedMesh&&Tt.skinning===!1||!ye.isSkinnedMesh&&Tt.skinning===!0||ye.isInstancedMesh&&Tt.instancingColor===!0&&ye.instanceColor===null||ye.isInstancedMesh&&Tt.instancingColor===!1&&ye.instanceColor!==null||ye.isInstancedMesh&&Tt.instancingMorph===!0&&ye.morphTexture===null||ye.isInstancedMesh&&Tt.instancingMorph===!1&&ye.morphTexture!==null||Tt.envMap!==bt||_e.fog===!0&&Tt.fog!==Ke||Tt.numClippingPlanes!==void 0&&(Tt.numClippingPlanes!==We.numPlanes||Tt.numIntersection!==We.numIntersection)||Tt.vertexAlphas!==Dt||Tt.vertexTangents!==kt||Tt.morphTargets!==nt||Tt.morphNormals!==Rt||Tt.morphColors!==$t||Tt.toneMapping!==fn||Tt.morphTargetsCount!==nn)&&(sn=!0):(sn=!0,Tt.__version=_e.version);let Gr=Tt.currentProgram;sn===!0&&(Gr=_c(_e,xe,ye));let Fs=!1,Or=!1,cs=!1;const pn=Gr.getUniforms(),oi=Tt.uniforms;if(ze.useProgram(Gr.program)&&(Fs=!0,Or=!0,cs=!0),_e.id!==L&&(L=_e.id,Or=!0),Fs||O!==G){ze.buffers.depth.getReversed()?(Le.copy(G.projectionMatrix),HY(Le),WY(Le),pn.setValue(q,"projectionMatrix",Le)):pn.setValue(q,"projectionMatrix",G.projectionMatrix),pn.setValue(q,"viewMatrix",G.matrixWorldInverse);const hr=pn.map.cameraPosition;hr!==void 0&&hr.setValue(q,be.setFromMatrixPosition(G.matrixWorld)),He.logarithmicDepthBuffer&&pn.setValue(q,"logDepthBufFC",2/(Math.log(G.far+1)/Math.LN2)),(_e.isMeshPhongMaterial||_e.isMeshToonMaterial||_e.isMeshLambertMaterial||_e.isMeshBasicMaterial||_e.isMeshStandardMaterial||_e.isShaderMaterial)&&pn.setValue(q,"isOrthographic",G.isOrthographicCamera===!0),O!==G&&(O=G,Or=!0,cs=!0)}if(ye.isSkinnedMesh){pn.setOptional(q,ye,"bindMatrix"),pn.setOptional(q,ye,"bindMatrixInverse");const jr=ye.skeleton;jr&&(jr.boneTexture===null&&jr.computeBoneTexture(),pn.setValue(q,"boneTexture",jr.boneTexture,Y))}ye.isBatchedMesh&&(pn.setOptional(q,ye,"batchingTexture"),pn.setValue(q,"batchingTexture",ye._matricesTexture,Y),pn.setOptional(q,ye,"batchingIdTexture"),pn.setValue(q,"batchingIdTexture",ye._indirectTexture,Y),pn.setOptional(q,ye,"batchingColorTexture"),ye._colorsTexture!==null&&pn.setValue(q,"batchingColorTexture",ye._colorsTexture,Y));const Lr=Te.morphAttributes;if((Lr.position!==void 0||Lr.normal!==void 0||Lr.color!==void 0)&&Lt.update(ye,Te,Gr),(Or||Tt.receiveShadow!==ye.receiveShadow)&&(Tt.receiveShadow=ye.receiveShadow,pn.setValue(q,"receiveShadow",ye.receiveShadow)),_e.isMeshGouraudMaterial&&_e.envMap!==null&&(oi.envMap.value=bt,oi.flipEnvMap.value=bt.isCubeTexture&&bt.isRenderTargetTexture===!1?-1:1),_e.isMeshStandardMaterial&&_e.envMap===null&&xe.environment!==null&&(oi.envMapIntensity.value=xe.environmentIntensity),Or&&(pn.setValue(q,"toneMappingExposure",A.toneMappingExposure),Tt.needsLights&&yf(oi,cs),Ke&&_e.fog===!0&&Qe.refreshFogUniforms(oi,Ke),Qe.refreshMaterialUniforms(oi,_e,V,se,b.state.transmissionRenderTarget[G.id]),Tx.upload(q,gf(Tt),oi,Y)),_e.isShaderMaterial&&_e.uniformsNeedUpdate===!0&&(Tx.upload(q,gf(Tt),oi,Y),_e.uniformsNeedUpdate=!1),_e.isSpriteMaterial&&pn.setValue(q,"center",ye.center),pn.setValue(q,"modelViewMatrix",ye.modelViewMatrix),pn.setValue(q,"normalMatrix",ye.normalMatrix),pn.setValue(q,"modelMatrix",ye.matrixWorld),_e.isShaderMaterial||_e.isRawShaderMaterial){const jr=_e.uniformsGroups;for(let hr=0,mn=jr.length;hr<mn;hr++){const Ii=jr[hr];ce.update(Ii,Gr),ce.bind(Ii,Gr)}}return Gr}function yf(G,xe){G.ambientLightColor.needsUpdate=xe,G.lightProbe.needsUpdate=xe,G.directionalLights.needsUpdate=xe,G.directionalLightShadows.needsUpdate=xe,G.pointLights.needsUpdate=xe,G.pointLightShadows.needsUpdate=xe,G.spotLights.needsUpdate=xe,G.spotLightShadows.needsUpdate=xe,G.rectAreaLights.needsUpdate=xe,G.hemisphereLights.needsUpdate=xe}function xf(G){return G.isMeshLambertMaterial||G.isMeshToonMaterial||G.isMeshPhongMaterial||G.isMeshStandardMaterial||G.isShadowMaterial||G.isShaderMaterial&&G.lights===!0}this.getActiveCubeFace=function(){return R},this.getActiveMipmapLevel=function(){return k},this.getRenderTarget=function(){return z},this.setRenderTargetTextures=function(G,xe,Te){const _e=Be.get(G);_e.__autoAllocateDepthBuffer=G.resolveDepthBuffer===!1,_e.__autoAllocateDepthBuffer===!1&&(_e.__useRenderToTexture=!1),Be.get(G.texture).__webglTexture=xe,Be.get(G.depthTexture).__webglTexture=_e.__autoAllocateDepthBuffer?void 0:Te,_e.__hasExternalTextures=!0},this.setRenderTargetFramebuffer=function(G,xe){const Te=Be.get(G);Te.__webglFramebuffer=xe,Te.__useDefaultFramebuffer=xe===void 0};const bf=q.createFramebuffer();this.setRenderTarget=function(G,xe=0,Te=0){z=G,R=xe,k=Te;let _e=!0,ye=null,Ke=!1,ut=!1;if(G){const bt=Be.get(G);if(bt.__useDefaultFramebuffer!==void 0)ze.bindFramebuffer(q.FRAMEBUFFER,null),_e=!1;else if(bt.__webglFramebuffer===void 0)Y.setupRenderTarget(G);else if(bt.__hasExternalTextures)Y.rebindTextures(G,Be.get(G.texture).__webglTexture,Be.get(G.depthTexture).__webglTexture);else if(G.depthBuffer){const nt=G.depthTexture;if(bt.__boundDepthTexture!==nt){if(nt!==null&&Be.has(nt)&&(G.width!==nt.image.width||G.height!==nt.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");Y.setupDepthRenderbuffer(G)}}const Dt=G.texture;(Dt.isData3DTexture||Dt.isDataArrayTexture||Dt.isCompressedArrayTexture)&&(ut=!0);const kt=Be.get(G).__webglFramebuffer;G.isWebGLCubeRenderTarget?(Array.isArray(kt[xe])?ye=kt[xe][Te]:ye=kt[xe],Ke=!0):G.samples>0&&Y.useMultisampledRTT(G)===!1?ye=Be.get(G).__webglMultisampledFramebuffer:Array.isArray(kt)?ye=kt[Te]:ye=kt,B.copy(G.viewport),j.copy(G.scissor),X=G.scissorTest}else B.copy(W).multiplyScalar(V).floor(),j.copy(le).multiplyScalar(V).floor(),X=Ie;if(Te!==0&&(ye=bf),ze.bindFramebuffer(q.FRAMEBUFFER,ye)&&_e&&ze.drawBuffers(G,ye),ze.viewport(B),ze.scissor(j),ze.setScissorTest(X),Ke){const bt=Be.get(G.texture);q.framebufferTexture2D(q.FRAMEBUFFER,q.COLOR_ATTACHMENT0,q.TEXTURE_CUBE_MAP_POSITIVE_X+xe,bt.__webglTexture,Te)}else if(ut){const bt=Be.get(G.texture),Dt=xe;q.framebufferTextureLayer(q.FRAMEBUFFER,q.COLOR_ATTACHMENT0,bt.__webglTexture,Te,Dt)}else if(G!==null&&Te!==0){const bt=Be.get(G.texture);q.framebufferTexture2D(q.FRAMEBUFFER,q.COLOR_ATTACHMENT0,q.TEXTURE_2D,bt.__webglTexture,Te)}L=-1},this.readRenderTargetPixels=function(G,xe,Te,_e,ye,Ke,ut){if(!(G&&G.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let vt=Be.get(G).__webglFramebuffer;if(G.isWebGLCubeRenderTarget&&ut!==void 0&&(vt=vt[ut]),vt){ze.bindFramebuffer(q.FRAMEBUFFER,vt);try{const bt=G.texture,Dt=bt.format,kt=bt.type;if(!He.textureFormatReadable(Dt)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!He.textureTypeReadable(kt)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}xe>=0&&xe<=G.width-_e&&Te>=0&&Te<=G.height-ye&&q.readPixels(xe,Te,_e,ye,Ne.convert(Dt),Ne.convert(kt),Ke)}finally{const bt=z!==null?Be.get(z).__webglFramebuffer:null;ze.bindFramebuffer(q.FRAMEBUFFER,bt)}}},this.readRenderTargetPixelsAsync=async function(G,xe,Te,_e,ye,Ke,ut){if(!(G&&G.isWebGLRenderTarget))throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let vt=Be.get(G).__webglFramebuffer;if(G.isWebGLCubeRenderTarget&&ut!==void 0&&(vt=vt[ut]),vt)if(xe>=0&&xe<=G.width-_e&&Te>=0&&Te<=G.height-ye){ze.bindFramebuffer(q.FRAMEBUFFER,vt);const bt=G.texture,Dt=bt.format,kt=bt.type;if(!He.textureFormatReadable(Dt))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!He.textureTypeReadable(kt))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");const nt=q.createBuffer();q.bindBuffer(q.PIXEL_PACK_BUFFER,nt),q.bufferData(q.PIXEL_PACK_BUFFER,Ke.byteLength,q.STREAM_READ),q.readPixels(xe,Te,_e,ye,Ne.convert(Dt),Ne.convert(kt),0);const Rt=z!==null?Be.get(z).__webglFramebuffer:null;ze.bindFramebuffer(q.FRAMEBUFFER,Rt);const $t=q.fenceSync(q.SYNC_GPU_COMMANDS_COMPLETE,0);return q.flush(),await $Y(q,$t,4),q.bindBuffer(q.PIXEL_PACK_BUFFER,nt),q.getBufferSubData(q.PIXEL_PACK_BUFFER,0,Ke),q.deleteBuffer(nt),q.deleteSync($t),Ke}else throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")},this.copyFramebufferToTexture=function(G,xe=null,Te=0){const _e=Math.pow(2,-Te),ye=Math.floor(G.image.width*_e),Ke=Math.floor(G.image.height*_e),ut=xe!==null?xe.x:0,vt=xe!==null?xe.y:0;Y.setTexture2D(G,0),q.copyTexSubImage2D(q.TEXTURE_2D,Te,0,0,ut,vt,ye,Ke),ze.unbindTexture()};const _f=q.createFramebuffer(),Sf=q.createFramebuffer();this.copyTextureToTexture=function(G,xe,Te=null,_e=null,ye=0,Ke=null){Ke===null&&(ye!==0?(Cx("WebGLRenderer: copyTextureToTexture function signature has changed to support src and dst mipmap levels."),Ke=ye,ye=0):Ke=0);let ut,vt,bt,Dt,kt,nt,Rt,$t,fn;const hn=G.isCompressedTexture?G.mipmaps[Ke]:G.image;if(Te!==null)ut=Te.max.x-Te.min.x,vt=Te.max.y-Te.min.y,bt=Te.isBox3?Te.max.z-Te.min.z:1,Dt=Te.min.x,kt=Te.min.y,nt=Te.isBox3?Te.min.z:0;else{const Lr=Math.pow(2,-ye);ut=Math.floor(hn.width*Lr),vt=Math.floor(hn.height*Lr),G.isDataArrayTexture?bt=hn.depth:G.isData3DTexture?bt=Math.floor(hn.depth*Lr):bt=1,Dt=0,kt=0,nt=0}_e!==null?(Rt=_e.x,$t=_e.y,fn=_e.z):(Rt=0,$t=0,fn=0);const nn=Ne.convert(xe.format),Tt=Ne.convert(xe.type);let yn;xe.isData3DTexture?(Y.setTexture3D(xe,0),yn=q.TEXTURE_3D):xe.isDataArrayTexture||xe.isCompressedArrayTexture?(Y.setTexture2DArray(xe,0),yn=q.TEXTURE_2D_ARRAY):(Y.setTexture2D(xe,0),yn=q.TEXTURE_2D),q.pixelStorei(q.UNPACK_FLIP_Y_WEBGL,xe.flipY),q.pixelStorei(q.UNPACK_PREMULTIPLY_ALPHA_WEBGL,xe.premultiplyAlpha),q.pixelStorei(q.UNPACK_ALIGNMENT,xe.unpackAlignment);const sn=q.getParameter(q.UNPACK_ROW_LENGTH),Gr=q.getParameter(q.UNPACK_IMAGE_HEIGHT),Fs=q.getParameter(q.UNPACK_SKIP_PIXELS),Or=q.getParameter(q.UNPACK_SKIP_ROWS),cs=q.getParameter(q.UNPACK_SKIP_IMAGES);q.pixelStorei(q.UNPACK_ROW_LENGTH,hn.width),q.pixelStorei(q.UNPACK_IMAGE_HEIGHT,hn.height),q.pixelStorei(q.UNPACK_SKIP_PIXELS,Dt),q.pixelStorei(q.UNPACK_SKIP_ROWS,kt),q.pixelStorei(q.UNPACK_SKIP_IMAGES,nt);const pn=G.isDataArrayTexture||G.isData3DTexture,oi=xe.isDataArrayTexture||xe.isData3DTexture;if(G.isDepthTexture){const Lr=Be.get(G),jr=Be.get(xe),hr=Be.get(Lr.__renderTarget),mn=Be.get(jr.__renderTarget);ze.bindFramebuffer(q.READ_FRAMEBUFFER,hr.__webglFramebuffer),ze.bindFramebuffer(q.DRAW_FRAMEBUFFER,mn.__webglFramebuffer);for(let Ii=0;Ii<bt;Ii++)pn&&(q.framebufferTextureLayer(q.READ_FRAMEBUFFER,q.COLOR_ATTACHMENT0,Be.get(G).__webglTexture,ye,nt+Ii),q.framebufferTextureLayer(q.DRAW_FRAMEBUFFER,q.COLOR_ATTACHMENT0,Be.get(xe).__webglTexture,Ke,fn+Ii)),q.blitFramebuffer(Dt,kt,ut,vt,Rt,$t,ut,vt,q.DEPTH_BUFFER_BIT,q.NEAREST);ze.bindFramebuffer(q.READ_FRAMEBUFFER,null),ze.bindFramebuffer(q.DRAW_FRAMEBUFFER,null)}else if(ye!==0||G.isRenderTargetTexture||Be.has(G)){const Lr=Be.get(G),jr=Be.get(xe);ze.bindFramebuffer(q.READ_FRAMEBUFFER,_f),ze.bindFramebuffer(q.DRAW_FRAMEBUFFER,Sf);for(let hr=0;hr<bt;hr++)pn?q.framebufferTextureLayer(q.READ_FRAMEBUFFER,q.COLOR_ATTACHMENT0,Lr.__webglTexture,ye,nt+hr):q.framebufferTexture2D(q.READ_FRAMEBUFFER,q.COLOR_ATTACHMENT0,q.TEXTURE_2D,Lr.__webglTexture,ye),oi?q.framebufferTextureLayer(q.DRAW_FRAMEBUFFER,q.COLOR_ATTACHMENT0,jr.__webglTexture,Ke,fn+hr):q.framebufferTexture2D(q.DRAW_FRAMEBUFFER,q.COLOR_ATTACHMENT0,q.TEXTURE_2D,jr.__webglTexture,Ke),ye!==0?q.blitFramebuffer(Dt,kt,ut,vt,Rt,$t,ut,vt,q.COLOR_BUFFER_BIT,q.NEAREST):oi?q.copyTexSubImage3D(yn,Ke,Rt,$t,fn+hr,Dt,kt,ut,vt):q.copyTexSubImage2D(yn,Ke,Rt,$t,Dt,kt,ut,vt);ze.bindFramebuffer(q.READ_FRAMEBUFFER,null),ze.bindFramebuffer(q.DRAW_FRAMEBUFFER,null)}else oi?G.isDataTexture||G.isData3DTexture?q.texSubImage3D(yn,Ke,Rt,$t,fn,ut,vt,bt,nn,Tt,hn.data):xe.isCompressedArrayTexture?q.compressedTexSubImage3D(yn,Ke,Rt,$t,fn,ut,vt,bt,nn,hn.data):q.texSubImage3D(yn,Ke,Rt,$t,fn,ut,vt,bt,nn,Tt,hn):G.isDataTexture?q.texSubImage2D(q.TEXTURE_2D,Ke,Rt,$t,ut,vt,nn,Tt,hn.data):G.isCompressedTexture?q.compressedTexSubImage2D(q.TEXTURE_2D,Ke,Rt,$t,hn.width,hn.height,nn,hn.data):q.texSubImage2D(q.TEXTURE_2D,Ke,Rt,$t,ut,vt,nn,Tt,hn);q.pixelStorei(q.UNPACK_ROW_LENGTH,sn),q.pixelStorei(q.UNPACK_IMAGE_HEIGHT,Gr),q.pixelStorei(q.UNPACK_SKIP_PIXELS,Fs),q.pixelStorei(q.UNPACK_SKIP_ROWS,Or),q.pixelStorei(q.UNPACK_SKIP_IMAGES,cs),Ke===0&&xe.generateMipmaps&&q.generateMipmap(yn),ze.unbindTexture()},this.copyTextureToTexture3D=function(G,xe,Te=null,_e=null,ye=0){return Cx('WebGLRenderer: copyTextureToTexture3D function has been deprecated. Use "copyTextureToTexture" instead.'),this.copyTextureToTexture(G,xe,Te,_e,ye)},this.initRenderTarget=function(G){Be.get(G).__webglFramebuffer===void 0&&Y.setupRenderTarget(G)},this.initTexture=function(G){G.isCubeTexture?Y.setTextureCube(G,0):G.isData3DTexture?Y.setTexture3D(G,0):G.isDataArrayTexture||G.isCompressedArrayTexture?Y.setTexture2DArray(G,0):Y.setTexture2D(G,0),ze.unbindTexture()},this.resetState=function(){R=0,k=0,z=null,ze.reset(),st.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return Rs}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const n=this.getContext();n.drawingBufferColorSpace=wn._getDrawingBufferColorSpace(e),n.unpackColorSpace=wn._getUnpackColorSpace()}}const rre=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:fM,AddEquation:lu,AddOperation:hF,AdditiveAnimationBlendMode:_M,AdditiveBlending:PE,AgXToneMapping:yF,AlphaFormat:vM,AlwaysCompare:OF,AlwaysDepth:Yx,AlwaysStencilFunc:kE,AmbientLight:Cz,AnimationAction:Lz,AnimationClip:vv,AnimationLoader:vZ,AnimationMixer:jZ,AnimationObjectGroup:WZ,AnimationUtils:hZ,ArcCurve:JF,ArrayCamera:Iz,ArrowHelper:pJ,AttachedBindMode:IE,Audio:kz,AudioAnalyser:LZ,AudioContext:$M,AudioListener:IZ,AudioLoader:PZ,AxesHelper:mJ,BackSide:mo,BasicDepthPacking:EF,BasicShadowMap:XD,BatchedMesh:qF,Bone:TM,BooleanKeyframeTrack:ff,Box2:eJ,Box3:ji,Box3Helper:fJ,BoxGeometry:df,BoxHelper:dJ,BufferAttribute:Wn,BufferGeometry:Yt,BufferGeometryLoader:Az,ByteType:pM,Cache:ec,Camera:Dv,CameraHelper:uJ,CanvasTexture:NK,CapsuleGeometry:zb,CatmullRomCurve3:QF,CineonToneMapping:gF,CircleGeometry:Ub,ClampToEdgeWrapping:Ps,Clock:HM,Color:ct,ColorKeyframeTrack:UM,ColorManagement:wn,CompressedArrayTexture:OK,CompressedCubeTexture:LK,CompressedTexture:Db,CompressedTextureLoader:yZ,ConeGeometry:Uv,ConstantAlphaFactor:uF,ConstantColorFactor:lF,Controls:vJ,CubeCamera:VF,CubeReflectionMapping:fc,CubeRefractionMapping:xu,CubeTexture:Fv,CubeTextureLoader:xZ,CubeUVReflectionMapping:$p,CubicBezierCurve:RM,CubicBezierCurve3:ez,CubicInterpolant:yz,CullFaceBack:TE,CullFaceFront:jD,CullFaceFrontBack:$q,CullFaceNone:GD,Curve:Sa,CurvePath:nz,CustomBlending:qD,CustomToneMapping:vF,CylinderGeometry:zv,Cylindrical:QZ,Data3DTexture:Ab,DataArrayTexture:Nv,DataTexture:qa,DataTextureLoader:bZ,DataUtils:oK,DecrementStencilOp:nY,DecrementWrapStencilOp:iY,DefaultLoadingManager:ap,DepthArrayTexture:DK,DepthFormat:Ep,DepthStencilFormat:Cp,DepthTexture:Fb,DetachedBindMode:bF,DirectionalLight:Ez,DirectionalLightHelper:cJ,DiscreteInterpolant:xz,DodecahedronGeometry:Bb,DoubleSide:ns,DstAlphaFactor:rF,DstColorFactor:oF,DynamicCopyUsage:xY,DynamicDrawUsage:hY,DynamicReadUsage:gY,EdgesGeometry:ZF,EllipseCurve:Vb,EqualCompare:RF,EqualDepth:Zx,EqualStencilFunc:lY,EquirectangularReflectionMapping:nv,EquirectangularRefractionMapping:rv,Euler:ss,EventDispatcher:rl,ExtrudeGeometry:$b,FileLoader:Ja,Float16BufferAttribute:fK,Float32BufferAttribute:xt,FloatType:Fo,Fog:kb,FogExp2:Ib,FramebufferTexture:kK,FrontSide:dc,Frustum:Wp,FrustumArray:Nb,GLBufferAttribute:JZ,GLSL1:_Y,GLSL3:OE,GreaterCompare:AF,GreaterDepth:Qx,GreaterEqualCompare:kF,GreaterEqualDepth:Jx,GreaterEqualStencilFunc:fY,GreaterStencilFunc:uY,GridHelper:aJ,Group:Hd,HalfFloatType:Hp,HemisphereLight:_z,HemisphereLightHelper:sJ,IcosahedronGeometry:Hb,ImageBitmapLoader:TZ,ImageLoader:yv,ImageUtils:FF,IncrementStencilOp:tY,IncrementWrapStencilOp:rY,InstancedBufferAttribute:Pp,InstancedBufferGeometry:Rz,InstancedInterleavedBuffer:ZZ,InstancedMesh:XF,Int16BufferAttribute:uK,Int32BufferAttribute:dK,Int8BufferAttribute:aK,IntType:Sb,InterleavedBuffer:Ob,InterleavedBufferAttribute:rf,Interpolant:$v,InterpolateDiscrete:sv,InterpolateLinear:T1,InterpolateSmooth:Ex,InterpolationSamplingMode:EY,InterpolationSamplingType:wY,InvertStencilOp:oY,KeepStencilOp:Dd,KeyframeTrack:Ns,LOD:GF,LatheGeometry:Wb,Layers:Kd,LessCompare:PF,LessDepth:Kx,LessEqualCompare:SM,LessEqualDepth:nf,LessEqualStencilFunc:cY,LessStencilFunc:aY,Light:Pu,LightProbe:Pz,Line:bu,Line3:tJ,LineBasicMaterial:pi,LineCurve:AM,LineCurve3:tz,LineDashedMaterial:mz,LineLoop:YF,LineSegments:Ls,LinearFilter:ei,LinearInterpolant:zM,LinearMipMapLinearFilter:jq,LinearMipMapNearestFilter:Gq,LinearMipmapLinearFilter:Wa,LinearMipmapNearestFilter:Ng,LinearSRGBColorSpace:pa,LinearToneMapping:pF,LinearTransfer:lv,Loader:vo,LoaderUtils:zE,LoadingManager:BM,LoopOnce:_F,LoopPingPong:wF,LoopRepeat:SF,MOUSE:Ld,Material:ti,MaterialLoader:Jb,MathUtils:LF,Matrix2:XM,Matrix3:en,Matrix4:Ht,MaxEquation:JD,Mesh:ar,MeshBasicMaterial:Mu,MeshDepthMaterial:NM,MeshDistanceMaterial:DM,MeshLambertMaterial:hz,MeshMatcapMaterial:pz,MeshNormalMaterial:fz,MeshPhongMaterial:LM,MeshPhysicalMaterial:uz,MeshStandardMaterial:Zb,MeshToonMaterial:dz,MinEquation:ZD,MirroredRepeatWrapping:ov,MixOperation:fF,MultiplyBlending:AE,MultiplyOperation:Ov,NearestFilter:Pi,NearestMipMapLinearFilter:Wq,NearestMipMapNearestFilter:Hq,NearestMipmapLinearFilter:op,NearestMipmapNearestFilter:hM,NeutralToneMapping:xF,NeverCompare:TF,NeverDepth:qx,NeverStencilFunc:sY,NoBlending:tc,NoColorSpace:Yl,NoToneMapping:Xa,NormalAnimationBlendMode:Pb,NormalBlending:qd,NotEqualCompare:IF,NotEqualDepth:e1,NotEqualStencilFunc:dY,NumberKeyframeTrack:mv,Object3D:Pn,ObjectLoader:CZ,ObjectSpaceNormalMap:MF,OctahedronGeometry:Bv,OneFactor:eF,OneMinusConstantAlphaFactor:dF,OneMinusConstantColorFactor:cF,OneMinusDstAlphaFactor:iF,OneMinusDstColorFactor:sF,OneMinusSrcAlphaFactor:Xx,OneMinusSrcColorFactor:nF,OrthographicCamera:Ya,PCFShadowMap:bb,PCFSoftShadowMap:Lg,PMREMGenerator:$E,Path:k1,PerspectiveCamera:yr,Plane:Xl,PlaneGeometry:Gp,PlaneHelper:hJ,PointLight:wz,PointLightHelper:iJ,Points:$g,PointsMaterial:Wd,PolarGridHelper:lJ,PolyhedronGeometry:Tu,PositionalAudio:OZ,PropertyBinding:Cn,PropertyMixer:Oz,QuadraticBezierCurve:IM,QuadraticBezierCurve3:kM,Quaternion:Ri,QuaternionKeyframeTrack:Hv,QuaternionLinearInterpolant:bz,RED_GREEN_RGTC2_Format:C1,RED_RGTC1_Format:bM,REVISION:xb,RGBADepthPacking:CF,RGBAFormat:Wi,RGBAIntegerFormat:Tb,RGBA_ASTC_10x10_Format:x1,RGBA_ASTC_10x5_Format:g1,RGBA_ASTC_10x6_Format:v1,RGBA_ASTC_10x8_Format:y1,RGBA_ASTC_12x10_Format:b1,RGBA_ASTC_12x12_Format:_1,RGBA_ASTC_4x4_Format:l1,RGBA_ASTC_5x4_Format:c1,RGBA_ASTC_5x5_Format:u1,RGBA_ASTC_6x5_Format:d1,RGBA_ASTC_6x6_Format:f1,RGBA_ASTC_8x5_Format:h1,RGBA_ASTC_8x6_Format:p1,RGBA_ASTC_8x8_Format:m1,RGBA_BPTC_Format:Bg,RGBA_ETC2_EAC_Format:a1,RGBA_PVRTC_2BPPV1_Format:i1,RGBA_PVRTC_4BPPV1_Format:r1,RGBA_S3TC_DXT1_Format:Fg,RGBA_S3TC_DXT3_Format:zg,RGBA_S3TC_DXT5_Format:Ug,RGBDepthPacking:Zq,RGBFormat:yM,RGBIntegerFormat:Xq,RGB_BPTC_SIGNED_Format:S1,RGB_BPTC_UNSIGNED_Format:w1,RGB_ETC1_Format:o1,RGB_ETC2_Format:s1,RGB_PVRTC_2BPPV1_Format:n1,RGB_PVRTC_4BPPV1_Format:t1,RGB_S3TC_DXT1_Format:Dg,RGDepthPacking:Jq,RGFormat:xM,RGIntegerFormat:Mb,RawShaderMaterial:cz,Ray:uf,Raycaster:Nz,RectAreaLight:Mz,RedFormat:Cb,RedIntegerFormat:Lv,ReinhardToneMapping:mF,RenderTarget:Rb,RenderTarget3D:XZ,RenderTargetArray:qZ,RepeatWrapping:iv,ReplaceStencilOp:eY,ReverseSubtractEquation:KD,RingGeometry:Gb,SIGNED_RED_GREEN_RGTC2_Format:M1,SIGNED_RED_RGTC1_Format:E1,SRGBColorSpace:co,SRGBTransfer:Fn,Scene:P1,ShaderChunk:un,ShaderLib:fa,ShaderMaterial:Os,ShadowMaterial:lz,Shape:Zd,ShapeGeometry:jb,ShapePath:gJ,ShapeUtils:ma,ShortType:mM,Skeleton:Lb,SkeletonHelper:rJ,SkinnedMesh:jF,Source:cu,Sphere:Ai,SphereGeometry:Vv,Spherical:BE,SphericalHarmonics3:Tz,SplineCurve:OM,SpotLight:Sz,SpotLightHelper:nJ,Sprite:WF,SpriteMaterial:MM,SrcAlphaFactor:jx,SrcAlphaSaturateFactor:aF,SrcColorFactor:tF,StaticCopyUsage:yY,StaticDrawUsage:cv,StaticReadUsage:mY,StereoCamera:RZ,StreamCopyUsage:bY,StreamDrawUsage:pY,StreamReadUsage:vY,StringKeyframeTrack:hf,SubtractEquation:YD,SubtractiveBlending:RE,TOUCH:Nd,TangentSpaceNormalMap:Cu,TetrahedronGeometry:Xb,Texture:_r,TextureLoader:_Z,TextureUtils:SJ,TimestampQuery:SY,TorusGeometry:qb,TorusKnotGeometry:Yb,Triangle:Lo,TriangleFanDrawMode:Kq,TriangleStripDrawMode:Yq,TrianglesDrawMode:qq,TubeGeometry:Kb,UVMapping:_b,Uint16BufferAttribute:EM,Uint32BufferAttribute:CM,Uint8BufferAttribute:lK,Uint8ClampedBufferAttribute:cK,Uniform:jM,UniformsGroup:KZ,UniformsLib:ht,UniformsUtils:BF,UnsignedByteType:ks,UnsignedInt248Type:wp,UnsignedInt5999Type:gM,UnsignedIntType:hc,UnsignedShort4444Type:wb,UnsignedShort5551Type:Eb,UnsignedShortType:Sp,VSMShadowMap:ua,Vector2:$e,Vector3:J,Vector4:Mn,VectorKeyframeTrack:gv,VideoFrameTexture:IK,VideoTexture:KF,WebGL3DRenderTarget:YY,WebGLArrayRenderTarget:qY,WebGLCoordinateSystem:Rs,WebGLCubeRenderTarget:$F,WebGLRenderTarget:Za,WebGLRenderer:Hz,WebGLUtils:$z,WebGPUCoordinateSystem:uv,WebXRController:Mx,WireframeGeometry:az,WrapAroundEnding:av,ZeroCurvatureEnding:Vd,ZeroFactor:QD,ZeroSlopeEnding:$d,ZeroStencilOp:Qq,createCanvasElement:DF},Symbol.toStringTag,{value:"Module"}));var tw={exports:{}},ou={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FA;function ire(){return FA||(FA=1,ou.ConcurrentRoot=1,ou.ContinuousEventPriority=4,ou.DefaultEventPriority=16,ou.DiscreteEventPriority=1,ou.IdleEventPriority=536870912,ou.LegacyRoot=0),ou}var zA;function ore(){return zA||(zA=1,tw.exports=ire()),tw.exports}var cp=ore();function sre(t){let e;const n=new Set,r=(d,f)=>{const m=typeof d=="function"?d(e):d;if(m!==e){const g=e;e=f?m:Object.assign({},e,m),n.forEach(y=>y(e,g))}},i=()=>e,o=(d,f=i,m=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let g=f(e);function y(){const x=f(e);if(!m(g,x)){const S=g;d(g=x,S)}}return n.add(y),()=>n.delete(y)},c={setState:r,getState:i,subscribe:(d,f,m)=>f||m?o(d,f,m):(n.add(d),()=>n.delete(d)),destroy:()=>n.clear()};return e=t(r,i,c),c}const are=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),UA=are?D.useEffect:D.useLayoutEffect;function YM(t){const e=typeof t=="function"?sre(t):t,n=(r=e.getState,i=Object.is)=>{const[,o]=D.useReducer(_=>_+1,0),s=e.getState(),a=D.useRef(s),c=D.useRef(r),d=D.useRef(i),f=D.useRef(!1),m=D.useRef();m.current===void 0&&(m.current=r(s));let g,y=!1;(a.current!==s||c.current!==r||d.current!==i||f.current)&&(g=r(s),y=!i(m.current,g)),UA(()=>{y&&(m.current=g),a.current=s,c.current=r,d.current=i,f.current=!1});const x=D.useRef(s);UA(()=>{const _=()=>{try{const C=e.getState(),T=c.current(C);d.current(m.current,T)||(a.current=C,m.current=T,o())}catch{f.current=!0,o()}},b=e.subscribe(_);return e.getState()!==x.current&&_(),b},[]);const S=y?g:m.current;return D.useDebugValue(S),S};return Object.assign(n,e),n[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const r=[n,e];return{next(){const i=r.length<=0;return{value:r.shift(),done:i}}}},n}var nw={exports:{}},rw={exports:{}},iw={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BA;function lre(){return BA||(BA=1,function(t){function e(V,Q){var Z=V.length;V.push(Q);e:for(;0<Z;){var W=Z-1>>>1,le=V[W];if(0<i(le,Q))V[W]=Q,V[Z]=le,Z=W;else break e}}function n(V){return V.length===0?null:V[0]}function r(V){if(V.length===0)return null;var Q=V[0],Z=V.pop();if(Z!==Q){V[0]=Z;e:for(var W=0,le=V.length,Ie=le>>>1;W<Ie;){var fe=2*(W+1)-1,Me=V[fe],De=fe+1,Le=V[De];if(0>i(Me,Z))De<le&&0>i(Le,Me)?(V[W]=Le,V[De]=Z,W=De):(V[W]=Me,V[fe]=Z,W=fe);else if(De<le&&0>i(Le,Z))V[W]=Le,V[De]=Z,W=De;else break e}}return Q}function i(V,Q){var Z=V.sortIndex-Q.sortIndex;return Z!==0?Z:V.id-Q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var c=[],d=[],f=1,m=null,g=3,y=!1,x=!1,S=!1,_=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(V){for(var Q=n(d);Q!==null;){if(Q.callback===null)r(d);else if(Q.startTime<=V)r(d),Q.sortIndex=Q.expirationTime,e(c,Q);else break;Q=n(d)}}function A(V){if(S=!1,T(V),!x)if(n(c)!==null)x=!0,ne(P);else{var Q=n(d);Q!==null&&se(A,Q.startTime-V)}}function P(V,Q){x=!1,S&&(S=!1,b(z),z=-1),y=!0;var Z=g;try{for(T(Q),m=n(c);m!==null&&(!(m.expirationTime>Q)||V&&!B());){var W=m.callback;if(typeof W=="function"){m.callback=null,g=m.priorityLevel;var le=W(m.expirationTime<=Q);Q=t.unstable_now(),typeof le=="function"?m.callback=le:m===n(c)&&r(c),T(Q)}else r(c);m=n(c)}if(m!==null)var Ie=!0;else{var fe=n(d);fe!==null&&se(A,fe.startTime-Q),Ie=!1}return Ie}finally{m=null,g=Z,y=!1}}var R=!1,k=null,z=-1,L=5,O=-1;function B(){return!(t.unstable_now()-O<L)}function j(){if(k!==null){var V=t.unstable_now();O=V;var Q=!0;try{Q=k(!0,V)}finally{Q?X():(R=!1,k=null)}}else R=!1}var X;if(typeof C=="function")X=function(){C(j)};else if(typeof MessageChannel<"u"){var ee=new MessageChannel,K=ee.port2;ee.port1.onmessage=j,X=function(){K.postMessage(null)}}else X=function(){_(j,0)};function ne(V){k=V,R||(R=!0,X())}function se(V,Q){z=_(function(){V(t.unstable_now())},Q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(V){V.callback=null},t.unstable_continueExecution=function(){x||y||(x=!0,ne(P))},t.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<V?Math.floor(1e3/V):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(V){switch(g){case 1:case 2:case 3:var Q=3;break;default:Q=g}var Z=g;g=Q;try{return V()}finally{g=Z}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(V,Q){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var Z=g;g=V;try{return Q()}finally{g=Z}},t.unstable_scheduleCallback=function(V,Q,Z){var W=t.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?W+Z:W):Z=W,V){case 1:var le=-1;break;case 2:le=250;break;case 5:le=1073741823;break;case 4:le=1e4;break;default:le=5e3}return le=Z+le,V={id:f++,callback:Q,priorityLevel:V,startTime:Z,expirationTime:le,sortIndex:-1},Z>W?(V.sortIndex=Z,e(d,V),n(c)===null&&V===n(d)&&(S?(b(z),z=-1):S=!0,se(A,Z-W))):(V.sortIndex=le,e(c,V),x||y||(x=!0,ne(P))),V},t.unstable_shouldYield=B,t.unstable_wrapCallback=function(V){var Q=g;return function(){var Z=g;g=Q;try{return V.apply(this,arguments)}finally{g=Z}}}}(iw)),iw}var VA;function cre(){return VA||(VA=1,rw.exports=lre()),rw.exports}/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ow,$A;function ure(){return $A||($A=1,ow=function(e){var n={},r=Np(),i=cre(),o=Object.assign;function s(h){for(var p="https://reactjs.org/docs/error-decoder.html?invariant="+h,w=1;w<arguments.length;w++)p+="&args[]="+encodeURIComponent(arguments[w]);return"Minified React error #"+h+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,c=Symbol.for("react.element"),d=Symbol.for("react.portal"),f=Symbol.for("react.fragment"),m=Symbol.for("react.strict_mode"),g=Symbol.for("react.profiler"),y=Symbol.for("react.provider"),x=Symbol.for("react.context"),S=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),b=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),A=Symbol.for("react.offscreen"),P=Symbol.iterator;function R(h){return h===null||typeof h!="object"?null:(h=P&&h[P]||h["@@iterator"],typeof h=="function"?h:null)}function k(h){if(h==null)return null;if(typeof h=="function")return h.displayName||h.name||null;if(typeof h=="string")return h;switch(h){case f:return"Fragment";case d:return"Portal";case g:return"Profiler";case m:return"StrictMode";case _:return"Suspense";case b:return"SuspenseList"}if(typeof h=="object")switch(h.$$typeof){case x:return(h.displayName||"Context")+".Consumer";case y:return(h._context.displayName||"Context")+".Provider";case S:var p=h.render;return h=h.displayName,h||(h=p.displayName||p.name||"",h=h!==""?"ForwardRef("+h+")":"ForwardRef"),h;case C:return p=h.displayName||null,p!==null?p:k(h.type)||"Memo";case T:p=h._payload,h=h._init;try{return k(h(p))}catch{}}return null}function z(h){var p=h.type;switch(h.tag){case 24:return"Cache";case 9:return(p.displayName||"Context")+".Consumer";case 10:return(p._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return h=p.render,h=h.displayName||h.name||"",p.displayName||(h!==""?"ForwardRef("+h+")":"ForwardRef");case 7:return"Fragment";case 5:return p;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return k(p);case 8:return p===m?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof p=="function")return p.displayName||p.name||null;if(typeof p=="string")return p}return null}function L(h){var p=h,w=h;if(h.alternate)for(;p.return;)p=p.return;else{h=p;do p=h,(p.flags&4098)!==0&&(w=p.return),h=p.return;while(h)}return p.tag===3?w:null}function O(h){if(L(h)!==h)throw Error(s(188))}function B(h){var p=h.alternate;if(!p){if(p=L(h),p===null)throw Error(s(188));return p!==h?null:h}for(var w=h,M=p;;){var N=w.return;if(N===null)break;var U=N.alternate;if(U===null){if(M=N.return,M!==null){w=M;continue}break}if(N.child===U.child){for(U=N.child;U;){if(U===w)return O(N),h;if(U===M)return O(N),p;U=U.sibling}throw Error(s(188))}if(w.return!==M.return)w=N,M=U;else{for(var te=!1,me=N.child;me;){if(me===w){te=!0,w=N,M=U;break}if(me===M){te=!0,M=N,w=U;break}me=me.sibling}if(!te){for(me=U.child;me;){if(me===w){te=!0,w=U,M=N;break}if(me===M){te=!0,M=U,w=N;break}me=me.sibling}if(!te)throw Error(s(189))}}if(w.alternate!==M)throw Error(s(190))}if(w.tag!==3)throw Error(s(188));return w.stateNode.current===w?h:p}function j(h){return h=B(h),h!==null?X(h):null}function X(h){if(h.tag===5||h.tag===6)return h;for(h=h.child;h!==null;){var p=X(h);if(p!==null)return p;h=h.sibling}return null}function ee(h){if(h.tag===5||h.tag===6)return h;for(h=h.child;h!==null;){if(h.tag!==4){var p=ee(h);if(p!==null)return p}h=h.sibling}return null}var K=Array.isArray,ne=e.getPublicInstance,se=e.getRootHostContext,V=e.getChildHostContext,Q=e.prepareForCommit,Z=e.resetAfterCommit,W=e.createInstance,le=e.appendInitialChild,Ie=e.finalizeInitialChildren,fe=e.prepareUpdate,Me=e.shouldSetTextContent,De=e.createTextInstance,Le=e.scheduleTimeout,ge=e.cancelTimeout,be=e.noTimeout,Fe=e.isPrimaryRenderer,Ye=e.supportsMutation,at=e.supportsPersistence,Ge=e.supportsHydration,q=e.getInstanceFromNode,Xe=e.preparePortalMount,Ve=e.getCurrentEventPriority,He=e.detachDeletedInstance,ze=e.supportsMicrotasks,ot=e.scheduleMicrotask,Be=e.supportsTestSelectors,Y=e.findFiberRoot,$=e.getBoundingRect,re=e.getTextContent,pe=e.isHiddenSubtree,ke=e.matchAccessibilityRole,Ce=e.setFocusIfFocusable,tt=e.setupIntersectionObserver,Qe=e.appendChild,St=e.appendChildToContainer,Mt=e.commitTextUpdate,We=e.commitMount,dt=e.commitUpdate,Pt=e.insertBefore,Lt=e.insertInContainerBefore,pt=e.removeChild,ue=e.removeChildFromContainer,Ne=e.resetTextContent,st=e.hideInstance,ce=e.hideTextInstance,Ze=e.unhideInstance,Re=e.unhideTextInstance,Ue=e.clearContainer,mt=e.cloneInstance,lt=e.createContainerChildSet,Nt=e.appendChildToContainerChildSet,vn=e.finalizeContainerChildren,Un=e.replaceContainerChildren,tn=e.cloneHiddenInstance,fr=e.cloneHiddenTextInstance,wr=e.canHydrateInstance,bc=e.canHydrateTextInstance,Ea=e.canHydrateSuspenseInstance,as=e.isSuspenseInstancePending,Vo=e.isSuspenseInstanceFallback,il=e.registerSuspenseInstanceRetry,$o=e.getNextHydratableSibling,Ca=e.getFirstHydratableChild,mf=e.getFirstHydratableChildWithinContainer,_c=e.getFirstHydratableChildWithinSuspenseInstance,gf=e.hydrateInstance,ls=e.hydrateTextInstance,vf=e.hydrateSuspenseInstance,yf=e.getNextHydratableInstanceAfterSuspenseInstance,xf=e.commitHydratedContainer,bf=e.commitHydratedSuspenseInstance,_f=e.clearSuspenseBoundary,Sf=e.clearSuspenseBoundaryFromContainer,G=e.shouldDeleteUnhydratedTailInstances,xe=e.didNotMatchHydratedContainerTextInstance,Te=e.didNotMatchHydratedTextInstance,_e;function ye(h){if(_e===void 0)try{throw Error()}catch(w){var p=w.stack.trim().match(/\n( *(at )?)/);_e=p&&p[1]||""}return`
`+_e+h}var Ke=!1;function ut(h,p){if(!h||Ke)return"";Ke=!0;var w=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(p)if(p=function(){throw Error()},Object.defineProperty(p.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(p,[])}catch(et){var M=et}Reflect.construct(h,[],p)}else{try{p.call()}catch(et){M=et}h.call(p.prototype)}else{try{throw Error()}catch(et){M=et}h()}}catch(et){if(et&&M&&typeof et.stack=="string"){for(var N=et.stack.split(`
`),U=M.stack.split(`
`),te=N.length-1,me=U.length-1;1<=te&&0<=me&&N[te]!==U[me];)me--;for(;1<=te&&0<=me;te--,me--)if(N[te]!==U[me]){if(te!==1||me!==1)do if(te--,me--,0>me||N[te]!==U[me]){var Oe=`
`+N[te].replace(" at new "," at ");return h.displayName&&Oe.includes("<anonymous>")&&(Oe=Oe.replace("<anonymous>",h.displayName)),Oe}while(1<=te&&0<=me);break}}}finally{Ke=!1,Error.prepareStackTrace=w}return(h=h?h.displayName||h.name:"")?ye(h):""}var vt=Object.prototype.hasOwnProperty,bt=[],Dt=-1;function kt(h){return{current:h}}function nt(h){0>Dt||(h.current=bt[Dt],bt[Dt]=null,Dt--)}function Rt(h,p){Dt++,bt[Dt]=h.current,h.current=p}var $t={},fn=kt($t),hn=kt(!1),nn=$t;function Tt(h,p){var w=h.type.contextTypes;if(!w)return $t;var M=h.stateNode;if(M&&M.__reactInternalMemoizedUnmaskedChildContext===p)return M.__reactInternalMemoizedMaskedChildContext;var N={},U;for(U in w)N[U]=p[U];return M&&(h=h.stateNode,h.__reactInternalMemoizedUnmaskedChildContext=p,h.__reactInternalMemoizedMaskedChildContext=N),N}function yn(h){return h=h.childContextTypes,h!=null}function sn(){nt(hn),nt(fn)}function Gr(h,p,w){if(fn.current!==$t)throw Error(s(168));Rt(fn,p),Rt(hn,w)}function Fs(h,p,w){var M=h.stateNode;if(p=p.childContextTypes,typeof M.getChildContext!="function")return w;M=M.getChildContext();for(var N in M)if(!(N in p))throw Error(s(108,z(h)||"Unknown",N));return o({},w,M)}function Or(h){return h=(h=h.stateNode)&&h.__reactInternalMemoizedMergedChildContext||$t,nn=fn.current,Rt(fn,h),Rt(hn,hn.current),!0}function cs(h,p,w){var M=h.stateNode;if(!M)throw Error(s(169));w?(h=Fs(h,p,nn),M.__reactInternalMemoizedMergedChildContext=h,nt(hn),nt(fn),Rt(fn,h)):nt(hn),Rt(hn,w)}var pn=Math.clz32?Math.clz32:jr,oi=Math.log,Lr=Math.LN2;function jr(h){return h>>>=0,h===0?32:31-(oi(h)/Lr|0)|0}var hr=64,mn=4194304;function Ii(h){switch(h&-h){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return h&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return h}}function Ru(h,p){var w=h.pendingLanes;if(w===0)return 0;var M=0,N=h.suspendedLanes,U=h.pingedLanes,te=w&268435455;if(te!==0){var me=te&~N;me!==0?M=Ii(me):(U&=te,U!==0&&(M=Ii(U)))}else te=w&~N,te!==0?M=Ii(te):U!==0&&(M=Ii(U));if(M===0)return 0;if(p!==0&&p!==M&&(p&N)===0&&(N=M&-M,U=p&-p,N>=U||N===16&&(U&4194240)!==0))return p;if((M&4)!==0&&(M|=w&16),p=h.entangledLanes,p!==0)for(h=h.entanglements,p&=M;0<p;)w=31-pn(p),N=1<<w,M|=h[w],p&=~N;return M}function Qp(h,p){switch(h){case 1:case 2:case 4:return p+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return p+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function n0(h,p){for(var w=h.suspendedLanes,M=h.pingedLanes,N=h.expirationTimes,U=h.pendingLanes;0<U;){var te=31-pn(U),me=1<<te,Oe=N[te];Oe===-1?((me&w)===0||(me&M)!==0)&&(N[te]=Qp(me,p)):Oe<=p&&(h.expiredLanes|=me),U&=~me}}function wf(h){return h=h.pendingLanes&-1073741825,h!==0?h:h&1073741824?1073741824:0}function Ef(h){for(var p=[],w=0;31>w;w++)p.push(h);return p}function ol(h,p,w){h.pendingLanes|=p,p!==536870912&&(h.suspendedLanes=0,h.pingedLanes=0),h=h.eventTimes,p=31-pn(p),h[p]=w}function Cf(h,p){var w=h.pendingLanes&~p;h.pendingLanes=p,h.suspendedLanes=0,h.pingedLanes=0,h.expiredLanes&=p,h.mutableReadLanes&=p,h.entangledLanes&=p,p=h.entanglements;var M=h.eventTimes;for(h=h.expirationTimes;0<w;){var N=31-pn(w),U=1<<N;p[N]=0,M[N]=-1,h[N]=-1,w&=~U}}function us(h,p){var w=h.entangledLanes|=p;for(h=h.entanglements;w;){var M=31-pn(w),N=1<<M;N&p|h[M]&p&&(h[M]|=p),w&=~N}}var an=0;function zs(h){return h&=-h,1<h?4<h?(h&268435455)!==0?16:536870912:4:1}var sl=i.unstable_scheduleCallback,Sc=i.unstable_cancelCallback,Ma=i.unstable_shouldYield,h_=i.unstable_requestPaint,Rr=i.unstable_now,al=i.unstable_ImmediatePriority,p_=i.unstable_UserBlockingPriority,Mf=i.unstable_NormalPriority,Tf=i.unstable_IdlePriority,Au=null,ds=null;function Iu(h){if(ds&&typeof ds.onCommitFiberRoot=="function")try{ds.onCommitFiberRoot(Au,h,void 0,(h.current.flags&128)===128)}catch{}}function ku(h,p){return h===p&&(h!==0||1/h===1/p)||h!==h&&p!==p}var mi=typeof Object.is=="function"?Object.is:ku,yo=null,Pf=!1,em=!1;function Rf(h){yo===null?yo=[h]:yo.push(h)}function Af(h){Pf=!0,Rf(h)}function xo(){if(!em&&yo!==null){em=!0;var h=0,p=an;try{var w=yo;for(an=1;h<w.length;h++){var M=w[h];do M=M(!0);while(M!==null)}yo=null,Pf=!1}catch(N){throw yo!==null&&(yo=yo.slice(h+1)),sl(al,xo),N}finally{an=p,em=!1}}return null}var r0=a.ReactCurrentBatchConfig;function Ho(h,p){if(mi(h,p))return!0;if(typeof h!="object"||h===null||typeof p!="object"||p===null)return!1;var w=Object.keys(h),M=Object.keys(p);if(w.length!==M.length)return!1;for(M=0;M<w.length;M++){var N=w[M];if(!vt.call(p,N)||!mi(h[N],p[N]))return!1}return!0}function tm(h){switch(h.tag){case 5:return ye(h.type);case 16:return ye("Lazy");case 13:return ye("Suspense");case 19:return ye("SuspenseList");case 0:case 2:case 15:return h=ut(h.type,!1),h;case 11:return h=ut(h.type.render,!1),h;case 1:return h=ut(h.type,!0),h;default:return""}}function ki(h,p){if(h&&h.defaultProps){p=o({},p),h=h.defaultProps;for(var w in h)p[w]===void 0&&(p[w]=h[w]);return p}return p}var Ou=kt(null),ll=null,Us=null,If=null;function gi(){If=Us=ll=null}function cl(h,p,w){Fe?(Rt(Ou,p._currentValue),p._currentValue=w):(Rt(Ou,p._currentValue2),p._currentValue2=w)}function Lu(h){var p=Ou.current;nt(Ou),Fe?h._currentValue=p:h._currentValue2=p}function ul(h,p,w){for(;h!==null;){var M=h.alternate;if((h.childLanes&p)!==p?(h.childLanes|=p,M!==null&&(M.childLanes|=p)):M!==null&&(M.childLanes&p)!==p&&(M.childLanes|=p),h===w)break;h=h.return}}function wc(h,p){ll=h,If=Us=null,h=h.dependencies,h!==null&&h.firstContext!==null&&((h.lanes&p)!==0&&(zr=!0),h.firstContext=null)}function Oi(h){var p=Fe?h._currentValue:h._currentValue2;if(If!==h)if(h={context:h,memoizedValue:p,next:null},Us===null){if(ll===null)throw Error(s(308));Us=h,ll.dependencies={lanes:0,firstContext:h}}else Us=Us.next=h;return p}var bo=null,_o=!1;function Ec(h){h.updateQueue={baseState:h.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function nm(h,p){h=h.updateQueue,p.updateQueue===h&&(p.updateQueue={baseState:h.baseState,firstBaseUpdate:h.firstBaseUpdate,lastBaseUpdate:h.lastBaseUpdate,shared:h.shared,effects:h.effects})}function Bs(h,p){return{eventTime:h,lane:p,tag:0,payload:null,callback:null,next:null}}function Ta(h,p){var w=h.updateQueue;w!==null&&(w=w.shared,mr!==null&&(h.mode&1)!==0&&(Qt&2)===0?(h=w.interleaved,h===null?(p.next=p,bo===null?bo=[w]:bo.push(w)):(p.next=h.next,h.next=p),w.interleaved=p):(h=w.pending,h===null?p.next=p:(p.next=h.next,h.next=p),w.pending=p))}function kf(h,p,w){if(p=p.updateQueue,p!==null&&(p=p.shared,(w&4194240)!==0)){var M=p.lanes;M&=h.pendingLanes,w|=M,p.lanes=w,us(h,w)}}function Of(h,p){var w=h.updateQueue,M=h.alternate;if(M!==null&&(M=M.updateQueue,w===M)){var N=null,U=null;if(w=w.firstBaseUpdate,w!==null){do{var te={eventTime:w.eventTime,lane:w.lane,tag:w.tag,payload:w.payload,callback:w.callback,next:null};U===null?N=U=te:U=U.next=te,w=w.next}while(w!==null);U===null?N=U=p:U=U.next=p}else N=U=p;w={baseState:M.baseState,firstBaseUpdate:N,lastBaseUpdate:U,shared:M.shared,effects:M.effects},h.updateQueue=w;return}h=w.lastBaseUpdate,h===null?w.firstBaseUpdate=p:h.next=p,w.lastBaseUpdate=p}function Lf(h,p,w,M){var N=h.updateQueue;_o=!1;var U=N.firstBaseUpdate,te=N.lastBaseUpdate,me=N.shared.pending;if(me!==null){N.shared.pending=null;var Oe=me,et=Oe.next;Oe.next=null,te===null?U=et:te.next=et,te=Oe;var _t=h.alternate;_t!==null&&(_t=_t.updateQueue,me=_t.lastBaseUpdate,me!==te&&(me===null?_t.firstBaseUpdate=et:me.next=et,_t.lastBaseUpdate=Oe))}if(U!==null){var jt=N.baseState;te=0,_t=et=Oe=null,me=U;do{var Ft=me.lane,rn=me.eventTime;if((M&Ft)===Ft){_t!==null&&(_t=_t.next={eventTime:rn,lane:0,tag:me.tag,payload:me.payload,callback:me.callback,next:null});e:{var gt=h,Jr=me;switch(Ft=p,rn=w,Jr.tag){case 1:if(gt=Jr.payload,typeof gt=="function"){jt=gt.call(rn,jt,Ft);break e}jt=gt;break e;case 3:gt.flags=gt.flags&-65537|128;case 0:if(gt=Jr.payload,Ft=typeof gt=="function"?gt.call(rn,jt,Ft):gt,Ft==null)break e;jt=o({},jt,Ft);break e;case 2:_o=!0}}me.callback!==null&&me.lane!==0&&(h.flags|=64,Ft=N.effects,Ft===null?N.effects=[me]:Ft.push(me))}else rn={eventTime:rn,lane:Ft,tag:me.tag,payload:me.payload,callback:me.callback,next:null},_t===null?(et=_t=rn,Oe=jt):_t=_t.next=rn,te|=Ft;if(me=me.next,me===null){if(me=N.shared.pending,me===null)break;Ft=me,me=Ft.next,Ft.next=null,N.lastBaseUpdate=Ft,N.shared.pending=null}}while(!0);if(_t===null&&(Oe=jt),N.baseState=Oe,N.firstBaseUpdate=et,N.lastBaseUpdate=_t,p=N.shared.interleaved,p!==null){N=p;do te|=N.lane,N=N.next;while(N!==p)}else U===null&&(N.shared.lanes=0);ms|=te,h.lanes=te,h.memoizedState=jt}}function i0(h,p,w){if(h=p.effects,p.effects=null,h!==null)for(p=0;p<h.length;p++){var M=h[p],N=M.callback;if(N!==null){if(M.callback=null,M=w,typeof N!="function")throw Error(s(191,N));N.call(M)}}}var o0=new r.Component().refs;function rm(h,p,w,M){p=h.memoizedState,w=w(M,p),w=w==null?p:o({},p,w),h.memoizedState=w,h.lanes===0&&(h.updateQueue.baseState=w)}var Nf={isMounted:function(h){return(h=h._reactInternals)?L(h)===h:!1},enqueueSetState:function(h,p,w){h=h._reactInternals;var M=Sn(),N=Ko(h),U=Bs(M,N);U.payload=p,w!=null&&(U.callback=w),Ta(h,U),p=li(h,N,M),p!==null&&kf(p,h,N)},enqueueReplaceState:function(h,p,w){h=h._reactInternals;var M=Sn(),N=Ko(h),U=Bs(M,N);U.tag=1,U.payload=p,w!=null&&(U.callback=w),Ta(h,U),p=li(h,N,M),p!==null&&kf(p,h,N)},enqueueForceUpdate:function(h,p){h=h._reactInternals;var w=Sn(),M=Ko(h),N=Bs(w,M);N.tag=2,p!=null&&(N.callback=p),Ta(h,N),p=li(h,M,w),p!==null&&kf(p,h,M)}};function im(h,p,w,M,N,U,te){return h=h.stateNode,typeof h.shouldComponentUpdate=="function"?h.shouldComponentUpdate(M,U,te):p.prototype&&p.prototype.isPureReactComponent?!Ho(w,M)||!Ho(N,U):!0}function s0(h,p,w){var M=!1,N=$t,U=p.contextType;return typeof U=="object"&&U!==null?U=Oi(U):(N=yn(p)?nn:fn.current,M=p.contextTypes,U=(M=M!=null)?Tt(h,N):$t),p=new p(w,U),h.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=Nf,h.stateNode=p,p._reactInternals=h,M&&(h=h.stateNode,h.__reactInternalMemoizedUnmaskedChildContext=N,h.__reactInternalMemoizedMaskedChildContext=U),p}function a0(h,p,w,M){h=p.state,typeof p.componentWillReceiveProps=="function"&&p.componentWillReceiveProps(w,M),typeof p.UNSAFE_componentWillReceiveProps=="function"&&p.UNSAFE_componentWillReceiveProps(w,M),p.state!==h&&Nf.enqueueReplaceState(p,p.state,null)}function om(h,p,w,M){var N=h.stateNode;N.props=w,N.state=h.memoizedState,N.refs=o0,Ec(h);var U=p.contextType;typeof U=="object"&&U!==null?N.context=Oi(U):(U=yn(p)?nn:fn.current,N.context=Tt(h,U)),N.state=h.memoizedState,U=p.getDerivedStateFromProps,typeof U=="function"&&(rm(h,p,U,w),N.state=h.memoizedState),typeof p.getDerivedStateFromProps=="function"||typeof N.getSnapshotBeforeUpdate=="function"||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(p=N.state,typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount(),p!==N.state&&Nf.enqueueReplaceState(N,N.state,null),Lf(h,w,N,M),N.state=h.memoizedState),typeof N.componentDidMount=="function"&&(h.flags|=4194308)}var Cc=[],Pa=0,Df=null,Ff=0,So=[],Yi=0,dl=null,Vs=1,$s="";function fl(h,p){Cc[Pa++]=Ff,Cc[Pa++]=Df,Df=h,Ff=p}function l0(h,p,w){So[Yi++]=Vs,So[Yi++]=$s,So[Yi++]=dl,dl=h;var M=Vs;h=$s;var N=32-pn(M)-1;M&=~(1<<N),w+=1;var U=32-pn(p)+N;if(30<U){var te=N-N%5;U=(M&(1<<te)-1).toString(32),M>>=te,N-=te,Vs=1<<32-pn(p)+N|w<<N|M,$s=U+h}else Vs=1<<U|w<<N|M,$s=h}function sm(h){h.return!==null&&(fl(h,1),l0(h,1,0))}function am(h){for(;h===Df;)Df=Cc[--Pa],Cc[Pa]=null,Ff=Cc[--Pa],Cc[Pa]=null;for(;h===dl;)dl=So[--Yi],So[Yi]=null,$s=So[--Yi],So[Yi]=null,Vs=So[--Yi],So[Yi]=null}var vi=null,Xr=null,Jn=!1,Mc=!1,wo=null;function lm(h,p){var w=no(5,null,null,0);w.elementType="DELETED",w.stateNode=p,w.return=h,p=h.deletions,p===null?(h.deletions=[w],h.flags|=16):p.push(w)}function cm(h,p){switch(h.tag){case 5:return p=wr(p,h.type,h.pendingProps),p!==null?(h.stateNode=p,vi=h,Xr=Ca(p),!0):!1;case 6:return p=bc(p,h.pendingProps),p!==null?(h.stateNode=p,vi=h,Xr=null,!0):!1;case 13:if(p=Ea(p),p!==null){var w=dl!==null?{id:Vs,overflow:$s}:null;return h.memoizedState={dehydrated:p,treeContext:w,retryLane:1073741824},w=no(18,null,null,0),w.stateNode=p,w.return=h,h.child=w,vi=h,Xr=null,!0}return!1;default:return!1}}function zf(h){return(h.mode&1)!==0&&(h.flags&128)===0}function Ra(h){if(Jn){var p=Xr;if(p){var w=p;if(!cm(h,p)){if(zf(h))throw Error(s(418));p=$o(w);var M=vi;p&&cm(h,p)?lm(M,w):(h.flags=h.flags&-4097|2,Jn=!1,vi=h)}}else{if(zf(h))throw Error(s(418));h.flags=h.flags&-4097|2,Jn=!1,vi=h}}}function c0(h){for(h=h.return;h!==null&&h.tag!==5&&h.tag!==3&&h.tag!==13;)h=h.return;vi=h}function Nu(h){if(!Ge||h!==vi)return!1;if(!Jn)return c0(h),Jn=!0,!1;if(h.tag!==3&&(h.tag!==5||G(h.type)&&!Me(h.type,h.memoizedProps))){var p=Xr;if(p){if(zf(h)){for(h=Xr;h;)h=$o(h);throw Error(s(418))}for(;p;)lm(h,p),p=$o(p)}}if(c0(h),h.tag===13){if(!Ge)throw Error(s(316));if(h=h.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));Xr=yf(h)}else Xr=vi?$o(h.stateNode):null;return!0}function Tc(){Ge&&(Xr=vi=null,Mc=Jn=!1)}function Uf(h){wo===null?wo=[h]:wo.push(h)}function Pc(h,p,w){if(h=w.ref,h!==null&&typeof h!="function"&&typeof h!="object"){if(w._owner){if(w=w._owner,w){if(w.tag!==1)throw Error(s(309));var M=w.stateNode}if(!M)throw Error(s(147,h));var N=M,U=""+h;return p!==null&&p.ref!==null&&typeof p.ref=="function"&&p.ref._stringRef===U?p.ref:(p=function(te){var me=N.refs;me===o0&&(me=N.refs={}),te===null?delete me[U]:me[U]=te},p._stringRef=U,p)}if(typeof h!="string")throw Error(s(284));if(!w._owner)throw Error(s(290,h))}return h}function Aa(h,p){throw h=Object.prototype.toString.call(p),Error(s(31,h==="[object Object]"?"object with keys {"+Object.keys(p).join(", ")+"}":h))}function Rc(h){var p=h._init;return p(h._payload)}function u0(h){function p(Ee,ve){if(h){var Ae=Ee.deletions;Ae===null?(Ee.deletions=[ve],Ee.flags|=16):Ae.push(ve)}}function w(Ee,ve){if(!h)return null;for(;ve!==null;)p(Ee,ve),ve=ve.sibling;return null}function M(Ee,ve){for(Ee=new Map;ve!==null;)ve.key!==null?Ee.set(ve.key,ve):Ee.set(ve.index,ve),ve=ve.sibling;return Ee}function N(Ee,ve){return Ee=na(Ee,ve),Ee.index=0,Ee.sibling=null,Ee}function U(Ee,ve,Ae){return Ee.index=Ae,h?(Ae=Ee.alternate,Ae!==null?(Ae=Ae.index,Ae<ve?(Ee.flags|=2,ve):Ae):(Ee.flags|=2,ve)):(Ee.flags|=1048576,ve)}function te(Ee){return h&&Ee.alternate===null&&(Ee.flags|=2),Ee}function me(Ee,ve,Ae,ft){return ve===null||ve.tag!==6?(ve=fh(Ae,Ee.mode,ft),ve.return=Ee,ve):(ve=N(ve,Ae),ve.return=Ee,ve)}function Oe(Ee,ve,Ae,ft){var It=Ae.type;return It===f?_t(Ee,ve,Ae.props.children,ft,Ae.key):ve!==null&&(ve.elementType===It||typeof It=="object"&&It!==null&&It.$$typeof===T&&Rc(It)===ve.type)?(ft=N(ve,Ae.props),ft.ref=Pc(Ee,ve,Ae),ft.return=Ee,ft):(ft=dh(Ae.type,Ae.key,Ae.props,null,Ee.mode,ft),ft.ref=Pc(Ee,ve,Ae),ft.return=Ee,ft)}function et(Ee,ve,Ae,ft){return ve===null||ve.tag!==4||ve.stateNode.containerInfo!==Ae.containerInfo||ve.stateNode.implementation!==Ae.implementation?(ve=hh(Ae,Ee.mode,ft),ve.return=Ee,ve):(ve=N(ve,Ae.children||[]),ve.return=Ee,ve)}function _t(Ee,ve,Ae,ft,It){return ve===null||ve.tag!==7?(ve=Ll(Ae,Ee.mode,ft,It),ve.return=Ee,ve):(ve=N(ve,Ae),ve.return=Ee,ve)}function jt(Ee,ve,Ae){if(typeof ve=="string"&&ve!==""||typeof ve=="number")return ve=fh(""+ve,Ee.mode,Ae),ve.return=Ee,ve;if(typeof ve=="object"&&ve!==null){switch(ve.$$typeof){case c:return Ae=dh(ve.type,ve.key,ve.props,null,Ee.mode,Ae),Ae.ref=Pc(Ee,null,ve),Ae.return=Ee,Ae;case d:return ve=hh(ve,Ee.mode,Ae),ve.return=Ee,ve;case T:var ft=ve._init;return jt(Ee,ft(ve._payload),Ae)}if(K(ve)||R(ve))return ve=Ll(ve,Ee.mode,Ae,null),ve.return=Ee,ve;Aa(Ee,ve)}return null}function Ft(Ee,ve,Ae,ft){var It=ve!==null?ve.key:null;if(typeof Ae=="string"&&Ae!==""||typeof Ae=="number")return It!==null?null:me(Ee,ve,""+Ae,ft);if(typeof Ae=="object"&&Ae!==null){switch(Ae.$$typeof){case c:return Ae.key===It?Oe(Ee,ve,Ae,ft):null;case d:return Ae.key===It?et(Ee,ve,Ae,ft):null;case T:return It=Ae._init,Ft(Ee,ve,It(Ae._payload),ft)}if(K(Ae)||R(Ae))return It!==null?null:_t(Ee,ve,Ae,ft,null);Aa(Ee,Ae)}return null}function rn(Ee,ve,Ae,ft,It){if(typeof ft=="string"&&ft!==""||typeof ft=="number")return Ee=Ee.get(Ae)||null,me(ve,Ee,""+ft,It);if(typeof ft=="object"&&ft!==null){switch(ft.$$typeof){case c:return Ee=Ee.get(ft.key===null?Ae:ft.key)||null,Oe(ve,Ee,ft,It);case d:return Ee=Ee.get(ft.key===null?Ae:ft.key)||null,et(ve,Ee,ft,It);case T:var Zt=ft._init;return rn(Ee,ve,Ae,Zt(ft._payload),It)}if(K(ft)||R(ft))return Ee=Ee.get(Ae)||null,_t(ve,Ee,ft,It,null);Aa(ve,ft)}return null}function gt(Ee,ve,Ae,ft){for(var It=null,Zt=null,Xt=ve,_n=ve=0,Cr=null;Xt!==null&&_n<Ae.length;_n++){Xt.index>_n?(Cr=Xt,Xt=null):Cr=Xt.sibling;var bn=Ft(Ee,Xt,Ae[_n],ft);if(bn===null){Xt===null&&(Xt=Cr);break}h&&Xt&&bn.alternate===null&&p(Ee,Xt),ve=U(bn,ve,_n),Zt===null?It=bn:Zt.sibling=bn,Zt=bn,Xt=Cr}if(_n===Ae.length)return w(Ee,Xt),Jn&&fl(Ee,_n),It;if(Xt===null){for(;_n<Ae.length;_n++)Xt=jt(Ee,Ae[_n],ft),Xt!==null&&(ve=U(Xt,ve,_n),Zt===null?It=Xt:Zt.sibling=Xt,Zt=Xt);return Jn&&fl(Ee,_n),It}for(Xt=M(Ee,Xt);_n<Ae.length;_n++)Cr=rn(Xt,Ee,_n,Ae[_n],ft),Cr!==null&&(h&&Cr.alternate!==null&&Xt.delete(Cr.key===null?_n:Cr.key),ve=U(Cr,ve,_n),Zt===null?It=Cr:Zt.sibling=Cr,Zt=Cr);return h&&Xt.forEach(function(ra){return p(Ee,ra)}),Jn&&fl(Ee,_n),It}function Jr(Ee,ve,Ae,ft){var It=R(Ae);if(typeof It!="function")throw Error(s(150));if(Ae=It.call(Ae),Ae==null)throw Error(s(151));for(var Zt=It=null,Xt=ve,_n=ve=0,Cr=null,bn=Ae.next();Xt!==null&&!bn.done;_n++,bn=Ae.next()){Xt.index>_n?(Cr=Xt,Xt=null):Cr=Xt.sibling;var ra=Ft(Ee,Xt,bn.value,ft);if(ra===null){Xt===null&&(Xt=Cr);break}h&&Xt&&ra.alternate===null&&p(Ee,Xt),ve=U(ra,ve,_n),Zt===null?It=ra:Zt.sibling=ra,Zt=ra,Xt=Cr}if(bn.done)return w(Ee,Xt),Jn&&fl(Ee,_n),It;if(Xt===null){for(;!bn.done;_n++,bn=Ae.next())bn=jt(Ee,bn.value,ft),bn!==null&&(ve=U(bn,ve,_n),Zt===null?It=bn:Zt.sibling=bn,Zt=bn);return Jn&&fl(Ee,_n),It}for(Xt=M(Ee,Xt);!bn.done;_n++,bn=Ae.next())bn=rn(Xt,Ee,_n,bn.value,ft),bn!==null&&(h&&bn.alternate!==null&&Xt.delete(bn.key===null?_n:bn.key),ve=U(bn,ve,_n),Zt===null?It=bn:Zt.sibling=bn,Zt=bn);return h&&Xt.forEach(function(Bm){return p(Ee,Bm)}),Jn&&fl(Ee,_n),It}function ro(Ee,ve,Ae,ft){if(typeof Ae=="object"&&Ae!==null&&Ae.type===f&&Ae.key===null&&(Ae=Ae.props.children),typeof Ae=="object"&&Ae!==null){switch(Ae.$$typeof){case c:e:{for(var It=Ae.key,Zt=ve;Zt!==null;){if(Zt.key===It){if(It=Ae.type,It===f){if(Zt.tag===7){w(Ee,Zt.sibling),ve=N(Zt,Ae.props.children),ve.return=Ee,Ee=ve;break e}}else if(Zt.elementType===It||typeof It=="object"&&It!==null&&It.$$typeof===T&&Rc(It)===Zt.type){w(Ee,Zt.sibling),ve=N(Zt,Ae.props),ve.ref=Pc(Ee,Zt,Ae),ve.return=Ee,Ee=ve;break e}w(Ee,Zt);break}else p(Ee,Zt);Zt=Zt.sibling}Ae.type===f?(ve=Ll(Ae.props.children,Ee.mode,ft,Ae.key),ve.return=Ee,Ee=ve):(ft=dh(Ae.type,Ae.key,Ae.props,null,Ee.mode,ft),ft.ref=Pc(Ee,ve,Ae),ft.return=Ee,Ee=ft)}return te(Ee);case d:e:{for(Zt=Ae.key;ve!==null;){if(ve.key===Zt)if(ve.tag===4&&ve.stateNode.containerInfo===Ae.containerInfo&&ve.stateNode.implementation===Ae.implementation){w(Ee,ve.sibling),ve=N(ve,Ae.children||[]),ve.return=Ee,Ee=ve;break e}else{w(Ee,ve);break}else p(Ee,ve);ve=ve.sibling}ve=hh(Ae,Ee.mode,ft),ve.return=Ee,Ee=ve}return te(Ee);case T:return Zt=Ae._init,ro(Ee,ve,Zt(Ae._payload),ft)}if(K(Ae))return gt(Ee,ve,Ae,ft);if(R(Ae))return Jr(Ee,ve,Ae,ft);Aa(Ee,Ae)}return typeof Ae=="string"&&Ae!==""||typeof Ae=="number"?(Ae=""+Ae,ve!==null&&ve.tag===6?(w(Ee,ve.sibling),ve=N(ve,Ae),ve.return=Ee,Ee=ve):(w(Ee,ve),ve=fh(Ae,Ee.mode,ft),ve.return=Ee,Ee=ve),te(Ee)):w(Ee,ve)}return ro}var Hs=u0(!0),d0=u0(!1),Ac={},Li=kt(Ac),hl=kt(Ac),pl=kt(Ac);function Wo(h){if(h===Ac)throw Error(s(174));return h}function Bf(h,p){Rt(pl,p),Rt(hl,h),Rt(Li,Ac),h=se(p),nt(Li),Rt(Li,h)}function Ic(){nt(Li),nt(hl),nt(pl)}function f0(h){var p=Wo(pl.current),w=Wo(Li.current);p=V(w,h.type,p),w!==p&&(Rt(hl,h),Rt(Li,p))}function um(h){hl.current===h&&(nt(Li),nt(hl))}var ir=kt(0);function Vf(h){for(var p=h;p!==null;){if(p.tag===13){var w=p.memoizedState;if(w!==null&&(w=w.dehydrated,w===null||as(w)||Vo(w)))return p}else if(p.tag===19&&p.memoizedProps.revealOrder!==void 0){if((p.flags&128)!==0)return p}else if(p.child!==null){p.child.return=p,p=p.child;continue}if(p===h)break;for(;p.sibling===null;){if(p.return===null||p.return===h)return null;p=p.return}p.sibling.return=p.return,p=p.sibling}return null}var Ki=[];function ml(){for(var h=0;h<Ki.length;h++){var p=Ki[h];Fe?p._workInProgressVersionPrimary=null:p._workInProgressVersionSecondary=null}Ki.length=0}var Du=a.ReactCurrentDispatcher,Zi=a.ReactCurrentBatchConfig,gl=0,or=null,Nr=null,Dr=null,$f=!1,fs=!1,vl=0,Fu=0;function Fr(){throw Error(s(321))}function Hf(h,p){if(p===null)return!1;for(var w=0;w<p.length&&w<h.length;w++)if(!mi(h[w],p[w]))return!1;return!0}function kc(h,p,w,M,N,U){if(gl=U,or=p,p.memoizedState=null,p.updateQueue=null,p.lanes=0,Du.current=h===null||h.memoizedState===null?gm:vm,h=w(M,N),fs){U=0;do{if(fs=!1,vl=0,25<=U)throw Error(s(301));U+=1,Dr=Nr=null,p.updateQueue=null,Du.current=ym,h=w(M,N)}while(fs)}if(Du.current=Dc,p=Nr!==null&&Nr.next!==null,gl=0,Dr=Nr=or=null,$f=!1,p)throw Error(s(300));return h}function Ia(){var h=vl!==0;return vl=0,h}function Go(){var h={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Dr===null?or.memoizedState=Dr=h:Dr=Dr.next=h,Dr}function jo(){if(Nr===null){var h=or.alternate;h=h!==null?h.memoizedState:null}else h=Nr.next;var p=Dr===null?or.memoizedState:Dr.next;if(p!==null)Dr=p,Nr=h;else{if(h===null)throw Error(s(310));Nr=h,h={memoizedState:Nr.memoizedState,baseState:Nr.baseState,baseQueue:Nr.baseQueue,queue:Nr.queue,next:null},Dr===null?or.memoizedState=Dr=h:Dr=Dr.next=h}return Dr}function hs(h,p){return typeof p=="function"?p(h):p}function zu(h){var p=jo(),w=p.queue;if(w===null)throw Error(s(311));w.lastRenderedReducer=h;var M=Nr,N=M.baseQueue,U=w.pending;if(U!==null){if(N!==null){var te=N.next;N.next=U.next,U.next=te}M.baseQueue=N=U,w.pending=null}if(N!==null){U=N.next,M=M.baseState;var me=te=null,Oe=null,et=U;do{var _t=et.lane;if((gl&_t)===_t)Oe!==null&&(Oe=Oe.next={lane:0,action:et.action,hasEagerState:et.hasEagerState,eagerState:et.eagerState,next:null}),M=et.hasEagerState?et.eagerState:h(M,et.action);else{var jt={lane:_t,action:et.action,hasEagerState:et.hasEagerState,eagerState:et.eagerState,next:null};Oe===null?(me=Oe=jt,te=M):Oe=Oe.next=jt,or.lanes|=_t,ms|=_t}et=et.next}while(et!==null&&et!==U);Oe===null?te=M:Oe.next=me,mi(M,p.memoizedState)||(zr=!0),p.memoizedState=M,p.baseState=te,p.baseQueue=Oe,w.lastRenderedState=M}if(h=w.interleaved,h!==null){N=h;do U=N.lane,or.lanes|=U,ms|=U,N=N.next;while(N!==h)}else N===null&&(w.lanes=0);return[p.memoizedState,w.dispatch]}function Uu(h){var p=jo(),w=p.queue;if(w===null)throw Error(s(311));w.lastRenderedReducer=h;var M=w.dispatch,N=w.pending,U=p.memoizedState;if(N!==null){w.pending=null;var te=N=N.next;do U=h(U,te.action),te=te.next;while(te!==N);mi(U,p.memoizedState)||(zr=!0),p.memoizedState=U,p.baseQueue===null&&(p.baseState=U),w.lastRenderedState=U}return[U,M]}function dm(){}function fm(h,p){var w=or,M=jo(),N=p(),U=!mi(M.memoizedState,N);if(U&&(M.memoizedState=N,zr=!0),M=M.queue,Oc(Ws.bind(null,w,M,h),[h]),M.getSnapshot!==p||U||Dr!==null&&Dr.memoizedState.tag&1){if(w.flags|=2048,Vu(9,pm.bind(null,w,M,N,p),void 0,null),mr===null)throw Error(s(349));(gl&30)!==0||hm(w,p,N)}return N}function hm(h,p,w){h.flags|=16384,h={getSnapshot:p,value:w},p=or.updateQueue,p===null?(p={lastEffect:null,stores:null},or.updateQueue=p,p.stores=[h]):(w=p.stores,w===null?p.stores=[h]:w.push(h))}function pm(h,p,w,M){p.value=w,p.getSnapshot=M,Wf(p)&&li(h,1,-1)}function Ws(h,p,w){return w(function(){Wf(p)&&li(h,1,-1)})}function Wf(h){var p=h.getSnapshot;h=h.value;try{var w=p();return!mi(h,w)}catch{return!0}}function Bu(h){var p=Go();return typeof h=="function"&&(h=h()),p.memoizedState=p.baseState=h,h={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:hs,lastRenderedState:h},p.queue=h,h=h.dispatch=m_.bind(null,or,h),[p.memoizedState,h]}function Vu(h,p,w,M){return h={tag:h,create:p,destroy:w,deps:M,next:null},p=or.updateQueue,p===null?(p={lastEffect:null,stores:null},or.updateQueue=p,p.lastEffect=h.next=h):(w=p.lastEffect,w===null?p.lastEffect=h.next=h:(M=w.next,w.next=h,h.next=M,p.lastEffect=h)),h}function h0(){return jo().memoizedState}function ka(h,p,w,M){var N=Go();or.flags|=h,N.memoizedState=Vu(1|p,w,void 0,M===void 0?null:M)}function Gf(h,p,w,M){var N=jo();M=M===void 0?null:M;var U=void 0;if(Nr!==null){var te=Nr.memoizedState;if(U=te.destroy,M!==null&&Hf(M,te.deps)){N.memoizedState=Vu(p,w,U,M);return}}or.flags|=h,N.memoizedState=Vu(1|p,w,U,M)}function jf(h,p){return ka(8390656,8,h,p)}function Oc(h,p){return Gf(2048,8,h,p)}function Bn(h,p){return Gf(4,2,h,p)}function Xf(h,p){return Gf(4,4,h,p)}function $u(h,p){if(typeof p=="function")return h=h(),p(h),function(){p(null)};if(p!=null)return h=h(),p.current=h,function(){p.current=null}}function Lc(h,p,w){return w=w!=null?w.concat([h]):null,Gf(4,4,$u.bind(null,p,h),w)}function qf(){}function Yf(h,p){var w=jo();p=p===void 0?null:p;var M=w.memoizedState;return M!==null&&p!==null&&Hf(p,M[1])?M[0]:(w.memoizedState=[h,p],h)}function Nc(h,p){var w=jo();p=p===void 0?null:p;var M=w.memoizedState;return M!==null&&p!==null&&Hf(p,M[1])?M[0]:(h=h(),w.memoizedState=[h,p],h)}function Kf(h,p){var w=an;an=w!==0&&4>w?w:4,h(!0);var M=Zi.transition;Zi.transition={};try{h(!1),p()}finally{an=w,Zi.transition=M}}function yl(){return jo().memoizedState}function p0(h,p,w){var M=Ko(h);w={lane:M,action:w,hasEagerState:!1,eagerState:null,next:null},m0(h)?mm(p,w):(Hu(h,p,w),w=Sn(),h=li(h,M,w),h!==null&&Wu(h,p,M))}function m_(h,p,w){var M=Ko(h),N={lane:M,action:w,hasEagerState:!1,eagerState:null,next:null};if(m0(h))mm(p,N);else{Hu(h,p,N);var U=h.alternate;if(h.lanes===0&&(U===null||U.lanes===0)&&(U=p.lastRenderedReducer,U!==null))try{var te=p.lastRenderedState,me=U(te,w);if(N.hasEagerState=!0,N.eagerState=me,mi(me,te))return}catch{}finally{}w=Sn(),h=li(h,M,w),h!==null&&Wu(h,p,M)}}function m0(h){var p=h.alternate;return h===or||p!==null&&p===or}function mm(h,p){fs=$f=!0;var w=h.pending;w===null?p.next=p:(p.next=w.next,w.next=p),h.pending=p}function Hu(h,p,w){mr!==null&&(h.mode&1)!==0&&(Qt&2)===0?(h=p.interleaved,h===null?(w.next=w,bo===null?bo=[p]:bo.push(p)):(w.next=h.next,h.next=w),p.interleaved=w):(h=p.pending,h===null?w.next=w:(w.next=h.next,h.next=w),p.pending=w)}function Wu(h,p,w){if((w&4194240)!==0){var M=p.lanes;M&=h.pendingLanes,w|=M,p.lanes=w,us(h,w)}}var Dc={readContext:Oi,useCallback:Fr,useContext:Fr,useEffect:Fr,useImperativeHandle:Fr,useInsertionEffect:Fr,useLayoutEffect:Fr,useMemo:Fr,useReducer:Fr,useRef:Fr,useState:Fr,useDebugValue:Fr,useDeferredValue:Fr,useTransition:Fr,useMutableSource:Fr,useSyncExternalStore:Fr,useId:Fr,unstable_isNewReconciler:!1},gm={readContext:Oi,useCallback:function(h,p){return Go().memoizedState=[h,p===void 0?null:p],h},useContext:Oi,useEffect:jf,useImperativeHandle:function(h,p,w){return w=w!=null?w.concat([h]):null,ka(4194308,4,$u.bind(null,p,h),w)},useLayoutEffect:function(h,p){return ka(4194308,4,h,p)},useInsertionEffect:function(h,p){return ka(4,2,h,p)},useMemo:function(h,p){var w=Go();return p=p===void 0?null:p,h=h(),w.memoizedState=[h,p],h},useReducer:function(h,p,w){var M=Go();return p=w!==void 0?w(p):p,M.memoizedState=M.baseState=p,h={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:h,lastRenderedState:p},M.queue=h,h=h.dispatch=p0.bind(null,or,h),[M.memoizedState,h]},useRef:function(h){var p=Go();return h={current:h},p.memoizedState=h},useState:Bu,useDebugValue:qf,useDeferredValue:function(h){var p=Bu(h),w=p[0],M=p[1];return jf(function(){var N=Zi.transition;Zi.transition={};try{M(h)}finally{Zi.transition=N}},[h]),w},useTransition:function(){var h=Bu(!1),p=h[0];return h=Kf.bind(null,h[1]),Go().memoizedState=h,[p,h]},useMutableSource:function(){},useSyncExternalStore:function(h,p,w){var M=or,N=Go();if(Jn){if(w===void 0)throw Error(s(407));w=w()}else{if(w=p(),mr===null)throw Error(s(349));(gl&30)!==0||hm(M,p,w)}N.memoizedState=w;var U={value:w,getSnapshot:p};return N.queue=U,jf(Ws.bind(null,M,U,h),[h]),M.flags|=2048,Vu(9,pm.bind(null,M,U,w,p),void 0,null),w},useId:function(){var h=Go(),p=mr.identifierPrefix;if(Jn){var w=$s,M=Vs;w=(M&~(1<<32-pn(M)-1)).toString(32)+w,p=":"+p+"R"+w,w=vl++,0<w&&(p+="H"+w.toString(32)),p+=":"}else w=Fu++,p=":"+p+"r"+w.toString(32)+":";return h.memoizedState=p},unstable_isNewReconciler:!1},vm={readContext:Oi,useCallback:Yf,useContext:Oi,useEffect:Oc,useImperativeHandle:Lc,useInsertionEffect:Bn,useLayoutEffect:Xf,useMemo:Nc,useReducer:zu,useRef:h0,useState:function(){return zu(hs)},useDebugValue:qf,useDeferredValue:function(h){var p=zu(hs),w=p[0],M=p[1];return Oc(function(){var N=Zi.transition;Zi.transition={};try{M(h)}finally{Zi.transition=N}},[h]),w},useTransition:function(){var h=zu(hs)[0],p=jo().memoizedState;return[h,p]},useMutableSource:dm,useSyncExternalStore:fm,useId:yl,unstable_isNewReconciler:!1},ym={readContext:Oi,useCallback:Yf,useContext:Oi,useEffect:Oc,useImperativeHandle:Lc,useInsertionEffect:Bn,useLayoutEffect:Xf,useMemo:Nc,useReducer:Uu,useRef:h0,useState:function(){return Uu(hs)},useDebugValue:qf,useDeferredValue:function(h){var p=Uu(hs),w=p[0],M=p[1];return Oc(function(){var N=Zi.transition;Zi.transition={};try{M(h)}finally{Zi.transition=N}},[h]),w},useTransition:function(){var h=Uu(hs)[0],p=jo().memoizedState;return[h,p]},useMutableSource:dm,useSyncExternalStore:fm,useId:yl,unstable_isNewReconciler:!1};function xm(h,p){try{var w="",M=p;do w+=tm(M),M=M.return;while(M);var N=w}catch(U){N=`
Error generating stack: `+U.message+`
`+U.stack}return{value:h,source:p,stack:N}}function Zf(h,p){try{console.error(p.value)}catch(w){setTimeout(function(){throw w})}}var g_=typeof WeakMap=="function"?WeakMap:Map;function g0(h,p,w){w=Bs(-1,w),w.tag=3,w.payload={element:null};var M=p.value;return w.callback=function(){$c||($c=!0,Xn=M),Zf(h,p)},w}function Jf(h,p,w){w=Bs(-1,w),w.tag=3;var M=h.type.getDerivedStateFromError;if(typeof M=="function"){var N=p.value;w.payload=function(){return M(N)},w.callback=function(){Zf(h,p)}}var U=h.stateNode;return U!==null&&typeof U.componentDidCatch=="function"&&(w.callback=function(){Zf(h,p),typeof M!="function"&&(Yo===null?Yo=new Set([this]):Yo.add(this));var te=p.stack;this.componentDidCatch(p.value,{componentStack:te!==null?te:""})}),w}function Gs(h,p,w){var M=h.pingCache;if(M===null){M=h.pingCache=new g_;var N=new Set;M.set(p,N)}else N=M.get(p),N===void 0&&(N=new Set,M.set(p,N));N.has(w)||(N.add(w),h=Fm.bind(null,h,p,w),p.then(h,h))}function bm(h){do{var p;if((p=h.tag===13)&&(p=h.memoizedState,p=p!==null?p.dehydrated!==null:!0),p)return h;h=h.return}while(h!==null);return null}function xl(h,p,w,M,N){return(h.mode&1)===0?(h===p?h.flags|=65536:(h.flags|=128,w.flags|=131072,w.flags&=-52805,w.tag===1&&(w.alternate===null?w.tag=17:(p=Bs(-1,1),p.tag=2,Ta(w,p))),w.lanes|=1),h):(h.flags|=65536,h.lanes=N,h)}function Ar(h){h.flags|=4}function Fc(h,p){if(h!==null&&h.child===p.child)return!0;if((p.flags&16)!==0)return!1;for(h=p.child;h!==null;){if((h.flags&12854)!==0||(h.subtreeFlags&12854)!==0)return!1;h=h.sibling}return!0}var Ji,bl,Qf,eh;if(Ye)Ji=function(h,p){for(var w=p.child;w!==null;){if(w.tag===5||w.tag===6)le(h,w.stateNode);else if(w.tag!==4&&w.child!==null){w.child.return=w,w=w.child;continue}if(w===p)break;for(;w.sibling===null;){if(w.return===null||w.return===p)return;w=w.return}w.sibling.return=w.return,w=w.sibling}},bl=function(){},Qf=function(h,p,w,M,N){if(h=h.memoizedProps,h!==M){var U=p.stateNode,te=Wo(Li.current);w=fe(U,w,h,M,N,te),(p.updateQueue=w)&&Ar(p)}},eh=function(h,p,w,M){w!==M&&Ar(p)};else if(at){Ji=function(h,p,w,M){for(var N=p.child;N!==null;){if(N.tag===5){var U=N.stateNode;w&&M&&(U=tn(U,N.type,N.memoizedProps,N)),le(h,U)}else if(N.tag===6)U=N.stateNode,w&&M&&(U=fr(U,N.memoizedProps,N)),le(h,U);else if(N.tag!==4){if(N.tag===22&&N.memoizedState!==null)U=N.child,U!==null&&(U.return=N),Ji(h,N,!0,!0);else if(N.child!==null){N.child.return=N,N=N.child;continue}}if(N===p)break;for(;N.sibling===null;){if(N.return===null||N.return===p)return;N=N.return}N.sibling.return=N.return,N=N.sibling}};var Oa=function(h,p,w,M){for(var N=p.child;N!==null;){if(N.tag===5){var U=N.stateNode;w&&M&&(U=tn(U,N.type,N.memoizedProps,N)),Nt(h,U)}else if(N.tag===6)U=N.stateNode,w&&M&&(U=fr(U,N.memoizedProps,N)),Nt(h,U);else if(N.tag!==4){if(N.tag===22&&N.memoizedState!==null)U=N.child,U!==null&&(U.return=N),Oa(h,N,!0,!0);else if(N.child!==null){N.child.return=N,N=N.child;continue}}if(N===p)break;for(;N.sibling===null;){if(N.return===null||N.return===p)return;N=N.return}N.sibling.return=N.return,N=N.sibling}};bl=function(h,p){var w=p.stateNode;if(!Fc(h,p)){h=w.containerInfo;var M=lt(h);Oa(M,p,!1,!1),w.pendingChildren=M,Ar(p),vn(h,M)}},Qf=function(h,p,w,M,N){var U=h.stateNode,te=h.memoizedProps;if((h=Fc(h,p))&&te===M)p.stateNode=U;else{var me=p.stateNode,Oe=Wo(Li.current),et=null;te!==M&&(et=fe(me,w,te,M,N,Oe)),h&&et===null?p.stateNode=U:(U=mt(U,et,w,te,M,p,h,me),Ie(U,w,M,N,Oe)&&Ar(p),p.stateNode=U,h?Ar(p):Ji(U,p,!1,!1))}},eh=function(h,p,w,M){w!==M?(h=Wo(pl.current),w=Wo(Li.current),p.stateNode=De(M,h,w,p),Ar(p)):p.stateNode=h.stateNode}}else bl=function(){},Qf=function(){},eh=function(){};function js(h,p){if(!Jn)switch(h.tailMode){case"hidden":p=h.tail;for(var w=null;p!==null;)p.alternate!==null&&(w=p),p=p.sibling;w===null?h.tail=null:w.sibling=null;break;case"collapsed":w=h.tail;for(var M=null;w!==null;)w.alternate!==null&&(M=w),w=w.sibling;M===null?p||h.tail===null?h.tail=null:h.tail.sibling=null:M.sibling=null}}function pr(h){var p=h.alternate!==null&&h.alternate.child===h.child,w=0,M=0;if(p)for(var N=h.child;N!==null;)w|=N.lanes|N.childLanes,M|=N.subtreeFlags&14680064,M|=N.flags&14680064,N.return=h,N=N.sibling;else for(N=h.child;N!==null;)w|=N.lanes|N.childLanes,M|=N.subtreeFlags,M|=N.flags,N.return=h,N=N.sibling;return h.subtreeFlags|=M,h.childLanes=w,p}function th(h,p,w){var M=p.pendingProps;switch(am(p),p.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pr(p),null;case 1:return yn(p.type)&&sn(),pr(p),null;case 3:return M=p.stateNode,Ic(),nt(hn),nt(fn),ml(),M.pendingContext&&(M.context=M.pendingContext,M.pendingContext=null),(h===null||h.child===null)&&(Nu(p)?Ar(p):h===null||h.memoizedState.isDehydrated&&(p.flags&256)===0||(p.flags|=1024,wo!==null&&(rd(wo),wo=null))),bl(h,p),pr(p),null;case 5:um(p),w=Wo(pl.current);var N=p.type;if(h!==null&&p.stateNode!=null)Qf(h,p,N,M,w),h.ref!==p.ref&&(p.flags|=512,p.flags|=2097152);else{if(!M){if(p.stateNode===null)throw Error(s(166));return pr(p),null}if(h=Wo(Li.current),Nu(p)){if(!Ge)throw Error(s(175));h=gf(p.stateNode,p.type,p.memoizedProps,w,h,p,!Mc),p.updateQueue=h,h!==null&&Ar(p)}else{var U=W(N,M,w,h,p);Ji(U,p,!1,!1),p.stateNode=U,Ie(U,N,M,w,h)&&Ar(p)}p.ref!==null&&(p.flags|=512,p.flags|=2097152)}return pr(p),null;case 6:if(h&&p.stateNode!=null)eh(h,p,h.memoizedProps,M);else{if(typeof M!="string"&&p.stateNode===null)throw Error(s(166));if(h=Wo(pl.current),w=Wo(Li.current),Nu(p)){if(!Ge)throw Error(s(176));if(h=p.stateNode,M=p.memoizedProps,(w=ls(h,M,p,!Mc))&&(N=vi,N!==null))switch(U=(N.mode&1)!==0,N.tag){case 3:xe(N.stateNode.containerInfo,h,M,U);break;case 5:Te(N.type,N.memoizedProps,N.stateNode,h,M,U)}w&&Ar(p)}else p.stateNode=De(M,h,w,p)}return pr(p),null;case 13:if(nt(ir),M=p.memoizedState,Jn&&Xr!==null&&(p.mode&1)!==0&&(p.flags&128)===0){for(h=Xr;h;)h=$o(h);return Tc(),p.flags|=98560,p}if(M!==null&&M.dehydrated!==null){if(M=Nu(p),h===null){if(!M)throw Error(s(318));if(!Ge)throw Error(s(344));if(h=p.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));vf(h,p)}else Tc(),(p.flags&128)===0&&(p.memoizedState=null),p.flags|=4;return pr(p),null}return wo!==null&&(rd(wo),wo=null),(p.flags&128)!==0?(p.lanes=w,p):(M=M!==null,w=!1,h===null?Nu(p):w=h.memoizedState!==null,M&&!w&&(p.child.flags|=8192,(p.mode&1)!==0&&(h===null||(ir.current&1)!==0?cr===0&&(cr=3):lh())),p.updateQueue!==null&&(p.flags|=4),pr(p),null);case 4:return Ic(),bl(h,p),h===null&&Xe(p.stateNode.containerInfo),pr(p),null;case 10:return Lu(p.type._context),pr(p),null;case 17:return yn(p.type)&&sn(),pr(p),null;case 19:if(nt(ir),N=p.memoizedState,N===null)return pr(p),null;if(M=(p.flags&128)!==0,U=N.rendering,U===null)if(M)js(N,!1);else{if(cr!==0||h!==null&&(h.flags&128)!==0)for(h=p.child;h!==null;){if(U=Vf(h),U!==null){for(p.flags|=128,js(N,!1),h=U.updateQueue,h!==null&&(p.updateQueue=h,p.flags|=4),p.subtreeFlags=0,h=w,M=p.child;M!==null;)w=M,N=h,w.flags&=14680066,U=w.alternate,U===null?(w.childLanes=0,w.lanes=N,w.child=null,w.subtreeFlags=0,w.memoizedProps=null,w.memoizedState=null,w.updateQueue=null,w.dependencies=null,w.stateNode=null):(w.childLanes=U.childLanes,w.lanes=U.lanes,w.child=U.child,w.subtreeFlags=0,w.deletions=null,w.memoizedProps=U.memoizedProps,w.memoizedState=U.memoizedState,w.updateQueue=U.updateQueue,w.type=U.type,N=U.dependencies,w.dependencies=N===null?null:{lanes:N.lanes,firstContext:N.firstContext}),M=M.sibling;return Rt(ir,ir.current&1|2),p.child}h=h.sibling}N.tail!==null&&Rr()>Da&&(p.flags|=128,M=!0,js(N,!1),p.lanes=4194304)}else{if(!M)if(h=Vf(U),h!==null){if(p.flags|=128,M=!0,h=h.updateQueue,h!==null&&(p.updateQueue=h,p.flags|=4),js(N,!0),N.tail===null&&N.tailMode==="hidden"&&!U.alternate&&!Jn)return pr(p),null}else 2*Rr()-N.renderingStartTime>Da&&w!==1073741824&&(p.flags|=128,M=!0,js(N,!1),p.lanes=4194304);N.isBackwards?(U.sibling=p.child,p.child=U):(h=N.last,h!==null?h.sibling=U:p.child=U,N.last=U)}return N.tail!==null?(p=N.tail,N.rendering=p,N.tail=p.sibling,N.renderingStartTime=Rr(),p.sibling=null,h=ir.current,Rt(ir,M?h&1|2:h&1),p):(pr(p),null);case 22:case 23:return id(),M=p.memoizedState!==null,h!==null&&h.memoizedState!==null!==M&&(p.flags|=8192),M&&(p.mode&1)!==0?(ai&1073741824)!==0&&(pr(p),Ye&&p.subtreeFlags&6&&(p.flags|=8192)):pr(p),null;case 24:return null;case 25:return null}throw Error(s(156,p.tag))}var _m=a.ReactCurrentOwner,zr=!1;function lr(h,p,w,M){p.child=h===null?d0(p,null,w,M):Hs(p,h.child,w,M)}function Vn(h,p,w,M,N){w=w.render;var U=p.ref;return wc(p,N),M=kc(h,p,w,M,U,N),w=Ia(),h!==null&&!zr?(p.updateQueue=h.updateQueue,p.flags&=-2053,h.lanes&=~N,Ni(h,p,N)):(Jn&&w&&sm(p),p.flags|=1,lr(h,p,M,N),p.child)}function Dn(h,p,w,M,N){if(h===null){var U=w.type;return typeof U=="function"&&!uh(U)&&U.defaultProps===void 0&&w.compare===null&&w.defaultProps===void 0?(p.tag=15,p.type=U,Xs(h,p,U,M,N)):(h=dh(w.type,null,M,p,p.mode,N),h.ref=p.ref,h.return=p,p.child=h)}if(U=h.child,(h.lanes&N)===0){var te=U.memoizedProps;if(w=w.compare,w=w!==null?w:Ho,w(te,M)&&h.ref===p.ref)return Ni(h,p,N)}return p.flags|=1,h=na(U,M),h.ref=p.ref,h.return=p,p.child=h}function Xs(h,p,w,M,N){if(h!==null&&Ho(h.memoizedProps,M)&&h.ref===p.ref)if(zr=!1,(h.lanes&N)!==0)(h.flags&131072)!==0&&(zr=!0);else return p.lanes=h.lanes,Ni(h,p,N);return qs(h,p,w,M,N)}function qr(h,p,w){var M=p.pendingProps,N=M.children,U=h!==null?h.memoizedState:null;if(M.mode==="hidden")if((p.mode&1)===0)p.memoizedState={baseLanes:0,cachePool:null},Rt(Rl,ai),ai|=w;else if((w&1073741824)!==0)p.memoizedState={baseLanes:0,cachePool:null},M=U!==null?U.baseLanes:w,Rt(Rl,ai),ai|=M;else return h=U!==null?U.baseLanes|w:w,p.lanes=p.childLanes=1073741824,p.memoizedState={baseLanes:h,cachePool:null},p.updateQueue=null,Rt(Rl,ai),ai|=h,null;else U!==null?(M=U.baseLanes|w,p.memoizedState=null):M=w,Rt(Rl,ai),ai|=M;return lr(h,p,N,w),p.child}function yi(h,p){var w=p.ref;(h===null&&w!==null||h!==null&&h.ref!==w)&&(p.flags|=512,p.flags|=2097152)}function qs(h,p,w,M,N){var U=yn(w)?nn:fn.current;return U=Tt(p,U),wc(p,N),w=kc(h,p,w,M,U,N),M=Ia(),h!==null&&!zr?(p.updateQueue=h.updateQueue,p.flags&=-2053,h.lanes&=~N,Ni(h,p,N)):(Jn&&M&&sm(p),p.flags|=1,lr(h,p,w,N),p.child)}function _l(h,p,w,M,N){if(yn(w)){var U=!0;Or(p)}else U=!1;if(wc(p,N),p.stateNode===null)h!==null&&(h.alternate=null,p.alternate=null,p.flags|=2),s0(p,w,M),om(p,w,M,N),M=!0;else if(h===null){var te=p.stateNode,me=p.memoizedProps;te.props=me;var Oe=te.context,et=w.contextType;typeof et=="object"&&et!==null?et=Oi(et):(et=yn(w)?nn:fn.current,et=Tt(p,et));var _t=w.getDerivedStateFromProps,jt=typeof _t=="function"||typeof te.getSnapshotBeforeUpdate=="function";jt||typeof te.UNSAFE_componentWillReceiveProps!="function"&&typeof te.componentWillReceiveProps!="function"||(me!==M||Oe!==et)&&a0(p,te,M,et),_o=!1;var Ft=p.memoizedState;te.state=Ft,Lf(p,M,te,N),Oe=p.memoizedState,me!==M||Ft!==Oe||hn.current||_o?(typeof _t=="function"&&(rm(p,w,_t,M),Oe=p.memoizedState),(me=_o||im(p,w,me,M,Ft,Oe,et))?(jt||typeof te.UNSAFE_componentWillMount!="function"&&typeof te.componentWillMount!="function"||(typeof te.componentWillMount=="function"&&te.componentWillMount(),typeof te.UNSAFE_componentWillMount=="function"&&te.UNSAFE_componentWillMount()),typeof te.componentDidMount=="function"&&(p.flags|=4194308)):(typeof te.componentDidMount=="function"&&(p.flags|=4194308),p.memoizedProps=M,p.memoizedState=Oe),te.props=M,te.state=Oe,te.context=et,M=me):(typeof te.componentDidMount=="function"&&(p.flags|=4194308),M=!1)}else{te=p.stateNode,nm(h,p),me=p.memoizedProps,et=p.type===p.elementType?me:ki(p.type,me),te.props=et,jt=p.pendingProps,Ft=te.context,Oe=w.contextType,typeof Oe=="object"&&Oe!==null?Oe=Oi(Oe):(Oe=yn(w)?nn:fn.current,Oe=Tt(p,Oe));var rn=w.getDerivedStateFromProps;(_t=typeof rn=="function"||typeof te.getSnapshotBeforeUpdate=="function")||typeof te.UNSAFE_componentWillReceiveProps!="function"&&typeof te.componentWillReceiveProps!="function"||(me!==jt||Ft!==Oe)&&a0(p,te,M,Oe),_o=!1,Ft=p.memoizedState,te.state=Ft,Lf(p,M,te,N);var gt=p.memoizedState;me!==jt||Ft!==gt||hn.current||_o?(typeof rn=="function"&&(rm(p,w,rn,M),gt=p.memoizedState),(et=_o||im(p,w,et,M,Ft,gt,Oe)||!1)?(_t||typeof te.UNSAFE_componentWillUpdate!="function"&&typeof te.componentWillUpdate!="function"||(typeof te.componentWillUpdate=="function"&&te.componentWillUpdate(M,gt,Oe),typeof te.UNSAFE_componentWillUpdate=="function"&&te.UNSAFE_componentWillUpdate(M,gt,Oe)),typeof te.componentDidUpdate=="function"&&(p.flags|=4),typeof te.getSnapshotBeforeUpdate=="function"&&(p.flags|=1024)):(typeof te.componentDidUpdate!="function"||me===h.memoizedProps&&Ft===h.memoizedState||(p.flags|=4),typeof te.getSnapshotBeforeUpdate!="function"||me===h.memoizedProps&&Ft===h.memoizedState||(p.flags|=1024),p.memoizedProps=M,p.memoizedState=gt),te.props=M,te.state=gt,te.context=Oe,M=et):(typeof te.componentDidUpdate!="function"||me===h.memoizedProps&&Ft===h.memoizedState||(p.flags|=4),typeof te.getSnapshotBeforeUpdate!="function"||me===h.memoizedProps&&Ft===h.memoizedState||(p.flags|=1024),M=!1)}return si(h,p,w,M,U,N)}function si(h,p,w,M,N,U){yi(h,p);var te=(p.flags&128)!==0;if(!M&&!te)return N&&cs(p,w,!1),Ni(h,p,U);M=p.stateNode,_m.current=p;var me=te&&typeof w.getDerivedStateFromError!="function"?null:M.render();return p.flags|=1,h!==null&&te?(p.child=Hs(p,h.child,null,U),p.child=Hs(p,null,me,U)):lr(h,p,me,U),p.memoizedState=M.state,N&&cs(p,w,!0),p.child}function Gu(h){var p=h.stateNode;p.pendingContext?Gr(h,p.pendingContext,p.pendingContext!==p.context):p.context&&Gr(h,p.context,!1),Bf(h,p.containerInfo)}function Sm(h,p,w,M,N){return Tc(),Uf(N),p.flags|=256,lr(h,p,w,M),p.child}var ju={dehydrated:null,treeContext:null,retryLane:0};function Sl(h){return{baseLanes:h,cachePool:null}}function wm(h,p,w){var M=p.pendingProps,N=ir.current,U=!1,te=(p.flags&128)!==0,me;if((me=te)||(me=h!==null&&h.memoizedState===null?!1:(N&2)!==0),me?(U=!0,p.flags&=-129):(h===null||h.memoizedState!==null)&&(N|=1),Rt(ir,N&1),h===null)return Ra(p),h=p.memoizedState,h!==null&&(h=h.dehydrated,h!==null)?((p.mode&1)===0?p.lanes=1:Vo(h)?p.lanes=8:p.lanes=1073741824,null):(N=M.children,h=M.fallback,U?(M=p.mode,U=p.child,N={mode:"hidden",children:N},(M&1)===0&&U!==null?(U.childLanes=0,U.pendingProps=N):U=ad(N,M,0,null),h=Ll(h,M,w,null),U.return=p,h.return=p,U.sibling=h,p.child=U,p.child.memoizedState=Sl(w),p.memoizedState=ju,h):Xo(p,N));if(N=h.memoizedState,N!==null){if(me=N.dehydrated,me!==null){if(te)return p.flags&256?(p.flags&=-257,qu(h,p,w,Error(s(422)))):p.memoizedState!==null?(p.child=h.child,p.flags|=128,null):(U=M.fallback,N=p.mode,M=ad({mode:"visible",children:M.children},N,0,null),U=Ll(U,N,w,null),U.flags|=2,M.return=p,U.return=p,M.sibling=U,p.child=M,(p.mode&1)!==0&&Hs(p,h.child,null,w),p.child.memoizedState=Sl(w),p.memoizedState=ju,U);if((p.mode&1)===0)p=qu(h,p,w,null);else if(Vo(me))p=qu(h,p,w,Error(s(419)));else if(M=(w&h.childLanes)!==0,zr||M){if(M=mr,M!==null){switch(w&-w){case 4:U=2;break;case 16:U=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:U=32;break;case 536870912:U=268435456;break;default:U=0}M=(U&(M.suspendedLanes|w))!==0?0:U,M!==0&&M!==N.retryLane&&(N.retryLane=M,li(h,M,-1))}lh(),p=qu(h,p,w,Error(s(421)))}else as(me)?(p.flags|=128,p.child=h.child,p=_0.bind(null,h),il(me,p),p=null):(w=N.treeContext,Ge&&(Xr=_c(me),vi=p,Jn=!0,wo=null,Mc=!1,w!==null&&(So[Yi++]=Vs,So[Yi++]=$s,So[Yi++]=dl,Vs=w.id,$s=w.overflow,dl=p)),p=Xo(p,p.pendingProps.children),p.flags|=4096);return p}return U?(M=nh(h,p,M.children,M.fallback,w),U=p.child,N=h.child.memoizedState,U.memoizedState=N===null?Sl(w):{baseLanes:N.baseLanes|w,cachePool:null},U.childLanes=h.childLanes&~w,p.memoizedState=ju,M):(w=Xu(h,p,M.children,w),p.memoizedState=null,w)}return U?(M=nh(h,p,M.children,M.fallback,w),U=p.child,N=h.child.memoizedState,U.memoizedState=N===null?Sl(w):{baseLanes:N.baseLanes|w,cachePool:null},U.childLanes=h.childLanes&~w,p.memoizedState=ju,M):(w=Xu(h,p,M.children,w),p.memoizedState=null,w)}function Xo(h,p){return p=ad({mode:"visible",children:p},h.mode,0,null),p.return=h,h.child=p}function Xu(h,p,w,M){var N=h.child;return h=N.sibling,w=na(N,{mode:"visible",children:w}),(p.mode&1)===0&&(w.lanes=M),w.return=p,w.sibling=null,h!==null&&(M=p.deletions,M===null?(p.deletions=[h],p.flags|=16):M.push(h)),p.child=w}function nh(h,p,w,M,N){var U=p.mode;h=h.child;var te=h.sibling,me={mode:"hidden",children:w};return(U&1)===0&&p.child!==h?(w=p.child,w.childLanes=0,w.pendingProps=me,p.deletions=null):(w=na(h,me),w.subtreeFlags=h.subtreeFlags&14680064),te!==null?M=na(te,M):(M=Ll(M,U,N,null),M.flags|=2),M.return=p,w.return=p,w.sibling=M,p.child=w,M}function qu(h,p,w,M){return M!==null&&Uf(M),Hs(p,h.child,null,w),h=Xo(p,p.pendingProps.children),h.flags|=2,p.memoizedState=null,h}function v0(h,p,w){h.lanes|=p;var M=h.alternate;M!==null&&(M.lanes|=p),ul(h.return,p,w)}function ps(h,p,w,M,N){var U=h.memoizedState;U===null?h.memoizedState={isBackwards:p,rendering:null,renderingStartTime:0,last:M,tail:w,tailMode:N}:(U.isBackwards=p,U.rendering=null,U.renderingStartTime=0,U.last=M,U.tail=w,U.tailMode=N)}function wl(h,p,w){var M=p.pendingProps,N=M.revealOrder,U=M.tail;if(lr(h,p,M.children,w),M=ir.current,(M&2)!==0)M=M&1|2,p.flags|=128;else{if(h!==null&&(h.flags&128)!==0)e:for(h=p.child;h!==null;){if(h.tag===13)h.memoizedState!==null&&v0(h,w,p);else if(h.tag===19)v0(h,w,p);else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===p)break e;for(;h.sibling===null;){if(h.return===null||h.return===p)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}M&=1}if(Rt(ir,M),(p.mode&1)===0)p.memoizedState=null;else switch(N){case"forwards":for(w=p.child,N=null;w!==null;)h=w.alternate,h!==null&&Vf(h)===null&&(N=w),w=w.sibling;w=N,w===null?(N=p.child,p.child=null):(N=w.sibling,w.sibling=null),ps(p,!1,N,w,U);break;case"backwards":for(w=null,N=p.child,p.child=null;N!==null;){if(h=N.alternate,h!==null&&Vf(h)===null){p.child=N;break}h=N.sibling,N.sibling=w,w=N,N=h}ps(p,!0,w,null,U);break;case"together":ps(p,!1,null,null,void 0);break;default:p.memoizedState=null}return p.child}function Ni(h,p,w){if(h!==null&&(p.dependencies=h.dependencies),ms|=p.lanes,(w&p.childLanes)===0)return null;if(h!==null&&p.child!==h.child)throw Error(s(153));if(p.child!==null){for(h=p.child,w=na(h,h.pendingProps),p.child=w,w.return=p;h.sibling!==null;)h=h.sibling,w=w.sibling=na(h,h.pendingProps),w.return=p;w.sibling=null}return p.child}function rh(h,p,w){switch(p.tag){case 3:Gu(p),Tc();break;case 5:f0(p);break;case 1:yn(p.type)&&Or(p);break;case 4:Bf(p,p.stateNode.containerInfo);break;case 10:cl(p,p.type._context,p.memoizedProps.value);break;case 13:var M=p.memoizedState;if(M!==null)return M.dehydrated!==null?(Rt(ir,ir.current&1),p.flags|=128,null):(w&p.child.childLanes)!==0?wm(h,p,w):(Rt(ir,ir.current&1),h=Ni(h,p,w),h!==null?h.sibling:null);Rt(ir,ir.current&1);break;case 19:if(M=(w&p.childLanes)!==0,(h.flags&128)!==0){if(M)return wl(h,p,w);p.flags|=128}var N=p.memoizedState;if(N!==null&&(N.rendering=null,N.tail=null,N.lastEffect=null),Rt(ir,ir.current),M)break;return null;case 22:case 23:return p.lanes=0,qr(h,p,w)}return Ni(h,p,w)}function ih(h,p){switch(am(p),p.tag){case 1:return yn(p.type)&&sn(),h=p.flags,h&65536?(p.flags=h&-65537|128,p):null;case 3:return Ic(),nt(hn),nt(fn),ml(),h=p.flags,(h&65536)!==0&&(h&128)===0?(p.flags=h&-65537|128,p):null;case 5:return um(p),null;case 13:if(nt(ir),h=p.memoizedState,h!==null&&h.dehydrated!==null){if(p.alternate===null)throw Error(s(340));Tc()}return h=p.flags,h&65536?(p.flags=h&-65537|128,p):null;case 19:return nt(ir),null;case 4:return Ic(),null;case 10:return Lu(p.type._context),null;case 22:case 23:return id(),null;case 24:return null;default:return null}}var xi=!1,Ur=!1,El=typeof WeakSet=="function"?WeakSet:Set,it=null;function Eo(h,p){var w=h.ref;if(w!==null)if(typeof w=="function")try{w(null)}catch(M){_i(h,p,M)}else w.current=null}function Ys(h,p,w){try{w()}catch(M){_i(h,p,M)}}var Em=!1;function Cm(h,p){for(Q(h.containerInfo),it=p;it!==null;)if(h=it,p=h.child,(h.subtreeFlags&1028)!==0&&p!==null)p.return=h,it=p;else for(;it!==null;){h=it;try{var w=h.alternate;if((h.flags&1024)!==0)switch(h.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var M=w.memoizedProps,N=w.memoizedState,U=h.stateNode,te=U.getSnapshotBeforeUpdate(h.elementType===h.type?M:ki(h.type,M),N);U.__reactInternalSnapshotBeforeUpdate=te}break;case 3:Ye&&Ue(h.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(s(163))}}catch(me){_i(h,h.return,me)}if(p=h.sibling,p!==null){p.return=h.return,it=p;break}it=h.return}return w=Em,Em=!1,w}function Ks(h,p,w){var M=p.updateQueue;if(M=M!==null?M.lastEffect:null,M!==null){var N=M=M.next;do{if((N.tag&h)===h){var U=N.destroy;N.destroy=void 0,U!==void 0&&Ys(p,w,U)}N=N.next}while(N!==M)}}function Yr(h,p){if(p=p.updateQueue,p=p!==null?p.lastEffect:null,p!==null){var w=p=p.next;do{if((w.tag&h)===h){var M=w.create;w.destroy=M()}w=w.next}while(w!==p)}}function bi(h){var p=h.ref;if(p!==null){var w=h.stateNode;switch(h.tag){case 5:h=ne(w);break;default:h=w}typeof p=="function"?p(h):p.current=h}}function jn(h,p,w){if(ds&&typeof ds.onCommitFiberUnmount=="function")try{ds.onCommitFiberUnmount(Au,p)}catch{}switch(p.tag){case 0:case 11:case 14:case 15:if(h=p.updateQueue,h!==null&&(h=h.lastEffect,h!==null)){var M=h=h.next;do{var N=M,U=N.destroy;N=N.tag,U!==void 0&&((N&2)!==0||(N&4)!==0)&&Ys(p,w,U),M=M.next}while(M!==h)}break;case 1:if(Eo(p,w),h=p.stateNode,typeof h.componentWillUnmount=="function")try{h.props=p.memoizedProps,h.state=p.memoizedState,h.componentWillUnmount()}catch(te){_i(p,w,te)}break;case 5:Eo(p,w);break;case 4:Ye?Pm(h,p,w):at&&at&&(p=p.stateNode.containerInfo,w=lt(p),Un(p,w))}}function Co(h,p,w){for(var M=p;;)if(jn(h,M,w),M.child===null||Ye&&M.tag===4){if(M===p)break;for(;M.sibling===null;){if(M.return===null||M.return===p)return;M=M.return}M.sibling.return=M.return,M=M.sibling}else M.child.return=M,M=M.child}function Mm(h){var p=h.alternate;p!==null&&(h.alternate=null,Mm(p)),h.child=null,h.deletions=null,h.sibling=null,h.tag===5&&(p=h.stateNode,p!==null&&He(p)),h.stateNode=null,h.return=null,h.dependencies=null,h.memoizedProps=null,h.memoizedState=null,h.pendingProps=null,h.stateNode=null,h.updateQueue=null}function Tm(h){return h.tag===5||h.tag===3||h.tag===4}function oh(h){e:for(;;){for(;h.sibling===null;){if(h.return===null||Tm(h.return))return null;h=h.return}for(h.sibling.return=h.return,h=h.sibling;h.tag!==5&&h.tag!==6&&h.tag!==18;){if(h.flags&2||h.child===null||h.tag===4)continue e;h.child.return=h,h=h.child}if(!(h.flags&2))return h.stateNode}}function sh(h){if(Ye){e:{for(var p=h.return;p!==null;){if(Tm(p))break e;p=p.return}throw Error(s(160))}var w=p;switch(w.tag){case 5:p=w.stateNode,w.flags&32&&(Ne(p),w.flags&=-33),w=oh(h),zc(h,w,p);break;case 3:case 4:p=w.stateNode.containerInfo,w=oh(h),ah(h,w,p);break;default:throw Error(s(161))}}}function ah(h,p,w){var M=h.tag;if(M===5||M===6)h=h.stateNode,p?Lt(w,h,p):St(w,h);else if(M!==4&&(h=h.child,h!==null))for(ah(h,p,w),h=h.sibling;h!==null;)ah(h,p,w),h=h.sibling}function zc(h,p,w){var M=h.tag;if(M===5||M===6)h=h.stateNode,p?Pt(w,h,p):Qe(w,h);else if(M!==4&&(h=h.child,h!==null))for(zc(h,p,w),h=h.sibling;h!==null;)zc(h,p,w),h=h.sibling}function Pm(h,p,w){for(var M=p,N=!1,U,te;;){if(!N){N=M.return;e:for(;;){if(N===null)throw Error(s(160));switch(U=N.stateNode,N.tag){case 5:te=!1;break e;case 3:U=U.containerInfo,te=!0;break e;case 4:U=U.containerInfo,te=!0;break e}N=N.return}N=!0}if(M.tag===5||M.tag===6)Co(h,M,w),te?ue(U,M.stateNode):pt(U,M.stateNode);else if(M.tag===18)te?Sf(U,M.stateNode):_f(U,M.stateNode);else if(M.tag===4){if(M.child!==null){U=M.stateNode.containerInfo,te=!0,M.child.return=M,M=M.child;continue}}else if(jn(h,M,w),M.child!==null){M.child.return=M,M=M.child;continue}if(M===p)break;for(;M.sibling===null;){if(M.return===null||M.return===p)return;M=M.return,M.tag===4&&(N=!1)}M.sibling.return=M.return,M=M.sibling}}function La(h,p){if(Ye){switch(p.tag){case 0:case 11:case 14:case 15:Ks(3,p,p.return),Yr(3,p),Ks(5,p,p.return);return;case 1:return;case 5:var w=p.stateNode;if(w!=null){var M=p.memoizedProps;h=h!==null?h.memoizedProps:M;var N=p.type,U=p.updateQueue;p.updateQueue=null,U!==null&&dt(w,U,N,h,M,p)}return;case 6:if(p.stateNode===null)throw Error(s(162));w=p.memoizedProps,Mt(p.stateNode,h!==null?h.memoizedProps:w,w);return;case 3:Ge&&h!==null&&h.memoizedState.isDehydrated&&xf(p.stateNode.containerInfo);return;case 12:return;case 13:Uc(p);return;case 19:Uc(p);return;case 17:return}throw Error(s(163))}switch(p.tag){case 0:case 11:case 14:case 15:Ks(3,p,p.return),Yr(3,p),Ks(5,p,p.return);return;case 12:return;case 13:Uc(p);return;case 19:Uc(p);return;case 3:Ge&&h!==null&&h.memoizedState.isDehydrated&&xf(p.stateNode.containerInfo);break;case 22:case 23:return}e:if(at){switch(p.tag){case 1:case 5:case 6:break e;case 3:case 4:p=p.stateNode,Un(p.containerInfo,p.pendingChildren);break e}throw Error(s(163))}}function Uc(h){var p=h.updateQueue;if(p!==null){h.updateQueue=null;var w=h.stateNode;w===null&&(w=h.stateNode=new El),p.forEach(function(M){var N=S0.bind(null,h,M);w.has(M)||(w.add(M),M.then(N,N))})}}function v_(h,p){for(it=p;it!==null;){p=it;var w=p.deletions;if(w!==null)for(var M=0;M<w.length;M++){var N=w[M];try{var U=h;Ye?Pm(U,N,p):Co(U,N,p);var te=N.alternate;te!==null&&(te.return=null),N.return=null}catch(It){_i(N,p,It)}}if(w=p.child,(p.subtreeFlags&12854)!==0&&w!==null)w.return=p,it=w;else for(;it!==null;){p=it;try{var me=p.flags;if(me&32&&Ye&&Ne(p.stateNode),me&512){var Oe=p.alternate;if(Oe!==null){var et=Oe.ref;et!==null&&(typeof et=="function"?et(null):et.current=null)}}if(me&8192)switch(p.tag){case 13:if(p.memoizedState!==null){var _t=p.alternate;(_t===null||_t.memoizedState===null)&&(td=Rr())}break;case 22:var jt=p.memoizedState!==null,Ft=p.alternate,rn=Ft!==null&&Ft.memoizedState!==null;if(w=p,Ye){e:if(M=w,N=jt,U=null,Ye)for(var gt=M;;){if(gt.tag===5){if(U===null){U=gt;var Jr=gt.stateNode;N?st(Jr):Ze(gt.stateNode,gt.memoizedProps)}}else if(gt.tag===6){if(U===null){var ro=gt.stateNode;N?ce(ro):Re(ro,gt.memoizedProps)}}else if((gt.tag!==22&&gt.tag!==23||gt.memoizedState===null||gt===M)&&gt.child!==null){gt.child.return=gt,gt=gt.child;continue}if(gt===M)break;for(;gt.sibling===null;){if(gt.return===null||gt.return===M)break e;U===gt&&(U=null),gt=gt.return}U===gt&&(U=null),gt.sibling.return=gt.return,gt=gt.sibling}}if(jt&&!rn&&(w.mode&1)!==0){it=w;for(var Ee=w.child;Ee!==null;){for(w=it=Ee;it!==null;){M=it;var ve=M.child;switch(M.tag){case 0:case 11:case 14:case 15:Ks(4,M,M.return);break;case 1:Eo(M,M.return);var Ae=M.stateNode;if(typeof Ae.componentWillUnmount=="function"){var ft=M.return;try{Ae.props=M.memoizedProps,Ae.state=M.memoizedState,Ae.componentWillUnmount()}catch(It){_i(M,ft,It)}}break;case 5:Eo(M,M.return);break;case 22:if(M.memoizedState!==null){Am(w);continue}}ve!==null?(ve.return=M,it=ve):Am(w)}Ee=Ee.sibling}}}switch(me&4102){case 2:sh(p),p.flags&=-3;break;case 6:sh(p),p.flags&=-3,La(p.alternate,p);break;case 4096:p.flags&=-4097;break;case 4100:p.flags&=-4097,La(p.alternate,p);break;case 4:La(p.alternate,p)}}catch(It){_i(p,p.return,It)}if(w=p.sibling,w!==null){w.return=p.return,it=w;break}it=p.return}}}function Yu(h,p,w){it=h,Ku(h)}function Ku(h,p,w){for(var M=(h.mode&1)!==0;it!==null;){var N=it,U=N.child;if(N.tag===22&&M){var te=N.memoizedState!==null||xi;if(!te){var me=N.alternate,Oe=me!==null&&me.memoizedState!==null||Ur;me=xi;var et=Ur;if(xi=te,(Ur=Oe)&&!et)for(it=N;it!==null;)te=it,Oe=te.child,te.tag===22&&te.memoizedState!==null?Cl(N):Oe!==null?(Oe.return=te,it=Oe):Cl(N);for(;U!==null;)it=U,Ku(U),U=U.sibling;it=N,xi=me,Ur=et}Rm(h)}else(N.subtreeFlags&8772)!==0&&U!==null?(U.return=N,it=U):Rm(h)}}function Rm(h){for(;it!==null;){var p=it;if((p.flags&8772)!==0){var w=p.alternate;try{if((p.flags&8772)!==0)switch(p.tag){case 0:case 11:case 15:Ur||Yr(5,p);break;case 1:var M=p.stateNode;if(p.flags&4&&!Ur)if(w===null)M.componentDidMount();else{var N=p.elementType===p.type?w.memoizedProps:ki(p.type,w.memoizedProps);M.componentDidUpdate(N,w.memoizedState,M.__reactInternalSnapshotBeforeUpdate)}var U=p.updateQueue;U!==null&&i0(p,U,M);break;case 3:var te=p.updateQueue;if(te!==null){if(w=null,p.child!==null)switch(p.child.tag){case 5:w=ne(p.child.stateNode);break;case 1:w=p.child.stateNode}i0(p,te,w)}break;case 5:var me=p.stateNode;w===null&&p.flags&4&&We(me,p.type,p.memoizedProps,p);break;case 6:break;case 4:break;case 12:break;case 13:if(Ge&&p.memoizedState===null){var Oe=p.alternate;if(Oe!==null){var et=Oe.memoizedState;if(et!==null){var _t=et.dehydrated;_t!==null&&bf(_t)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(s(163))}Ur||p.flags&512&&bi(p)}catch(jt){_i(p,p.return,jt)}}if(p===h){it=null;break}if(w=p.sibling,w!==null){w.return=p.return,it=w;break}it=p.return}}function Am(h){for(;it!==null;){var p=it;if(p===h){it=null;break}var w=p.sibling;if(w!==null){w.return=p.return,it=w;break}it=p.return}}function Cl(h){for(;it!==null;){var p=it;try{switch(p.tag){case 0:case 11:case 15:var w=p.return;try{Yr(4,p)}catch(Oe){_i(p,w,Oe)}break;case 1:var M=p.stateNode;if(typeof M.componentDidMount=="function"){var N=p.return;try{M.componentDidMount()}catch(Oe){_i(p,N,Oe)}}var U=p.return;try{bi(p)}catch(Oe){_i(p,U,Oe)}break;case 5:var te=p.return;try{bi(p)}catch(Oe){_i(p,te,Oe)}}}catch(Oe){_i(p,p.return,Oe)}if(p===h){it=null;break}var me=p.sibling;if(me!==null){me.return=p.return,it=me;break}it=p.return}}var Zu=0,Ml=1,Tl=2,Zs=3,Bc=4;if(typeof Symbol=="function"&&Symbol.for){var Pl=Symbol.for;Zu=Pl("selector.component"),Ml=Pl("selector.has_pseudo_class"),Tl=Pl("selector.role"),Zs=Pl("selector.test_id"),Bc=Pl("selector.text")}function Ju(h){var p=q(h);if(p!=null){if(typeof p.memoizedProps["data-testname"]!="string")throw Error(s(364));return p}if(h=Y(h),h===null)throw Error(s(362));return h.stateNode.current}function Qu(h,p){switch(p.$$typeof){case Zu:if(h.type===p.value)return!0;break;case Ml:e:{p=p.value,h=[h,0];for(var w=0;w<h.length;){var M=h[w++],N=h[w++],U=p[N];if(M.tag!==5||!pe(M)){for(;U!=null&&Qu(M,U);)N++,U=p[N];if(N===p.length){p=!0;break e}else for(M=M.child;M!==null;)h.push(M,N),M=M.sibling}}p=!1}return p;case Tl:if(h.tag===5&&ke(h.stateNode,p.value))return!0;break;case Bc:if((h.tag===5||h.tag===6)&&(h=re(h),h!==null&&0<=h.indexOf(p.value)))return!0;break;case Zs:if(h.tag===5&&(h=h.memoizedProps["data-testname"],typeof h=="string"&&h.toLowerCase()===p.value.toLowerCase()))return!0;break;default:throw Error(s(365))}return!1}function Na(h){switch(h.$$typeof){case Zu:return"<"+(k(h.value)||"Unknown")+">";case Ml:return":has("+(Na(h)||"")+")";case Tl:return'[role="'+h.value+'"]';case Bc:return'"'+h.value+'"';case Zs:return'[data-testname="'+h.value+'"]';default:throw Error(s(365))}}function Qi(h,p){var w=[];h=[h,0];for(var M=0;M<h.length;){var N=h[M++],U=h[M++],te=p[U];if(N.tag!==5||!pe(N)){for(;te!=null&&Qu(N,te);)U++,te=p[U];if(U===p.length)w.push(N);else for(N=N.child;N!==null;)h.push(N,U),N=N.sibling}}return w}function Js(h,p){if(!Be)throw Error(s(363));h=Ju(h),h=Qi(h,p),p=[],h=Array.from(h);for(var w=0;w<h.length;){var M=h[w++];if(M.tag===5)pe(M)||p.push(M.stateNode);else for(M=M.child;M!==null;)h.push(M),M=M.sibling}return p}var Im=Math.ceil,ed=a.ReactCurrentDispatcher,qo=a.ReactCurrentOwner,kn=a.ReactCurrentBatchConfig,Qt=0,mr=null,On=null,Qn=0,ai=0,Rl=kt(0),cr=0,Vc=null,ms=0,eo=0,Al=0,Qs=null,Er=null,td=0,Da=1/0;function Il(){Da=Rr()+500}var $c=!1,Xn=null,Yo=null,Hc=!1,gs=null,kl=0,Ol=0,ea=null,$n=-1,ur=0;function Sn(){return(Qt&6)!==0?Rr():$n!==-1?$n:$n=Rr()}function Ko(h){return(h.mode&1)===0?1:(Qt&2)!==0&&Qn!==0?Qn&-Qn:r0.transition!==null?(ur===0&&(h=hr,hr<<=1,(hr&4194240)===0&&(hr=64),ur=h),ur):(h=an,h!==0?h:Ve())}function li(h,p,w){if(50<Ol)throw Ol=0,ea=null,Error(s(185));var M=Fa(h,p);return M===null?null:(ol(M,p,w),((Qt&2)===0||M!==mr)&&(M===mr&&((Qt&2)===0&&(eo|=p),cr===4&&Zr(M,Qn)),Di(M,w),p===1&&Qt===0&&(h.mode&1)===0&&(Il(),Pf&&xo())),M)}function Fa(h,p){h.lanes|=p;var w=h.alternate;for(w!==null&&(w.lanes|=p),w=h,h=h.return;h!==null;)h.childLanes|=p,w=h.alternate,w!==null&&(w.childLanes|=p),w=h,h=h.return;return w.tag===3?w.stateNode:null}function Di(h,p){var w=h.callbackNode;n0(h,p);var M=Ru(h,h===mr?Qn:0);if(M===0)w!==null&&Sc(w),h.callbackNode=null,h.callbackPriority=0;else if(p=M&-M,h.callbackPriority!==p){if(w!=null&&Sc(w),p===1)h.tag===0?Af(to.bind(null,h)):Rf(to.bind(null,h)),ze?ot(function(){Qt===0&&xo()}):sl(al,xo),w=null;else{switch(zs(M)){case 1:w=al;break;case 4:w=p_;break;case 16:w=Mf;break;case 536870912:w=Tf;break;default:w=Mf}w=ch(w,Kr.bind(null,h))}h.callbackPriority=p,h.callbackNode=w}}function Kr(h,p){if($n=-1,ur=0,(Qt&6)!==0)throw Error(s(327));var w=h.callbackNode;if(vs()&&h.callbackNode!==w)return null;var M=Ru(h,h===mr?Qn:0);if(M===0)return null;if((M&30)!==0||(M&h.expiredLanes)!==0||p)p=od(h,M);else{p=M;var N=Qt;Qt|=2;var U=Lm();(mr!==h||Qn!==p)&&(Il(),ta(h,p));do try{x0();break}catch(me){Om(h,me)}while(!0);gi(),ed.current=U,Qt=N,On!==null?p=0:(mr=null,Qn=0,p=cr)}if(p!==0){if(p===2&&(N=wf(h),N!==0&&(M=N,p=nd(h,N))),p===1)throw w=Vc,ta(h,0),Zr(h,M),Di(h,Rr()),w;if(p===6)Zr(h,M);else{if(N=h.current.alternate,(M&30)===0&&!km(N)&&(p=od(h,M),p===2&&(U=wf(h),U!==0&&(M=U,p=nd(h,U))),p===1))throw w=Vc,ta(h,0),Zr(h,M),Di(h,Rr()),w;switch(h.finishedWork=N,h.finishedLanes=M,p){case 0:case 1:throw Error(s(345));case 2:Zo(h,Er);break;case 3:if(Zr(h,M),(M&130023424)===M&&(p=td+500-Rr(),10<p)){if(Ru(h,0)!==0)break;if(N=h.suspendedLanes,(N&M)!==M){Sn(),h.pingedLanes|=h.suspendedLanes&N;break}h.timeoutHandle=Le(Zo.bind(null,h,Er),p);break}Zo(h,Er);break;case 4:if(Zr(h,M),(M&4194240)===M)break;for(p=h.eventTimes,N=-1;0<M;){var te=31-pn(M);U=1<<te,te=p[te],te>N&&(N=te),M&=~U}if(M=N,M=Rr()-M,M=(120>M?120:480>M?480:1080>M?1080:1920>M?1920:3e3>M?3e3:4320>M?4320:1960*Im(M/1960))-M,10<M){h.timeoutHandle=Le(Zo.bind(null,h,Er),M);break}Zo(h,Er);break;case 5:Zo(h,Er);break;default:throw Error(s(329))}}}return Di(h,Rr()),h.callbackNode===w?Kr.bind(null,h):null}function nd(h,p){var w=Qs;return h.current.memoizedState.isDehydrated&&(ta(h,p).flags|=256),h=od(h,p),h!==2&&(p=Er,Er=w,p!==null&&rd(p)),h}function rd(h){Er===null?Er=h:Er.push.apply(Er,h)}function km(h){for(var p=h;;){if(p.flags&16384){var w=p.updateQueue;if(w!==null&&(w=w.stores,w!==null))for(var M=0;M<w.length;M++){var N=w[M],U=N.getSnapshot;N=N.value;try{if(!mi(U(),N))return!1}catch{return!1}}}if(w=p.child,p.subtreeFlags&16384&&w!==null)w.return=p,p=w;else{if(p===h)break;for(;p.sibling===null;){if(p.return===null||p.return===h)return!0;p=p.return}p.sibling.return=p.return,p=p.sibling}}return!0}function Zr(h,p){for(p&=~Al,p&=~eo,h.suspendedLanes|=p,h.pingedLanes&=~p,h=h.expirationTimes;0<p;){var w=31-pn(p),M=1<<w;h[w]=-1,p&=~M}}function to(h){if((Qt&6)!==0)throw Error(s(327));vs();var p=Ru(h,0);if((p&1)===0)return Di(h,Rr()),null;var w=od(h,p);if(h.tag!==0&&w===2){var M=wf(h);M!==0&&(p=M,w=nd(h,M))}if(w===1)throw w=Vc,ta(h,0),Zr(h,p),Di(h,Rr()),w;if(w===6)throw Error(s(345));return h.finishedWork=h.current.alternate,h.finishedLanes=p,Zo(h,Er),Di(h,Rr()),null}function Wc(h){gs!==null&&gs.tag===0&&(Qt&6)===0&&vs();var p=Qt;Qt|=1;var w=kn.transition,M=an;try{if(kn.transition=null,an=1,h)return h()}finally{an=M,kn.transition=w,Qt=p,(Qt&6)===0&&xo()}}function id(){ai=Rl.current,nt(Rl)}function ta(h,p){h.finishedWork=null,h.finishedLanes=0;var w=h.timeoutHandle;if(w!==be&&(h.timeoutHandle=be,ge(w)),On!==null)for(w=On.return;w!==null;){var M=w;switch(am(M),M.tag){case 1:M=M.type.childContextTypes,M!=null&&sn();break;case 3:Ic(),nt(hn),nt(fn),ml();break;case 5:um(M);break;case 4:Ic();break;case 13:nt(ir);break;case 19:nt(ir);break;case 10:Lu(M.type._context);break;case 22:case 23:id()}w=w.return}if(mr=h,On=h=na(h.current,null),Qn=ai=p,cr=0,Vc=null,Al=eo=ms=0,Er=Qs=null,bo!==null){for(p=0;p<bo.length;p++)if(w=bo[p],M=w.interleaved,M!==null){w.interleaved=null;var N=M.next,U=w.pending;if(U!==null){var te=U.next;U.next=N,M.next=te}w.pending=M}bo=null}return h}function Om(h,p){do{var w=On;try{if(gi(),Du.current=Dc,$f){for(var M=or.memoizedState;M!==null;){var N=M.queue;N!==null&&(N.pending=null),M=M.next}$f=!1}if(gl=0,Dr=Nr=or=null,fs=!1,vl=0,qo.current=null,w===null||w.return===null){cr=1,Vc=p,On=null;break}e:{var U=h,te=w.return,me=w,Oe=p;if(p=Qn,me.flags|=32768,Oe!==null&&typeof Oe=="object"&&typeof Oe.then=="function"){var et=Oe,_t=me,jt=_t.tag;if((_t.mode&1)===0&&(jt===0||jt===11||jt===15)){var Ft=_t.alternate;Ft?(_t.updateQueue=Ft.updateQueue,_t.memoizedState=Ft.memoizedState,_t.lanes=Ft.lanes):(_t.updateQueue=null,_t.memoizedState=null)}var rn=bm(te);if(rn!==null){rn.flags&=-257,xl(rn,te,me,U,p),rn.mode&1&&Gs(U,et,p),p=rn,Oe=et;var gt=p.updateQueue;if(gt===null){var Jr=new Set;Jr.add(Oe),p.updateQueue=Jr}else gt.add(Oe);break e}else{if((p&1)===0){Gs(U,et,p),lh();break e}Oe=Error(s(426))}}else if(Jn&&me.mode&1){var ro=bm(te);if(ro!==null){(ro.flags&65536)===0&&(ro.flags|=256),xl(ro,te,me,U,p),Uf(Oe);break e}}U=Oe,cr!==4&&(cr=2),Qs===null?Qs=[U]:Qs.push(U),Oe=xm(Oe,me),me=te;do{switch(me.tag){case 3:me.flags|=65536,p&=-p,me.lanes|=p;var Ee=g0(me,Oe,p);Of(me,Ee);break e;case 1:U=Oe;var ve=me.type,Ae=me.stateNode;if((me.flags&128)===0&&(typeof ve.getDerivedStateFromError=="function"||Ae!==null&&typeof Ae.componentDidCatch=="function"&&(Yo===null||!Yo.has(Ae)))){me.flags|=65536,p&=-p,me.lanes|=p;var ft=Jf(me,U,p);Of(me,ft);break e}}me=me.return}while(me!==null)}Dm(w)}catch(It){p=It,On===w&&w!==null&&(On=w=w.return);continue}break}while(!0)}function Lm(){var h=ed.current;return ed.current=Dc,h===null?Dc:h}function lh(){(cr===0||cr===3||cr===2)&&(cr=4),mr===null||(ms&268435455)===0&&(eo&268435455)===0||Zr(mr,Qn)}function od(h,p){var w=Qt;Qt|=2;var M=Lm();mr===h&&Qn===p||ta(h,p);do try{y0();break}catch(N){Om(h,N)}while(!0);if(gi(),Qt=w,ed.current=M,On!==null)throw Error(s(261));return mr=null,Qn=0,cr}function y0(){for(;On!==null;)Nm(On)}function x0(){for(;On!==null&&!Ma();)Nm(On)}function Nm(h){var p=Um(h.alternate,h,ai);h.memoizedProps=h.pendingProps,p===null?Dm(h):On=p,qo.current=null}function Dm(h){var p=h;do{var w=p.alternate;if(h=p.return,(p.flags&32768)===0){if(w=th(w,p,ai),w!==null){On=w;return}}else{if(w=ih(w,p),w!==null){w.flags&=32767,On=w;return}if(h!==null)h.flags|=32768,h.subtreeFlags=0,h.deletions=null;else{cr=6,On=null;return}}if(p=p.sibling,p!==null){On=p;return}On=p=h}while(p!==null);cr===0&&(cr=5)}function Zo(h,p){var w=an,M=kn.transition;try{kn.transition=null,an=1,b0(h,p,w)}finally{kn.transition=M,an=w}return null}function b0(h,p,w){do vs();while(gs!==null);if((Qt&6)!==0)throw Error(s(327));var M=h.finishedWork,N=h.finishedLanes;if(M===null)return null;if(h.finishedWork=null,h.finishedLanes=0,M===h.current)throw Error(s(177));h.callbackNode=null,h.callbackPriority=0;var U=M.lanes|M.childLanes;if(Cf(h,U),h===mr&&(On=mr=null,Qn=0),(M.subtreeFlags&2064)===0&&(M.flags&2064)===0||Hc||(Hc=!0,ch(Mf,function(){return vs(),null})),U=(M.flags&15990)!==0,(M.subtreeFlags&15990)!==0||U){U=kn.transition,kn.transition=null;var te=an;an=1;var me=Qt;Qt|=4,qo.current=null,Cm(h,M),v_(h,M),Z(h.containerInfo),h.current=M,Yu(M),h_(),Qt=me,an=te,kn.transition=U}else h.current=M;if(Hc&&(Hc=!1,gs=h,kl=N),U=h.pendingLanes,U===0&&(Yo=null),Iu(M.stateNode),Di(h,Rr()),p!==null)for(w=h.onRecoverableError,M=0;M<p.length;M++)w(p[M]);if($c)throw $c=!1,h=Xn,Xn=null,h;return(kl&1)!==0&&h.tag!==0&&vs(),U=h.pendingLanes,(U&1)!==0?h===ea?Ol++:(Ol=0,ea=h):Ol=0,xo(),null}function vs(){if(gs!==null){var h=zs(kl),p=kn.transition,w=an;try{if(kn.transition=null,an=16>h?16:h,gs===null)var M=!1;else{if(h=gs,gs=null,kl=0,(Qt&6)!==0)throw Error(s(331));var N=Qt;for(Qt|=4,it=h.current;it!==null;){var U=it,te=U.child;if((it.flags&16)!==0){var me=U.deletions;if(me!==null){for(var Oe=0;Oe<me.length;Oe++){var et=me[Oe];for(it=et;it!==null;){var _t=it;switch(_t.tag){case 0:case 11:case 15:Ks(8,_t,U)}var jt=_t.child;if(jt!==null)jt.return=_t,it=jt;else for(;it!==null;){_t=it;var Ft=_t.sibling,rn=_t.return;if(Mm(_t),_t===et){it=null;break}if(Ft!==null){Ft.return=rn,it=Ft;break}it=rn}}}var gt=U.alternate;if(gt!==null){var Jr=gt.child;if(Jr!==null){gt.child=null;do{var ro=Jr.sibling;Jr.sibling=null,Jr=ro}while(Jr!==null)}}it=U}}if((U.subtreeFlags&2064)!==0&&te!==null)te.return=U,it=te;else e:for(;it!==null;){if(U=it,(U.flags&2048)!==0)switch(U.tag){case 0:case 11:case 15:Ks(9,U,U.return)}var Ee=U.sibling;if(Ee!==null){Ee.return=U.return,it=Ee;break e}it=U.return}}var ve=h.current;for(it=ve;it!==null;){te=it;var Ae=te.child;if((te.subtreeFlags&2064)!==0&&Ae!==null)Ae.return=te,it=Ae;else e:for(te=ve;it!==null;){if(me=it,(me.flags&2048)!==0)try{switch(me.tag){case 0:case 11:case 15:Yr(9,me)}}catch(It){_i(me,me.return,It)}if(me===te){it=null;break e}var ft=me.sibling;if(ft!==null){ft.return=me.return,it=ft;break e}it=me.return}}if(Qt=N,xo(),ds&&typeof ds.onPostCommitFiberRoot=="function")try{ds.onPostCommitFiberRoot(Au,h)}catch{}M=!0}return M}finally{an=w,kn.transition=p}}return!1}function sd(h,p,w){p=xm(w,p),p=g0(h,p,1),Ta(h,p),p=Sn(),h=Fa(h,1),h!==null&&(ol(h,1,p),Di(h,p))}function _i(h,p,w){if(h.tag===3)sd(h,h,w);else for(;p!==null;){if(p.tag===3){sd(p,h,w);break}else if(p.tag===1){var M=p.stateNode;if(typeof p.type.getDerivedStateFromError=="function"||typeof M.componentDidCatch=="function"&&(Yo===null||!Yo.has(M))){h=xm(w,h),h=Jf(p,h,1),Ta(p,h),h=Sn(),p=Fa(p,1),p!==null&&(ol(p,1,h),Di(p,h));break}}p=p.return}}function Fm(h,p,w){var M=h.pingCache;M!==null&&M.delete(p),p=Sn(),h.pingedLanes|=h.suspendedLanes&w,mr===h&&(Qn&w)===w&&(cr===4||cr===3&&(Qn&130023424)===Qn&&500>Rr()-td?ta(h,0):Al|=w),Di(h,p)}function zm(h,p){p===0&&((h.mode&1)===0?p=1:(p=mn,mn<<=1,(mn&130023424)===0&&(mn=4194304)));var w=Sn();h=Fa(h,p),h!==null&&(ol(h,p,w),Di(h,w))}function _0(h){var p=h.memoizedState,w=0;p!==null&&(w=p.retryLane),zm(h,w)}function S0(h,p){var w=0;switch(h.tag){case 13:var M=h.stateNode,N=h.memoizedState;N!==null&&(w=N.retryLane);break;case 19:M=h.stateNode;break;default:throw Error(s(314))}M!==null&&M.delete(p),zm(h,w)}var Um;Um=function(h,p,w){if(h!==null)if(h.memoizedProps!==p.pendingProps||hn.current)zr=!0;else{if((h.lanes&w)===0&&(p.flags&128)===0)return zr=!1,rh(h,p,w);zr=(h.flags&131072)!==0}else zr=!1,Jn&&(p.flags&1048576)!==0&&l0(p,Ff,p.index);switch(p.lanes=0,p.tag){case 2:var M=p.type;h!==null&&(h.alternate=null,p.alternate=null,p.flags|=2),h=p.pendingProps;var N=Tt(p,fn.current);wc(p,w),N=kc(null,p,M,h,N,w);var U=Ia();return p.flags|=1,typeof N=="object"&&N!==null&&typeof N.render=="function"&&N.$$typeof===void 0?(p.tag=1,p.memoizedState=null,p.updateQueue=null,yn(M)?(U=!0,Or(p)):U=!1,p.memoizedState=N.state!==null&&N.state!==void 0?N.state:null,Ec(p),N.updater=Nf,p.stateNode=N,N._reactInternals=p,om(p,M,h,w),p=si(null,p,M,!0,U,w)):(p.tag=0,Jn&&U&&sm(p),lr(null,p,N,w),p=p.child),p;case 16:M=p.elementType;e:{switch(h!==null&&(h.alternate=null,p.alternate=null,p.flags|=2),h=p.pendingProps,N=M._init,M=N(M._payload),p.type=M,N=p.tag=y_(M),h=ki(M,h),N){case 0:p=qs(null,p,M,h,w);break e;case 1:p=_l(null,p,M,h,w);break e;case 11:p=Vn(null,p,M,h,w);break e;case 14:p=Dn(null,p,M,ki(M.type,h),w);break e}throw Error(s(306,M,""))}return p;case 0:return M=p.type,N=p.pendingProps,N=p.elementType===M?N:ki(M,N),qs(h,p,M,N,w);case 1:return M=p.type,N=p.pendingProps,N=p.elementType===M?N:ki(M,N),_l(h,p,M,N,w);case 3:e:{if(Gu(p),h===null)throw Error(s(387));M=p.pendingProps,U=p.memoizedState,N=U.element,nm(h,p),Lf(p,M,null,w);var te=p.memoizedState;if(M=te.element,Ge&&U.isDehydrated)if(U={element:M,isDehydrated:!1,cache:te.cache,transitions:te.transitions},p.updateQueue.baseState=U,p.memoizedState=U,p.flags&256){N=Error(s(423)),p=Sm(h,p,M,w,N);break e}else if(M!==N){N=Error(s(424)),p=Sm(h,p,M,w,N);break e}else for(Ge&&(Xr=mf(p.stateNode.containerInfo),vi=p,Jn=!0,wo=null,Mc=!1),w=d0(p,null,M,w),p.child=w;w;)w.flags=w.flags&-3|4096,w=w.sibling;else{if(Tc(),M===N){p=Ni(h,p,w);break e}lr(h,p,M,w)}p=p.child}return p;case 5:return f0(p),h===null&&Ra(p),M=p.type,N=p.pendingProps,U=h!==null?h.memoizedProps:null,te=N.children,Me(M,N)?te=null:U!==null&&Me(M,U)&&(p.flags|=32),yi(h,p),lr(h,p,te,w),p.child;case 6:return h===null&&Ra(p),null;case 13:return wm(h,p,w);case 4:return Bf(p,p.stateNode.containerInfo),M=p.pendingProps,h===null?p.child=Hs(p,null,M,w):lr(h,p,M,w),p.child;case 11:return M=p.type,N=p.pendingProps,N=p.elementType===M?N:ki(M,N),Vn(h,p,M,N,w);case 7:return lr(h,p,p.pendingProps,w),p.child;case 8:return lr(h,p,p.pendingProps.children,w),p.child;case 12:return lr(h,p,p.pendingProps.children,w),p.child;case 10:e:{if(M=p.type._context,N=p.pendingProps,U=p.memoizedProps,te=N.value,cl(p,M,te),U!==null)if(mi(U.value,te)){if(U.children===N.children&&!hn.current){p=Ni(h,p,w);break e}}else for(U=p.child,U!==null&&(U.return=p);U!==null;){var me=U.dependencies;if(me!==null){te=U.child;for(var Oe=me.firstContext;Oe!==null;){if(Oe.context===M){if(U.tag===1){Oe=Bs(-1,w&-w),Oe.tag=2;var et=U.updateQueue;if(et!==null){et=et.shared;var _t=et.pending;_t===null?Oe.next=Oe:(Oe.next=_t.next,_t.next=Oe),et.pending=Oe}}U.lanes|=w,Oe=U.alternate,Oe!==null&&(Oe.lanes|=w),ul(U.return,w,p),me.lanes|=w;break}Oe=Oe.next}}else if(U.tag===10)te=U.type===p.type?null:U.child;else if(U.tag===18){if(te=U.return,te===null)throw Error(s(341));te.lanes|=w,me=te.alternate,me!==null&&(me.lanes|=w),ul(te,w,p),te=U.sibling}else te=U.child;if(te!==null)te.return=U;else for(te=U;te!==null;){if(te===p){te=null;break}if(U=te.sibling,U!==null){U.return=te.return,te=U;break}te=te.return}U=te}lr(h,p,N.children,w),p=p.child}return p;case 9:return N=p.type,M=p.pendingProps.children,wc(p,w),N=Oi(N),M=M(N),p.flags|=1,lr(h,p,M,w),p.child;case 14:return M=p.type,N=ki(M,p.pendingProps),N=ki(M.type,N),Dn(h,p,M,N,w);case 15:return Xs(h,p,p.type,p.pendingProps,w);case 17:return M=p.type,N=p.pendingProps,N=p.elementType===M?N:ki(M,N),h!==null&&(h.alternate=null,p.alternate=null,p.flags|=2),p.tag=1,yn(M)?(h=!0,Or(p)):h=!1,wc(p,w),s0(p,M,N),om(p,M,N,w),si(null,p,M,!0,h,w);case 19:return wl(h,p,w);case 22:return qr(h,p,w)}throw Error(s(156,p.tag))};function ch(h,p){return sl(h,p)}function w0(h,p,w,M){this.tag=h,this.key=w,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=p,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=M,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function no(h,p,w,M){return new w0(h,p,w,M)}function uh(h){return h=h.prototype,!(!h||!h.isReactComponent)}function y_(h){if(typeof h=="function")return uh(h)?1:0;if(h!=null){if(h=h.$$typeof,h===S)return 11;if(h===C)return 14}return 2}function na(h,p){var w=h.alternate;return w===null?(w=no(h.tag,p,h.key,h.mode),w.elementType=h.elementType,w.type=h.type,w.stateNode=h.stateNode,w.alternate=h,h.alternate=w):(w.pendingProps=p,w.type=h.type,w.flags=0,w.subtreeFlags=0,w.deletions=null),w.flags=h.flags&14680064,w.childLanes=h.childLanes,w.lanes=h.lanes,w.child=h.child,w.memoizedProps=h.memoizedProps,w.memoizedState=h.memoizedState,w.updateQueue=h.updateQueue,p=h.dependencies,w.dependencies=p===null?null:{lanes:p.lanes,firstContext:p.firstContext},w.sibling=h.sibling,w.index=h.index,w.ref=h.ref,w}function dh(h,p,w,M,N,U){var te=2;if(M=h,typeof h=="function")uh(h)&&(te=1);else if(typeof h=="string")te=5;else e:switch(h){case f:return Ll(w.children,N,U,p);case m:te=8,N|=8;break;case g:return h=no(12,w,p,N|2),h.elementType=g,h.lanes=U,h;case _:return h=no(13,w,p,N),h.elementType=_,h.lanes=U,h;case b:return h=no(19,w,p,N),h.elementType=b,h.lanes=U,h;case A:return ad(w,N,U,p);default:if(typeof h=="object"&&h!==null)switch(h.$$typeof){case y:te=10;break e;case x:te=9;break e;case S:te=11;break e;case C:te=14;break e;case T:te=16,M=null;break e}throw Error(s(130,h==null?h:typeof h,""))}return p=no(te,w,p,N),p.elementType=h,p.type=M,p.lanes=U,p}function Ll(h,p,w,M){return h=no(7,h,M,p),h.lanes=w,h}function ad(h,p,w,M){return h=no(22,h,M,p),h.elementType=A,h.lanes=w,h.stateNode={},h}function fh(h,p,w){return h=no(6,h,null,p),h.lanes=w,h}function hh(h,p,w){return p=no(4,h.children!==null?h.children:[],h.key,p),p.lanes=w,p.stateNode={containerInfo:h.containerInfo,pendingChildren:null,implementation:h.implementation},p}function ph(h,p,w,M,N){this.tag=p,this.containerInfo=h,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=be,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ef(0),this.expirationTimes=Ef(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ef(0),this.identifierPrefix=M,this.onRecoverableError=N,Ge&&(this.mutableSourceEagerHydrationData=null)}function E0(h,p,w,M,N,U,te,me,Oe){return h=new ph(h,p,w,me,Oe),p===1?(p=1,U===!0&&(p|=8)):p=0,U=no(3,null,null,p),h.current=U,U.stateNode=h,U.memoizedState={element:M,isDehydrated:w,cache:null,transitions:null},Ec(U),h}function C0(h){if(!h)return $t;h=h._reactInternals;e:{if(L(h)!==h||h.tag!==1)throw Error(s(170));var p=h;do{switch(p.tag){case 3:p=p.stateNode.context;break e;case 1:if(yn(p.type)){p=p.stateNode.__reactInternalMemoizedMergedChildContext;break e}}p=p.return}while(p!==null);throw Error(s(171))}if(h.tag===1){var w=h.type;if(yn(w))return Fs(h,w,p)}return p}function M0(h){var p=h._reactInternals;if(p===void 0)throw typeof h.render=="function"?Error(s(188)):(h=Object.keys(h).join(","),Error(s(268,h)));return h=j(p),h===null?null:h.stateNode}function Mo(h,p){if(h=h.memoizedState,h!==null&&h.dehydrated!==null){var w=h.retryLane;h.retryLane=w!==0&&w<p?w:p}}function ld(h,p){Mo(h,p),(h=h.alternate)&&Mo(h,p)}function mh(h){return h=j(h),h===null?null:h.stateNode}function T0(){return null}return n.attemptContinuousHydration=function(h){if(h.tag===13){var p=Sn();li(h,134217728,p),ld(h,134217728)}},n.attemptHydrationAtCurrentPriority=function(h){if(h.tag===13){var p=Sn(),w=Ko(h);li(h,w,p),ld(h,w)}},n.attemptSynchronousHydration=function(h){switch(h.tag){case 3:var p=h.stateNode;if(p.current.memoizedState.isDehydrated){var w=Ii(p.pendingLanes);w!==0&&(us(p,w|1),Di(p,Rr()),(Qt&6)===0&&(Il(),xo()))}break;case 13:var M=Sn();Wc(function(){return li(h,1,M)}),ld(h,1)}},n.batchedUpdates=function(h,p){var w=Qt;Qt|=1;try{return h(p)}finally{Qt=w,Qt===0&&(Il(),Pf&&xo())}},n.createComponentSelector=function(h){return{$$typeof:Zu,value:h}},n.createContainer=function(h,p,w,M,N,U,te){return E0(h,p,!1,null,w,M,N,U,te)},n.createHasPseudoClassSelector=function(h){return{$$typeof:Ml,value:h}},n.createHydrationContainer=function(h,p,w,M,N,U,te,me,Oe){return h=E0(w,M,!0,h,N,U,te,me,Oe),h.context=C0(null),w=h.current,M=Sn(),N=Ko(w),U=Bs(M,N),U.callback=p??null,Ta(w,U),h.current.lanes=N,ol(h,N,M),Di(h,M),h},n.createPortal=function(h,p,w){var M=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:d,key:M==null?null:""+M,children:h,containerInfo:p,implementation:w}},n.createRoleSelector=function(h){return{$$typeof:Tl,value:h}},n.createTestNameSelector=function(h){return{$$typeof:Zs,value:h}},n.createTextSelector=function(h){return{$$typeof:Bc,value:h}},n.deferredUpdates=function(h){var p=an,w=kn.transition;try{return kn.transition=null,an=16,h()}finally{an=p,kn.transition=w}},n.discreteUpdates=function(h,p,w,M,N){var U=an,te=kn.transition;try{return kn.transition=null,an=1,h(p,w,M,N)}finally{an=U,kn.transition=te,Qt===0&&Il()}},n.findAllNodes=Js,n.findBoundingRects=function(h,p){if(!Be)throw Error(s(363));p=Js(h,p),h=[];for(var w=0;w<p.length;w++)h.push($(p[w]));for(p=h.length-1;0<p;p--){w=h[p];for(var M=w.x,N=M+w.width,U=w.y,te=U+w.height,me=p-1;0<=me;me--)if(p!==me){var Oe=h[me],et=Oe.x,_t=et+Oe.width,jt=Oe.y,Ft=jt+Oe.height;if(M>=et&&U>=jt&&N<=_t&&te<=Ft){h.splice(p,1);break}else if(M!==et||w.width!==Oe.width||Ft<U||jt>te){if(!(U!==jt||w.height!==Oe.height||_t<M||et>N)){et>M&&(Oe.width+=et-M,Oe.x=M),_t<N&&(Oe.width=N-et),h.splice(p,1);break}}else{jt>U&&(Oe.height+=jt-U,Oe.y=U),Ft<te&&(Oe.height=te-jt),h.splice(p,1);break}}}return h},n.findHostInstance=M0,n.findHostInstanceWithNoPortals=function(h){return h=B(h),h=h!==null?ee(h):null,h===null?null:h.stateNode},n.findHostInstanceWithWarning=function(h){return M0(h)},n.flushControlled=function(h){var p=Qt;Qt|=1;var w=kn.transition,M=an;try{kn.transition=null,an=1,h()}finally{an=M,kn.transition=w,Qt=p,Qt===0&&(Il(),xo())}},n.flushPassiveEffects=vs,n.flushSync=Wc,n.focusWithin=function(h,p){if(!Be)throw Error(s(363));for(h=Ju(h),p=Qi(h,p),p=Array.from(p),h=0;h<p.length;){var w=p[h++];if(!pe(w)){if(w.tag===5&&Ce(w.stateNode))return!0;for(w=w.child;w!==null;)p.push(w),w=w.sibling}}return!1},n.getCurrentUpdatePriority=function(){return an},n.getFindAllNodesFailureDescription=function(h,p){if(!Be)throw Error(s(363));var w=0,M=[];h=[Ju(h),0];for(var N=0;N<h.length;){var U=h[N++],te=h[N++],me=p[te];if((U.tag!==5||!pe(U))&&(Qu(U,me)&&(M.push(Na(me)),te++,te>w&&(w=te)),te<p.length))for(U=U.child;U!==null;)h.push(U,te),U=U.sibling}if(w<p.length){for(h=[];w<p.length;w++)h.push(Na(p[w]));return`findAllNodes was able to match part of the selector:
  `+(M.join(" > ")+`

No matching component was found for:
  `)+h.join(" > ")}return null},n.getPublicRootInstance=function(h){if(h=h.current,!h.child)return null;switch(h.child.tag){case 5:return ne(h.child.stateNode);default:return h.child.stateNode}},n.injectIntoDevTools=function(h){if(h={bundleType:h.bundleType,version:h.version,rendererPackageName:h.rendererPackageName,rendererConfig:h.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:a.ReactCurrentDispatcher,findHostInstanceByFiber:mh,findFiberByHostInstance:h.findFiberByHostInstance||T0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")h=!1;else{var p=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(p.isDisabled||!p.supportsFiber)h=!0;else{try{Au=p.inject(h),ds=p}catch{}h=!!p.checkDCE}}return h},n.isAlreadyRendering=function(){return!1},n.observeVisibleRects=function(h,p,w,M){if(!Be)throw Error(s(363));h=Js(h,p);var N=tt(h,w,M).disconnect;return{disconnect:function(){N()}}},n.registerMutableSourceForHydration=function(h,p){var w=p._getVersion;w=w(p._source),h.mutableSourceEagerHydrationData==null?h.mutableSourceEagerHydrationData=[p,w]:h.mutableSourceEagerHydrationData.push(p,w)},n.runWithPriority=function(h,p){var w=an;try{return an=h,p()}finally{an=w}},n.shouldError=function(){return null},n.shouldSuspend=function(){return!1},n.updateContainer=function(h,p,w,M){var N=p.current,U=Sn(),te=Ko(N);return w=C0(w),p.context===null?p.context=w:p.pendingContext=w,p=Bs(U,te),p.payload={element:h},M=M===void 0?null:M,M!==null&&(p.callback=M),Ta(N,p),h=li(N,te,U),h!==null&&kf(h,N,te),te},n}),ow}var HA;function dre(){return HA||(HA=1,nw.exports=ure()),nw.exports}var fre=dre();const hre=wu(fre);var sw={exports:{}},aw={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WA;function pre(){return WA||(WA=1,function(t){function e(V,Q){var Z=V.length;V.push(Q);e:for(;0<Z;){var W=Z-1>>>1,le=V[W];if(0<i(le,Q))V[W]=Q,V[Z]=le,Z=W;else break e}}function n(V){return V.length===0?null:V[0]}function r(V){if(V.length===0)return null;var Q=V[0],Z=V.pop();if(Z!==Q){V[0]=Z;e:for(var W=0,le=V.length,Ie=le>>>1;W<Ie;){var fe=2*(W+1)-1,Me=V[fe],De=fe+1,Le=V[De];if(0>i(Me,Z))De<le&&0>i(Le,Me)?(V[W]=Le,V[De]=Z,W=De):(V[W]=Me,V[fe]=Z,W=fe);else if(De<le&&0>i(Le,Z))V[W]=Le,V[De]=Z,W=De;else break e}}return Q}function i(V,Q){var Z=V.sortIndex-Q.sortIndex;return Z!==0?Z:V.id-Q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var c=[],d=[],f=1,m=null,g=3,y=!1,x=!1,S=!1,_=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(V){for(var Q=n(d);Q!==null;){if(Q.callback===null)r(d);else if(Q.startTime<=V)r(d),Q.sortIndex=Q.expirationTime,e(c,Q);else break;Q=n(d)}}function A(V){if(S=!1,T(V),!x)if(n(c)!==null)x=!0,ne(P);else{var Q=n(d);Q!==null&&se(A,Q.startTime-V)}}function P(V,Q){x=!1,S&&(S=!1,b(z),z=-1),y=!0;var Z=g;try{for(T(Q),m=n(c);m!==null&&(!(m.expirationTime>Q)||V&&!B());){var W=m.callback;if(typeof W=="function"){m.callback=null,g=m.priorityLevel;var le=W(m.expirationTime<=Q);Q=t.unstable_now(),typeof le=="function"?m.callback=le:m===n(c)&&r(c),T(Q)}else r(c);m=n(c)}if(m!==null)var Ie=!0;else{var fe=n(d);fe!==null&&se(A,fe.startTime-Q),Ie=!1}return Ie}finally{m=null,g=Z,y=!1}}var R=!1,k=null,z=-1,L=5,O=-1;function B(){return!(t.unstable_now()-O<L)}function j(){if(k!==null){var V=t.unstable_now();O=V;var Q=!0;try{Q=k(!0,V)}finally{Q?X():(R=!1,k=null)}}else R=!1}var X;if(typeof C=="function")X=function(){C(j)};else if(typeof MessageChannel<"u"){var ee=new MessageChannel,K=ee.port2;ee.port1.onmessage=j,X=function(){K.postMessage(null)}}else X=function(){_(j,0)};function ne(V){k=V,R||(R=!0,X())}function se(V,Q){z=_(function(){V(t.unstable_now())},Q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(V){V.callback=null},t.unstable_continueExecution=function(){x||y||(x=!0,ne(P))},t.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<V?Math.floor(1e3/V):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(V){switch(g){case 1:case 2:case 3:var Q=3;break;default:Q=g}var Z=g;g=Q;try{return V()}finally{g=Z}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(V,Q){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var Z=g;g=V;try{return Q()}finally{g=Z}},t.unstable_scheduleCallback=function(V,Q,Z){var W=t.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?W+Z:W):Z=W,V){case 1:var le=-1;break;case 2:le=250;break;case 5:le=1073741823;break;case 4:le=1e4;break;default:le=5e3}return le=Z+le,V={id:f++,callback:Q,priorityLevel:V,startTime:Z,expirationTime:le,sortIndex:-1},Z>W?(V.sortIndex=Z,e(d,V),n(c)===null&&V===n(d)&&(S?(b(z),z=-1):S=!0,se(A,Z-W))):(V.sortIndex=le,e(c,V),x||y||(x=!0,ne(P))),V},t.unstable_shouldYield=B,t.unstable_wrapCallback=function(V){var Q=g;return function(){var Z=g;g=Q;try{return V.apply(this,arguments)}finally{g=Z}}}}(aw)),aw}var GA;function mre(){return GA||(GA=1,sw.exports=pre()),sw.exports}var jA=mre();const gre=t=>typeof t=="object"&&typeof t.then=="function",jd=[];function Wz(t,e,n=(r,i)=>r===i){if(t===e)return!0;if(!t||!e)return!1;const r=t.length;if(e.length!==r)return!1;for(let i=0;i<r;i++)if(!n(t[i],e[i]))return!1;return!0}function Gz(t,e=null,n=!1,r={}){e===null&&(e=[t]);for(const o of jd)if(Wz(e,o.keys,o.equal)){if(n)return;if(Object.prototype.hasOwnProperty.call(o,"error"))throw o.error;if(Object.prototype.hasOwnProperty.call(o,"response"))return r.lifespan&&r.lifespan>0&&(o.timeout&&clearTimeout(o.timeout),o.timeout=setTimeout(o.remove,r.lifespan)),o.response;if(!n)throw o.promise}const i={keys:e,equal:r.equal,remove:()=>{const o=jd.indexOf(i);o!==-1&&jd.splice(o,1)},promise:(gre(t)?t:t(...e)).then(o=>{i.response=o,r.lifespan&&r.lifespan>0&&(i.timeout=setTimeout(i.remove,r.lifespan))}).catch(o=>i.error=o)};if(jd.push(i),!n)throw i.promise}const vre=(t,e,n)=>Gz(t,e,!1,n),yre=(t,e,n)=>void Gz(t,e,!0,n),xre=t=>{if(t===void 0||t.length===0)jd.splice(0,jd.length);else{const e=jd.find(n=>Wz(t,n.keys,n.equal));e&&e.remove()}},KM={},bre=t=>void Object.assign(KM,t);function _re(t,e){function n(f,{args:m=[],attach:g,...y},x){let S=`${f[0].toUpperCase()}${f.slice(1)}`,_;if(f==="primitive"){if(y.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const b=y.object;_=Qh(b,{type:f,root:x,attach:g,primitive:!0})}else{const b=KM[S];if(!b)throw new Error(`R3F: ${S} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(m))throw new Error("R3F: The args prop must be an array!");_=Qh(new b(...m),{type:f,root:x,attach:g,memoizedProps:{args:m}})}return _.__r3f.attach===void 0&&(_ instanceof Yt?_.__r3f.attach="geometry":_ instanceof ti&&(_.__r3f.attach="material")),S!=="inject"&&uw(_,y),_}function r(f,m){let g=!1;if(m){var y,x;(y=m.__r3f)!=null&&y.attach?cw(f,m,m.__r3f.attach):m.isObject3D&&f.isObject3D&&(f.add(m),g=!0),g||(x=f.__r3f)==null||x.objects.push(m),m.__r3f||Qh(m,{}),m.__r3f.parent=f,GE(m),ep(m)}}function i(f,m,g){let y=!1;if(m){var x,S;if((x=m.__r3f)!=null&&x.attach)cw(f,m,m.__r3f.attach);else if(m.isObject3D&&f.isObject3D){m.parent=f,m.dispatchEvent({type:"added"}),f.dispatchEvent({type:"childadded",child:m});const _=f.children.filter(C=>C!==m),b=_.indexOf(g);f.children=[..._.slice(0,b),m,..._.slice(b)],y=!0}y||(S=f.__r3f)==null||S.objects.push(m),m.__r3f||Qh(m,{}),m.__r3f.parent=f,GE(m),ep(m)}}function o(f,m,g=!1){f&&[...f].forEach(y=>s(m,y,g))}function s(f,m,g){if(m){var y,x,S;if(m.__r3f&&(m.__r3f.parent=null),(y=f.__r3f)!=null&&y.objects&&(f.__r3f.objects=f.__r3f.objects.filter(A=>A!==m)),(x=m.__r3f)!=null&&x.attach)ZA(f,m,m.__r3f.attach);else if(m.isObject3D&&f.isObject3D){var _;f.remove(m),(_=m.__r3f)!=null&&_.root&&Rre(Px(m),m)}const C=(S=m.__r3f)==null?void 0:S.primitive,T=!C&&(g===void 0?m.dispose!==null:g);if(!C){var b;o((b=m.__r3f)==null?void 0:b.objects,m,T),o(m.children,m,T)}if(delete m.__r3f,T&&m.dispose&&m.type!=="Scene"){const A=()=>{try{m.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT>"u"?jA.unstable_scheduleCallback(jA.unstable_IdlePriority,A):A()}ep(f)}}function a(f,m,g,y){var x;const S=(x=f.__r3f)==null?void 0:x.parent;if(!S)return;const _=n(m,g,f.__r3f.root);if(f.children){for(const b of f.children)b.__r3f&&r(_,b);f.children=f.children.filter(b=>!b.__r3f)}f.__r3f.objects.forEach(b=>r(_,b)),f.__r3f.objects=[],f.__r3f.autoRemovedBeforeAppend||s(S,f),_.parent&&(_.__r3f.autoRemovedBeforeAppend=!0),r(S,_),_.raycast&&_.__r3f.eventCount&&Px(_).getState().internal.interaction.push(_),[y,y.alternate].forEach(b=>{b!==null&&(b.stateNode=_,b.ref&&(typeof b.ref=="function"?b.ref(_):b.ref.current=_))})}const c=()=>console.warn("Text is not allowed in the R3F tree! This could be stray whitespace or characters.");return{reconciler:hre({createInstance:n,removeChild:s,appendChild:r,appendInitialChild:r,insertBefore:i,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(f,m)=>{if(!m)return;const g=f.getState().scene;g.__r3f&&(g.__r3f.root=f,r(g,m))},removeChildFromContainer:(f,m)=>{m&&s(f.getState().scene,m)},insertInContainerBefore:(f,m,g)=>{if(!m||!g)return;const y=f.getState().scene;y.__r3f&&i(y,m,g)},getRootHostContext:()=>null,getChildHostContext:f=>f,finalizeInitialChildren(f){var m;return!!((m=f==null?void 0:f.__r3f)!=null?m:{}).handlers},prepareUpdate(f,m,g,y){var x;if(((x=f==null?void 0:f.__r3f)!=null?x:{}).primitive&&y.object&&y.object!==f)return[!0];{const{args:_=[],children:b,...C}=y,{args:T=[],children:A,...P}=g;if(!Array.isArray(_))throw new Error("R3F: the args prop must be an array!");if(_.some((k,z)=>k!==T[z]))return[!0];const R=Jz(f,C,P,!0);return R.changes.length?[!1,R]:null}},commitUpdate(f,[m,g],y,x,S,_){m?a(f,y,S,_):uw(f,g)},commitMount(f,m,g,y){var x;const S=(x=f.__r3f)!=null?x:{};f.raycast&&S.handlers&&S.eventCount&&Px(f).getState().internal.interaction.push(f)},getPublicInstance:f=>f,prepareForCommit:()=>null,preparePortalMount:f=>Qh(f.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(f){var m;const{attach:g,parent:y}=(m=f.__r3f)!=null?m:{};g&&y&&ZA(y,f,g),f.isObject3D&&(f.visible=!1),ep(f)},unhideInstance(f,m){var g;const{attach:y,parent:x}=(g=f.__r3f)!=null?g:{};y&&x&&cw(x,f,y),(f.isObject3D&&m.visible==null||m.visible)&&(f.visible=!0),ep(f)},createTextInstance:c,hideTextInstance:c,unhideTextInstance:c,getCurrentEventPriority:()=>e?e():cp.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&tr.fun(performance.now)?performance.now:tr.fun(Date.now)?Date.now:()=>0,scheduleTimeout:tr.fun(setTimeout)?setTimeout:void 0,cancelTimeout:tr.fun(clearTimeout)?clearTimeout:void 0}),applyProps:uw}}var XA,qA;const lw=t=>"colorSpace"in t||"outputColorSpace"in t,jz=()=>{var t;return(t=KM.ColorManagement)!=null?t:null},Xz=t=>t&&t.isOrthographicCamera,Sre=t=>t&&t.hasOwnProperty("current"),Wv=typeof window<"u"&&((XA=window.document)!=null&&XA.createElement||((qA=window.navigator)==null?void 0:qA.product)==="ReactNative")?D.useLayoutEffect:D.useEffect;function qz(t){const e=D.useRef(t);return Wv(()=>void(e.current=t),[t]),e}function wre({set:t}){return Wv(()=>(t(new Promise(()=>null)),()=>t(!1)),[t]),null}class Yz extends D.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}}Yz.getDerivedStateFromError=()=>({error:!0});const Kz="__default",YA=new Map,Ere=t=>t&&!!t.memoized&&!!t.changes;function Zz(t){var e;const n=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(t)?Math.min(Math.max(t[0],n),t[1]):t}const dg=t=>{var e;return(e=t.__r3f)==null?void 0:e.root.getState()};function Px(t){let e=t.__r3f.root;for(;e.getState().previousRoot;)e=e.getState().previousRoot;return e}const tr={obj:t=>t===Object(t)&&!tr.arr(t)&&typeof t!="function",fun:t=>typeof t=="function",str:t=>typeof t=="string",num:t=>typeof t=="number",boo:t=>typeof t=="boolean",und:t=>t===void 0,arr:t=>Array.isArray(t),equ(t,e,{arrays:n="shallow",objects:r="reference",strict:i=!0}={}){if(typeof t!=typeof e||!!t!=!!e)return!1;if(tr.str(t)||tr.num(t)||tr.boo(t))return t===e;const o=tr.obj(t);if(o&&r==="reference")return t===e;const s=tr.arr(t);if(s&&n==="reference")return t===e;if((s||o)&&t===e)return!0;let a;for(a in t)if(!(a in e))return!1;if(o&&n==="shallow"&&r==="shallow"){for(a in i?e:t)if(!tr.equ(t[a],e[a],{strict:i,objects:"reference"}))return!1}else for(a in i?e:t)if(t[a]!==e[a])return!1;if(tr.und(a)){if(s&&t.length===0&&e.length===0||o&&Object.keys(t).length===0&&Object.keys(e).length===0)return!0;if(t!==e)return!1}return!0}};function Cre(t){const e={nodes:{},materials:{}};return t&&t.traverse(n=>{n.name&&(e.nodes[n.name]=n),n.material&&!e.materials[n.material.name]&&(e.materials[n.material.name]=n.material)}),e}function Mre(t){t.dispose&&t.type!=="Scene"&&t.dispose();for(const e in t)e.dispose==null||e.dispose(),delete t[e]}function Qh(t,e){const n=t;return n.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...e},t}function WE(t,e){let n=t;if(e.includes("-")){const r=e.split("-"),i=r.pop();return n=r.reduce((o,s)=>o[s],t),{target:n,key:i}}else return{target:n,key:e}}const KA=/-\d+$/;function cw(t,e,n){if(tr.str(n)){if(KA.test(n)){const o=n.replace(KA,""),{target:s,key:a}=WE(t,o);Array.isArray(s[a])||(s[a]=[])}const{target:r,key:i}=WE(t,n);e.__r3f.previousAttach=r[i],r[i]=e}else e.__r3f.previousAttach=n(t,e)}function ZA(t,e,n){var r,i;if(tr.str(n)){const{target:o,key:s}=WE(t,n),a=e.__r3f.previousAttach;a===void 0?delete o[s]:o[s]=a}else(r=e.__r3f)==null||r.previousAttach==null||r.previousAttach(t,e);(i=e.__r3f)==null||delete i.previousAttach}function Jz(t,{children:e,key:n,ref:r,...i},{children:o,key:s,ref:a,...c}={},d=!1){const f=t.__r3f,m=Object.entries(i),g=[];if(d){const x=Object.keys(c);for(let S=0;S<x.length;S++)i.hasOwnProperty(x[S])||m.unshift([x[S],Kz+"remove"])}m.forEach(([x,S])=>{var _;if((_=t.__r3f)!=null&&_.primitive&&x==="object"||tr.equ(S,c[x]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(x))return g.push([x,S,!0,[]]);let b=[];x.includes("-")&&(b=x.split("-")),g.push([x,S,!1,b]);for(const C in i){const T=i[C];C.startsWith(`${x}-`)&&g.push([C,T,!1,C.split("-")])}});const y={...i};return f!=null&&f.memoizedProps&&f!=null&&f.memoizedProps.args&&(y.args=f.memoizedProps.args),f!=null&&f.memoizedProps&&f!=null&&f.memoizedProps.attach&&(y.attach=f.memoizedProps.attach),{memoized:y,changes:g}}function uw(t,e){var n;const r=t.__r3f,i=r==null?void 0:r.root,o=i==null||i.getState==null?void 0:i.getState(),{memoized:s,changes:a}=Ere(e)?e:Jz(t,e),c=r==null?void 0:r.eventCount;t.__r3f&&(t.__r3f.memoizedProps=s);for(let f=0;f<a.length;f++){let[m,g,y,x]=a[f];if(lw(t)){const C="srgb",T="srgb-linear";m==="encoding"?(m="colorSpace",g=g===3001?C:T):m==="outputEncoding"&&(m="outputColorSpace",g=g===3001?C:T)}let S=t,_=S[m];if(x.length&&(_=x.reduce((b,C)=>b[C],t),!(_&&_.set))){const[b,...C]=x.reverse();S=C.reverse().reduce((T,A)=>T[A],t),m=b}if(g===Kz+"remove")if(S.constructor){let b=YA.get(S.constructor);b||(b=new S.constructor,YA.set(S.constructor,b)),g=b[m]}else g=0;if(y&&r)g?r.handlers[m]=g:delete r.handlers[m],r.eventCount=Object.keys(r.handlers).length;else if(_&&_.set&&(_.copy||_ instanceof Kd)){if(Array.isArray(g))_.fromArray?_.fromArray(g):_.set(...g);else if(_.copy&&g&&g.constructor&&_.constructor===g.constructor)_.copy(g);else if(g!==void 0){const b=_ instanceof ct;!b&&_.setScalar?_.setScalar(g):_ instanceof Kd&&g instanceof Kd?_.mask=g.mask:_.set(g),!jz()&&o&&!o.linear&&b&&_.convertSRGBToLinear()}}else if(S[m]=g,S[m]instanceof _r&&S[m].format===Wi&&S[m].type===ks&&o){const b=S[m];lw(b)&&lw(o.gl)?b.colorSpace=o.gl.outputColorSpace:b.encoding=o.gl.outputEncoding}ep(t)}if(r&&r.parent&&t.raycast&&c!==r.eventCount){const f=Px(t).getState().internal,m=f.interaction.indexOf(t);m>-1&&f.interaction.splice(m,1),r.eventCount&&f.interaction.push(t)}return!(a.length===1&&a[0][0]==="onUpdate")&&a.length&&(n=t.__r3f)!=null&&n.parent&&GE(t),t}function ep(t){var e,n;const r=(e=t.__r3f)==null||(n=e.root)==null||n.getState==null?void 0:n.getState();r&&r.internal.frames===0&&r.invalidate()}function GE(t){t.onUpdate==null||t.onUpdate(t)}function Tre(t,e){t.manual||(Xz(t)?(t.left=e.width/-2,t.right=e.width/2,t.top=e.height/2,t.bottom=e.height/-2):t.aspect=e.width/e.height,t.updateProjectionMatrix(),t.updateMatrixWorld())}function Zy(t){return(t.eventObject||t.object).uuid+"/"+t.index+t.instanceId}function Pre(){var t;const e=typeof self<"u"&&self||typeof window<"u"&&window;if(!e)return cp.DefaultEventPriority;switch((t=e.event)==null?void 0:t.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return cp.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return cp.ContinuousEventPriority;default:return cp.DefaultEventPriority}}function Qz(t,e,n,r){const i=n.get(e);i&&(n.delete(e),n.size===0&&(t.delete(r),i.target.releasePointerCapture(r)))}function Rre(t,e){const{internal:n}=t.getState();n.interaction=n.interaction.filter(r=>r!==e),n.initialHits=n.initialHits.filter(r=>r!==e),n.hovered.forEach((r,i)=>{(r.eventObject===e||r.object===e)&&n.hovered.delete(i)}),n.capturedMap.forEach((r,i)=>{Qz(n.capturedMap,e,r,i)})}function Are(t){function e(c){const{internal:d}=t.getState(),f=c.offsetX-d.initialClick[0],m=c.offsetY-d.initialClick[1];return Math.round(Math.sqrt(f*f+m*m))}function n(c){return c.filter(d=>["Move","Over","Enter","Out","Leave"].some(f=>{var m;return(m=d.__r3f)==null?void 0:m.handlers["onPointer"+f]}))}function r(c,d){const f=t.getState(),m=new Set,g=[],y=d?d(f.internal.interaction):f.internal.interaction;for(let b=0;b<y.length;b++){const C=dg(y[b]);C&&(C.raycaster.camera=void 0)}f.previousRoot||f.events.compute==null||f.events.compute(c,f);function x(b){const C=dg(b);if(!C||!C.events.enabled||C.raycaster.camera===null)return[];if(C.raycaster.camera===void 0){var T;C.events.compute==null||C.events.compute(c,C,(T=C.previousRoot)==null?void 0:T.getState()),C.raycaster.camera===void 0&&(C.raycaster.camera=null)}return C.raycaster.camera?C.raycaster.intersectObject(b,!0):[]}let S=y.flatMap(x).sort((b,C)=>{const T=dg(b.object),A=dg(C.object);return!T||!A?b.distance-C.distance:A.events.priority-T.events.priority||b.distance-C.distance}).filter(b=>{const C=Zy(b);return m.has(C)?!1:(m.add(C),!0)});f.events.filter&&(S=f.events.filter(S,f));for(const b of S){let C=b.object;for(;C;){var _;(_=C.__r3f)!=null&&_.eventCount&&g.push({...b,eventObject:C}),C=C.parent}}if("pointerId"in c&&f.internal.capturedMap.has(c.pointerId))for(let b of f.internal.capturedMap.get(c.pointerId).values())m.has(Zy(b.intersection))||g.push(b.intersection);return g}function i(c,d,f,m){const g=t.getState();if(c.length){const y={stopped:!1};for(const x of c){const S=dg(x.object)||g,{raycaster:_,pointer:b,camera:C,internal:T}=S,A=new J(b.x,b.y,0).unproject(C),P=O=>{var B,j;return(B=(j=T.capturedMap.get(O))==null?void 0:j.has(x.eventObject))!=null?B:!1},R=O=>{const B={intersection:x,target:d.target};T.capturedMap.has(O)?T.capturedMap.get(O).set(x.eventObject,B):T.capturedMap.set(O,new Map([[x.eventObject,B]])),d.target.setPointerCapture(O)},k=O=>{const B=T.capturedMap.get(O);B&&Qz(T.capturedMap,x.eventObject,B,O)};let z={};for(let O in d){let B=d[O];typeof B!="function"&&(z[O]=B)}let L={...x,...z,pointer:b,intersections:c,stopped:y.stopped,delta:f,unprojectedPoint:A,ray:_.ray,camera:C,stopPropagation(){const O="pointerId"in d&&T.capturedMap.get(d.pointerId);if((!O||O.has(x.eventObject))&&(L.stopped=y.stopped=!0,T.hovered.size&&Array.from(T.hovered.values()).find(B=>B.eventObject===x.eventObject))){const B=c.slice(0,c.indexOf(x));o([...B,x])}},target:{hasPointerCapture:P,setPointerCapture:R,releasePointerCapture:k},currentTarget:{hasPointerCapture:P,setPointerCapture:R,releasePointerCapture:k},nativeEvent:d};if(m(L),y.stopped===!0)break}}return c}function o(c){const{internal:d}=t.getState();for(const f of d.hovered.values())if(!c.length||!c.find(m=>m.object===f.object&&m.index===f.index&&m.instanceId===f.instanceId)){const g=f.eventObject.__r3f,y=g==null?void 0:g.handlers;if(d.hovered.delete(Zy(f)),g!=null&&g.eventCount){const x={...f,intersections:c};y.onPointerOut==null||y.onPointerOut(x),y.onPointerLeave==null||y.onPointerLeave(x)}}}function s(c,d){for(let f=0;f<d.length;f++){const m=d[f].__r3f;m==null||m.handlers.onPointerMissed==null||m.handlers.onPointerMissed(c)}}function a(c){switch(c){case"onPointerLeave":case"onPointerCancel":return()=>o([]);case"onLostPointerCapture":return d=>{const{internal:f}=t.getState();"pointerId"in d&&f.capturedMap.has(d.pointerId)&&requestAnimationFrame(()=>{f.capturedMap.has(d.pointerId)&&(f.capturedMap.delete(d.pointerId),o([]))})}}return function(f){const{onPointerMissed:m,internal:g}=t.getState();g.lastEvent.current=f;const y=c==="onPointerMove",x=c==="onClick"||c==="onContextMenu"||c==="onDoubleClick",_=r(f,y?n:void 0),b=x?e(f):0;c==="onPointerDown"&&(g.initialClick=[f.offsetX,f.offsetY],g.initialHits=_.map(T=>T.eventObject)),x&&!_.length&&b<=2&&(s(f,g.interaction),m&&m(f)),y&&o(_);function C(T){const A=T.eventObject,P=A.__r3f,R=P==null?void 0:P.handlers;if(P!=null&&P.eventCount)if(y){if(R.onPointerOver||R.onPointerEnter||R.onPointerOut||R.onPointerLeave){const k=Zy(T),z=g.hovered.get(k);z?z.stopped&&T.stopPropagation():(g.hovered.set(k,T),R.onPointerOver==null||R.onPointerOver(T),R.onPointerEnter==null||R.onPointerEnter(T))}R.onPointerMove==null||R.onPointerMove(T)}else{const k=R[c];k?(!x||g.initialHits.includes(A))&&(s(f,g.interaction.filter(z=>!g.initialHits.includes(z))),k(T)):x&&g.initialHits.includes(A)&&s(f,g.interaction.filter(z=>!g.initialHits.includes(z)))}}i(_,f,b,C)}}return{handlePointer:a}}const e5=t=>!!(t!=null&&t.render),t5=D.createContext(null),Ire=(t,e)=>{const n=YM((a,c)=>{const d=new J,f=new J,m=new J;function g(b=c().camera,C=f,T=c().size){const{width:A,height:P,top:R,left:k}=T,z=A/P;C instanceof J?m.copy(C):m.set(...C);const L=b.getWorldPosition(d).distanceTo(m);if(Xz(b))return{width:A/b.zoom,height:P/b.zoom,top:R,left:k,factor:1,distance:L,aspect:z};{const O=b.fov*Math.PI/180,B=2*Math.tan(O/2)*L,j=B*(A/P);return{width:j,height:B,top:R,left:k,factor:A/j,distance:L,aspect:z}}}let y;const x=b=>a(C=>({performance:{...C.performance,current:b}})),S=new $e;return{set:a,get:c,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:(b=1)=>t(c(),b),advance:(b,C)=>e(b,C,c()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new HM,pointer:S,mouse:S,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const b=c();y&&clearTimeout(y),b.performance.current!==b.performance.min&&x(b.performance.min),y=setTimeout(()=>x(c().performance.max),b.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:g},setEvents:b=>a(C=>({...C,events:{...C.events,...b}})),setSize:(b,C,T,A,P)=>{const R=c().camera,k={width:b,height:C,top:A||0,left:P||0,updateStyle:T};a(z=>({size:k,viewport:{...z.viewport,...g(R,f,k)}}))},setDpr:b=>a(C=>{const T=Zz(b);return{viewport:{...C.viewport,dpr:T,initialDpr:C.viewport.initialDpr||T}}}),setFrameloop:(b="always")=>{const C=c().clock;C.stop(),C.elapsedTime=0,b!=="never"&&(C.start(),C.elapsedTime=0),a(()=>({frameloop:b}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:D.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(b,C,T)=>{const A=c().internal;return A.priority=A.priority+(C>0?1:0),A.subscribers.push({ref:b,priority:C,store:T}),A.subscribers=A.subscribers.sort((P,R)=>P.priority-R.priority),()=>{const P=c().internal;P!=null&&P.subscribers&&(P.priority=P.priority-(C>0?1:0),P.subscribers=P.subscribers.filter(R=>R.ref!==b))}}}}}),r=n.getState();let i=r.size,o=r.viewport.dpr,s=r.camera;return n.subscribe(()=>{const{camera:a,size:c,viewport:d,gl:f,set:m}=n.getState();if(c.width!==i.width||c.height!==i.height||d.dpr!==o){var g;i=c,o=d.dpr,Tre(a,c),f.setPixelRatio(d.dpr);const y=(g=c.updateStyle)!=null?g:typeof HTMLCanvasElement<"u"&&f.domElement instanceof HTMLCanvasElement;f.setSize(c.width,c.height,y)}a!==s&&(s=a,m(y=>({viewport:{...y.viewport,...y.viewport.getCurrentViewport(a)}})))}),n.subscribe(a=>t(a)),n};let Jy,kre=new Set,Ore=new Set,Lre=new Set;function dw(t,e){if(t.size)for(const{callback:n}of t.values())n(e)}function fg(t,e){switch(t){case"before":return dw(kre,e);case"after":return dw(Ore,e);case"tail":return dw(Lre,e)}}let fw,hw;function pw(t,e,n){let r=e.clock.getDelta();for(e.frameloop==="never"&&typeof t=="number"&&(r=t-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=t),fw=e.internal.subscribers,Jy=0;Jy<fw.length;Jy++)hw=fw[Jy],hw.ref.current(hw.store.getState(),r,n);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}function Nre(t){let e=!1,n=!1,r,i,o;function s(d){i=requestAnimationFrame(s),e=!0,r=0,fg("before",d),n=!0;for(const m of t.values()){var f;o=m.store.getState(),o.internal.active&&(o.frameloop==="always"||o.internal.frames>0)&&!((f=o.gl.xr)!=null&&f.isPresenting)&&(r+=pw(d,o))}if(n=!1,fg("after",d),r===0)return fg("tail",d),e=!1,cancelAnimationFrame(i)}function a(d,f=1){var m;if(!d)return t.forEach(g=>a(g.store.getState(),f));(m=d.gl.xr)!=null&&m.isPresenting||!d.internal.active||d.frameloop==="never"||(f>1?d.internal.frames=Math.min(60,d.internal.frames+f):n?d.internal.frames=2:d.internal.frames=1,e||(e=!0,requestAnimationFrame(s)))}function c(d,f=!0,m,g){if(f&&fg("before",d),m)pw(d,m,g);else for(const y of t.values())pw(d,y.store.getState());f&&fg("after",d)}return{loop:s,invalidate:a,advance:c}}function n5(){const t=D.useContext(t5);if(!t)throw new Error("R3F: Hooks can only be used within the Canvas component!");return t}function Gl(t=n=>n,e){return n5()(t,e)}function r5(t,e=0){const n=n5(),r=n.getState().internal.subscribe,i=qz(t);return Wv(()=>r(i,e,n),[e,r,n]),null}const JA=new WeakMap;function i5(t,e){return function(n,...r){let i=JA.get(n);return i||(i=new n,JA.set(n,i)),t&&t(i),Promise.all(r.map(o=>new Promise((s,a)=>i.load(o,c=>{c.scene&&Object.assign(c,Cre(c.scene)),s(c)},e,c=>a(new Error(`Could not load ${o}: ${c==null?void 0:c.message}`))))))}}function ZM(t,e,n,r){const i=Array.isArray(e)?e:[e],o=vre(i5(n,r),[t,...i],{equal:tr.equ});return Array.isArray(e)?o:o[0]}ZM.preload=function(t,e,n){const r=Array.isArray(e)?e:[e];return yre(i5(n),[t,...r])};ZM.clear=function(t,e){const n=Array.isArray(e)?e:[e];return xre([t,...n])};const Ap=new Map,{invalidate:QA,advance:eI}=Nre(Ap),{reconciler:O1,applyProps:$h}=_re(Ap,Pre),Hh={objects:"shallow",strict:!1},Dre=(t,e)=>{const n=typeof t=="function"?t(e):t;return e5(n)?n:new Hz({powerPreference:"high-performance",canvas:e,antialias:!0,alpha:!0,...t})};function Fre(t,e){const n=typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement;if(e){const{width:r,height:i,top:o,left:s,updateStyle:a=n}=e;return{width:r,height:i,top:o,left:s,updateStyle:a}}else if(typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&t.parentElement){const{width:r,height:i,top:o,left:s}=t.parentElement.getBoundingClientRect();return{width:r,height:i,top:o,left:s,updateStyle:n}}else if(typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas)return{width:t.width,height:t.height,top:0,left:0,updateStyle:n};return{width:0,height:0,top:0,left:0}}function zre(t){const e=Ap.get(t),n=e==null?void 0:e.fiber,r=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const i=typeof reportError=="function"?reportError:console.error,o=r||Ire(QA,eI),s=n||O1.createContainer(o,cp.ConcurrentRoot,null,!1,null,"",i,null);e||Ap.set(t,{fiber:s,store:o});let a,c=!1,d;return{configure(f={}){let{gl:m,size:g,scene:y,events:x,onCreated:S,shadows:_=!1,linear:b=!1,flat:C=!1,legacy:T=!1,orthographic:A=!1,frameloop:P="always",dpr:R=[1,2],performance:k,raycaster:z,camera:L,onPointerMissed:O}=f,B=o.getState(),j=B.gl;B.gl||B.set({gl:j=Dre(m,t)});let X=B.raycaster;X||B.set({raycaster:X=new Nz});const{params:ee,...K}=z||{};if(tr.equ(K,X,Hh)||$h(X,{...K}),tr.equ(ee,X.params,Hh)||$h(X,{params:{...X.params,...ee}}),!B.camera||B.camera===d&&!tr.equ(d,L,Hh)){d=L;const Z=L instanceof Dv,W=Z?L:A?new Ya(0,0,0,0,.1,1e3):new yr(75,0,.1,1e3);Z||(W.position.z=5,L&&($h(W,L),("aspect"in L||"left"in L||"right"in L||"bottom"in L||"top"in L)&&(W.manual=!0,W.updateProjectionMatrix())),!B.camera&&!(L!=null&&L.rotation)&&W.lookAt(0,0,0)),B.set({camera:W}),X.camera=W}if(!B.scene){let Z;y instanceof P1?Z=y:(Z=new P1,y&&$h(Z,y)),B.set({scene:Qh(Z)})}if(!B.xr){var ne;const Z=(Ie,fe)=>{const Me=o.getState();Me.frameloop!=="never"&&eI(Ie,!0,Me,fe)},W=()=>{const Ie=o.getState();Ie.gl.xr.enabled=Ie.gl.xr.isPresenting,Ie.gl.xr.setAnimationLoop(Ie.gl.xr.isPresenting?Z:null),Ie.gl.xr.isPresenting||QA(Ie)},le={connect(){const Ie=o.getState().gl;Ie.xr.addEventListener("sessionstart",W),Ie.xr.addEventListener("sessionend",W)},disconnect(){const Ie=o.getState().gl;Ie.xr.removeEventListener("sessionstart",W),Ie.xr.removeEventListener("sessionend",W)}};typeof((ne=j.xr)==null?void 0:ne.addEventListener)=="function"&&le.connect(),B.set({xr:le})}if(j.shadowMap){const Z=j.shadowMap.enabled,W=j.shadowMap.type;if(j.shadowMap.enabled=!!_,tr.boo(_))j.shadowMap.type=Lg;else if(tr.str(_)){var se;const le={basic:XD,percentage:bb,soft:Lg,variance:ua};j.shadowMap.type=(se=le[_])!=null?se:Lg}else tr.obj(_)&&Object.assign(j.shadowMap,_);(Z!==j.shadowMap.enabled||W!==j.shadowMap.type)&&(j.shadowMap.needsUpdate=!0)}const V=jz();V&&("enabled"in V?V.enabled=!T:"legacyMode"in V&&(V.legacyMode=T)),c||$h(j,{outputEncoding:b?3e3:3001,toneMapping:C?Xa:fM}),B.legacy!==T&&B.set(()=>({legacy:T})),B.linear!==b&&B.set(()=>({linear:b})),B.flat!==C&&B.set(()=>({flat:C})),m&&!tr.fun(m)&&!e5(m)&&!tr.equ(m,j,Hh)&&$h(j,m),x&&!B.events.handlers&&B.set({events:x(o)});const Q=Fre(t,g);return tr.equ(Q,B.size,Hh)||B.setSize(Q.width,Q.height,Q.updateStyle,Q.top,Q.left),R&&B.viewport.dpr!==Zz(R)&&B.setDpr(R),B.frameloop!==P&&B.setFrameloop(P),B.onPointerMissed||B.set({onPointerMissed:O}),k&&!tr.equ(k,B.performance,Hh)&&B.set(Z=>({performance:{...Z.performance,...k}})),a=S,c=!0,this},render(f){return c||this.configure(),O1.updateContainer(ie.jsx(Ure,{store:o,children:f,onCreated:a,rootElement:t}),s,null,()=>{}),o},unmount(){o5(t)}}}function Ure({store:t,children:e,onCreated:n,rootElement:r}){return Wv(()=>{const i=t.getState();i.set(o=>({internal:{...o.internal,active:!0}})),n&&n(i),t.getState().events.connected||i.events.connect==null||i.events.connect(r)},[]),ie.jsx(t5.Provider,{value:t,children:e})}function o5(t,e){const n=Ap.get(t),r=n==null?void 0:n.fiber;if(r){const i=n==null?void 0:n.store.getState();i&&(i.internal.active=!1),O1.updateContainer(null,r,null,()=>{i&&setTimeout(()=>{try{var o,s,a,c;i.events.disconnect==null||i.events.disconnect(),(o=i.gl)==null||(s=o.renderLists)==null||s.dispose==null||s.dispose(),(a=i.gl)==null||a.forceContextLoss==null||a.forceContextLoss(),(c=i.gl)!=null&&c.xr&&i.xr.disconnect(),Mre(i),Ap.delete(t)}catch{}},500)})}}O1.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:D.version});function tI(t,e){let n;return(...r)=>{window.clearTimeout(n),n=window.setTimeout(()=>t(...r),e)}}function Bre({debounce:t,scroll:e,polyfill:n,offsetSize:r}={debounce:0,scroll:!1,offsetSize:!1}){const i=n||(typeof window>"u"?class{}:window.ResizeObserver);if(!i)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[o,s]=D.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),a=D.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:o,orientationHandler:null}),c=t?typeof t=="number"?t:t.scroll:null,d=t?typeof t=="number"?t:t.resize:null,f=D.useRef(!1);D.useEffect(()=>(f.current=!0,()=>void(f.current=!1)));const[m,g,y]=D.useMemo(()=>{const b=()=>{if(!a.current.element)return;const{left:C,top:T,width:A,height:P,bottom:R,right:k,x:z,y:L}=a.current.element.getBoundingClientRect(),O={left:C,top:T,width:A,height:P,bottom:R,right:k,x:z,y:L};a.current.element instanceof HTMLElement&&r&&(O.height=a.current.element.offsetHeight,O.width=a.current.element.offsetWidth),Object.freeze(O),f.current&&!Wre(a.current.lastBounds,O)&&s(a.current.lastBounds=O)};return[b,d?tI(b,d):b,c?tI(b,c):b]},[s,r,c,d]);function x(){a.current.scrollContainers&&(a.current.scrollContainers.forEach(b=>b.removeEventListener("scroll",y,!0)),a.current.scrollContainers=null),a.current.resizeObserver&&(a.current.resizeObserver.disconnect(),a.current.resizeObserver=null),a.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",a.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",a.current.orientationHandler))}function S(){a.current.element&&(a.current.resizeObserver=new i(y),a.current.resizeObserver.observe(a.current.element),e&&a.current.scrollContainers&&a.current.scrollContainers.forEach(b=>b.addEventListener("scroll",y,{capture:!0,passive:!0})),a.current.orientationHandler=()=>{y()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",a.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",a.current.orientationHandler))}const _=b=>{!b||b===a.current.element||(x(),a.current.element=b,a.current.scrollContainers=s5(b),S())};return $re(y,!!e),Vre(g),D.useEffect(()=>{x(),S()},[e,y,g]),D.useEffect(()=>x,[]),[_,o,m]}function Vre(t){D.useEffect(()=>{const e=t;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[t])}function $re(t,e){D.useEffect(()=>{if(e){const n=t;return window.addEventListener("scroll",n,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",n,!0)}},[t,e])}function s5(t){const e=[];if(!t||t===document.body)return e;const{overflow:n,overflowX:r,overflowY:i}=window.getComputedStyle(t);return[n,r,i].some(o=>o==="auto"||o==="scroll")&&e.push(t),[...e,...s5(t.parentElement)]}const Hre=["x","y","top","bottom","left","right","width","height"],Wre=(t,e)=>Hre.every(n=>t[n]===e[n]);var Gre=Object.defineProperty,jre=Object.defineProperties,Xre=Object.getOwnPropertyDescriptors,nI=Object.getOwnPropertySymbols,qre=Object.prototype.hasOwnProperty,Yre=Object.prototype.propertyIsEnumerable,rI=(t,e,n)=>e in t?Gre(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,iI=(t,e)=>{for(var n in e||(e={}))qre.call(e,n)&&rI(t,n,e[n]);if(nI)for(var n of nI(e))Yre.call(e,n)&&rI(t,n,e[n]);return t},Kre=(t,e)=>jre(t,Xre(e)),oI,sI;typeof window<"u"&&((oI=window.document)!=null&&oI.createElement||((sI=window.navigator)==null?void 0:sI.product)==="ReactNative")?D.useLayoutEffect:D.useEffect;function a5(t,e,n){if(!t)return;if(n(t)===!0)return t;let r=t.child;for(;r;){const i=a5(r,e,n);if(i)return i;r=r.sibling}}function l5(t){try{return Object.defineProperties(t,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return t}}const aI=console.error;console.error=function(){const t=[...arguments].join("");if(t!=null&&t.startsWith("Warning:")&&t.includes("useContext")){console.error=aI;return}return aI.apply(this,arguments)};const JM=l5(D.createContext(null));class c5 extends D.Component{render(){return D.createElement(JM.Provider,{value:this._reactInternals},this.props.children)}}function Zre(){const t=D.useContext(JM);if(t===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=D.useId();return D.useMemo(()=>{for(const r of[t,t==null?void 0:t.alternate]){if(!r)continue;const i=a5(r,!1,o=>{let s=o.memoizedState;for(;s;){if(s.memoizedState===e)return!0;s=s.next}});if(i)return i}},[t,e])}function Jre(){const t=Zre(),[e]=D.useState(()=>new Map);e.clear();let n=t;for(;n;){if(n.type&&typeof n.type=="object"){const i=n.type._context===void 0&&n.type.Provider===n.type?n.type:n.type._context;i&&i!==JM&&!e.has(i)&&e.set(i,D.useContext(l5(i)))}n=n.return}return e}function Qre(){const t=Jre();return D.useMemo(()=>Array.from(t.keys()).reduce((e,n)=>r=>D.createElement(e,null,D.createElement(n.Provider,Kre(iI({},r),{value:t.get(n)}))),e=>D.createElement(c5,iI({},e))),[t])}const mw={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function eie(t){const{handlePointer:e}=Are(t);return{priority:1,enabled:!0,compute(n,r,i){r.pointer.set(n.offsetX/r.size.width*2-1,-(n.offsetY/r.size.height)*2+1),r.raycaster.setFromCamera(r.pointer,r.camera)},connected:void 0,handlers:Object.keys(mw).reduce((n,r)=>({...n,[r]:e(r)}),{}),update:()=>{var n;const{events:r,internal:i}=t.getState();(n=i.lastEvent)!=null&&n.current&&r.handlers&&r.handlers.onPointerMove(i.lastEvent.current)},connect:n=>{var r;const{set:i,events:o}=t.getState();o.disconnect==null||o.disconnect(),i(s=>({events:{...s.events,connected:n}})),Object.entries((r=o.handlers)!=null?r:[]).forEach(([s,a])=>{const[c,d]=mw[s];n.addEventListener(c,a,{passive:d})})},disconnect:()=>{const{set:n,events:r}=t.getState();if(r.connected){var i;Object.entries((i=r.handlers)!=null?i:[]).forEach(([o,s])=>{if(r&&r.connected instanceof HTMLElement){const[a]=mw[o];r.connected.removeEventListener(a,s)}}),n(o=>({events:{...o.events,connected:void 0}}))}}}}const tie=D.forwardRef(function({children:e,fallback:n,resize:r,style:i,gl:o,events:s=eie,eventSource:a,eventPrefix:c,shadows:d,linear:f,flat:m,legacy:g,orthographic:y,frameloop:x,dpr:S,performance:_,raycaster:b,camera:C,scene:T,onPointerMissed:A,onCreated:P,...R},k){D.useMemo(()=>bre(rre),[]);const z=Qre(),[L,O]=Bre({scroll:!0,debounce:{scroll:50,resize:0},...r}),B=D.useRef(null),j=D.useRef(null);D.useImperativeHandle(k,()=>B.current);const X=qz(A),[ee,K]=D.useState(!1),[ne,se]=D.useState(!1);if(ee)throw ee;if(ne)throw ne;const V=D.useRef(null);Wv(()=>{const Z=B.current;O.width>0&&O.height>0&&Z&&(V.current||(V.current=zre(Z)),V.current.configure({gl:o,events:s,shadows:d,linear:f,flat:m,legacy:g,orthographic:y,frameloop:x,dpr:S,performance:_,raycaster:b,camera:C,scene:T,size:O,onPointerMissed:(...W)=>X.current==null?void 0:X.current(...W),onCreated:W=>{W.events.connect==null||W.events.connect(a?Sre(a)?a.current:a:j.current),c&&W.setEvents({compute:(le,Ie)=>{const fe=le[c+"X"],Me=le[c+"Y"];Ie.pointer.set(fe/Ie.size.width*2-1,-(Me/Ie.size.height)*2+1),Ie.raycaster.setFromCamera(Ie.pointer,Ie.camera)}}),P==null||P(W)}}),V.current.render(ie.jsx(z,{children:ie.jsx(Yz,{set:se,children:ie.jsx(D.Suspense,{fallback:ie.jsx(wre,{set:K}),children:e})})})))}),D.useEffect(()=>{const Z=B.current;if(Z)return()=>o5(Z)},[]);const Q=a?"none":"auto";return ie.jsx("div",{ref:j,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:Q,...i},...R,children:ie.jsx("div",{ref:L,style:{width:"100%",height:"100%"},children:ie.jsx("canvas",{ref:B,style:{display:"block"},children:n})})})}),nie=D.forwardRef(function(e,n){return ie.jsx(c5,{children:ie.jsx(tie,{...e,ref:n})})}),Gv=new J,QM=new J,rie=new J,lI=new $e;function iie(t,e,n){const r=Gv.setFromMatrixPosition(t.matrixWorld);r.project(e);const i=n.width/2,o=n.height/2;return[r.x*i+i,-(r.y*o)+o]}function oie(t,e){const n=Gv.setFromMatrixPosition(t.matrixWorld),r=QM.setFromMatrixPosition(e.matrixWorld),i=n.sub(r),o=e.getWorldDirection(rie);return i.angleTo(o)>Math.PI/2}function sie(t,e,n,r){const i=Gv.setFromMatrixPosition(t.matrixWorld),o=i.clone();o.project(e),lI.set(o.x,o.y),n.setFromCamera(lI,e);const s=n.intersectObjects(r,!0);if(s.length){const a=s[0].distance;return i.distanceTo(n.ray.origin)<a}return!0}function aie(t,e){if(e instanceof Ya)return e.zoom;if(e instanceof yr){const n=Gv.setFromMatrixPosition(t.matrixWorld),r=QM.setFromMatrixPosition(e.matrixWorld),i=e.fov*Math.PI/180,o=n.distanceTo(r);return 1/(2*Math.tan(i/2)*o)}else return 1}function lie(t,e,n){if(e instanceof yr||e instanceof Ya){const r=Gv.setFromMatrixPosition(t.matrixWorld),i=QM.setFromMatrixPosition(e.matrixWorld),o=r.distanceTo(i),s=(n[1]-n[0])/(e.far-e.near),a=n[1]-s*e.far;return Math.round(s*o+a)}}const jE=t=>Math.abs(t)<1e-10?0:t;function u5(t,e,n=""){let r="matrix3d(";for(let i=0;i!==16;i++)r+=jE(e[i]*t.elements[i])+(i!==15?",":")");return n+r}const cie=(t=>e=>u5(e,t))([1,-1,1,1,1,-1,1,1,1,-1,1,1,1,-1,1,1]),uie=(t=>(e,n)=>u5(e,t(n),"translate(-50%,-50%)"))(t=>[1/t,1/t,1/t,1,-1/t,-1/t,-1/t,-1,1/t,1/t,1/t,1,1,1,1,1]);function die(t){return t&&typeof t=="object"&&"current"in t}const fie=D.forwardRef(({children:t,eps:e=.001,style:n,className:r,prepend:i,center:o,fullscreen:s,portal:a,distanceFactor:c,sprite:d=!1,transform:f=!1,occlude:m,onOcclude:g,castShadow:y,receiveShadow:x,material:S,geometry:_,zIndexRange:b=[16777271,0],calculatePosition:C=iie,as:T="div",wrapperClass:A,pointerEvents:P="auto",...R},k)=>{const{gl:z,camera:L,scene:O,size:B,raycaster:j,events:X,viewport:ee}=Gl(),[K]=D.useState(()=>document.createElement(T)),ne=D.useRef(),se=D.useRef(null),V=D.useRef(0),Q=D.useRef([0,0]),Z=D.useRef(null),W=D.useRef(null),le=(a==null?void 0:a.current)||X.connected||z.domElement.parentNode,Ie=D.useRef(null),fe=D.useRef(!1),Me=D.useMemo(()=>m&&m!=="blending"||Array.isArray(m)&&m.length&&die(m[0]),[m]);D.useLayoutEffect(()=>{const Fe=z.domElement;m&&m==="blending"?(Fe.style.zIndex=`${Math.floor(b[0]/2)}`,Fe.style.position="absolute",Fe.style.pointerEvents="none"):(Fe.style.zIndex=null,Fe.style.position=null,Fe.style.pointerEvents=null)},[m]),D.useLayoutEffect(()=>{if(se.current){const Fe=ne.current=dM.createRoot(K);if(O.updateMatrixWorld(),f)K.style.cssText="position:absolute;top:0;left:0;pointer-events:none;overflow:hidden;";else{const Ye=C(se.current,L,B);K.style.cssText=`position:absolute;top:0;left:0;transform:translate3d(${Ye[0]}px,${Ye[1]}px,0);transform-origin:0 0;`}return le&&(i?le.prepend(K):le.appendChild(K)),()=>{le&&le.removeChild(K),Fe.unmount()}}},[le,f]),D.useLayoutEffect(()=>{A&&(K.className=A)},[A]);const De=D.useMemo(()=>f?{position:"absolute",top:0,left:0,width:B.width,height:B.height,transformStyle:"preserve-3d",pointerEvents:"none"}:{position:"absolute",transform:o?"translate3d(-50%,-50%,0)":"none",...s&&{top:-B.height/2,left:-B.width/2,width:B.width,height:B.height},...n},[n,o,s,B,f]),Le=D.useMemo(()=>({position:"absolute",pointerEvents:P}),[P]);D.useLayoutEffect(()=>{if(fe.current=!1,f){var Fe;(Fe=ne.current)==null||Fe.render(D.createElement("div",{ref:Z,style:De},D.createElement("div",{ref:W,style:Le},D.createElement("div",{ref:k,className:r,style:n,children:t}))))}else{var Ye;(Ye=ne.current)==null||Ye.render(D.createElement("div",{ref:k,style:De,className:r,children:t}))}});const ge=D.useRef(!0);r5(Fe=>{if(se.current){L.updateMatrixWorld(),se.current.updateWorldMatrix(!0,!1);const Ye=f?Q.current:C(se.current,L,B);if(f||Math.abs(V.current-L.zoom)>e||Math.abs(Q.current[0]-Ye[0])>e||Math.abs(Q.current[1]-Ye[1])>e){const at=oie(se.current,L);let Ge=!1;Me&&(Array.isArray(m)?Ge=m.map(He=>He.current):m!=="blending"&&(Ge=[O]));const q=ge.current;if(Ge){const He=sie(se.current,L,j,Ge);ge.current=He&&!at}else ge.current=!at;q!==ge.current&&(g?g(!ge.current):K.style.display=ge.current?"block":"none");const Xe=Math.floor(b[0]/2),Ve=m?Me?[b[0],Xe]:[Xe-1,0]:b;if(K.style.zIndex=`${lie(se.current,L,Ve)}`,f){const[He,ze]=[B.width/2,B.height/2],ot=L.projectionMatrix.elements[5]*ze,{isOrthographicCamera:Be,top:Y,left:$,bottom:re,right:pe}=L,ke=cie(L.matrixWorldInverse),Ce=Be?`scale(${ot})translate(${jE(-(pe+$)/2)}px,${jE((Y+re)/2)}px)`:`translateZ(${ot}px)`;let tt=se.current.matrixWorld;d&&(tt=L.matrixWorldInverse.clone().transpose().copyPosition(tt).scale(se.current.scale),tt.elements[3]=tt.elements[7]=tt.elements[11]=0,tt.elements[15]=1),K.style.width=B.width+"px",K.style.height=B.height+"px",K.style.perspective=Be?"":`${ot}px`,Z.current&&W.current&&(Z.current.style.transform=`${Ce}${ke}translate(${He}px,${ze}px)`,W.current.style.transform=uie(tt,1/((c||10)/400)))}else{const He=c===void 0?1:aie(se.current,L)*c;K.style.transform=`translate3d(${Ye[0]}px,${Ye[1]}px,0) scale(${He})`}Q.current=Ye,V.current=L.zoom}}if(!Me&&Ie.current&&!fe.current)if(f){if(Z.current){const Ye=Z.current.children[0];if(Ye!=null&&Ye.clientWidth&&Ye!=null&&Ye.clientHeight){const{isOrthographicCamera:at}=L;if(at||_)R.scale&&(Array.isArray(R.scale)?R.scale instanceof J?Ie.current.scale.copy(R.scale.clone().divideScalar(1)):Ie.current.scale.set(1/R.scale[0],1/R.scale[1],1/R.scale[2]):Ie.current.scale.setScalar(1/R.scale));else{const Ge=(c||10)/400,q=Ye.clientWidth*Ge,Xe=Ye.clientHeight*Ge;Ie.current.scale.set(q,Xe,1)}fe.current=!0}}}else{const Ye=K.children[0];if(Ye!=null&&Ye.clientWidth&&Ye!=null&&Ye.clientHeight){const at=1/ee.factor,Ge=Ye.clientWidth*at,q=Ye.clientHeight*at;Ie.current.scale.set(Ge,q,1),fe.current=!0}Ie.current.lookAt(Fe.camera.position)}});const be=D.useMemo(()=>({vertexShader:f?void 0:`
          /*
            This shader is from the THREE's SpriteMaterial.
            We need to turn the backing plane into a Sprite
            (make it always face the camera) if "transfrom"
            is false.
          */
          #include <common>

          void main() {
            vec2 center = vec2(0., 1.);
            float rotation = 0.0;

            // This is somewhat arbitrary, but it seems to work well
            // Need to figure out how to derive this dynamically if it even matters
            float size = 0.03;

            vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
            vec2 scale;
            scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
            scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );

            bool isPerspective = isPerspectiveMatrix( projectionMatrix );
            if ( isPerspective ) scale *= - mvPosition.z;

            vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale * size;
            vec2 rotatedPosition;
            rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
            rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
            mvPosition.xy += rotatedPosition;

            gl_Position = projectionMatrix * mvPosition;
          }
      `,fragmentShader:`
        void main() {
          gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);
        }
      `}),[f]);return D.createElement("group",Sr({},R,{ref:se}),m&&!Me&&D.createElement("mesh",{castShadow:y,receiveShadow:x,ref:Ie},_||D.createElement("planeGeometry",null),S||D.createElement("shaderMaterial",{side:ns,vertexShader:be.vertexShader,fragmentShader:be.fragmentShader})))});let hg=0;const hie=YM(t=>(ap.onStart=(e,n,r)=>{t({active:!0,item:e,loaded:n,total:r,progress:(n-hg)/(r-hg)*100})},ap.onLoad=()=>{t({active:!1})},ap.onError=e=>t(n=>({errors:[...n.errors,e]})),ap.onProgress=(e,n,r)=>{n===r&&(hg=r),t({active:!0,item:e,loaded:n,total:r,progress:(n-hg)/(r-hg)*100||100})},{errors:[],active:!1,progress:0,item:"",loaded:0,total:0}));function pie(t,e,n){return Math.max(e,Math.min(t,n))}const Gi={toVector(t,e){return t===void 0&&(t=e),Array.isArray(t)?t:[t,t]},add(t,e){return[t[0]+e[0],t[1]+e[1]]},sub(t,e){return[t[0]-e[0],t[1]-e[1]]},addTo(t,e){t[0]+=e[0],t[1]+=e[1]},subTo(t,e){t[0]-=e[0],t[1]-=e[1]}};function cI(t,e,n){return e===0||Math.abs(e)===1/0?Math.pow(t,n*5):t*e*n/(e+n*t)}function uI(t,e,n,r=.15){return r===0?pie(t,e,n):t<e?-cI(e-t,n-e,r)+e:t>n?+cI(t-n,n-e,r)+n:t}function mie(t,[e,n],[r,i]){const[[o,s],[a,c]]=t;return[uI(e,o,s,r),uI(n,a,c,i)]}function gie(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vie(t){var e=gie(t,"string");return typeof e=="symbol"?e:String(e)}function ko(t,e,n){return e=vie(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function br(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dI(Object(n),!0).forEach(function(r){ko(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}const d5={pointer:{start:"down",change:"move",end:"up"},mouse:{start:"down",change:"move",end:"up"},touch:{start:"start",change:"move",end:"end"},gesture:{start:"start",change:"change",end:"end"}};function fI(t){return t?t[0].toUpperCase()+t.slice(1):""}const yie=["enter","leave"];function xie(t=!1,e){return t&&!yie.includes(e)}function bie(t,e="",n=!1){const r=d5[t],i=r&&r[e]||e;return"on"+fI(t)+fI(i)+(xie(n,i)?"Capture":"")}const _ie=["gotpointercapture","lostpointercapture"];function Sie(t){let e=t.substring(2).toLowerCase();const n=!!~e.indexOf("passive");n&&(e=e.replace("passive",""));const r=_ie.includes(e)?"capturecapture":"capture",i=!!~e.indexOf(r);return i&&(e=e.replace("capture","")),{device:e,capture:i,passive:n}}function wie(t,e=""){const n=d5[t],r=n&&n[e]||e;return t+r}function e_(t){return"touches"in t}function f5(t){return e_(t)?"touch":"pointerType"in t?t.pointerType:"mouse"}function Eie(t){return Array.from(t.touches).filter(e=>{var n,r;return e.target===t.currentTarget||((n=t.currentTarget)===null||n===void 0||(r=n.contains)===null||r===void 0?void 0:r.call(n,e.target))})}function Cie(t){return t.type==="touchend"||t.type==="touchcancel"?t.changedTouches:t.targetTouches}function h5(t){return e_(t)?Cie(t)[0]:t}function Mie(t){return Eie(t).map(e=>e.identifier)}function gw(t){const e=h5(t);return e_(t)?e.identifier:e.pointerId}function hI(t){const e=h5(t);return[e.clientX,e.clientY]}function Tie(t){const e={};if("buttons"in t&&(e.buttons=t.buttons),"shiftKey"in t){const{shiftKey:n,altKey:r,metaKey:i,ctrlKey:o}=t;Object.assign(e,{shiftKey:n,altKey:r,metaKey:i,ctrlKey:o})}return e}function L1(t,...e){return typeof t=="function"?t(...e):t}function Pie(){}function Rie(...t){return t.length===0?Pie:t.length===1?t[0]:function(){let e;for(const n of t)e=n.apply(this,arguments)||e;return e}}function pI(t,e){return Object.assign({},e,t||{})}const Aie=32;class Iie{constructor(e,n,r){this.ctrl=e,this.args=n,this.key=r,this.state||(this.state={},this.computeValues([0,0]),this.computeInitial(),this.init&&this.init(),this.reset())}get state(){return this.ctrl.state[this.key]}set state(e){this.ctrl.state[this.key]=e}get shared(){return this.ctrl.state.shared}get eventStore(){return this.ctrl.gestureEventStores[this.key]}get timeoutStore(){return this.ctrl.gestureTimeoutStores[this.key]}get config(){return this.ctrl.config[this.key]}get sharedConfig(){return this.ctrl.config.shared}get handler(){return this.ctrl.handlers[this.key]}reset(){const{state:e,shared:n,ingKey:r,args:i}=this;n[r]=e._active=e.active=e._blocked=e._force=!1,e._step=[!1,!1],e.intentional=!1,e._movement=[0,0],e._distance=[0,0],e._direction=[0,0],e._delta=[0,0],e._bounds=[[-1/0,1/0],[-1/0,1/0]],e.args=i,e.axis=void 0,e.memo=void 0,e.elapsedTime=e.timeDelta=0,e.direction=[0,0],e.distance=[0,0],e.overflow=[0,0],e._movementBound=[!1,!1],e.velocity=[0,0],e.movement=[0,0],e.delta=[0,0],e.timeStamp=0}start(e){const n=this.state,r=this.config;n._active||(this.reset(),this.computeInitial(),n._active=!0,n.target=e.target,n.currentTarget=e.currentTarget,n.lastOffset=r.from?L1(r.from,n):n.offset,n.offset=n.lastOffset,n.startTime=n.timeStamp=e.timeStamp)}computeValues(e){const n=this.state;n._values=e,n.values=this.config.transform(e)}computeInitial(){const e=this.state;e._initial=e._values,e.initial=e.values}compute(e){const{state:n,config:r,shared:i}=this;n.args=this.args;let o=0;if(e&&(n.event=e,r.preventDefault&&e.cancelable&&n.event.preventDefault(),n.type=e.type,i.touches=this.ctrl.pointerIds.size||this.ctrl.touchIds.size,i.locked=!!document.pointerLockElement,Object.assign(i,Tie(e)),i.down=i.pressed=i.buttons%2===1||i.touches>0,o=e.timeStamp-n.timeStamp,n.timeStamp=e.timeStamp,n.elapsedTime=n.timeStamp-n.startTime),n._active){const R=n._delta.map(Math.abs);Gi.addTo(n._distance,R)}this.axisIntent&&this.axisIntent(e);const[s,a]=n._movement,[c,d]=r.threshold,{_step:f,values:m}=n;if(r.hasCustomTransform?(f[0]===!1&&(f[0]=Math.abs(s)>=c&&m[0]),f[1]===!1&&(f[1]=Math.abs(a)>=d&&m[1])):(f[0]===!1&&(f[0]=Math.abs(s)>=c&&Math.sign(s)*c),f[1]===!1&&(f[1]=Math.abs(a)>=d&&Math.sign(a)*d)),n.intentional=f[0]!==!1||f[1]!==!1,!n.intentional)return;const g=[0,0];if(r.hasCustomTransform){const[R,k]=m;g[0]=f[0]!==!1?R-f[0]:0,g[1]=f[1]!==!1?k-f[1]:0}else g[0]=f[0]!==!1?s-f[0]:0,g[1]=f[1]!==!1?a-f[1]:0;this.restrictToAxis&&!n._blocked&&this.restrictToAxis(g);const y=n.offset,x=n._active&&!n._blocked||n.active;x&&(n.first=n._active&&!n.active,n.last=!n._active&&n.active,n.active=i[this.ingKey]=n._active,e&&(n.first&&("bounds"in r&&(n._bounds=L1(r.bounds,n)),this.setup&&this.setup()),n.movement=g,this.computeOffset()));const[S,_]=n.offset,[[b,C],[T,A]]=n._bounds;n.overflow=[S<b?-1:S>C?1:0,_<T?-1:_>A?1:0],n._movementBound[0]=n.overflow[0]?n._movementBound[0]===!1?n._movement[0]:n._movementBound[0]:!1,n._movementBound[1]=n.overflow[1]?n._movementBound[1]===!1?n._movement[1]:n._movementBound[1]:!1;const P=n._active?r.rubberband||[0,0]:[0,0];if(n.offset=mie(n._bounds,n.offset,P),n.delta=Gi.sub(n.offset,y),this.computeMovement(),x&&(!n.last||o>Aie)){n.delta=Gi.sub(n.offset,y);const R=n.delta.map(Math.abs);Gi.addTo(n.distance,R),n.direction=n.delta.map(Math.sign),n._direction=n._delta.map(Math.sign),!n.first&&o>0&&(n.velocity=[R[0]/o,R[1]/o],n.timeDelta=o)}}emit(){const e=this.state,n=this.shared,r=this.config;if(e._active||this.clean(),(e._blocked||!e.intentional)&&!e._force&&!r.triggerAllEvents)return;const i=this.handler(br(br(br({},n),e),{},{[this.aliasKey]:e.values}));i!==void 0&&(e.memo=i)}clean(){this.eventStore.clean(),this.timeoutStore.clean()}}function kie([t,e],n){const r=Math.abs(t),i=Math.abs(e);if(r>i&&r>n)return"x";if(i>r&&i>n)return"y"}class Oie extends Iie{constructor(...e){super(...e),ko(this,"aliasKey","xy")}reset(){super.reset(),this.state.axis=void 0}init(){this.state.offset=[0,0],this.state.lastOffset=[0,0]}computeOffset(){this.state.offset=Gi.add(this.state.lastOffset,this.state.movement)}computeMovement(){this.state.movement=Gi.sub(this.state.offset,this.state.lastOffset)}axisIntent(e){const n=this.state,r=this.config;if(!n.axis&&e){const i=typeof r.axisThreshold=="object"?r.axisThreshold[f5(e)]:r.axisThreshold;n.axis=kie(n._movement,i)}n._blocked=(r.lockDirection||!!r.axis)&&!n.axis||!!r.axis&&r.axis!==n.axis}restrictToAxis(e){if(this.config.axis||this.config.lockDirection)switch(this.state.axis){case"x":e[1]=0;break;case"y":e[0]=0;break}}}const Lie=t=>t,mI=.15,p5={enabled(t=!0){return t},eventOptions(t,e,n){return br(br({},n.shared.eventOptions),t)},preventDefault(t=!1){return t},triggerAllEvents(t=!1){return t},rubberband(t=0){switch(t){case!0:return[mI,mI];case!1:return[0,0];default:return Gi.toVector(t)}},from(t){if(typeof t=="function")return t;if(t!=null)return Gi.toVector(t)},transform(t,e,n){const r=t||n.shared.transform;return this.hasCustomTransform=!!r,r||Lie},threshold(t){return Gi.toVector(t,0)}},Nie=0,jv=br(br({},p5),{},{axis(t,e,{axis:n}){if(this.lockDirection=n==="lock",!this.lockDirection)return n},axisThreshold(t=Nie){return t},bounds(t={}){if(typeof t=="function")return o=>jv.bounds(t(o));if("current"in t)return()=>t.current;if(typeof HTMLElement=="function"&&t instanceof HTMLElement)return t;const{left:e=-1/0,right:n=1/0,top:r=-1/0,bottom:i=1/0}=t;return[[e,n],[r,i]]}}),gI={ArrowRight:(t,e=1)=>[t*e,0],ArrowLeft:(t,e=1)=>[-1*t*e,0],ArrowUp:(t,e=1)=>[0,-1*t*e],ArrowDown:(t,e=1)=>[0,t*e]};class Die extends Oie{constructor(...e){super(...e),ko(this,"ingKey","dragging")}reset(){super.reset();const e=this.state;e._pointerId=void 0,e._pointerActive=!1,e._keyboardActive=!1,e._preventScroll=!1,e._delayed=!1,e.swipe=[0,0],e.tap=!1,e.canceled=!1,e.cancel=this.cancel.bind(this)}setup(){const e=this.state;if(e._bounds instanceof HTMLElement){const n=e._bounds.getBoundingClientRect(),r=e.currentTarget.getBoundingClientRect(),i={left:n.left-r.left+e.offset[0],right:n.right-r.right+e.offset[0],top:n.top-r.top+e.offset[1],bottom:n.bottom-r.bottom+e.offset[1]};e._bounds=jv.bounds(i)}}cancel(){const e=this.state;e.canceled||(e.canceled=!0,e._active=!1,setTimeout(()=>{this.compute(),this.emit()},0))}setActive(){this.state._active=this.state._pointerActive||this.state._keyboardActive}clean(){this.pointerClean(),this.state._pointerActive=!1,this.state._keyboardActive=!1,super.clean()}pointerDown(e){const n=this.config,r=this.state;if(e.buttons!=null&&(Array.isArray(n.pointerButtons)?!n.pointerButtons.includes(e.buttons):n.pointerButtons!==-1&&n.pointerButtons!==e.buttons))return;const i=this.ctrl.setEventIds(e);n.pointerCapture&&e.target.setPointerCapture(e.pointerId),!(i&&i.size>1&&r._pointerActive)&&(this.start(e),this.setupPointer(e),r._pointerId=gw(e),r._pointerActive=!0,this.computeValues(hI(e)),this.computeInitial(),n.preventScrollAxis&&f5(e)!=="mouse"?(r._active=!1,this.setupScrollPrevention(e)):n.delay>0?(this.setupDelayTrigger(e),n.triggerAllEvents&&(this.compute(e),this.emit())):this.startPointerDrag(e))}startPointerDrag(e){const n=this.state;n._active=!0,n._preventScroll=!0,n._delayed=!1,this.compute(e),this.emit()}pointerMove(e){const n=this.state,r=this.config;if(!n._pointerActive)return;const i=gw(e);if(n._pointerId!==void 0&&i!==n._pointerId)return;const o=hI(e);if(document.pointerLockElement===e.target?n._delta=[e.movementX,e.movementY]:(n._delta=Gi.sub(o,n._values),this.computeValues(o)),Gi.addTo(n._movement,n._delta),this.compute(e),n._delayed&&n.intentional){this.timeoutStore.remove("dragDelay"),n.active=!1,this.startPointerDrag(e);return}if(r.preventScrollAxis&&!n._preventScroll)if(n.axis)if(n.axis===r.preventScrollAxis||r.preventScrollAxis==="xy"){n._active=!1,this.clean();return}else{this.timeoutStore.remove("startPointerDrag"),this.startPointerDrag(e);return}else return;this.emit()}pointerUp(e){this.ctrl.setEventIds(e);try{this.config.pointerCapture&&e.target.hasPointerCapture(e.pointerId)&&e.target.releasePointerCapture(e.pointerId)}catch{}const n=this.state,r=this.config;if(!n._active||!n._pointerActive)return;const i=gw(e);if(n._pointerId!==void 0&&i!==n._pointerId)return;this.state._pointerActive=!1,this.setActive(),this.compute(e);const[o,s]=n._distance;if(n.tap=o<=r.tapsThreshold&&s<=r.tapsThreshold,n.tap&&r.filterTaps)n._force=!0;else{const[a,c]=n._delta,[d,f]=n._movement,[m,g]=r.swipe.velocity,[y,x]=r.swipe.distance,S=r.swipe.duration;if(n.elapsedTime<S){const _=Math.abs(a/n.timeDelta),b=Math.abs(c/n.timeDelta);_>m&&Math.abs(d)>y&&(n.swipe[0]=Math.sign(a)),b>g&&Math.abs(f)>x&&(n.swipe[1]=Math.sign(c))}}this.emit()}pointerClick(e){!this.state.tap&&e.detail>0&&(e.preventDefault(),e.stopPropagation())}setupPointer(e){const n=this.config,r=n.device;n.pointerLock&&e.currentTarget.requestPointerLock(),n.pointerCapture||(this.eventStore.add(this.sharedConfig.window,r,"change",this.pointerMove.bind(this)),this.eventStore.add(this.sharedConfig.window,r,"end",this.pointerUp.bind(this)),this.eventStore.add(this.sharedConfig.window,r,"cancel",this.pointerUp.bind(this)))}pointerClean(){this.config.pointerLock&&document.pointerLockElement===this.state.currentTarget&&document.exitPointerLock()}preventScroll(e){this.state._preventScroll&&e.cancelable&&e.preventDefault()}setupScrollPrevention(e){this.state._preventScroll=!1,Fie(e);const n=this.eventStore.add(this.sharedConfig.window,"touch","change",this.preventScroll.bind(this),{passive:!1});this.eventStore.add(this.sharedConfig.window,"touch","end",n),this.eventStore.add(this.sharedConfig.window,"touch","cancel",n),this.timeoutStore.add("startPointerDrag",this.startPointerDrag.bind(this),this.config.preventScrollDelay,e)}setupDelayTrigger(e){this.state._delayed=!0,this.timeoutStore.add("dragDelay",()=>{this.state._step=[0,0],this.startPointerDrag(e)},this.config.delay)}keyDown(e){const n=gI[e.key];if(n){const r=this.state,i=e.shiftKey?10:e.altKey?.1:1;this.start(e),r._delta=n(this.config.keyboardDisplacement,i),r._keyboardActive=!0,Gi.addTo(r._movement,r._delta),this.compute(e),this.emit()}}keyUp(e){e.key in gI&&(this.state._keyboardActive=!1,this.setActive(),this.compute(e),this.emit())}bind(e){const n=this.config.device;e(n,"start",this.pointerDown.bind(this)),this.config.pointerCapture&&(e(n,"change",this.pointerMove.bind(this)),e(n,"end",this.pointerUp.bind(this)),e(n,"cancel",this.pointerUp.bind(this)),e("lostPointerCapture","",this.pointerUp.bind(this))),this.config.keys&&(e("key","down",this.keyDown.bind(this)),e("key","up",this.keyUp.bind(this))),this.config.filterTaps&&e("click","",this.pointerClick.bind(this),{capture:!0,passive:!1})}}function Fie(t){"persist"in t&&typeof t.persist=="function"&&t.persist()}const Xv=typeof window<"u"&&window.document&&window.document.createElement;function m5(){return Xv&&"ontouchstart"in window}function zie(){return m5()||Xv&&window.navigator.maxTouchPoints>1}function Uie(){return Xv&&"onpointerdown"in window}function Bie(){return Xv&&"exitPointerLock"in window.document}function Vie(){try{return"constructor"in GestureEvent}catch{return!1}}const Ms={isBrowser:Xv,gesture:Vie(),touch:m5(),touchscreen:zie(),pointer:Uie(),pointerLock:Bie()},$ie=250,Hie=180,Wie=.5,Gie=50,jie=250,Xie=10,vI={mouse:0,touch:0,pen:8},qie=br(br({},jv),{},{device(t,e,{pointer:{touch:n=!1,lock:r=!1,mouse:i=!1}={}}){return this.pointerLock=r&&Ms.pointerLock,Ms.touch&&n?"touch":this.pointerLock?"mouse":Ms.pointer&&!i?"pointer":Ms.touch?"touch":"mouse"},preventScrollAxis(t,e,{preventScroll:n}){if(this.preventScrollDelay=typeof n=="number"?n:n||n===void 0&&t?$ie:void 0,!(!Ms.touchscreen||n===!1))return t||(n!==void 0?"y":void 0)},pointerCapture(t,e,{pointer:{capture:n=!0,buttons:r=1,keys:i=!0}={}}){return this.pointerButtons=r,this.keys=i,!this.pointerLock&&this.device==="pointer"&&n},threshold(t,e,{filterTaps:n=!1,tapsThreshold:r=3,axis:i=void 0}){const o=Gi.toVector(t,n?r:i?1:0);return this.filterTaps=n,this.tapsThreshold=r,o},swipe({velocity:t=Wie,distance:e=Gie,duration:n=jie}={}){return{velocity:this.transform(Gi.toVector(t)),distance:this.transform(Gi.toVector(e)),duration:n}},delay(t=0){switch(t){case!0:return Hie;case!1:return 0;default:return t}},axisThreshold(t){return t?br(br({},vI),t):vI},keyboardDisplacement(t=Xie){return t}});br(br({},p5),{},{device(t,e,{shared:n,pointer:{touch:r=!1}={}}){if(n.target&&!Ms.touch&&Ms.gesture)return"gesture";if(Ms.touch&&r)return"touch";if(Ms.touchscreen){if(Ms.pointer)return"pointer";if(Ms.touch)return"touch"}},bounds(t,e,{scaleBounds:n={},angleBounds:r={}}){const i=s=>{const a=pI(L1(n,s),{min:-1/0,max:1/0});return[a.min,a.max]},o=s=>{const a=pI(L1(r,s),{min:-1/0,max:1/0});return[a.min,a.max]};return typeof n!="function"&&typeof r!="function"?[i(),o()]:s=>[i(s),o(s)]},threshold(t,e,n){return this.lockDirection=n.axis==="lock",Gi.toVector(t,this.lockDirection?[.1,3]:0)},modifierKey(t){return t===void 0?"ctrlKey":t},pinchOnWheel(t=!0){return t}});br(br({},jv),{},{mouseOnly:(t=!0)=>t});br(br({},jv),{},{mouseOnly:(t=!0)=>t});const g5=new Map,XE=new Map;function Yie(t){g5.set(t.key,t.engine),XE.set(t.key,t.resolver)}const Kie={key:"drag",engine:Die,resolver:qie};function Zie(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Jie(t,e){if(t==null)return{};var n=Zie(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}const Qie={target(t){if(t)return()=>"current"in t?t.current:t},enabled(t=!0){return t},window(t=Ms.isBrowser?window:void 0){return t},eventOptions({passive:t=!0,capture:e=!1}={}){return{passive:t,capture:e}},transform(t){return t}},eoe=["target","eventOptions","window","enabled","transform"];function Rx(t={},e){const n={};for(const[r,i]of Object.entries(e))switch(typeof i){case"function":n[r]=i.call(n,t[r],r,t);break;case"object":n[r]=Rx(t[r],i);break;case"boolean":i&&(n[r]=t[r]);break}return n}function toe(t,e,n={}){const r=t,{target:i,eventOptions:o,window:s,enabled:a,transform:c}=r,d=Jie(r,eoe);if(n.shared=Rx({target:i,eventOptions:o,window:s,enabled:a,transform:c},Qie),e){const f=XE.get(e);n[e]=Rx(br({shared:n.shared},d),f)}else for(const f in d){const m=XE.get(f);m&&(n[f]=Rx(br({shared:n.shared},d[f]),m))}return n}class v5{constructor(e,n){ko(this,"_listeners",new Set),this._ctrl=e,this._gestureKey=n}add(e,n,r,i,o){const s=this._listeners,a=wie(n,r),c=this._gestureKey?this._ctrl.config[this._gestureKey].eventOptions:{},d=br(br({},c),o);e.addEventListener(a,i,d);const f=()=>{e.removeEventListener(a,i,d),s.delete(f)};return s.add(f),f}clean(){this._listeners.forEach(e=>e()),this._listeners.clear()}}class noe{constructor(){ko(this,"_timeouts",new Map)}add(e,n,r=140,...i){this.remove(e),this._timeouts.set(e,window.setTimeout(n,r,...i))}remove(e){const n=this._timeouts.get(e);n&&window.clearTimeout(n)}clean(){this._timeouts.forEach(e=>void window.clearTimeout(e)),this._timeouts.clear()}}class roe{constructor(e){ko(this,"gestures",new Set),ko(this,"_targetEventStore",new v5(this)),ko(this,"gestureEventStores",{}),ko(this,"gestureTimeoutStores",{}),ko(this,"handlers",{}),ko(this,"config",{}),ko(this,"pointerIds",new Set),ko(this,"touchIds",new Set),ko(this,"state",{shared:{shiftKey:!1,metaKey:!1,ctrlKey:!1,altKey:!1}}),ioe(this,e)}setEventIds(e){if(e_(e))return this.touchIds=new Set(Mie(e)),this.touchIds;if("pointerId"in e)return e.type==="pointerup"||e.type==="pointercancel"?this.pointerIds.delete(e.pointerId):e.type==="pointerdown"&&this.pointerIds.add(e.pointerId),this.pointerIds}applyHandlers(e,n){this.handlers=e,this.nativeHandlers=n}applyConfig(e,n){this.config=toe(e,n,this.config)}clean(){this._targetEventStore.clean();for(const e of this.gestures)this.gestureEventStores[e].clean(),this.gestureTimeoutStores[e].clean()}effect(){return this.config.shared.target&&this.bind(),()=>this._targetEventStore.clean()}bind(...e){const n=this.config.shared,r={};let i;if(!(n.target&&(i=n.target(),!i))){if(n.enabled){for(const s of this.gestures){const a=this.config[s],c=yI(r,a.eventOptions,!!i);if(a.enabled){const d=g5.get(s);new d(this,e,s).bind(c)}}const o=yI(r,n.eventOptions,!!i);for(const s in this.nativeHandlers)o(s,"",a=>this.nativeHandlers[s](br(br({},this.state.shared),{},{event:a,args:e})),void 0,!0)}for(const o in r)r[o]=Rie(...r[o]);if(!i)return r;for(const o in r){const{device:s,capture:a,passive:c}=Sie(o);this._targetEventStore.add(i,s,"",r[o],{capture:a,passive:c})}}}}function Wh(t,e){t.gestures.add(e),t.gestureEventStores[e]=new v5(t,e),t.gestureTimeoutStores[e]=new noe}function ioe(t,e){e.drag&&Wh(t,"drag"),e.wheel&&Wh(t,"wheel"),e.scroll&&Wh(t,"scroll"),e.move&&Wh(t,"move"),e.pinch&&Wh(t,"pinch"),e.hover&&Wh(t,"hover")}const yI=(t,e,n)=>(r,i,o,s={},a=!1)=>{var c,d;const f=(c=s.capture)!==null&&c!==void 0?c:e.capture,m=(d=s.passive)!==null&&d!==void 0?d:e.passive;let g=a?r:bie(r,i,f);n&&m&&(g+="Passive"),t[g]=t[g]||[],t[g].push(o)};function ooe(t,e={},n,r){const i=ae.useMemo(()=>new roe(t),[]);if(i.applyHandlers(t,r),i.applyConfig(e,n),ae.useEffect(i.effect.bind(i)),ae.useEffect(()=>i.clean.bind(i),[]),e.target===void 0)return i.bind.bind(i)}function soe(t,e){return Yie(Kie),ooe({drag:t},e||{},"drag")}const aoe=t=>(e,n,r)=>{const i=r.subscribe;return r.subscribe=(s,a,c)=>{let d=s;if(a){const f=(c==null?void 0:c.equalityFn)||Object.is;let m=s(r.getState());d=g=>{const y=s(g);if(!f(m,y)){const x=m;a(m=y,x)}},c!=null&&c.fireImmediately&&a(m,m)}return i(d)},t(e,n,r)};var loe=Object.defineProperty,coe=(t,e,n)=>e in t?loe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,uoe=(t,e,n)=>(coe(t,e+"",n),n);class doe{constructor(){uoe(this,"_listeners")}addEventListener(e,n){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(n)===-1&&r[e].push(n)}hasEventListener(e,n){if(this._listeners===void 0)return!1;const r=this._listeners;return r[e]!==void 0&&r[e].indexOf(n)!==-1}removeEventListener(e,n){if(this._listeners===void 0)return;const i=this._listeners[e];if(i!==void 0){const o=i.indexOf(n);o!==-1&&i.splice(o,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const r=this._listeners[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let o=0,s=i.length;o<s;o++)i[o].call(this,e);e.target=null}}}var foe=Object.defineProperty,hoe=(t,e,n)=>e in t?foe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Bt=(t,e,n)=>(hoe(t,typeof e!="symbol"?e+"":e,n),n);const Qy=new uf,xI=new Xl,poe=Math.cos(70*(Math.PI/180)),bI=(t,e)=>(t%e+e)%e;let moe=class extends doe{constructor(e,n){super(),Bt(this,"object"),Bt(this,"domElement"),Bt(this,"enabled",!0),Bt(this,"target",new J),Bt(this,"minDistance",0),Bt(this,"maxDistance",1/0),Bt(this,"minZoom",0),Bt(this,"maxZoom",1/0),Bt(this,"minPolarAngle",0),Bt(this,"maxPolarAngle",Math.PI),Bt(this,"minAzimuthAngle",-1/0),Bt(this,"maxAzimuthAngle",1/0),Bt(this,"enableDamping",!1),Bt(this,"dampingFactor",.05),Bt(this,"enableZoom",!0),Bt(this,"zoomSpeed",1),Bt(this,"enableRotate",!0),Bt(this,"rotateSpeed",1),Bt(this,"enablePan",!0),Bt(this,"panSpeed",1),Bt(this,"screenSpacePanning",!0),Bt(this,"keyPanSpeed",7),Bt(this,"zoomToCursor",!1),Bt(this,"autoRotate",!1),Bt(this,"autoRotateSpeed",2),Bt(this,"reverseOrbit",!1),Bt(this,"reverseHorizontalOrbit",!1),Bt(this,"reverseVerticalOrbit",!1),Bt(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),Bt(this,"mouseButtons",{LEFT:Ld.ROTATE,MIDDLE:Ld.DOLLY,RIGHT:Ld.PAN}),Bt(this,"touches",{ONE:Nd.ROTATE,TWO:Nd.DOLLY_PAN}),Bt(this,"target0"),Bt(this,"position0"),Bt(this,"zoom0"),Bt(this,"_domElementKeyEvents",null),Bt(this,"getPolarAngle"),Bt(this,"getAzimuthalAngle"),Bt(this,"setPolarAngle"),Bt(this,"setAzimuthalAngle"),Bt(this,"getDistance"),Bt(this,"getZoomScale"),Bt(this,"listenToKeyEvents"),Bt(this,"stopListenToKeyEvents"),Bt(this,"saveState"),Bt(this,"reset"),Bt(this,"update"),Bt(this,"connect"),Bt(this,"dispose"),Bt(this,"dollyIn"),Bt(this,"dollyOut"),Bt(this,"getScale"),Bt(this,"setScale"),this.object=e,this.domElement=n,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>f.phi,this.getAzimuthalAngle=()=>f.theta,this.setPolarAngle=ue=>{let Ne=bI(ue,2*Math.PI),st=f.phi;st<0&&(st+=2*Math.PI),Ne<0&&(Ne+=2*Math.PI);let ce=Math.abs(Ne-st);2*Math.PI-ce<ce&&(Ne<st?Ne+=2*Math.PI:st+=2*Math.PI),m.phi=Ne-st,r.update()},this.setAzimuthalAngle=ue=>{let Ne=bI(ue,2*Math.PI),st=f.theta;st<0&&(st+=2*Math.PI),Ne<0&&(Ne+=2*Math.PI);let ce=Math.abs(Ne-st);2*Math.PI-ce<ce&&(Ne<st?Ne+=2*Math.PI:st+=2*Math.PI),m.theta=Ne-st,r.update()},this.getDistance=()=>r.object.position.distanceTo(r.target),this.listenToKeyEvents=ue=>{ue.addEventListener("keydown",Qe),this._domElementKeyEvents=ue},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",Qe),this._domElementKeyEvents=null},this.saveState=()=>{r.target0.copy(r.target),r.position0.copy(r.object.position),r.zoom0=r.object.zoom},this.reset=()=>{r.target.copy(r.target0),r.object.position.copy(r.position0),r.object.zoom=r.zoom0,r.object.updateProjectionMatrix(),r.dispatchEvent(i),r.update(),c=a.NONE},this.update=(()=>{const ue=new J,Ne=new J(0,1,0),st=new Ri().setFromUnitVectors(e.up,Ne),ce=st.clone().invert(),Ze=new J,Re=new Ri,Ue=2*Math.PI;return function(){const lt=r.object.position;st.setFromUnitVectors(e.up,Ne),ce.copy(st).invert(),ue.copy(lt).sub(r.target),ue.applyQuaternion(st),f.setFromVector3(ue),r.autoRotate&&c===a.NONE&&ee(j()),r.enableDamping?(f.theta+=m.theta*r.dampingFactor,f.phi+=m.phi*r.dampingFactor):(f.theta+=m.theta,f.phi+=m.phi);let Nt=r.minAzimuthAngle,vn=r.maxAzimuthAngle;isFinite(Nt)&&isFinite(vn)&&(Nt<-Math.PI?Nt+=Ue:Nt>Math.PI&&(Nt-=Ue),vn<-Math.PI?vn+=Ue:vn>Math.PI&&(vn-=Ue),Nt<=vn?f.theta=Math.max(Nt,Math.min(vn,f.theta)):f.theta=f.theta>(Nt+vn)/2?Math.max(Nt,f.theta):Math.min(vn,f.theta)),f.phi=Math.max(r.minPolarAngle,Math.min(r.maxPolarAngle,f.phi)),f.makeSafe(),r.enableDamping===!0?r.target.addScaledVector(y,r.dampingFactor):r.target.add(y),r.zoomToCursor&&L||r.object.isOrthographicCamera?f.radius=Ie(f.radius):f.radius=Ie(f.radius*g),ue.setFromSpherical(f),ue.applyQuaternion(ce),lt.copy(r.target).add(ue),r.object.matrixAutoUpdate||r.object.updateMatrix(),r.object.lookAt(r.target),r.enableDamping===!0?(m.theta*=1-r.dampingFactor,m.phi*=1-r.dampingFactor,y.multiplyScalar(1-r.dampingFactor)):(m.set(0,0,0),y.set(0,0,0));let Un=!1;if(r.zoomToCursor&&L){let tn=null;if(r.object instanceof yr&&r.object.isPerspectiveCamera){const fr=ue.length();tn=Ie(fr*g);const wr=fr-tn;r.object.position.addScaledVector(k,wr),r.object.updateMatrixWorld()}else if(r.object.isOrthographicCamera){const fr=new J(z.x,z.y,0);fr.unproject(r.object),r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/g)),r.object.updateProjectionMatrix(),Un=!0;const wr=new J(z.x,z.y,0);wr.unproject(r.object),r.object.position.sub(wr).add(fr),r.object.updateMatrixWorld(),tn=ue.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),r.zoomToCursor=!1;tn!==null&&(r.screenSpacePanning?r.target.set(0,0,-1).transformDirection(r.object.matrix).multiplyScalar(tn).add(r.object.position):(Qy.origin.copy(r.object.position),Qy.direction.set(0,0,-1).transformDirection(r.object.matrix),Math.abs(r.object.up.dot(Qy.direction))<poe?e.lookAt(r.target):(xI.setFromNormalAndCoplanarPoint(r.object.up,r.target),Qy.intersectPlane(xI,r.target))))}else r.object instanceof Ya&&r.object.isOrthographicCamera&&(Un=g!==1,Un&&(r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/g)),r.object.updateProjectionMatrix()));return g=1,L=!1,Un||Ze.distanceToSquared(r.object.position)>d||8*(1-Re.dot(r.object.quaternion))>d?(r.dispatchEvent(i),Ze.copy(r.object.position),Re.copy(r.object.quaternion),Un=!1,!0):!1}})(),this.connect=ue=>{r.domElement=ue,r.domElement.style.touchAction="none",r.domElement.addEventListener("contextmenu",We),r.domElement.addEventListener("pointerdown",$),r.domElement.addEventListener("pointercancel",pe),r.domElement.addEventListener("wheel",tt)},this.dispose=()=>{var ue,Ne,st,ce,Ze,Re;r.domElement&&(r.domElement.style.touchAction="auto"),(ue=r.domElement)==null||ue.removeEventListener("contextmenu",We),(Ne=r.domElement)==null||Ne.removeEventListener("pointerdown",$),(st=r.domElement)==null||st.removeEventListener("pointercancel",pe),(ce=r.domElement)==null||ce.removeEventListener("wheel",tt),(Ze=r.domElement)==null||Ze.ownerDocument.removeEventListener("pointermove",re),(Re=r.domElement)==null||Re.ownerDocument.removeEventListener("pointerup",pe),r._domElementKeyEvents!==null&&r._domElementKeyEvents.removeEventListener("keydown",Qe)};const r=this,i={type:"change"},o={type:"start"},s={type:"end"},a={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let c=a.NONE;const d=1e-6,f=new BE,m=new BE;let g=1;const y=new J,x=new $e,S=new $e,_=new $e,b=new $e,C=new $e,T=new $e,A=new $e,P=new $e,R=new $e,k=new J,z=new $e;let L=!1;const O=[],B={};function j(){return 2*Math.PI/60/60*r.autoRotateSpeed}function X(){return Math.pow(.95,r.zoomSpeed)}function ee(ue){r.reverseOrbit||r.reverseHorizontalOrbit?m.theta+=ue:m.theta-=ue}function K(ue){r.reverseOrbit||r.reverseVerticalOrbit?m.phi+=ue:m.phi-=ue}const ne=(()=>{const ue=new J;return function(st,ce){ue.setFromMatrixColumn(ce,0),ue.multiplyScalar(-st),y.add(ue)}})(),se=(()=>{const ue=new J;return function(st,ce){r.screenSpacePanning===!0?ue.setFromMatrixColumn(ce,1):(ue.setFromMatrixColumn(ce,0),ue.crossVectors(r.object.up,ue)),ue.multiplyScalar(st),y.add(ue)}})(),V=(()=>{const ue=new J;return function(st,ce){const Ze=r.domElement;if(Ze&&r.object instanceof yr&&r.object.isPerspectiveCamera){const Re=r.object.position;ue.copy(Re).sub(r.target);let Ue=ue.length();Ue*=Math.tan(r.object.fov/2*Math.PI/180),ne(2*st*Ue/Ze.clientHeight,r.object.matrix),se(2*ce*Ue/Ze.clientHeight,r.object.matrix)}else Ze&&r.object instanceof Ya&&r.object.isOrthographicCamera?(ne(st*(r.object.right-r.object.left)/r.object.zoom/Ze.clientWidth,r.object.matrix),se(ce*(r.object.top-r.object.bottom)/r.object.zoom/Ze.clientHeight,r.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),r.enablePan=!1)}})();function Q(ue){r.object instanceof yr&&r.object.isPerspectiveCamera||r.object instanceof Ya&&r.object.isOrthographicCamera?g=ue:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),r.enableZoom=!1)}function Z(ue){Q(g/ue)}function W(ue){Q(g*ue)}function le(ue){if(!r.zoomToCursor||!r.domElement)return;L=!0;const Ne=r.domElement.getBoundingClientRect(),st=ue.clientX-Ne.left,ce=ue.clientY-Ne.top,Ze=Ne.width,Re=Ne.height;z.x=st/Ze*2-1,z.y=-(ce/Re)*2+1,k.set(z.x,z.y,1).unproject(r.object).sub(r.object.position).normalize()}function Ie(ue){return Math.max(r.minDistance,Math.min(r.maxDistance,ue))}function fe(ue){x.set(ue.clientX,ue.clientY)}function Me(ue){le(ue),A.set(ue.clientX,ue.clientY)}function De(ue){b.set(ue.clientX,ue.clientY)}function Le(ue){S.set(ue.clientX,ue.clientY),_.subVectors(S,x).multiplyScalar(r.rotateSpeed);const Ne=r.domElement;Ne&&(ee(2*Math.PI*_.x/Ne.clientHeight),K(2*Math.PI*_.y/Ne.clientHeight)),x.copy(S),r.update()}function ge(ue){P.set(ue.clientX,ue.clientY),R.subVectors(P,A),R.y>0?Z(X()):R.y<0&&W(X()),A.copy(P),r.update()}function be(ue){C.set(ue.clientX,ue.clientY),T.subVectors(C,b).multiplyScalar(r.panSpeed),V(T.x,T.y),b.copy(C),r.update()}function Fe(ue){le(ue),ue.deltaY<0?W(X()):ue.deltaY>0&&Z(X()),r.update()}function Ye(ue){let Ne=!1;switch(ue.code){case r.keys.UP:V(0,r.keyPanSpeed),Ne=!0;break;case r.keys.BOTTOM:V(0,-r.keyPanSpeed),Ne=!0;break;case r.keys.LEFT:V(r.keyPanSpeed,0),Ne=!0;break;case r.keys.RIGHT:V(-r.keyPanSpeed,0),Ne=!0;break}Ne&&(ue.preventDefault(),r.update())}function at(){if(O.length==1)x.set(O[0].pageX,O[0].pageY);else{const ue=.5*(O[0].pageX+O[1].pageX),Ne=.5*(O[0].pageY+O[1].pageY);x.set(ue,Ne)}}function Ge(){if(O.length==1)b.set(O[0].pageX,O[0].pageY);else{const ue=.5*(O[0].pageX+O[1].pageX),Ne=.5*(O[0].pageY+O[1].pageY);b.set(ue,Ne)}}function q(){const ue=O[0].pageX-O[1].pageX,Ne=O[0].pageY-O[1].pageY,st=Math.sqrt(ue*ue+Ne*Ne);A.set(0,st)}function Xe(){r.enableZoom&&q(),r.enablePan&&Ge()}function Ve(){r.enableZoom&&q(),r.enableRotate&&at()}function He(ue){if(O.length==1)S.set(ue.pageX,ue.pageY);else{const st=pt(ue),ce=.5*(ue.pageX+st.x),Ze=.5*(ue.pageY+st.y);S.set(ce,Ze)}_.subVectors(S,x).multiplyScalar(r.rotateSpeed);const Ne=r.domElement;Ne&&(ee(2*Math.PI*_.x/Ne.clientHeight),K(2*Math.PI*_.y/Ne.clientHeight)),x.copy(S)}function ze(ue){if(O.length==1)C.set(ue.pageX,ue.pageY);else{const Ne=pt(ue),st=.5*(ue.pageX+Ne.x),ce=.5*(ue.pageY+Ne.y);C.set(st,ce)}T.subVectors(C,b).multiplyScalar(r.panSpeed),V(T.x,T.y),b.copy(C)}function ot(ue){const Ne=pt(ue),st=ue.pageX-Ne.x,ce=ue.pageY-Ne.y,Ze=Math.sqrt(st*st+ce*ce);P.set(0,Ze),R.set(0,Math.pow(P.y/A.y,r.zoomSpeed)),Z(R.y),A.copy(P)}function Be(ue){r.enableZoom&&ot(ue),r.enablePan&&ze(ue)}function Y(ue){r.enableZoom&&ot(ue),r.enableRotate&&He(ue)}function $(ue){var Ne,st;r.enabled!==!1&&(O.length===0&&((Ne=r.domElement)==null||Ne.ownerDocument.addEventListener("pointermove",re),(st=r.domElement)==null||st.ownerDocument.addEventListener("pointerup",pe)),dt(ue),ue.pointerType==="touch"?St(ue):ke(ue))}function re(ue){r.enabled!==!1&&(ue.pointerType==="touch"?Mt(ue):Ce(ue))}function pe(ue){var Ne,st,ce;Pt(ue),O.length===0&&((Ne=r.domElement)==null||Ne.releasePointerCapture(ue.pointerId),(st=r.domElement)==null||st.ownerDocument.removeEventListener("pointermove",re),(ce=r.domElement)==null||ce.ownerDocument.removeEventListener("pointerup",pe)),r.dispatchEvent(s),c=a.NONE}function ke(ue){let Ne;switch(ue.button){case 0:Ne=r.mouseButtons.LEFT;break;case 1:Ne=r.mouseButtons.MIDDLE;break;case 2:Ne=r.mouseButtons.RIGHT;break;default:Ne=-1}switch(Ne){case Ld.DOLLY:if(r.enableZoom===!1)return;Me(ue),c=a.DOLLY;break;case Ld.ROTATE:if(ue.ctrlKey||ue.metaKey||ue.shiftKey){if(r.enablePan===!1)return;De(ue),c=a.PAN}else{if(r.enableRotate===!1)return;fe(ue),c=a.ROTATE}break;case Ld.PAN:if(ue.ctrlKey||ue.metaKey||ue.shiftKey){if(r.enableRotate===!1)return;fe(ue),c=a.ROTATE}else{if(r.enablePan===!1)return;De(ue),c=a.PAN}break;default:c=a.NONE}c!==a.NONE&&r.dispatchEvent(o)}function Ce(ue){if(r.enabled!==!1)switch(c){case a.ROTATE:if(r.enableRotate===!1)return;Le(ue);break;case a.DOLLY:if(r.enableZoom===!1)return;ge(ue);break;case a.PAN:if(r.enablePan===!1)return;be(ue);break}}function tt(ue){r.enabled===!1||r.enableZoom===!1||c!==a.NONE&&c!==a.ROTATE||(ue.preventDefault(),r.dispatchEvent(o),Fe(ue),r.dispatchEvent(s))}function Qe(ue){r.enabled===!1||r.enablePan===!1||Ye(ue)}function St(ue){switch(Lt(ue),O.length){case 1:switch(r.touches.ONE){case Nd.ROTATE:if(r.enableRotate===!1)return;at(),c=a.TOUCH_ROTATE;break;case Nd.PAN:if(r.enablePan===!1)return;Ge(),c=a.TOUCH_PAN;break;default:c=a.NONE}break;case 2:switch(r.touches.TWO){case Nd.DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;Xe(),c=a.TOUCH_DOLLY_PAN;break;case Nd.DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;Ve(),c=a.TOUCH_DOLLY_ROTATE;break;default:c=a.NONE}break;default:c=a.NONE}c!==a.NONE&&r.dispatchEvent(o)}function Mt(ue){switch(Lt(ue),c){case a.TOUCH_ROTATE:if(r.enableRotate===!1)return;He(ue),r.update();break;case a.TOUCH_PAN:if(r.enablePan===!1)return;ze(ue),r.update();break;case a.TOUCH_DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;Be(ue),r.update();break;case a.TOUCH_DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;Y(ue),r.update();break;default:c=a.NONE}}function We(ue){r.enabled!==!1&&ue.preventDefault()}function dt(ue){O.push(ue)}function Pt(ue){delete B[ue.pointerId];for(let Ne=0;Ne<O.length;Ne++)if(O[Ne].pointerId==ue.pointerId){O.splice(Ne,1);return}}function Lt(ue){let Ne=B[ue.pointerId];Ne===void 0&&(Ne=new $e,B[ue.pointerId]=Ne),Ne.set(ue.pageX,ue.pageY)}function pt(ue){const Ne=ue.pointerId===O[0].pointerId?O[1]:O[0];return B[Ne.pointerId]}this.dollyIn=(ue=X())=>{W(ue),r.update()},this.dollyOut=(ue=X())=>{Z(ue),r.update()},this.getScale=()=>g,this.setScale=ue=>{Q(ue),r.update()},this.getZoomScale=()=>X(),n!==void 0&&this.connect(n),this.update()}};function t_(t,e){if(Object.is(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!1;for(let r=0;r<n.length;r++)if(!Object.prototype.hasOwnProperty.call(e,n[r])||!Object.is(t[n[r]],e[n[r]]))return!1;return!0}const goe=D.forwardRef(({makeDefault:t,camera:e,regress:n,domElement:r,enableDamping:i=!0,keyEvents:o=!1,onChange:s,onStart:a,onEnd:c,...d},f)=>{const m=Gl(R=>R.invalidate),g=Gl(R=>R.camera),y=Gl(R=>R.gl),x=Gl(R=>R.events),S=Gl(R=>R.setEvents),_=Gl(R=>R.set),b=Gl(R=>R.get),C=Gl(R=>R.performance),T=e||g,A=r||x.connected||y.domElement,P=D.useMemo(()=>new moe(T),[T]);return r5(()=>{P.enabled&&P.update()},-1),D.useEffect(()=>(o&&P.connect(o===!0?A:o),P.connect(A),()=>void P.dispose()),[o,A,n,P,m]),D.useEffect(()=>{const R=L=>{m(),n&&C.regress(),s&&s(L)},k=L=>{a&&a(L)},z=L=>{c&&c(L)};return P.addEventListener("change",R),P.addEventListener("start",k),P.addEventListener("end",z),()=>{P.removeEventListener("start",k),P.removeEventListener("end",z),P.removeEventListener("change",R)}},[s,a,c,P,m,S]),D.useEffect(()=>{if(t){const R=b().controls;return _({controls:P}),()=>_({controls:R})}},[t,P]),D.createElement("primitive",Sr({ref:f,object:P,enableDamping:i},d))});var vw={exports:{}},yw,_I;function voe(){if(_I)return yw;_I=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return yw=t,yw}var xw,SI;function yoe(){if(SI)return xw;SI=1;var t=voe();function e(){}function n(){}return n.resetWarningCache=e,xw=function(){function r(s,a,c,d,f,m){if(m!==t){var g=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw g.name="Invariant Violation",g}}r.isRequired=r;function i(){return r}var o={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:e};return o.PropTypes=o,o},xw}var wI;function xoe(){return wI||(wI=1,vw.exports=yoe()()),vw.exports}var boe=xoe();const er=wu(boe),_oe=/^[og]\s*(.+)?/,Soe=/^mtllib /,woe=/^usemtl /,Eoe=/^usemap /,EI=/\s+/,CI=new J,bw=new J,MI=new J,TI=new J,ws=new J,ex=new ct;function Coe(){const t={objects:[],object:{},vertices:[],normals:[],colors:[],uvs:[],materials:{},materialLibraries:[],startObject:function(e,n){if(this.object&&this.object.fromDeclaration===!1){this.object.name=e,this.object.fromDeclaration=n!==!1;return}const r=this.object&&typeof this.object.currentMaterial=="function"?this.object.currentMaterial():void 0;if(this.object&&typeof this.object._finalize=="function"&&this.object._finalize(!0),this.object={name:e||"",fromDeclaration:n!==!1,geometry:{vertices:[],normals:[],colors:[],uvs:[],hasUVIndices:!1},materials:[],smooth:!0,startMaterial:function(i,o){const s=this._finalize(!1);s&&(s.inherited||s.groupCount<=0)&&this.materials.splice(s.index,1);const a={index:this.materials.length,name:i||"",mtllib:Array.isArray(o)&&o.length>0?o[o.length-1]:"",smooth:s!==void 0?s.smooth:this.smooth,groupStart:s!==void 0?s.groupEnd:0,groupEnd:-1,groupCount:-1,inherited:!1,clone:function(c){const d={index:typeof c=="number"?c:this.index,name:this.name,mtllib:this.mtllib,smooth:this.smooth,groupStart:0,groupEnd:-1,groupCount:-1,inherited:!1};return d.clone=this.clone.bind(d),d}};return this.materials.push(a),a},currentMaterial:function(){if(this.materials.length>0)return this.materials[this.materials.length-1]},_finalize:function(i){const o=this.currentMaterial();if(o&&o.groupEnd===-1&&(o.groupEnd=this.geometry.vertices.length/3,o.groupCount=o.groupEnd-o.groupStart,o.inherited=!1),i&&this.materials.length>1)for(let s=this.materials.length-1;s>=0;s--)this.materials[s].groupCount<=0&&this.materials.splice(s,1);return i&&this.materials.length===0&&this.materials.push({name:"",smooth:this.smooth}),o}},r&&r.name&&typeof r.clone=="function"){const i=r.clone(0);i.inherited=!0,this.object.materials.push(i)}this.objects.push(this.object)},finalize:function(){this.object&&typeof this.object._finalize=="function"&&this.object._finalize(!0)},parseVertexIndex:function(e,n){const r=parseInt(e,10);return(r>=0?r-1:r+n/3)*3},parseNormalIndex:function(e,n){const r=parseInt(e,10);return(r>=0?r-1:r+n/3)*3},parseUVIndex:function(e,n){const r=parseInt(e,10);return(r>=0?r-1:r+n/2)*2},addVertex:function(e,n,r){const i=this.vertices,o=this.object.geometry.vertices;o.push(i[e+0],i[e+1],i[e+2]),o.push(i[n+0],i[n+1],i[n+2]),o.push(i[r+0],i[r+1],i[r+2])},addVertexPoint:function(e){const n=this.vertices;this.object.geometry.vertices.push(n[e+0],n[e+1],n[e+2])},addVertexLine:function(e){const n=this.vertices;this.object.geometry.vertices.push(n[e+0],n[e+1],n[e+2])},addNormal:function(e,n,r){const i=this.normals,o=this.object.geometry.normals;o.push(i[e+0],i[e+1],i[e+2]),o.push(i[n+0],i[n+1],i[n+2]),o.push(i[r+0],i[r+1],i[r+2])},addFaceNormal:function(e,n,r){const i=this.vertices,o=this.object.geometry.normals;CI.fromArray(i,e),bw.fromArray(i,n),MI.fromArray(i,r),ws.subVectors(MI,bw),TI.subVectors(CI,bw),ws.cross(TI),ws.normalize(),o.push(ws.x,ws.y,ws.z),o.push(ws.x,ws.y,ws.z),o.push(ws.x,ws.y,ws.z)},addColor:function(e,n,r){const i=this.colors,o=this.object.geometry.colors;i[e]!==void 0&&o.push(i[e+0],i[e+1],i[e+2]),i[n]!==void 0&&o.push(i[n+0],i[n+1],i[n+2]),i[r]!==void 0&&o.push(i[r+0],i[r+1],i[r+2])},addUV:function(e,n,r){const i=this.uvs,o=this.object.geometry.uvs;o.push(i[e+0],i[e+1]),o.push(i[n+0],i[n+1]),o.push(i[r+0],i[r+1])},addDefaultUV:function(){const e=this.object.geometry.uvs;e.push(0,0),e.push(0,0),e.push(0,0)},addUVLine:function(e){const n=this.uvs;this.object.geometry.uvs.push(n[e+0],n[e+1])},addFace:function(e,n,r,i,o,s,a,c,d){const f=this.vertices.length;let m=this.parseVertexIndex(e,f),g=this.parseVertexIndex(n,f),y=this.parseVertexIndex(r,f);if(this.addVertex(m,g,y),this.addColor(m,g,y),a!==void 0&&a!==""){const x=this.normals.length;m=this.parseNormalIndex(a,x),g=this.parseNormalIndex(c,x),y=this.parseNormalIndex(d,x),this.addNormal(m,g,y)}else this.addFaceNormal(m,g,y);if(i!==void 0&&i!==""){const x=this.uvs.length;m=this.parseUVIndex(i,x),g=this.parseUVIndex(o,x),y=this.parseUVIndex(s,x),this.addUV(m,g,y),this.object.geometry.hasUVIndices=!0}else this.addDefaultUV()},addPointGeometry:function(e){this.object.geometry.type="Points";const n=this.vertices.length;for(let r=0,i=e.length;r<i;r++){const o=this.parseVertexIndex(e[r],n);this.addVertexPoint(o),this.addColor(o)}},addLineGeometry:function(e,n){this.object.geometry.type="Line";const r=this.vertices.length,i=this.uvs.length;for(let o=0,s=e.length;o<s;o++)this.addVertexLine(this.parseVertexIndex(e[o],r));for(let o=0,s=n.length;o<s;o++)this.addUVLine(this.parseUVIndex(n[o],i))}};return t.startObject("",!1),t}class Moe extends vo{constructor(e){super(e),this.materials=null}load(e,n,r,i){const o=this,s=new Ja(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,function(a){try{n(o.parse(a))}catch(c){i?i(c):console.error(c),o.manager.itemError(e)}},r,i)}setMaterials(e){return this.materials=e,this}parse(e){const n=new Coe;e.indexOf(`\r
`)!==-1&&(e=e.replace(/\r\n/g,`
`)),e.indexOf(`\\
`)!==-1&&(e=e.replace(/\\\n/g,""));const r=e.split(`
`);let i=[];for(let a=0,c=r.length;a<c;a++){const d=r[a].trimStart();if(d.length===0)continue;const f=d.charAt(0);if(f!=="#")if(f==="v"){const m=d.split(EI);switch(m[0]){case"v":n.vertices.push(parseFloat(m[1]),parseFloat(m[2]),parseFloat(m[3])),m.length>=7?(ex.setRGB(parseFloat(m[4]),parseFloat(m[5]),parseFloat(m[6]),co),n.colors.push(ex.r,ex.g,ex.b)):n.colors.push(void 0,void 0,void 0);break;case"vn":n.normals.push(parseFloat(m[1]),parseFloat(m[2]),parseFloat(m[3]));break;case"vt":n.uvs.push(parseFloat(m[1]),parseFloat(m[2]));break}}else if(f==="f"){const g=d.slice(1).trim().split(EI),y=[];for(let S=0,_=g.length;S<_;S++){const b=g[S];if(b.length>0){const C=b.split("/");y.push(C)}}const x=y[0];for(let S=1,_=y.length-1;S<_;S++){const b=y[S],C=y[S+1];n.addFace(x[0],b[0],C[0],x[1],b[1],C[1],x[2],b[2],C[2])}}else if(f==="l"){const m=d.substring(1).trim().split(" ");let g=[];const y=[];if(d.indexOf("/")===-1)g=m;else for(let x=0,S=m.length;x<S;x++){const _=m[x].split("/");_[0]!==""&&g.push(_[0]),_[1]!==""&&y.push(_[1])}n.addLineGeometry(g,y)}else if(f==="p"){const g=d.slice(1).trim().split(" ");n.addPointGeometry(g)}else if((i=_oe.exec(d))!==null){const m=(" "+i[0].slice(1).trim()).slice(1);n.startObject(m)}else if(woe.test(d))n.object.startMaterial(d.substring(7).trim(),n.materialLibraries);else if(Soe.test(d))n.materialLibraries.push(d.substring(7).trim());else if(Eoe.test(d))console.warn('THREE.OBJLoader: Rendering identifier "usemap" not supported. Textures must be defined in MTL files.');else if(f==="s"){if(i=d.split(" "),i.length>1){const g=i[1].trim().toLowerCase();n.object.smooth=g!=="0"&&g!=="off"}else n.object.smooth=!0;const m=n.object.currentMaterial();m&&(m.smooth=n.object.smooth)}else{if(d==="\0")continue;console.warn('THREE.OBJLoader: Unexpected line: "'+d+'"')}}n.finalize();const o=new Hd;if(o.materialLibraries=[].concat(n.materialLibraries),!(n.objects.length===1&&n.objects[0].geometry.vertices.length===0)===!0)for(let a=0,c=n.objects.length;a<c;a++){const d=n.objects[a],f=d.geometry,m=d.materials,g=f.type==="Line",y=f.type==="Points";let x=!1;if(f.vertices.length===0)continue;const S=new Yt;S.setAttribute("position",new xt(f.vertices,3)),f.normals.length>0&&S.setAttribute("normal",new xt(f.normals,3)),f.colors.length>0&&(x=!0,S.setAttribute("color",new xt(f.colors,3))),f.hasUVIndices===!0&&S.setAttribute("uv",new xt(f.uvs,2));const _=[];for(let C=0,T=m.length;C<T;C++){const A=m[C],P=A.name+"_"+A.smooth+"_"+x;let R=n.materials[P];if(this.materials!==null){if(R=this.materials.create(A.name),g&&R&&!(R instanceof pi)){const k=new pi;ti.prototype.copy.call(k,R),k.color.copy(R.color),R=k}else if(y&&R&&!(R instanceof Wd)){const k=new Wd({size:10,sizeAttenuation:!1});ti.prototype.copy.call(k,R),k.color.copy(R.color),k.map=R.map,R=k}}R===void 0&&(g?R=new pi:y?R=new Wd({size:1,sizeAttenuation:!1}):R=new LM,R.name=A.name,R.flatShading=!A.smooth,R.vertexColors=x,n.materials[P]=R),_.push(R)}let b;if(_.length>1){for(let C=0,T=m.length;C<T;C++){const A=m[C];S.addGroup(A.groupStart,A.groupCount,C)}g?b=new Ls(S,_):y?b=new $g(S,_):b=new ar(S,_)}else g?b=new Ls(S,_[0]):y?b=new $g(S,_[0]):b=new ar(S,_[0]);b.name=d.name,o.add(b)}else if(n.vertices.length>0){const a=new Wd({size:1,sizeAttenuation:!1}),c=new Yt;c.setAttribute("position",new xt(n.vertices,3)),n.colors.length>0&&n.colors[0]!==void 0&&(c.setAttribute("color",new xt(n.colors,3)),a.vertexColors=!0);const d=new $g(c,a);o.add(d)}return o}}class Toe{constructor(e,n=32){this.isLut=!0,this.lut=[],this.map=[],this.n=0,this.minV=0,this.maxV=1,this.setColorMap(e,n)}set(e){return e.isLut===!0&&this.copy(e),this}setMin(e){return this.minV=e,this}setMax(e){return this.maxV=e,this}setColorMap(e,n=32){this.map=_w[e]||_w.rainbow,this.n=n;const r=1/this.n,i=new ct,o=new ct;this.lut.length=0,this.lut.push(new ct(this.map[0][1]));for(let s=1;s<n;s++){const a=s*r;for(let c=0;c<this.map.length-1;c++)if(a>this.map[c][0]&&a<=this.map[c+1][0]){const d=this.map[c][0],f=this.map[c+1][0];i.setHex(this.map[c][1],pa),o.setHex(this.map[c+1][1],pa);const m=new ct().lerpColors(i,o,(a-d)/(f-d));this.lut.push(m)}}return this.lut.push(new ct(this.map[this.map.length-1][1])),this}copy(e){return this.lut=e.lut,this.map=e.map,this.n=e.n,this.minV=e.minV,this.maxV=e.maxV,this}getColor(e){e=LF.clamp(e,this.minV,this.maxV),e=(e-this.minV)/(this.maxV-this.minV);const n=Math.round(e*this.n);return this.lut[n]}addColorMap(e,n){return _w[e]=n,this}createCanvas(){const e=document.createElement("canvas");return e.width=1,e.height=this.n,this.updateCanvas(e),e}updateCanvas(e){const n=e.getContext("2d",{alpha:!1}),r=n.getImageData(0,0,1,this.n),i=r.data;let o=0;const s=1/this.n,a=new ct,c=new ct,d=new ct;for(let f=1;f>=0;f-=s)for(let m=this.map.length-1;m>=0;m--)if(f<this.map[m][0]&&f>=this.map[m-1][0]){const g=this.map[m-1][0],y=this.map[m][0];a.setHex(this.map[m-1][1],pa),c.setHex(this.map[m][1],pa),d.lerpColors(a,c,(f-g)/(y-g)),i[o*4]=Math.round(d.r*255),i[o*4+1]=Math.round(d.g*255),i[o*4+2]=Math.round(d.b*255),i[o*4+3]=255,o+=1}return n.putImageData(r,0,0),e}}const _w={rainbow:[[0,255],[.2,65535],[.5,65280],[.8,16776960],[1,16711680]],cooltowarm:[[0,3952322],[.2,10206463],[.5,14474460],[.8,16163717],[1,11797542]],blackbody:[[0,0],[.2,7864320],[.5,15086080],[.8,16776960],[1,16777215]],grayscale:[[0,0],[.2,4210752],[.5,8355712],[.8,12566463],[1,16777215]]};function Poe(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function Roe(...t){return e=>t.forEach(n=>Poe(n,e))}const y5=D.forwardRef((t,e)=>{const{children:n,...r}=t,i=D.Children.toArray(n),o=i.find(Ioe);if(o){const s=o.props.children,a=i.map(c=>c===o?D.Children.count(s)>1?D.Children.only(null):D.isValidElement(s)?s.props.children:null:c);return D.createElement(qE,Sr({},r,{ref:e}),D.isValidElement(s)?D.cloneElement(s,void 0,a):null)}return D.createElement(qE,Sr({},r,{ref:e}),n)});y5.displayName="Slot";const qE=D.forwardRef((t,e)=>{const{children:n,...r}=t;return D.isValidElement(n)?D.cloneElement(n,{...koe(r,n.props),ref:Roe(e,n.ref)}):D.Children.count(n)>1?D.Children.only(null):null});qE.displayName="SlotClone";const Aoe=({children:t})=>D.createElement(D.Fragment,null,t);function Ioe(t){return D.isValidElement(t)&&t.type===Aoe}function koe(t,e){const n={...e};for(const r in e){const i=t[r],o=e[r];/^on[A-Z]/.test(r)?i&&o?n[r]=(...a)=>{o(...a),i(...a)}:i&&(n[r]=i):r==="style"?n[r]={...i,...o}:r==="className"&&(n[r]=[i,o].filter(Boolean).join(" "))}return{...t,...n}}const Ooe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Loe=Ooe.reduce((t,e)=>{const n=D.forwardRef((r,i)=>{const{asChild:o,...s}=r,a=o?y5:e;return D.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),D.createElement(a,Sr({},s,{ref:i}))});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{}),Noe=D.forwardRef((t,e)=>{var n;const{container:r=globalThis==null||(n=globalThis.document)===null||n===void 0?void 0:n.body,...i}=t;return r?g8.createPortal(D.createElement(Loe.div,Sr({},i,{ref:e})),r):null}),Doe=Noe;var PI=Object.prototype.hasOwnProperty;function xv(t,e){var n,r;if(t===e)return!0;if(t&&e&&(n=t.constructor)===e.constructor){if(n===Date)return t.getTime()===e.getTime();if(n===RegExp)return t.toString()===e.toString();if(n===Array){if((r=t.length)===e.length)for(;r--&&xv(t[r],e[r]););return r===-1}if(!n||typeof t=="object"){r=0;for(n in t)if(PI.call(t,n)&&++r&&!PI.call(e,n)||!(n in e)||!xv(t[n],e[n]))return!1;return Object.keys(e).length===r}}return t!==t&&e!==e}var n_=function(e,n,r,i){this.name=e,this.fn=n,this.args=r,this.modifiers=i};n_.prototype._test=function(e){var n=this.fn;try{mp(this.modifiers.slice(),n,this)(e)}catch{n=function(){return!1}}try{return mp(this.modifiers.slice(),n,this)(e)}catch{return!1}};n_.prototype._check=function(e){try{mp(this.modifiers.slice(),this.fn,this)(e)}catch{if(mp(this.modifiers.slice(),function(r){return r},this)(!1))return}if(!mp(this.modifiers.slice(),this.fn,this)(e))throw null};n_.prototype._testAsync=function(e){var n=this;return new Promise(function(r,i){b5(n.modifiers.slice(),n.fn,n)(e).then(function(o){o?r(e):i(null)}).catch(function(o){return i(o)})})};function x5(t,e){return e===void 0&&(e="simple"),typeof t=="object"?t[e]:t}function mp(t,e,n){if(t.length){var r=t.shift(),i=mp(t,e,n);return r.perform(i,n)}else return x5(e)}function b5(t,e,n){if(t.length){var r=t.shift(),i=b5(t,e,n);return r.performAsync(i,n)}else return function(o){return Promise.resolve(x5(e,"async")(o))}}var Foe=function(e,n,r){this.name=e,this.perform=n,this.performAsync=r},eT=function(t){function e(n,r,i,o){for(var s=[],a=arguments.length-4;a-- >0;)s[a]=arguments[a+4];t.call(this,s),t.captureStackTrace&&t.captureStackTrace(this,e),this.rule=n,this.value=r,this.cause=i,this.target=o}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Error),Qa=function(e,n){e===void 0&&(e=[]),n===void 0&&(n=[]),this.chain=e,this.nextRuleModifiers=n};Qa.prototype._applyRule=function(e,n){var r=this;return function(){for(var i=[],o=arguments.length;o--;)i[o]=arguments[o];return r.chain.push(new n_(n,e.apply(r,i),i,r.nextRuleModifiers)),r.nextRuleModifiers=[],r}};Qa.prototype._applyModifier=function(e,n){return this.nextRuleModifiers.push(new Foe(n,e.simple,e.async)),this};Qa.prototype._clone=function(){return new Qa(this.chain.slice(),this.nextRuleModifiers.slice())};Qa.prototype.test=function(e){return this.chain.every(function(n){return n._test(e)})};Qa.prototype.testAll=function(e){var n=[];return this.chain.forEach(function(r){try{r._check(e)}catch(i){n.push(new eT(r,e,i))}}),n};Qa.prototype.check=function(e){this.chain.forEach(function(n){try{n._check(e)}catch(r){throw new eT(n,e,r)}})};Qa.prototype.testAsync=function(e){var n=this;return new Promise(function(r,i){_5(e,n.chain.slice(),r,i)})};function _5(t,e,n,r){if(e.length){var i=e.shift();i._testAsync(t).then(function(){_5(t,e,n,r)},function(o){r(new eT(i,t,o))})}else n(t)}var RI=function(t,e){return e&&typeof t=="string"&&t.trim().length===0?!0:t==null};function zoe(t,e){return e===void 0&&(e=!1),{simple:function(n){return RI(n,e)||t.check(n)===void 0},async:function(n){return RI(n,e)||t.testAsync(n)}}}function zo(){return typeof Proxy<"u"?S5(new Qa):YE(new Qa)}var bv={};zo.extend=function(t){Object.assign(bv,t)};zo.clearCustomRules=function(){bv={}};function S5(t){return new Proxy(t,{get:function(n,r){if(r in n)return n[r];var i=S5(t._clone());if(r in N1)return i._applyModifier(N1[r],r);if(r in bv)return i._applyRule(bv[r],r);if(r in KE)return i._applyRule(KE[r],r)}})}function YE(t){var e=function(i,o){return Object.keys(i).forEach(function(s){o[s]=function(){for(var a=[],c=arguments.length;c--;)a[c]=arguments[c];var d=YE(o._clone()),f=d._applyRule(i[s],s).apply(void 0,a);return f}}),o},n=e(KE,t),r=e(bv,n);return Object.keys(N1).forEach(function(i){Object.defineProperty(r,i,{get:function(){var o=YE(r._clone());return o._applyModifier(N1[i],i)}})}),r}var N1={not:{simple:function(t){return function(e){return!t(e)}},async:function(t){return function(e){return Promise.resolve(t(e)).then(function(n){return!n}).catch(function(){return!0})}}},some:{simple:function(t){return function(e){return tx(e).some(function(n){try{return t(n)}catch{return!1}})}},async:function(t){return function(e){return Promise.all(tx(e).map(function(n){try{return t(n).catch(function(){return!1})}catch{return!1}})).then(function(n){return n.some(Boolean)})}}},every:{simple:function(t){return function(e){return e!==!1&&tx(e).every(t)}},async:function(t){return function(e){return Promise.all(tx(e).map(t)).then(function(n){return n.every(Boolean)})}}},strict:{simple:function(t,e){return function(n){return AI(e)&&n&&typeof n=="object"?Object.keys(e.args[0]).length===Object.keys(n).length&&t(n):t(n)}},async:function(t,e){return function(n){return Promise.resolve(t(n)).then(function(r){return AI(e)&&n&&typeof n=="object"?Object.keys(e.args[0]).length===Object.keys(n).length&&r:r}).catch(function(){return!1})}}}};function AI(t){return t&&t.name==="schema"&&t.args.length>0&&typeof t.args[0]=="object"}function tx(t){return typeof t=="string"?t.split(""):t}var KE={equal:function(t){return function(e){return e==t}},exact:function(t){return function(e){return e===t}},number:function(t){return t===void 0&&(t=!0),function(e){return typeof e=="number"&&(t||isFinite(e))}},integer:function(){return function(t){var e=Number.isInteger||Uoe;return e(t)}},numeric:function(){return function(t){return!isNaN(parseFloat(t))&&isFinite(t)}},string:function(){return Gh("string")},boolean:function(){return Gh("boolean")},undefined:function(){return Gh("undefined")},null:function(){return Gh("null")},array:function(){return Gh("array")},object:function(){return Gh("object")},instanceOf:function(t){return function(e){return e instanceof t}},pattern:function(t){return function(e){return t.test(e)}},lowercase:function(){return function(t){return typeof t=="boolean"||t===t.toLowerCase()&&t.trim()!==""}},uppercase:function(){return function(t){return t===t.toUpperCase()&&t.trim()!==""}},vowel:function(){return function(t){return/^[aeiou]+$/i.test(t)}},consonant:function(){return function(t){return/^(?=[^aeiou])([a-z]+)$/i.test(t)}},first:function(t){return function(e){return e[0]==t}},last:function(t){return function(e){return e[e.length-1]==t}},empty:function(){return function(t){return t.length===0}},length:function(t,e){return function(n){return n.length>=t&&n.length<=(e||t)}},minLength:function(t){return function(e){return e.length>=t}},maxLength:function(t){return function(e){return e.length<=t}},negative:function(){return function(t){return t<0}},positive:function(){return function(t){return t>=0}},between:function(t,e){return function(n){return n>=t&&n<=e}},range:function(t,e){return function(n){return n>=t&&n<=e}},lessThan:function(t){return function(e){return e<t}},lessThanOrEqual:function(t){return function(e){return e<=t}},greaterThan:function(t){return function(e){return e>t}},greaterThanOrEqual:function(t){return function(e){return e>=t}},even:function(){return function(t){return t%2===0}},odd:function(){return function(t){return t%2!==0}},includes:function(t){return function(e){return~e.indexOf(t)}},schema:function(t){return Boe(t)},passesAnyOf:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return function(n){return t.some(function(r){return r.test(n)})}},optional:zoe};function Gh(t){return function(e){return Array.isArray(e)&&t==="array"||e===null&&t==="null"||typeof e===t}}function Uoe(t){return typeof t=="number"&&isFinite(t)&&Math.floor(t)===t}function Boe(t){return{simple:function(e){var n=[];if(Object.keys(t).forEach(function(r){var i=t[r];try{i.check((e||{})[r])}catch(o){o.target=r,n.push(o)}}),n.length>0)throw n;return!0},async:function(e){var n=[],r=Object.keys(t).map(function(i){var o=t[i];return o.testAsync((e||{})[i]).catch(function(s){s.target=i,n.push(s)})});return Promise.all(r).then(function(){if(n.length>0)throw n;return!0})}}}var Hn="colors",so="sizes",Et="space",Voe={gap:Et,gridGap:Et,columnGap:Et,gridColumnGap:Et,rowGap:Et,gridRowGap:Et,inset:Et,insetBlock:Et,insetBlockEnd:Et,insetBlockStart:Et,insetInline:Et,insetInlineEnd:Et,insetInlineStart:Et,margin:Et,marginTop:Et,marginRight:Et,marginBottom:Et,marginLeft:Et,marginBlock:Et,marginBlockEnd:Et,marginBlockStart:Et,marginInline:Et,marginInlineEnd:Et,marginInlineStart:Et,padding:Et,paddingTop:Et,paddingRight:Et,paddingBottom:Et,paddingLeft:Et,paddingBlock:Et,paddingBlockEnd:Et,paddingBlockStart:Et,paddingInline:Et,paddingInlineEnd:Et,paddingInlineStart:Et,top:Et,right:Et,bottom:Et,left:Et,scrollMargin:Et,scrollMarginTop:Et,scrollMarginRight:Et,scrollMarginBottom:Et,scrollMarginLeft:Et,scrollMarginX:Et,scrollMarginY:Et,scrollMarginBlock:Et,scrollMarginBlockEnd:Et,scrollMarginBlockStart:Et,scrollMarginInline:Et,scrollMarginInlineEnd:Et,scrollMarginInlineStart:Et,scrollPadding:Et,scrollPaddingTop:Et,scrollPaddingRight:Et,scrollPaddingBottom:Et,scrollPaddingLeft:Et,scrollPaddingX:Et,scrollPaddingY:Et,scrollPaddingBlock:Et,scrollPaddingBlockEnd:Et,scrollPaddingBlockStart:Et,scrollPaddingInline:Et,scrollPaddingInlineEnd:Et,scrollPaddingInlineStart:Et,fontSize:"fontSizes",background:Hn,backgroundColor:Hn,backgroundImage:Hn,borderImage:Hn,border:Hn,borderBlock:Hn,borderBlockEnd:Hn,borderBlockStart:Hn,borderBottom:Hn,borderBottomColor:Hn,borderColor:Hn,borderInline:Hn,borderInlineEnd:Hn,borderInlineStart:Hn,borderLeft:Hn,borderLeftColor:Hn,borderRight:Hn,borderRightColor:Hn,borderTop:Hn,borderTopColor:Hn,caretColor:Hn,color:Hn,columnRuleColor:Hn,fill:Hn,outline:Hn,outlineColor:Hn,stroke:Hn,textDecorationColor:Hn,fontFamily:"fonts",fontWeight:"fontWeights",lineHeight:"lineHeights",letterSpacing:"letterSpacings",blockSize:so,minBlockSize:so,maxBlockSize:so,inlineSize:so,minInlineSize:so,maxInlineSize:so,width:so,minWidth:so,maxWidth:so,height:so,minHeight:so,maxHeight:so,flexBasis:so,gridTemplateColumns:so,gridTemplateRows:so,borderWidth:"borderWidths",borderTopWidth:"borderWidths",borderRightWidth:"borderWidths",borderBottomWidth:"borderWidths",borderLeftWidth:"borderWidths",borderStyle:"borderStyles",borderTopStyle:"borderStyles",borderRightStyle:"borderStyles",borderBottomStyle:"borderStyles",borderLeftStyle:"borderStyles",borderRadius:"radii",borderTopLeftRadius:"radii",borderTopRightRadius:"radii",borderBottomRightRadius:"radii",borderBottomLeftRadius:"radii",boxShadow:"shadows",textShadow:"shadows",transition:"transitions",zIndex:"zIndices"},$oe=(t,e)=>typeof e=="function"?{"()":Function.prototype.toString.call(e)}:e,Xp=()=>{const t=Object.create(null);return(e,n,...r)=>{const i=(o=>JSON.stringify(o,$oe))(e);return i in t?t[i]:t[i]=n(e,...r)}},Jd=Symbol.for("sxs.internal"),tT=(t,e)=>Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)),II=t=>{for(const e in t)return!0;return!1},{hasOwnProperty:Hoe}=Object.prototype,ZE=t=>t.includes("-")?t:t.replace(/[A-Z]/g,e=>"-"+e.toLowerCase()),Woe=/\s+(?![^()]*\))/,jh=t=>e=>t(...typeof e=="string"?String(e).split(Woe):[e]),kI={appearance:t=>({WebkitAppearance:t,appearance:t}),backfaceVisibility:t=>({WebkitBackfaceVisibility:t,backfaceVisibility:t}),backdropFilter:t=>({WebkitBackdropFilter:t,backdropFilter:t}),backgroundClip:t=>({WebkitBackgroundClip:t,backgroundClip:t}),boxDecorationBreak:t=>({WebkitBoxDecorationBreak:t,boxDecorationBreak:t}),clipPath:t=>({WebkitClipPath:t,clipPath:t}),content:t=>({content:t.includes('"')||t.includes("'")||/^([A-Za-z]+\([^]*|[^]*-quote|inherit|initial|none|normal|revert|unset)$/.test(t)?t:`"${t}"`}),hyphens:t=>({WebkitHyphens:t,hyphens:t}),maskImage:t=>({WebkitMaskImage:t,maskImage:t}),maskSize:t=>({WebkitMaskSize:t,maskSize:t}),tabSize:t=>({MozTabSize:t,tabSize:t}),textSizeAdjust:t=>({WebkitTextSizeAdjust:t,textSizeAdjust:t}),userSelect:t=>({WebkitUserSelect:t,userSelect:t}),marginBlock:jh((t,e)=>({marginBlockStart:t,marginBlockEnd:e||t})),marginInline:jh((t,e)=>({marginInlineStart:t,marginInlineEnd:e||t})),maxSize:jh((t,e)=>({maxBlockSize:t,maxInlineSize:e||t})),minSize:jh((t,e)=>({minBlockSize:t,minInlineSize:e||t})),paddingBlock:jh((t,e)=>({paddingBlockStart:t,paddingBlockEnd:e||t})),paddingInline:jh((t,e)=>({paddingInlineStart:t,paddingInlineEnd:e||t}))},Sw=/([\d.]+)([^]*)/,Goe=(t,e)=>t.length?t.reduce((n,r)=>(n.push(...e.map(i=>i.includes("&")?i.replace(/&/g,/[ +>|~]/.test(r)&&/&.*&/.test(i)?`:is(${r})`:r):r+" "+i)),n),[]):e,joe=(t,e)=>t in Xoe&&typeof e=="string"?e.replace(/^((?:[^]*[^\w-])?)(fit-content|stretch)((?:[^\w-][^]*)?)$/,(n,r,i,o)=>r+(i==="stretch"?`-moz-available${o};${ZE(t)}:${r}-webkit-fill-available`:`-moz-fit-content${o};${ZE(t)}:${r}fit-content`)+o):String(e),Xoe={blockSize:1,height:1,inlineSize:1,maxBlockSize:1,maxHeight:1,maxInlineSize:1,maxWidth:1,minBlockSize:1,minHeight:1,minInlineSize:1,minWidth:1,width:1},pc=t=>t?t+"-":"",w5=(t,e,n)=>t.replace(/([+-])?((?:\d+(?:\.\d*)?|\.\d+)(?:[Ee][+-]?\d+)?)?(\$|--)([$\w-]+)/g,(r,i,o,s,a)=>s=="$"==!!o?r:(i||s=="--"?"calc(":"")+"var(--"+(s==="$"?pc(e)+(a.includes("$")?"":pc(n))+a.replace(/\$/g,"-"):a)+")"+(i||s=="--"?"*"+(i||"")+(o||"1")+")":"")),qoe=/\s*,\s*(?![^()]*\))/,Yoe=Object.prototype.toString,up=(t,e,n,r,i)=>{let o,s,a;const c=(d,f,m)=>{let g,y;const x=S=>{for(g in S){const C=g.charCodeAt(0)===64,T=C&&Array.isArray(S[g])?S[g]:[S[g]];for(y of T){const A=/[A-Z]/.test(b=g)?b:b.replace(/-[^]/g,R=>R[1].toUpperCase()),P=typeof y=="object"&&y&&y.toString===Yoe&&(!r.utils[A]||!f.length);if(A in r.utils&&!P){const R=r.utils[A];if(R!==s){s=R,x(R(y)),s=null;continue}}else if(A in kI){const R=kI[A];if(R!==a){a=R,x(R(y)),a=null;continue}}if(C&&(_=g.slice(1)in r.media?"@media "+r.media[g.slice(1)]:g,g=_.replace(/\(\s*([\w-]+)\s*(=|<|<=|>|>=)\s*([\w-]+)\s*(?:(<|<=|>|>=)\s*([\w-]+)\s*)?\)/g,(R,k,z,L,O,B)=>{const j=Sw.test(k),X=.0625*(j?-1:1),[ee,K]=j?[L,k]:[k,L];return"("+(z[0]==="="?"":z[0]===">"===j?"max-":"min-")+ee+":"+(z[0]!=="="&&z.length===1?K.replace(Sw,(ne,se,V)=>Number(se)+X*(z===">"?1:-1)+V):K)+(O?") and ("+(O[0]===">"?"min-":"max-")+ee+":"+(O.length===1?B.replace(Sw,(ne,se,V)=>Number(se)+X*(O===">"?-1:1)+V):B):"")+")"})),P){const R=C?m.concat(g):[...m],k=C?[...f]:Goe(f,g.split(qoe));o!==void 0&&i(OI(...o)),o=void 0,c(y,k,R)}else o===void 0&&(o=[[],f,m]),g=C||g.charCodeAt(0)!==36?g:`--${pc(r.prefix)}${g.slice(1).replace(/\$/g,"-")}`,y=P?y:typeof y=="number"?y&&A in Koe?String(y)+"px":String(y):w5(joe(A,y??""),r.prefix,r.themeMap[A]),o[0].push(`${C?`${g} `:`${ZE(g)}:`}${y}`)}}var _,b};x(d),o!==void 0&&i(OI(...o)),o=void 0};c(t,e,n)},OI=(t,e,n)=>`${n.map(r=>`${r}{`).join("")}${e.length?`${e.join(",")}{`:""}${t.join(";")}${e.length?"}":""}${Array(n.length?n.length+1:0).join("}")}`,Koe={animationDelay:1,animationDuration:1,backgroundSize:1,blockSize:1,border:1,borderBlock:1,borderBlockEnd:1,borderBlockEndWidth:1,borderBlockStart:1,borderBlockStartWidth:1,borderBlockWidth:1,borderBottom:1,borderBottomLeftRadius:1,borderBottomRightRadius:1,borderBottomWidth:1,borderEndEndRadius:1,borderEndStartRadius:1,borderInlineEnd:1,borderInlineEndWidth:1,borderInlineStart:1,borderInlineStartWidth:1,borderInlineWidth:1,borderLeft:1,borderLeftWidth:1,borderRadius:1,borderRight:1,borderRightWidth:1,borderSpacing:1,borderStartEndRadius:1,borderStartStartRadius:1,borderTop:1,borderTopLeftRadius:1,borderTopRightRadius:1,borderTopWidth:1,borderWidth:1,bottom:1,columnGap:1,columnRule:1,columnRuleWidth:1,columnWidth:1,containIntrinsicSize:1,flexBasis:1,fontSize:1,gap:1,gridAutoColumns:1,gridAutoRows:1,gridTemplateColumns:1,gridTemplateRows:1,height:1,inlineSize:1,inset:1,insetBlock:1,insetBlockEnd:1,insetBlockStart:1,insetInline:1,insetInlineEnd:1,insetInlineStart:1,left:1,letterSpacing:1,margin:1,marginBlock:1,marginBlockEnd:1,marginBlockStart:1,marginBottom:1,marginInline:1,marginInlineEnd:1,marginInlineStart:1,marginLeft:1,marginRight:1,marginTop:1,maxBlockSize:1,maxHeight:1,maxInlineSize:1,maxWidth:1,minBlockSize:1,minHeight:1,minInlineSize:1,minWidth:1,offsetDistance:1,offsetRotate:1,outline:1,outlineOffset:1,outlineWidth:1,overflowClipMargin:1,padding:1,paddingBlock:1,paddingBlockEnd:1,paddingBlockStart:1,paddingBottom:1,paddingInline:1,paddingInlineEnd:1,paddingInlineStart:1,paddingLeft:1,paddingRight:1,paddingTop:1,perspective:1,right:1,rowGap:1,scrollMargin:1,scrollMarginBlock:1,scrollMarginBlockEnd:1,scrollMarginBlockStart:1,scrollMarginBottom:1,scrollMarginInline:1,scrollMarginInlineEnd:1,scrollMarginInlineStart:1,scrollMarginLeft:1,scrollMarginRight:1,scrollMarginTop:1,scrollPadding:1,scrollPaddingBlock:1,scrollPaddingBlockEnd:1,scrollPaddingBlockStart:1,scrollPaddingBottom:1,scrollPaddingInline:1,scrollPaddingInlineEnd:1,scrollPaddingInlineStart:1,scrollPaddingLeft:1,scrollPaddingRight:1,scrollPaddingTop:1,shapeMargin:1,textDecoration:1,textDecorationThickness:1,textIndent:1,textUnderlineOffset:1,top:1,transitionDelay:1,transitionDuration:1,verticalAlign:1,width:1,wordSpacing:1},LI=t=>String.fromCharCode(t+(t>25?39:97)),Qd=t=>(e=>{let n,r="";for(n=Math.abs(e);n>52;n=n/52|0)r=LI(n%52)+r;return LI(n%52)+r})(((e,n)=>{let r=n.length;for(;r;)e=33*e^n.charCodeAt(--r);return e})(5381,JSON.stringify(t))>>>0),Pg=["themed","global","styled","onevar","resonevar","allvar","inline"],Zoe=t=>{if(t.href&&!t.href.startsWith(location.origin))return!1;try{return!!t.cssRules}catch{return!1}},Joe=t=>{let e;const n=()=>{const{cssRules:i}=e.sheet;return[].map.call(i,(o,s)=>{const{cssText:a}=o;let c="";if(a.startsWith("--sxs"))return"";if(i[s-1]&&(c=i[s-1].cssText).startsWith("--sxs")){if(!o.cssRules.length)return"";for(const d in e.rules)if(e.rules[d].group===o)return`--sxs{--sxs:${[...e.rules[d].cache].join(" ")}}${a}`;return o.cssRules.length?`${c}${a}`:""}return a}).join("")},r=()=>{if(e){const{rules:a,sheet:c}=e;if(!c.deleteRule){for(;Object(Object(c.cssRules)[0]).type===3;)c.cssRules.splice(0,1);c.cssRules=[]}for(const d in a)delete a[d]}const i=Object(t).styleSheets||[];for(const a of i)if(Zoe(a)){for(let c=0,d=a.cssRules;d[c];++c){const f=Object(d[c]);if(f.type!==1)continue;const m=Object(d[c+1]);if(m.type!==4)continue;++c;const{cssText:g}=f;if(!g.startsWith("--sxs"))continue;const y=g.slice(14,-3).trim().split(/\s+/),x=Pg[y[0]];x&&(e||(e={sheet:a,reset:r,rules:{},toString:n}),e.rules[x]={group:m,index:c,cache:new Set(y)})}if(e)break}if(!e){const a=(c,d)=>({type:d,cssRules:[],insertRule(f,m){this.cssRules.splice(m,0,a(f,{import:3,undefined:1}[(f.toLowerCase().match(/^@([a-z]+)/)||[])[1]]||4))},get cssText(){return c==="@media{}"?`@media{${[].map.call(this.cssRules,f=>f.cssText).join("")}}`:c}});e={sheet:t?(t.head||t).appendChild(document.createElement("style")).sheet:a("","text/css"),rules:{},reset:r,toString:n}}const{sheet:o,rules:s}=e;for(let a=Pg.length-1;a>=0;--a){const c=Pg[a];if(!s[c]){const d=Pg[a+1],f=s[d]?s[d].index:o.cssRules.length;o.insertRule("@media{}",f),o.insertRule(`--sxs{--sxs:${a}}`,f),s[c]={group:o.cssRules[f+1],index:f,cache:new Set([a])}}Qoe(s[c])}};return r(),e},Qoe=t=>{const e=t.group;let n=e.cssRules.length;t.apply=r=>{try{e.insertRule(r,n),++n}catch{}}},pg=Symbol(),ese=Xp(),NI=(t,e)=>ese(t,()=>(...n)=>{let r={type:null,composers:new Set};for(const i of n)if(i!=null)if(i[Jd]){r.type==null&&(r.type=i[Jd].type);for(const o of i[Jd].composers)r.composers.add(o)}else i.constructor!==Object||i.$$typeof?r.type==null&&(r.type=i):r.composers.add(tse(i,t));return r.type==null&&(r.type="span"),r.composers.size||r.composers.add(["PJLV",{},[],[],{},[]]),nse(t,r,e)}),tse=({variants:t,compoundVariants:e,defaultVariants:n,...r},i)=>{const o=`${pc(i.prefix)}c-${Qd(r)}`,s=[],a=[],c=Object.create(null),d=[];for(const g in n)c[g]=String(n[g]);if(typeof t=="object"&&t)for(const g in t){f=c,m=g,Hoe.call(f,m)||(c[g]="undefined");const y=t[g];for(const x in y){const S={[g]:String(x)};String(x)==="undefined"&&d.push(g);const _=y[x],b=[S,_,!II(_)];s.push(b)}}var f,m;if(typeof e=="object"&&e)for(const g of e){let{css:y,...x}=g;y=typeof y=="object"&&y||{};for(const _ in x)x[_]=String(x[_]);const S=[x,y,!II(y)];a.push(S)}return[o,r,s,a,c,d]},nse=(t,e,n)=>{const[r,i,o,s]=rse(e.composers),a=typeof e.type=="function"||e.type.$$typeof?(m=>{function g(){for(let y=0;y<g[pg].length;y++){const[x,S]=g[pg][y];m.rules[x].apply(S)}return g[pg]=[],null}return g[pg]=[],g.rules={},Pg.forEach(y=>g.rules[y]={apply:x=>g[pg].push([y,x])}),g})(n):null,c=(a||n).rules,d=`.${r}${i.length>1?`:where(.${i.slice(1).join(".")})`:""}`,f=m=>{m=typeof m=="object"&&m||ise;const{css:g,...y}=m,x={};for(const b in o)if(delete y[b],b in m){let C=m[b];typeof C=="object"&&C?x[b]={"@initial":o[b],...C}:(C=String(C),x[b]=C!=="undefined"||s.has(b)?C:o[b])}else x[b]=o[b];const S=new Set([...i]);for(const[b,C,T,A]of e.composers){n.rules.styled.cache.has(b)||(n.rules.styled.cache.add(b),up(C,[`.${b}`],[],t,k=>{c.styled.apply(k)}));const P=DI(T,x,t.media),R=DI(A,x,t.media,!0);for(const k of P)if(k!==void 0)for(const[z,L,O]of k){const B=`${b}-${Qd(L)}-${z}`;S.add(B);const j=(O?n.rules.resonevar:n.rules.onevar).cache,X=O?c.resonevar:c.onevar;j.has(B)||(j.add(B),up(L,[`.${B}`],[],t,ee=>{X.apply(ee)}))}for(const k of R)if(k!==void 0)for(const[z,L]of k){const O=`${b}-${Qd(L)}-${z}`;S.add(O),n.rules.allvar.cache.has(O)||(n.rules.allvar.cache.add(O),up(L,[`.${O}`],[],t,B=>{c.allvar.apply(B)}))}}if(typeof g=="object"&&g){const b=`${r}-i${Qd(g)}-css`;S.add(b),n.rules.inline.cache.has(b)||(n.rules.inline.cache.add(b),up(g,[`.${b}`],[],t,C=>{c.inline.apply(C)}))}for(const b of String(m.className||"").trim().split(/\s+/))b&&S.add(b);const _=y.className=[...S].join(" ");return{type:e.type,className:_,selector:d,props:y,toString:()=>_,deferredInjector:a}};return tT(f,{className:r,selector:d,[Jd]:e,toString:()=>(n.rules.styled.cache.has(r)||f(),r)})},rse=t=>{let e="";const n=[],r={},i=[];for(const[o,,,,s,a]of t){e===""&&(e=o),n.push(o),i.push(...a);for(const c in s){const d=s[c];(r[c]===void 0||d!=="undefined"||a.includes(d))&&(r[c]=d)}}return[e,n,r,new Set(i)]},DI=(t,e,n,r)=>{const i=[];e:for(let[o,s,a]of t){if(a)continue;let c,d=0,f=!1;for(c in o){const m=o[c];let g=e[c];if(g!==m){if(typeof g!="object"||!g)continue e;{let y,x,S=0;for(const _ in g){if(m===String(g[_])){if(_!=="@initial"){const b=_.slice(1);(x=x||[]).push(b in n?n[b]:_.replace(/^@media ?/,"")),f=!0}d+=S,y=!0}++S}if(x&&x.length&&(s={["@media "+x.join(", ")]:s}),!y)continue e}}}(i[d]=i[d]||[]).push([r?"cv":`${c}-${o[c]}`,s,f])}return i},ise={},ose=Xp(),sse=(t,e)=>ose(t,()=>(...n)=>{const r=()=>{for(let i of n){i=typeof i=="object"&&i||{};let o=Qd(i);if(!e.rules.global.cache.has(o)){if(e.rules.global.cache.add(o),"@import"in i){let s=[].indexOf.call(e.sheet.cssRules,e.rules.themed.group)-1;for(let a of[].concat(i["@import"]))a=a.includes('"')||a.includes("'")?a:`"${a}"`,e.sheet.insertRule(`@import ${a};`,s++);delete i["@import"]}up(i,[],[],t,s=>{e.rules.global.apply(s)})}}return""};return tT(r,{toString:r})}),ase=Xp(),lse=(t,e)=>ase(t,()=>n=>{const r=`${pc(t.prefix)}k-${Qd(n)}`,i=()=>{if(!e.rules.global.cache.has(r)){e.rules.global.cache.add(r);const o=[];up(n,[],[],t,a=>o.push(a));const s=`@keyframes ${r}{${o.join("")}}`;e.rules.global.apply(s)}return r};return tT(i,{get name(){return i()},toString:i})}),cse=class{constructor(t,e,n,r){this.token=t==null?"":String(t),this.value=e==null?"":String(e),this.scale=n==null?"":String(n),this.prefix=r==null?"":String(r)}get computedValue(){return"var("+this.variable+")"}get variable(){return"--"+pc(this.prefix)+pc(this.scale)+this.token}toString(){return this.computedValue}},use=Xp(),dse=(t,e)=>use(t,()=>(n,r)=>{r=typeof n=="object"&&n||Object(r);const i=`.${n=(n=typeof n=="string"?n:"")||`${pc(t.prefix)}t-${Qd(r)}`}`,o={},s=[];for(const c in r){o[c]={};for(const d in r[c]){const f=`--${pc(t.prefix)}${c}-${d}`,m=w5(String(r[c][d]),t.prefix,c);o[c][d]=new cse(d,m,c,t.prefix),s.push(`${f}:${m}`)}}const a=()=>{if(s.length&&!e.rules.themed.cache.has(n)){e.rules.themed.cache.add(n);const c=`${r===t.theme?":root,":""}.${n}{${s.join(";")}}`;e.rules.themed.apply(c)}return n};return{...o,get className(){return a()},selector:i,toString:a}}),fse=Xp(),hse=Xp(),pse=t=>{const e=(n=>{let r=!1;const i=fse(n,o=>{r=!0;const s="prefix"in(o=typeof o=="object"&&o||{})?String(o.prefix):"",a=typeof o.media=="object"&&o.media||{},c=typeof o.root=="object"?o.root||null:globalThis.document||null,d=typeof o.theme=="object"&&o.theme||{},f={prefix:s,media:a,theme:d,themeMap:typeof o.themeMap=="object"&&o.themeMap||{...Voe},utils:typeof o.utils=="object"&&o.utils||{}},m=Joe(c),g={css:NI(f,m),globalCss:sse(f,m),keyframes:lse(f,m),createTheme:dse(f,m),reset(){m.reset(),g.theme.toString()},theme:{},sheet:m,config:f,prefix:s,getCssText:m.toString,toString:m.toString};return String(g.theme=g.createTheme(d)),g});return r||i.reset(),i})(t);return e.styled=(({config:n,sheet:r})=>hse(n,()=>{const i=NI(n,r);return(...o)=>{const s=i(...o),a=s[Jd].type,c=ae.forwardRef((d,f)=>{const m=d&&d.as||a,{props:g,deferredInjector:y}=s(d);return delete g.as,g.ref=f,y?ae.createElement(ae.Fragment,null,ae.createElement(m,g),ae.createElement(y,null)):ae.createElement(m,g)});return c.className=s.className,c.displayName=`Styled.${a.displayName||a.name||a}`,c.selector=s.selector,c.toString=()=>s.selector,c[Jd]=s[Jd],c}}))(e),e};function ql(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function mse(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function E5(...t){return e=>t.forEach(n=>mse(n,e))}function qp(...t){return D.useCallback(E5(...t),t)}function C5(t,e=[]){let n=[];function r(o,s){const a=D.createContext(s),c=n.length;n=[...n,s];function d(m){const{scope:g,children:y,...x}=m,S=(g==null?void 0:g[t][c])||a,_=D.useMemo(()=>x,Object.values(x));return D.createElement(S.Provider,{value:_},y)}function f(m,g){const y=(g==null?void 0:g[t][c])||a,x=D.useContext(y);if(x)return x;if(s!==void 0)return s;throw new Error(`\`${m}\` must be used within \`${o}\``)}return d.displayName=o+"Provider",[d,f]}const i=()=>{const o=n.map(s=>D.createContext(s));return function(a){const c=(a==null?void 0:a[t])||o;return D.useMemo(()=>({[`__scope${t}`]:{...a,[t]:c}}),[a,c])}};return i.scopeName=t,[r,gse(i,...e)]}function gse(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(o){const s=r.reduce((a,{useScope:c,scopeName:d})=>{const m=c(o)[`__scope${d}`];return{...a,...m}},{});return D.useMemo(()=>({[`__scope${e.scopeName}`]:s}),[s])}};return n.scopeName=e.scopeName,n}const M5=D.forwardRef((t,e)=>{const{children:n,...r}=t,i=D.Children.toArray(n),o=i.find(vse);if(o){const s=o.props.children,a=i.map(c=>c===o?D.Children.count(s)>1?D.Children.only(null):D.isValidElement(s)?s.props.children:null:c);return D.createElement(JE,Sr({},r,{ref:e}),D.isValidElement(s)?D.cloneElement(s,void 0,a):null)}return D.createElement(JE,Sr({},r,{ref:e}),n)});M5.displayName="Slot";const JE=D.forwardRef((t,e)=>{const{children:n,...r}=t;return D.isValidElement(n)?D.cloneElement(n,{...yse(r,n.props),ref:E5(e,n.ref)}):D.Children.count(n)>1?D.Children.only(null):null});JE.displayName="SlotClone";const T5=({children:t})=>D.createElement(D.Fragment,null,t);function vse(t){return D.isValidElement(t)&&t.type===T5}function yse(t,e){const n={...e};for(const r in e){const i=t[r],o=e[r];/^on[A-Z]/.test(r)?i&&o?n[r]=(...a)=>{o(...a),i(...a)}:i&&(n[r]=i):r==="style"?n[r]={...i,...o}:r==="className"&&(n[r]=[i,o].filter(Boolean).join(" "))}return{...t,...n}}const xse=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],sf=xse.reduce((t,e)=>{const n=D.forwardRef((r,i)=>{const{asChild:o,...s}=r,a=o?M5:e;return D.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),D.createElement(a,Sr({},s,{ref:i}))});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function bse(t,e){t&&gc.flushSync(()=>t.dispatchEvent(e))}function nT(t){const e=D.useRef(t);return D.useEffect(()=>{e.current=t}),D.useMemo(()=>(...n)=>{var r;return(r=e.current)===null||r===void 0?void 0:r.call(e,...n)},[])}function _se(t,e=globalThis==null?void 0:globalThis.document){const n=nT(t);D.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r),()=>e.removeEventListener("keydown",r)},[n,e])}const QE="dismissableLayer.update",Sse="dismissableLayer.pointerDownOutside",wse="dismissableLayer.focusOutside";let FI;const Ese=D.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Cse=D.forwardRef((t,e)=>{var n;const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:s,onInteractOutside:a,onDismiss:c,...d}=t,f=D.useContext(Ese),[m,g]=D.useState(null),y=(n=m==null?void 0:m.ownerDocument)!==null&&n!==void 0?n:globalThis==null?void 0:globalThis.document,[,x]=D.useState({}),S=qp(e,z=>g(z)),_=Array.from(f.layers),[b]=[...f.layersWithOutsidePointerEventsDisabled].slice(-1),C=_.indexOf(b),T=m?_.indexOf(m):-1,A=f.layersWithOutsidePointerEventsDisabled.size>0,P=T>=C,R=Mse(z=>{const L=z.target,O=[...f.branches].some(B=>B.contains(L));!P||O||(o==null||o(z),a==null||a(z),z.defaultPrevented||c==null||c())},y),k=Tse(z=>{const L=z.target;[...f.branches].some(B=>B.contains(L))||(s==null||s(z),a==null||a(z),z.defaultPrevented||c==null||c())},y);return _se(z=>{T===f.layers.size-1&&(i==null||i(z),!z.defaultPrevented&&c&&(z.preventDefault(),c()))},y),D.useEffect(()=>{if(m)return r&&(f.layersWithOutsidePointerEventsDisabled.size===0&&(FI=y.body.style.pointerEvents,y.body.style.pointerEvents="none"),f.layersWithOutsidePointerEventsDisabled.add(m)),f.layers.add(m),zI(),()=>{r&&f.layersWithOutsidePointerEventsDisabled.size===1&&(y.body.style.pointerEvents=FI)}},[m,y,r,f]),D.useEffect(()=>()=>{m&&(f.layers.delete(m),f.layersWithOutsidePointerEventsDisabled.delete(m),zI())},[m,f]),D.useEffect(()=>{const z=()=>x({});return document.addEventListener(QE,z),()=>document.removeEventListener(QE,z)},[]),D.createElement(sf.div,Sr({},d,{ref:S,style:{pointerEvents:A?P?"auto":"none":void 0,...t.style},onFocusCapture:ql(t.onFocusCapture,k.onFocusCapture),onBlurCapture:ql(t.onBlurCapture,k.onBlurCapture),onPointerDownCapture:ql(t.onPointerDownCapture,R.onPointerDownCapture)}))});function Mse(t,e=globalThis==null?void 0:globalThis.document){const n=nT(t),r=D.useRef(!1),i=D.useRef(()=>{});return D.useEffect(()=>{const o=a=>{if(a.target&&!r.current){let f=function(){P5(Sse,n,d,{discrete:!0})};var c=f;const d={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=f,e.addEventListener("click",i.current,{once:!0})):f()}r.current=!1},s=window.setTimeout(()=>{e.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(s),e.removeEventListener("pointerdown",o),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function Tse(t,e=globalThis==null?void 0:globalThis.document){const n=nT(t),r=D.useRef(!1);return D.useEffect(()=>{const i=o=>{o.target&&!r.current&&P5(wse,n,{originalEvent:o},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function zI(){const t=new CustomEvent(QE);document.dispatchEvent(t)}function P5(t,e,n,{discrete:r}){const i=n.originalEvent.target,o=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?bse(i,o):i.dispatchEvent(o)}const Pse=globalThis!=null&&globalThis.document?D.useLayoutEffect:()=>{},Rse=Qw.useId||(()=>{});let Ase=0;function Ise(t){const[e,n]=D.useState(Rse());return Pse(()=>{n(r=>r??String(Ase++))},[t]),e?`radix-${e}`:""}function pf(t){return t.split("-")[0]}function qv(t){return t.split("-")[1]}function Yp(t){return["top","bottom"].includes(pf(t))?"x":"y"}function rT(t){return t==="y"?"height":"width"}function UI(t,e,n){let{reference:r,floating:i}=t;const o=r.x+r.width/2-i.width/2,s=r.y+r.height/2-i.height/2,a=Yp(e),c=rT(a),d=r[c]/2-i[c]/2,f=a==="x";let m;switch(pf(e)){case"top":m={x:o,y:r.y-i.height};break;case"bottom":m={x:o,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:s};break;case"left":m={x:r.x-i.width,y:s};break;default:m={x:r.x,y:r.y}}switch(qv(e)){case"start":m[a]-=d*(n&&f?-1:1);break;case"end":m[a]+=d*(n&&f?-1:1)}return m}const kse=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:o=[],platform:s}=n,a=await(s.isRTL==null?void 0:s.isRTL(e));let c=await s.getElementRects({reference:t,floating:e,strategy:i}),{x:d,y:f}=UI(c,r,a),m=r,g={},y=0;for(let x=0;x<o.length;x++){const{name:S,fn:_}=o[x],{x:b,y:C,data:T,reset:A}=await _({x:d,y:f,initialPlacement:r,placement:m,strategy:i,middlewareData:g,rects:c,platform:s,elements:{reference:t,floating:e}});d=b??d,f=C??f,g={...g,[S]:{...g[S],...T}},A&&y<=50&&(y++,typeof A=="object"&&(A.placement&&(m=A.placement),A.rects&&(c=A.rects===!0?await s.getElementRects({reference:t,floating:e,strategy:i}):A.rects),{x:d,y:f}=UI(c,m,a)),x=-1)}return{x:d,y:f,placement:m,strategy:i,middlewareData:g}};function R5(t){return typeof t!="number"?function(e){return{top:0,right:0,bottom:0,left:0,...e}}(t):{top:t,right:t,bottom:t,left:t}}function D1(t){return{...t,top:t.y,left:t.x,right:t.x+t.width,bottom:t.y+t.height}}async function _v(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:o,rects:s,elements:a,strategy:c}=t,{boundary:d="clippingAncestors",rootBoundary:f="viewport",elementContext:m="floating",altBoundary:g=!1,padding:y=0}=e,x=R5(y),S=a[g?m==="floating"?"reference":"floating":m],_=D1(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(S)))==null||n?S:S.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(a.floating)),boundary:d,rootBoundary:f,strategy:c})),b=D1(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({rect:m==="floating"?{...s.floating,x:r,y:i}:s.reference,offsetParent:await(o.getOffsetParent==null?void 0:o.getOffsetParent(a.floating)),strategy:c}):s[m]);return{top:_.top-b.top+x.top,bottom:b.bottom-_.bottom+x.bottom,left:_.left-b.left+x.left,right:b.right-_.right+x.right}}const Ose=Math.min,zd=Math.max;function eC(t,e,n){return zd(t,Ose(e,n))}const BI=t=>({name:"arrow",options:t,async fn(e){const{element:n,padding:r=0}=t??{},{x:i,y:o,placement:s,rects:a,platform:c}=e;if(n==null)return{};const d=R5(r),f={x:i,y:o},m=Yp(s),g=qv(s),y=rT(m),x=await c.getDimensions(n),S=m==="y"?"top":"left",_=m==="y"?"bottom":"right",b=a.reference[y]+a.reference[m]-f[m]-a.floating[y],C=f[m]-a.reference[m],T=await(c.getOffsetParent==null?void 0:c.getOffsetParent(n));let A=T?m==="y"?T.clientHeight||0:T.clientWidth||0:0;A===0&&(A=a.floating[y]);const P=b/2-C/2,R=d[S],k=A-x[y]-d[_],z=A/2-x[y]/2+P,L=eC(R,z,k),O=(g==="start"?d[S]:d[_])>0&&z!==L&&a.reference[y]<=a.floating[y];return{[m]:f[m]-(O?z<R?R-z:k-z:0),data:{[m]:L,centerOffset:z-L}}}}),Lse={left:"right",right:"left",bottom:"top",top:"bottom"};function F1(t){return t.replace(/left|right|bottom|top/g,e=>Lse[e])}function Nse(t,e,n){n===void 0&&(n=!1);const r=qv(t),i=Yp(t),o=rT(i);let s=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(s=F1(s)),{main:s,cross:F1(s)}}const Dse={start:"end",end:"start"};function VI(t){return t.replace(/start|end/g,e=>Dse[e])}const A5=["top","right","bottom","left"];A5.reduce((t,e)=>t.concat(e,e+"-start",e+"-end"),[]);const Fse=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n;const{placement:r,middlewareData:i,rects:o,initialPlacement:s,platform:a,elements:c}=e,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:m,fallbackStrategy:g="bestFit",flipAlignment:y=!0,...x}=t,S=pf(r),_=m||(S===s||!y?[F1(s)]:function(z){const L=F1(z);return[VI(z),L,VI(L)]}(s)),b=[s,..._],C=await _v(e,x),T=[];let A=((n=i.flip)==null?void 0:n.overflows)||[];if(d&&T.push(C[S]),f){const{main:z,cross:L}=Nse(r,o,await(a.isRTL==null?void 0:a.isRTL(c.floating)));T.push(C[z],C[L])}if(A=[...A,{placement:r,overflows:T}],!T.every(z=>z<=0)){var P,R;const z=((P=(R=i.flip)==null?void 0:R.index)!=null?P:0)+1,L=b[z];if(L)return{data:{index:z,overflows:A},reset:{placement:L}};let O="bottom";switch(g){case"bestFit":{var k;const B=(k=A.map(j=>[j,j.overflows.filter(X=>X>0).reduce((X,ee)=>X+ee,0)]).sort((j,X)=>j[1]-X[1])[0])==null?void 0:k[0].placement;B&&(O=B);break}case"initialPlacement":O=s}if(r!==O)return{reset:{placement:O}}}return{}}}};function $I(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function HI(t){return A5.some(e=>t[e]>=0)}const zse=function(t){let{strategy:e="referenceHidden",...n}=t===void 0?{}:t;return{name:"hide",async fn(r){const{rects:i}=r;switch(e){case"referenceHidden":{const o=$I(await _v(r,{...n,elementContext:"reference"}),i.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:HI(o)}}}case"escaped":{const o=$I(await _v(r,{...n,altBoundary:!0}),i.floating);return{data:{escapedOffsets:o,escaped:HI(o)}}}default:return{}}}}},Use=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){const{x:n,y:r}=e,i=await async function(o,s){const{placement:a,platform:c,elements:d}=o,f=await(c.isRTL==null?void 0:c.isRTL(d.floating)),m=pf(a),g=qv(a),y=Yp(a)==="x",x=["left","top"].includes(m)?-1:1,S=f&&y?-1:1,_=typeof s=="function"?s(o):s;let{mainAxis:b,crossAxis:C,alignmentAxis:T}=typeof _=="number"?{mainAxis:_,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,..._};return g&&typeof T=="number"&&(C=g==="end"?-1*T:T),y?{x:C*S,y:b*x}:{x:b*x,y:C*S}}(e,t);return{x:n+i.x,y:r+i.y,data:i}}}};function I5(t){return t==="x"?"y":"x"}const Bse=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:o=!0,crossAxis:s=!1,limiter:a={fn:_=>{let{x:b,y:C}=_;return{x:b,y:C}}},...c}=t,d={x:n,y:r},f=await _v(e,c),m=Yp(pf(i)),g=I5(m);let y=d[m],x=d[g];if(o){const _=m==="y"?"bottom":"right";y=eC(y+f[m==="y"?"top":"left"],y,y-f[_])}if(s){const _=g==="y"?"bottom":"right";x=eC(x+f[g==="y"?"top":"left"],x,x-f[_])}const S=a.fn({...e,[m]:y,[g]:x});return{...S,data:{x:S.x-n,y:S.y-r}}}}},Vse=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:o,middlewareData:s}=e,{offset:a=0,mainAxis:c=!0,crossAxis:d=!0}=t,f={x:n,y:r},m=Yp(i),g=I5(m);let y=f[m],x=f[g];const S=typeof a=="function"?a({...o,placement:i}):a,_=typeof S=="number"?{mainAxis:S,crossAxis:0}:{mainAxis:0,crossAxis:0,...S};if(c){const P=m==="y"?"height":"width",R=o.reference[m]-o.floating[P]+_.mainAxis,k=o.reference[m]+o.reference[P]-_.mainAxis;y<R?y=R:y>k&&(y=k)}if(d){var b,C,T,A;const P=m==="y"?"width":"height",R=["top","left"].includes(pf(i)),k=o.reference[g]-o.floating[P]+(R&&(b=(C=s.offset)==null?void 0:C[g])!=null?b:0)+(R?0:_.crossAxis),z=o.reference[g]+o.reference[P]+(R?0:(T=(A=s.offset)==null?void 0:A[g])!=null?T:0)-(R?_.crossAxis:0);x<k?x=k:x>z&&(x=z)}return{[m]:y,[g]:x}}}},$se=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){const{placement:n,rects:r,platform:i,elements:o}=e,{apply:s,...a}=t,c=await _v(e,a),d=pf(n),f=qv(n);let m,g;d==="top"||d==="bottom"?(m=d,g=f===(await(i.isRTL==null?void 0:i.isRTL(o.floating))?"start":"end")?"left":"right"):(g=d,m=f==="end"?"top":"bottom");const y=zd(c.left,0),x=zd(c.right,0),S=zd(c.top,0),_=zd(c.bottom,0),b={availableHeight:r.floating.height-(["left","right"].includes(n)?2*(S!==0||_!==0?S+_:zd(c.top,c.bottom)):c[m]),availableWidth:r.floating.width-(["top","bottom"].includes(n)?2*(y!==0||x!==0?y+x:zd(c.left,c.right)):c[g])},C=await i.getDimensions(o.floating);s==null||s({...e,...b});const T=await i.getDimensions(o.floating);return C.width!==T.width||C.height!==T.height?{reset:{rects:!0}}:{}}}};function k5(t){return t&&t.document&&t.location&&t.alert&&t.setInterval}function yc(t){if(t==null)return window;if(!k5(t)){const e=t.ownerDocument;return e&&e.defaultView||window}return t}function Yv(t){return yc(t).getComputedStyle(t)}function rc(t){return k5(t)?"":t?(t.nodeName||"").toLowerCase():""}function O5(){const t=navigator.userAgentData;return t!=null&&t.brands?t.brands.map(e=>e.brand+"/"+e.version).join(" "):navigator.userAgent}function el(t){return t instanceof yc(t).HTMLElement}function _u(t){return t instanceof yc(t).Element}function iT(t){return typeof ShadowRoot>"u"?!1:t instanceof yc(t).ShadowRoot||t instanceof ShadowRoot}function r_(t){const{overflow:e,overflowX:n,overflowY:r}=Yv(t);return/auto|scroll|overlay|hidden/.test(e+r+n)}function Hse(t){return["table","td","th"].includes(rc(t))}function WI(t){const e=/firefox/i.test(O5()),n=Yv(t);return n.transform!=="none"||n.perspective!=="none"||n.contain==="paint"||["transform","perspective"].includes(n.willChange)||e&&n.willChange==="filter"||e&&!!n.filter&&n.filter!=="none"}function L5(){return!/^((?!chrome|android).)*safari/i.test(O5())}const GI=Math.min,Gg=Math.max,z1=Math.round;function ic(t,e,n){var r,i,o,s;e===void 0&&(e=!1),n===void 0&&(n=!1);const a=t.getBoundingClientRect();let c=1,d=1;e&&el(t)&&(c=t.offsetWidth>0&&z1(a.width)/t.offsetWidth||1,d=t.offsetHeight>0&&z1(a.height)/t.offsetHeight||1);const f=_u(t)?yc(t):window,m=!L5()&&n,g=(a.left+(m&&(r=(i=f.visualViewport)==null?void 0:i.offsetLeft)!=null?r:0))/c,y=(a.top+(m&&(o=(s=f.visualViewport)==null?void 0:s.offsetTop)!=null?o:0))/d,x=a.width/c,S=a.height/d;return{width:x,height:S,top:y,right:g+x,bottom:y+S,left:g,x:g,y}}function fu(t){return(e=t,(e instanceof yc(e).Node?t.ownerDocument:t.document)||window.document).documentElement;var e}function i_(t){return _u(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function N5(t){return ic(fu(t)).left+i_(t).scrollLeft}function Wse(t,e,n){const r=el(e),i=fu(e),o=ic(t,r&&function(c){const d=ic(c);return z1(d.width)!==c.offsetWidth||z1(d.height)!==c.offsetHeight}(e),n==="fixed");let s={scrollLeft:0,scrollTop:0};const a={x:0,y:0};if(r||!r&&n!=="fixed")if((rc(e)!=="body"||r_(i))&&(s=i_(e)),el(e)){const c=ic(e,!0);a.x=c.x+e.clientLeft,a.y=c.y+e.clientTop}else i&&(a.x=N5(i));return{x:o.left+s.scrollLeft-a.x,y:o.top+s.scrollTop-a.y,width:o.width,height:o.height}}function D5(t){return rc(t)==="html"?t:t.assignedSlot||t.parentNode||(iT(t)?t.host:null)||fu(t)}function jI(t){return el(t)&&getComputedStyle(t).position!=="fixed"?t.offsetParent:null}function tC(t){const e=yc(t);let n=jI(t);for(;n&&Hse(n)&&getComputedStyle(n).position==="static";)n=jI(n);return n&&(rc(n)==="html"||rc(n)==="body"&&getComputedStyle(n).position==="static"&&!WI(n))?e:n||function(r){let i=D5(r);for(iT(i)&&(i=i.host);el(i)&&!["html","body"].includes(rc(i));){if(WI(i))return i;i=i.parentNode}return null}(t)||e}function XI(t){if(el(t))return{width:t.offsetWidth,height:t.offsetHeight};const e=ic(t);return{width:e.width,height:e.height}}function F5(t){const e=D5(t);return["html","body","#document"].includes(rc(e))?t.ownerDocument.body:el(e)&&r_(e)?e:F5(e)}function U1(t,e){var n;e===void 0&&(e=[]);const r=F5(t),i=r===((n=t.ownerDocument)==null?void 0:n.body),o=yc(r),s=i?[o].concat(o.visualViewport||[],r_(r)?r:[]):r,a=e.concat(s);return i?a:a.concat(U1(s))}function qI(t,e,n){return e==="viewport"?D1(function(r,i){const o=yc(r),s=fu(r),a=o.visualViewport;let c=s.clientWidth,d=s.clientHeight,f=0,m=0;if(a){c=a.width,d=a.height;const g=L5();(g||!g&&i==="fixed")&&(f=a.offsetLeft,m=a.offsetTop)}return{width:c,height:d,x:f,y:m}}(t,n)):_u(e)?function(r,i){const o=ic(r,!1,i==="fixed"),s=o.top+r.clientTop,a=o.left+r.clientLeft;return{top:s,left:a,x:a,y:s,right:a+r.clientWidth,bottom:s+r.clientHeight,width:r.clientWidth,height:r.clientHeight}}(e,n):D1(function(r){var i;const o=fu(r),s=i_(r),a=(i=r.ownerDocument)==null?void 0:i.body,c=Gg(o.scrollWidth,o.clientWidth,a?a.scrollWidth:0,a?a.clientWidth:0),d=Gg(o.scrollHeight,o.clientHeight,a?a.scrollHeight:0,a?a.clientHeight:0);let f=-s.scrollLeft+N5(r);const m=-s.scrollTop;return Yv(a||o).direction==="rtl"&&(f+=Gg(o.clientWidth,a?a.clientWidth:0)-c),{width:c,height:d,x:f,y:m}}(fu(t)))}function Gse(t){const e=U1(t),n=["absolute","fixed"].includes(Yv(t).position)&&el(t)?tC(t):t;return _u(n)?e.filter(r=>_u(r)&&function(i,o){const s=o.getRootNode==null?void 0:o.getRootNode();if(i.contains(o))return!0;if(s&&iT(s)){let a=o;do{if(a&&i===a)return!0;a=a.parentNode||a.host}while(a)}return!1}(r,n)&&rc(r)!=="body"):[]}const jse={getClippingRect:function(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const o=[...n==="clippingAncestors"?Gse(e):[].concat(n),r],s=o[0],a=o.reduce((c,d)=>{const f=qI(e,d,i);return c.top=Gg(f.top,c.top),c.right=GI(f.right,c.right),c.bottom=GI(f.bottom,c.bottom),c.left=Gg(f.left,c.left),c},qI(e,s,i));return{width:a.right-a.left,height:a.bottom-a.top,x:a.left,y:a.top}},convertOffsetParentRelativeRectToViewportRelativeRect:function(t){let{rect:e,offsetParent:n,strategy:r}=t;const i=el(n),o=fu(n);if(n===o)return e;let s={scrollLeft:0,scrollTop:0};const a={x:0,y:0};if((i||!i&&r!=="fixed")&&((rc(n)!=="body"||r_(o))&&(s=i_(n)),el(n))){const c=ic(n,!0);a.x=c.x+n.clientLeft,a.y=c.y+n.clientTop}return{...e,x:e.x-s.scrollLeft+a.x,y:e.y-s.scrollTop+a.y}},isElement:_u,getDimensions:XI,getOffsetParent:tC,getDocumentElement:fu,getElementRects:t=>{let{reference:e,floating:n,strategy:r}=t;return{reference:Wse(e,tC(n),r),floating:{...XI(n),x:0,y:0}}},getClientRects:t=>Array.from(t.getClientRects()),isRTL:t=>Yv(t).direction==="rtl"};function Xse(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:s=!0,animationFrame:a=!1}=r,c=i&&!a,d=o&&!a,f=c||d?[..._u(t)?U1(t):[],...U1(e)]:[];f.forEach(x=>{c&&x.addEventListener("scroll",n,{passive:!0}),d&&x.addEventListener("resize",n)});let m,g=null;if(s){let x=!0;g=new ResizeObserver(()=>{x||n(),x=!1}),_u(t)&&!a&&g.observe(t),g.observe(e)}let y=a?ic(t):null;return a&&function x(){const S=ic(t);!y||S.x===y.x&&S.y===y.y&&S.width===y.width&&S.height===y.height||n(),y=S,m=requestAnimationFrame(x)}(),n(),()=>{var x;f.forEach(S=>{c&&S.removeEventListener("scroll",n),d&&S.removeEventListener("resize",n)}),(x=g)==null||x.disconnect(),g=null,a&&cancelAnimationFrame(m)}}const qse=(t,e,n)=>kse(t,e,{platform:jse,...n});var nC=typeof document<"u"?D.useLayoutEffect:D.useEffect;function rC(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!=e.length)return!1;for(r=n;r--!==0;)if(!rC(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const o=i[r];if(!(o==="_owner"&&t.$$typeof)&&!rC(t[o],e[o]))return!1}return!0}return t!==t&&e!==e}function Yse(t){const e=D.useRef(t);return nC(()=>{e.current=t}),e}function Kse(t){let{middleware:e,placement:n="bottom",strategy:r="absolute",whileElementsMounted:i}=t===void 0?{}:t;const o=D.useRef(null),s=D.useRef(null),a=Yse(i),c=D.useRef(null),[d,f]=D.useState({x:null,y:null,strategy:r,placement:n,middlewareData:{}}),[m,g]=D.useState(e);rC(m==null?void 0:m.map(T=>{let{options:A}=T;return A}),e==null?void 0:e.map(T=>{let{options:A}=T;return A}))||g(e);const y=D.useCallback(()=>{!o.current||!s.current||qse(o.current,s.current,{middleware:m,placement:n,strategy:r}).then(T=>{x.current&&gc.flushSync(()=>{f(T)})})},[m,n,r]);nC(()=>{x.current&&y()},[y]);const x=D.useRef(!1);nC(()=>(x.current=!0,()=>{x.current=!1}),[]);const S=D.useCallback(()=>{if(typeof c.current=="function"&&(c.current(),c.current=null),o.current&&s.current)if(a.current){const T=a.current(o.current,s.current,y);c.current=T}else y()},[y,a]),_=D.useCallback(T=>{o.current=T,S()},[S]),b=D.useCallback(T=>{s.current=T,S()},[S]),C=D.useMemo(()=>({reference:o,floating:s}),[]);return D.useMemo(()=>({...d,update:y,refs:C,reference:_,floating:b}),[d,y,C,_,b])}const Zse=t=>{const{element:e,padding:n}=t;function r(i){return Object.prototype.hasOwnProperty.call(i,"current")}return{name:"arrow",options:t,fn(i){return r(e)?e.current!=null?BI({element:e.current,padding:n}).fn(i):{}:e?BI({element:e,padding:n}).fn(i):{}}}},Jse=D.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...o}=t;return D.createElement(sf.svg,Sr({},o,{ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none"}),t.asChild?n:D.createElement("polygon",{points:"0,0 30,0 15,10"}))}),Qse=Jse;function eae(t){const e=D.useRef(t);return D.useEffect(()=>{e.current=t}),D.useMemo(()=>(...n)=>{var r;return(r=e.current)===null||r===void 0?void 0:r.call(e,...n)},[])}const Rg=globalThis!=null&&globalThis.document?D.useLayoutEffect:()=>{};function tae(t){const[e,n]=D.useState(void 0);return Rg(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const o=i[0];let s,a;if("borderBoxSize"in o){const c=o.borderBoxSize,d=Array.isArray(c)?c[0]:c;s=d.inlineSize,a=d.blockSize}else s=t.offsetWidth,a=t.offsetHeight;n({width:s,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}const z5="Popper",[oT,U5]=C5(z5),[nae,B5]=oT(z5),rae=t=>{const{__scopePopper:e,children:n}=t,[r,i]=D.useState(null);return D.createElement(nae,{scope:e,anchor:r,onAnchorChange:i},n)},iae="PopperAnchor",oae=D.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,o=B5(iae,n),s=D.useRef(null),a=qp(e,s);return D.useEffect(()=>{o.onAnchorChange((r==null?void 0:r.current)||s.current)}),r?null:D.createElement(sf.div,Sr({},i,{ref:a}))}),B1="PopperContent",[sae,aae]=oT(B1),[lae,cae]=oT(B1,{hasParent:!1,positionUpdateFns:new Set}),uae=D.forwardRef((t,e)=>{var n,r,i,o,s,a,c,d;const{__scopePopper:f,side:m="bottom",sideOffset:g=0,align:y="center",alignOffset:x=0,arrowPadding:S=0,collisionBoundary:_=[],collisionPadding:b=0,sticky:C="partial",hideWhenDetached:T=!1,avoidCollisions:A=!0,onPlaced:P,...R}=t,k=B5(B1,f),[z,L]=D.useState(null),O=qp(e,$=>L($)),[B,j]=D.useState(null),X=tae(B),ee=(n=X==null?void 0:X.width)!==null&&n!==void 0?n:0,K=(r=X==null?void 0:X.height)!==null&&r!==void 0?r:0,ne=m+(y!=="center"?"-"+y:""),se=typeof b=="number"?b:{top:0,right:0,bottom:0,left:0,...b},V=Array.isArray(_)?_:[_],Q=V.length>0,Z={padding:se,boundary:V.filter(mae),altBoundary:Q},{reference:W,floating:le,strategy:Ie,x:fe,y:Me,placement:De,middlewareData:Le,update:ge}=Kse({strategy:"fixed",placement:ne,whileElementsMounted:Xse,middleware:[gae(),Use({mainAxis:g+K,alignmentAxis:x}),A?Bse({mainAxis:!0,crossAxis:!1,limiter:C==="partial"?Vse():void 0,...Z}):void 0,B?Zse({element:B,padding:S}):void 0,A?Fse({...Z}):void 0,$se({...Z,apply:({elements:$,availableWidth:re,availableHeight:pe})=>{$.floating.style.setProperty("--radix-popper-available-width",`${re}px`),$.floating.style.setProperty("--radix-popper-available-height",`${pe}px`)}}),vae({arrowWidth:ee,arrowHeight:K}),T?zse({strategy:"referenceHidden"}):void 0].filter(pae)});Rg(()=>{W(k.anchor)},[W,k.anchor]);const be=fe!==null&&Me!==null,[Fe,Ye]=V5(De),at=eae(P);Rg(()=>{be&&(at==null||at())},[be,at]);const Ge=(i=Le.arrow)===null||i===void 0?void 0:i.x,q=(o=Le.arrow)===null||o===void 0?void 0:o.y,Xe=((s=Le.arrow)===null||s===void 0?void 0:s.centerOffset)!==0,[Ve,He]=D.useState();Rg(()=>{z&&He(window.getComputedStyle(z).zIndex)},[z]);const{hasParent:ze,positionUpdateFns:ot}=cae(B1,f),Be=!ze;D.useLayoutEffect(()=>{if(!Be)return ot.add(ge),()=>{ot.delete(ge)}},[Be,ot,ge]),Rg(()=>{Be&&be&&Array.from(ot).reverse().forEach($=>requestAnimationFrame($))},[Be,be,ot]);const Y={"data-side":Fe,"data-align":Ye,...R,ref:O,style:{...R.style,animation:be?void 0:"none",opacity:(a=Le.hide)!==null&&a!==void 0&&a.referenceHidden?0:void 0}};return D.createElement("div",{ref:le,"data-radix-popper-content-wrapper":"",style:{position:Ie,left:0,top:0,transform:be?`translate3d(${Math.round(fe)}px, ${Math.round(Me)}px, 0)`:"translate3d(0, -200%, 0)",minWidth:"max-content",zIndex:Ve,"--radix-popper-transform-origin":[(c=Le.transformOrigin)===null||c===void 0?void 0:c.x,(d=Le.transformOrigin)===null||d===void 0?void 0:d.y].join(" ")},dir:t.dir},D.createElement(sae,{scope:f,placedSide:Fe,onArrowChange:j,arrowX:Ge,arrowY:q,shouldHideArrow:Xe},Be?D.createElement(lae,{scope:f,hasParent:!0,positionUpdateFns:ot},D.createElement(sf.div,Y)):D.createElement(sf.div,Y)))}),dae="PopperArrow",fae={top:"bottom",right:"left",bottom:"top",left:"right"},hae=D.forwardRef(function(e,n){const{__scopePopper:r,...i}=e,o=aae(dae,r),s=fae[o.placedSide];return D.createElement("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[s]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0}},D.createElement(Qse,Sr({},i,{ref:n,style:{...i.style,display:"block"}})))});function pae(t){return t!==void 0}function mae(t){return t!==null}const gae=()=>({name:"anchorCssProperties",fn(t){const{rects:e,elements:n}=t,{width:r,height:i}=e.reference;return n.floating.style.setProperty("--radix-popper-anchor-width",`${r}px`),n.floating.style.setProperty("--radix-popper-anchor-height",`${i}px`),{}}}),vae=t=>({name:"transformOrigin",options:t,fn(e){var n,r,i,o,s;const{placement:a,rects:c,middlewareData:d}=e,m=((n=d.arrow)===null||n===void 0?void 0:n.centerOffset)!==0,g=m?0:t.arrowWidth,y=m?0:t.arrowHeight,[x,S]=V5(a),_={start:"0%",center:"50%",end:"100%"}[S],b=((r=(i=d.arrow)===null||i===void 0?void 0:i.x)!==null&&r!==void 0?r:0)+g/2,C=((o=(s=d.arrow)===null||s===void 0?void 0:s.y)!==null&&o!==void 0?o:0)+y/2;let T="",A="";return x==="bottom"?(T=m?_:`${b}px`,A=`${-y}px`):x==="top"?(T=m?_:`${b}px`,A=`${c.floating.height+y}px`):x==="right"?(T=`${-y}px`,A=m?_:`${C}px`):x==="left"&&(T=`${c.floating.width+y}px`,A=m?_:`${C}px`),{data:{x:T,y:A}}}});function V5(t){const[e,n="center"]=t.split("-");return[e,n]}const yae=rae,xae=oae,bae=uae,_ae=hae,YI=globalThis!=null&&globalThis.document?D.useLayoutEffect:()=>{};function Sae(t,e){return D.useReducer((n,r)=>{const i=e[n][r];return i??n},t)}const $5=t=>{const{present:e,children:n}=t,r=wae(e),i=typeof n=="function"?n({present:r.isPresent}):D.Children.only(n),o=qp(r.ref,i.ref);return typeof n=="function"||r.isPresent?D.cloneElement(i,{ref:o}):null};$5.displayName="Presence";function wae(t){const[e,n]=D.useState(),r=D.useRef({}),i=D.useRef(t),o=D.useRef("none"),s=t?"mounted":"unmounted",[a,c]=Sae(s,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return D.useEffect(()=>{const d=nx(r.current);o.current=a==="mounted"?d:"none"},[a]),YI(()=>{const d=r.current,f=i.current;if(f!==t){const g=o.current,y=nx(d);t?c("MOUNT"):y==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(f&&g!==y?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,c]),YI(()=>{if(e){const d=m=>{const y=nx(r.current).includes(m.animationName);m.target===e&&y&&gc.flushSync(()=>c("ANIMATION_END"))},f=m=>{m.target===e&&(o.current=nx(r.current))};return e.addEventListener("animationstart",f),e.addEventListener("animationcancel",d),e.addEventListener("animationend",d),()=>{e.removeEventListener("animationstart",f),e.removeEventListener("animationcancel",d),e.removeEventListener("animationend",d)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:D.useCallback(d=>{d&&(r.current=getComputedStyle(d)),n(d)},[])}}function nx(t){return(t==null?void 0:t.animationName)||"none"}function H5(t){const e=D.useRef(t);return D.useEffect(()=>{e.current=t}),D.useMemo(()=>(...n)=>{var r;return(r=e.current)===null||r===void 0?void 0:r.call(e,...n)},[])}function Eae({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,i]=Cae({defaultProp:e,onChange:n}),o=t!==void 0,s=o?t:r,a=H5(n),c=D.useCallback(d=>{if(o){const m=typeof d=="function"?d(t):d;m!==t&&a(m)}else i(d)},[o,t,i,a]);return[s,c]}function Cae({defaultProp:t,onChange:e}){const n=D.useState(t),[r]=n,i=D.useRef(r),o=H5(e);return D.useEffect(()=>{i.current!==r&&(o(r),i.current=r)},[r,i,o]),n}const Mae=D.forwardRef((t,e)=>D.createElement(sf.span,Sr({},t,{ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}))),Tae=Mae,[o_,gpe]=C5("Tooltip",[U5]),s_=U5(),Pae="TooltipProvider",iC="tooltip.open",[vpe,sT]=o_(Pae),aT="Tooltip",[Rae,a_]=o_(aT),Aae=t=>{const{__scopeTooltip:e,children:n,open:r,defaultOpen:i=!1,onOpenChange:o,disableHoverableContent:s,delayDuration:a}=t,c=sT(aT,t.__scopeTooltip),d=s_(e),[f,m]=D.useState(null),g=Ise(),y=D.useRef(0),x=s??c.disableHoverableContent,S=a??c.delayDuration,_=D.useRef(!1),[b=!1,C]=Eae({prop:r,defaultProp:i,onChange:k=>{k?(c.onOpen(),document.dispatchEvent(new CustomEvent(iC))):c.onClose(),o==null||o(k)}}),T=D.useMemo(()=>b?_.current?"delayed-open":"instant-open":"closed",[b]),A=D.useCallback(()=>{window.clearTimeout(y.current),_.current=!1,C(!0)},[C]),P=D.useCallback(()=>{window.clearTimeout(y.current),C(!1)},[C]),R=D.useCallback(()=>{window.clearTimeout(y.current),y.current=window.setTimeout(()=>{_.current=!0,C(!0)},S)},[S,C]);return D.useEffect(()=>()=>window.clearTimeout(y.current),[]),D.createElement(yae,d,D.createElement(Rae,{scope:e,contentId:g,open:b,stateAttribute:T,trigger:f,onTriggerChange:m,onTriggerEnter:D.useCallback(()=>{c.isOpenDelayed?R():A()},[c.isOpenDelayed,R,A]),onTriggerLeave:D.useCallback(()=>{x?P():window.clearTimeout(y.current)},[P,x]),onOpen:A,onClose:P,disableHoverableContent:x},n))},KI="TooltipTrigger",Iae=D.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=a_(KI,n),o=sT(KI,n),s=s_(n),a=D.useRef(null),c=qp(e,a,i.onTriggerChange),d=D.useRef(!1),f=D.useRef(!1),m=D.useCallback(()=>d.current=!1,[]);return D.useEffect(()=>()=>document.removeEventListener("pointerup",m),[m]),D.createElement(xae,Sr({asChild:!0},s),D.createElement(sf.button,Sr({"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute},r,{ref:c,onPointerMove:ql(t.onPointerMove,g=>{g.pointerType!=="touch"&&!f.current&&!o.isPointerInTransitRef.current&&(i.onTriggerEnter(),f.current=!0)}),onPointerLeave:ql(t.onPointerLeave,()=>{i.onTriggerLeave(),f.current=!1}),onPointerDown:ql(t.onPointerDown,()=>{d.current=!0,document.addEventListener("pointerup",m,{once:!0})}),onFocus:ql(t.onFocus,()=>{d.current||i.onOpen()}),onBlur:ql(t.onBlur,i.onClose),onClick:ql(t.onClick,i.onClose)})))}),kae="TooltipPortal",[ype,Oae]=o_(kae,{forceMount:void 0}),Sv="TooltipContent",Lae=D.forwardRef((t,e)=>{const n=Oae(Sv,t.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top",...o}=t,s=a_(Sv,t.__scopeTooltip);return D.createElement($5,{present:r||s.open},s.disableHoverableContent?D.createElement(W5,Sr({side:i},o,{ref:e})):D.createElement(Nae,Sr({side:i},o,{ref:e})))}),Nae=D.forwardRef((t,e)=>{const n=a_(Sv,t.__scopeTooltip),r=sT(Sv,t.__scopeTooltip),i=D.useRef(null),o=qp(e,i),[s,a]=D.useState(null),{trigger:c,onClose:d}=n,f=i.current,{onPointerInTransitChange:m}=r,g=D.useCallback(()=>{a(null),m(!1)},[m]),y=D.useCallback((x,S)=>{const _=x.currentTarget,b={x:x.clientX,y:x.clientY},C=Bae(b,_.getBoundingClientRect()),T=C==="right"||C==="bottom"?-5:5,P=C==="right"||C==="left"?{x:x.clientX+T,y:x.clientY}:{x:x.clientX,y:x.clientY+T},R=Vae(S.getBoundingClientRect()),k=Hae([P,...R]);a(k),m(!0)},[m]);return D.useEffect(()=>()=>g(),[g]),D.useEffect(()=>{if(c&&f){const x=_=>y(_,f),S=_=>y(_,c);return c.addEventListener("pointerleave",x),f.addEventListener("pointerleave",S),()=>{c.removeEventListener("pointerleave",x),f.removeEventListener("pointerleave",S)}}},[c,f,y,g]),D.useEffect(()=>{if(s){const x=S=>{const _=S.target,b={x:S.clientX,y:S.clientY},C=(c==null?void 0:c.contains(_))||(f==null?void 0:f.contains(_)),T=!$ae(b,s);C?g():T&&(g(),d())};return document.addEventListener("pointermove",x),()=>document.removeEventListener("pointermove",x)}},[c,f,s,d,g]),D.createElement(W5,Sr({},t,{ref:o}))}),[Dae,Fae]=o_(aT,{isInside:!1}),W5=D.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:o,onPointerDownOutside:s,...a}=t,c=a_(Sv,n),d=s_(n),{onClose:f}=c;return D.useEffect(()=>(document.addEventListener(iC,f),()=>document.removeEventListener(iC,f)),[f]),D.useEffect(()=>{if(c.trigger){const m=g=>{const y=g.target;y!=null&&y.contains(c.trigger)&&f()};return window.addEventListener("scroll",m,{capture:!0}),()=>window.removeEventListener("scroll",m,{capture:!0})}},[c.trigger,f]),D.createElement(Cse,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:s,onFocusOutside:m=>m.preventDefault(),onDismiss:f},D.createElement(bae,Sr({"data-state":c.stateAttribute},d,a,{ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"}}),D.createElement(T5,null,r),D.createElement(Dae,{scope:n,isInside:!0},D.createElement(Tae,{id:c.contentId,role:"tooltip"},i||r))))}),zae="TooltipArrow",Uae=D.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=s_(n);return Fae(zae,n).isInside?null:D.createElement(_ae,Sr({},i,r,{ref:e}))});function Bae(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),i=Math.abs(e.right-t.x),o=Math.abs(e.left-t.x);switch(Math.min(n,r,i,o)){case o:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:return null}}function Vae(t){const{top:e,right:n,bottom:r,left:i}=t;return[{x:i,y:e},{x:n,y:e},{x:n,y:r},{x:i,y:r}]}function $ae(t,e){const{x:n,y:r}=t;let i=!1;for(let o=0,s=e.length-1;o<e.length;s=o++){const a=e[o].x,c=e[o].y,d=e[s].x,f=e[s].y;c>r!=f>r&&n<(d-a)*(r-c)/(f-c)+a&&(i=!i)}return i}function Hae(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),Wae(e)}function Wae(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const i=t[r];for(;e.length>=2;){const o=e[e.length-1],s=e[e.length-2];if((o.x-s.x)*(i.y-s.y)>=(o.y-s.y)*(i.x-s.x))e.pop();else break}e.push(i)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const i=t[r];for(;n.length>=2;){const o=n[n.length-1],s=n[n.length-2];if((o.x-s.x)*(i.y-s.y)>=(o.y-s.y)*(i.x-s.x))n.pop();else break}n.push(i)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}const Gae=Aae,jae=Iae,Xae=Lae,qae=Uae;function Yae(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Gn(t,e){if(t==null)return{};var n=Yae(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}let vr;(function(t){t[t.UNSUPPORTED_INPUT=0]="UNSUPPORTED_INPUT",t[t.NO_COMPONENT_FOR_TYPE=1]="NO_COMPONENT_FOR_TYPE",t[t.UNKNOWN_INPUT=2]="UNKNOWN_INPUT",t[t.DUPLICATE_KEYS=3]="DUPLICATE_KEYS",t[t.ALREADY_REGISTERED_TYPE=4]="ALREADY_REGISTERED_TYPE",t[t.CLIPBOARD_ERROR=5]="CLIPBOARD_ERROR",t[t.THEME_ERROR=6]="THEME_ERROR",t[t.PATH_DOESNT_EXIST=7]="PATH_DOESNT_EXIST",t[t.INPUT_TYPE_OVERRIDE=8]="INPUT_TYPE_OVERRIDE",t[t.EMPTY_KEY=9]="EMPTY_KEY"})(vr||(vr={}));const Kae={[vr.UNSUPPORTED_INPUT]:(t,e)=>[`An input with type \`${t}\` input was found at path \`${e}\` but it's not supported yet.`],[vr.NO_COMPONENT_FOR_TYPE]:(t,e)=>[`Type \`${t}\` found at path \`${e}\` can't be displayed in panel because no component supports it yet.`],[vr.UNKNOWN_INPUT]:(t,e)=>[`input at path \`${t}\` is not recognized.`,e],[vr.DUPLICATE_KEYS]:(t,e,n)=>[`Key \`${t}\` of path \`${e}\` already exists at path \`${n}\`. Even nested keys need to be unique. Rename one of the keys.`],[vr.ALREADY_REGISTERED_TYPE]:t=>[`Type ${t} has already been registered. You can't register a component with the same type.`],[vr.CLIPBOARD_ERROR]:t=>["Error copying the value",t],[vr.THEME_ERROR]:(t,e)=>[`Error accessing the theme \`${t}.${e}\` value.`],[vr.PATH_DOESNT_EXIST]:t=>[`Error getting the value at path \`${t}\`. There is probably an error in your \`render\` function.`],[vr.PATH_DOESNT_EXIST]:t=>[`Error accessing the value at path \`${t}\``],[vr.INPUT_TYPE_OVERRIDE]:(t,e,n)=>[`Input at path \`${t}\` already exists with type: \`${e}\`. Its type cannot be overridden with type \`${n}\`.`],[vr.EMPTY_KEY]:()=>["Keys can not be empty, if you want to hide a label use whitespace."]};function G5(t,e,...n){const[r,...i]=Kae[e](...n);console[t]("LEVA: "+r,...i)}const Zl=G5.bind(null,"warn"),Zae=G5.bind(null,"log"),Jae=["value"],Qae=["schema"],ele=["value"],j5=[],af={};function ZI(t){let{value:e}=t,n=Gn(t,Jae);for(let r of j5){const i=r(e,n);if(i)return i}}function xc(t,e){let{schema:n}=e,r=Gn(e,Qae);if(t in af){Zl(vr.ALREADY_REGISTERED_TYPE,t);return}j5.push((i,o)=>n(i,o)&&t),af[t]=r}function ww(t,e,n,r){const{normalize:i}=af[t];if(i)return i(e,n,r);if(typeof e!="object"||!("value"in e))return{value:e};const{value:o}=e,s=Gn(e,ele);return{value:o,settings:s}}function tle(t,e,n,r,i,o){const{sanitize:s}=af[t];return s?s(e,n,r,i,o):e}function JI(t,e,n){const{format:r}=af[t];return r?r(e,n):e}function nle(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function QI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Wt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QI(Object(n),!0).forEach(function(r){nle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}const Su=(t,e,n)=>t>n?n:t<e?e:t,rle=t=>{if(t===""||typeof t=="number")return t;try{const e=au(t);if(!isNaN(e))return e}catch{}return parseFloat(t)},ile=Math.log(10);function ek(t){let e=Math.abs(+String(t).replace(".",""));if(e===0)return .01;for(;e!==0&&e%10===0;)e/=10;const n=Math.floor(Math.log(e)/ile)+1,r=Math.floor(Math.log10(Math.abs(t))),i=Math.pow(10,r-n);return Math.max(i,.001)}const V1=(t,e,n)=>n===e?0:(Su(t,e,n)-e)/(n-e),$1=(t,e,n)=>t*(n-e)+e,ole=()=>"_"+Math.random().toString(36).substr(2,9),tk=/\(([0-9+\-*/^ .]+)\)/,nk=/(\d+(?:\.\d+)?) ?\^ ?(\d+(?:\.\d+)?)/,rk=/(\d+(?:\.\d+)?) ?\* ?(\d+(?:\.\d+)?)/,ik=/(\d+(?:\.\d+)?) ?\/ ?(\d+(?:\.\d+)?)/,ok=/(\d+(?:\.\d+)?) ?\+ ?(\d+(?:\.\d+)?)/,sk=/(\d+(?:\.\d+)?) ?- ?(\d+(?:\.\d+)?)/;function au(t){if(isNaN(Number(t)))if(tk.test(t)){const e=t.replace(tk,(n,r)=>String(au(r)));return au(e)}else if(nk.test(t)){const e=t.replace(nk,(n,r,i)=>String(Math.pow(Number(r),Number(i))));return au(e)}else if(rk.test(t)){const e=t.replace(rk,(n,r,i)=>String(Number(r)*Number(i)));return au(e)}else if(ik.test(t)){const e=t.replace(ik,(n,r,i)=>{if(i!=0)return String(Number(r)/Number(i));throw new Error("Division by zero")});return au(e)}else if(ok.test(t)){const e=t.replace(ok,(n,r,i)=>String(Number(r)+Number(i)));return au(e)}else if(sk.test(t)){const e=t.replace(sk,(n,r,i)=>String(Number(r)-Number(i)));return au(e)}else return Number(t);return Number(t)}function sle(t,e){return e.reduce((n,r)=>(t&&t.hasOwnProperty(r)&&(n[r]=t[r]),n),{})}function ale(t,e){const n=Wt({},t);return e.forEach(r=>r in t&&delete n[r]),n}function lle(t,e){return t.reduce((n,r,i)=>Object.assign(n,{[e[i]]:r}),{})}function X5(t){return Object.prototype.toString.call(t)==="[object Object]"}const cle=t=>X5(t)&&Object.keys(t).length===0;let va;(function(t){t.BUTTON="BUTTON",t.BUTTON_GROUP="BUTTON_GROUP",t.MONITOR="MONITOR",t.FOLDER="FOLDER"})(va||(va={}));let ba;(function(t){t.SELECT="SELECT",t.IMAGE="IMAGE",t.NUMBER="NUMBER",t.COLOR="COLOR",t.STRING="STRING",t.BOOLEAN="BOOLEAN",t.INTERVAL="INTERVAL",t.VECTOR3D="VECTOR3D",t.VECTOR2D="VECTOR2D"})(ba||(ba={}));const ule=["type","__customInput"],dle=["render","label","optional","order","disabled","hint","onChange","onEditStart","onEditEnd","transient"],fle=["type"];function q5(t,e,n={},r){var i,o;if(typeof t!="object"||Array.isArray(t))return{type:r,input:t,options:Wt({key:e,label:e,optional:!1,disabled:!1,order:0},n)};if("__customInput"in t){const{type:P,__customInput:R}=t,k=Gn(t,ule);return q5(R,e,k,P)}const{render:s,label:a,optional:c,order:d=0,disabled:f,hint:m,onChange:g,onEditStart:y,onEditEnd:x,transient:S}=t,_=Gn(t,dle),b=Wt({render:s,key:e,label:a??e,hint:m,transient:S??!!g,onEditStart:y,onEditEnd:x,disabled:f,optional:c,order:d},n);let{type:C}=_,T=Gn(_,fle);if(C=r??C,C in va)return{type:C,input:T,options:b};let A;return r&&X5(T)&&"value"in T?A=T.value:A=cle(T)?void 0:T,{type:C,input:A,options:Wt(Wt({},b),{},{onChange:g,optional:(i=b.optional)!==null&&i!==void 0?i:!1,disabled:(o=b.disabled)!==null&&o!==void 0?o:!1})}}function hle(t,e,n,r){const i=q5(t,e),{type:o,input:s,options:a}=i;if(o)return o in va?i:{type:o,input:ww(o,s,n,r),options:a};let c=ZI(s);return c?{type:c,input:ww(c,s,n,r),options:a}:(c=ZI({value:s}),c?{type:c,input:ww(c,{value:s},n,r),options:a}:!1)}function ak(t,e,n,r,i){const{value:o,type:s,settings:a}=t;t.value=Y5({type:s,value:o,settings:a},e,n,r),t.fromPanel=i}const ple=function(e,n,r){this.type="LEVA_ERROR",this.message="LEVA: "+e,this.previousValue=n,this.error=r};function Y5({type:t,value:e,settings:n},r,i,o){const s=t!=="SELECT"&&typeof r=="function"?r(e):r;let a;try{a=tle(t,s,n,e,i,o)}catch(c){throw new ple(`The value \`${r}\` did not result in a correct value.`,e,c)}return xv(a,e)?e:a}const K5=(t,e,n=!1)=>{let r=0;return function(){const i=arguments,o=n&&!r,s=()=>t.apply(this,i);window.clearTimeout(r),r=window.setTimeout(s,e),o&&s()}},Z5=t=>t.shiftKey?5:t.altKey?1/5:1,mle=["value"],gle=["min","max"],vle=t=>{if(typeof t=="number")return!0;if(typeof t=="string"){const e=parseFloat(t);return isNaN(e)?!1:t.substring((""+e).length).trim().length<4}return!1},J5=(t,{min:e=-1/0,max:n=1/0,suffix:r})=>{const i=parseFloat(t);if(t===""||isNaN(i))throw Error("Invalid number");const o=Su(i,e,n);return r?o+r:o},yle=(t,{pad:e=0,suffix:n})=>{const r=parseFloat(t).toFixed(e);return n?r+n:r},Q5=t=>{let{value:e}=t,n=Gn(t,mle);const{min:r=-1/0,max:i=1/0}=n,o=Gn(n,gle);let s=parseFloat(e);const a=typeof e=="string"?e.substring((""+s).length):void 0;s=Su(s,r,i);let c=n.step;c||(Number.isFinite(r)?Number.isFinite(i)?c=+(Math.abs(i-r)/100).toPrecision(1):c=+(Math.abs(s-r)/100).toPrecision(1):Number.isFinite(i)&&(c=+(Math.abs(i-s)/100).toPrecision(1)));const d=c?ek(c)*10:ek(s);c=c||d/10;const f=Math.round(Su(Math.log10(1/d),0,2));return{value:a?s+a:s,settings:Wt({initialValue:s,step:c,pad:f,min:r,max:i,suffix:a},o)}},e4=(t,{step:e,initialValue:n})=>{const r=Math.round((t-n)/e);return n+r*e};var t4=Object.freeze({__proto__:null,schema:vle,sanitize:J5,format:yle,normalize:Q5,sanitizeStep:e4});function Pr(){return Pr=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Pr.apply(this,arguments)}const n4=D.createContext({});function qi(){return D.useContext(n4)}const lT=D.createContext(null),r4=D.createContext(null),i4=D.createContext(null);function Kv(){return D.useContext(r4)}function xle(){return D.useContext(i4)}const o4=()=>({colors:{elevation1:"#292d39",elevation2:"#181c20",elevation3:"#373c4b",accent1:"#0066dc",accent2:"#007bff",accent3:"#3c93ff",highlight1:"#535760",highlight2:"#8c92a4",highlight3:"#fefefe",vivid1:"#ffcc00",folderWidgetColor:"$highlight2",folderTextColor:"$highlight3",toolTipBackground:"$highlight3",toolTipText:"$elevation2"},radii:{xs:"2px",sm:"3px",lg:"10px"},space:{xs:"3px",sm:"6px",md:"10px",rowGap:"7px",colGap:"7px"},fonts:{mono:"ui-monospace, SFMono-Regular, Menlo, 'Roboto Mono', monospace",sans:"system-ui, sans-serif"},fontSizes:{root:"11px",toolTip:"$root"},sizes:{rootWidth:"280px",controlWidth:"160px",numberInputMinWidth:"38px",scrubberWidth:"8px",scrubberHeight:"16px",rowHeight:"24px",folderTitleHeight:"20px",checkboxSize:"16px",joystickWidth:"100px",joystickHeight:"100px",colorPickerWidth:"$controlWidth",colorPickerHeight:"100px",imagePreviewWidth:"$controlWidth",imagePreviewHeight:"100px",monitorHeight:"60px",titleBarHeight:"39px"},shadows:{level1:"0 0 9px 0 #00000088",level2:"0 4px 14px #00000033"},borderWidths:{root:"0px",input:"1px",focus:"1px",hover:"1px",active:"1px",folder:"1px"},fontWeights:{label:"normal",folder:"normal",button:"normal"}});function rx(t,e){const[n,r]=t.split(" "),i={};return n!=="none"&&(i.boxShadow=`${e.inset?"inset ":""}0 0 0 $borderWidths${[e.key]} $colors${n!=="default"&&n||e.borderColor}`),r&&(i.backgroundColor=r),i}const mg={$inputStyle:()=>t=>rx(t,{key:"$input",borderColor:"$highlight1",inset:!0}),$focusStyle:()=>t=>rx(t,{key:"$focus",borderColor:"$accent2"}),$hoverStyle:()=>t=>rx(t,{key:"$hover",borderColor:"$accent1",inset:!0}),$activeStyle:()=>t=>rx(t,{key:"$active",borderColor:"$accent1",inset:!0})},{styled:Vt,css:xpe,createTheme:ble,globalCss:_le,keyframes:bpe}=pse({prefix:"leva",theme:o4(),utils:Wt(Wt({},mg),{},{$flex:()=>({display:"flex",alignItems:"center"}),$flexCenter:()=>({display:"flex",alignItems:"center",justifyContent:"center"}),$reset:()=>({outline:"none",fontSize:"inherit",fontWeight:"inherit",color:"inherit",fontFamily:"inherit",border:"none",backgroundColor:"transparent",appearance:"none"}),$draggable:()=>({touchAction:"none",WebkitUserDrag:"none",userSelect:"none"}),$focus:t=>({"&:focus":mg.$focusStyle()(t)}),$focusWithin:t=>({"&:focus-within":mg.$focusStyle()(t)}),$hover:t=>({"&:hover":mg.$hoverStyle()(t)}),$active:t=>({"&:active":mg.$activeStyle()(t)})})}),Sle=_le({".leva__panel__dragged":{WebkitUserDrag:"none",userSelect:"none",input:{userSelect:"none"},"*":{cursor:"ew-resize !important"}}});function wle(t){const e=o4();if(!t)return{theme:e,className:""};Object.keys(t).forEach(r=>{Object.assign(e[r],t[r])});const n=ble(e);return{theme:e,className:n.className}}function oc(t,e){const{theme:n}=D.useContext(lT);if(!(t in n)||!(e in n[t]))return Zl(vr.THEME_ERROR,t,e),"";let r=e;for(;;){let i=n[t][r];if(typeof i=="string"&&i.charAt(0)==="$")r=i.substr(1);else return i}}const s4=Vt("input",{$reset:"",padding:"0 $sm",width:0,minWidth:0,flex:1,height:"100%",variants:{levaType:{number:{textAlign:"right"}},as:{textarea:{padding:"$sm"}}}}),a4=Vt("div",{$draggable:"",height:"100%",$flexCenter:"",position:"relative",padding:"0 $xs",fontSize:"0.8em",opacity:.8,cursor:"default",touchAction:"none",[`& + ${s4}`]:{paddingLeft:0}}),Ele=Vt(a4,{cursor:"ew-resize",marginRight:"-$xs",textTransform:"uppercase",opacity:.3,"&:hover":{opacity:1},variants:{dragging:{true:{backgroundColor:"$accent2",opacity:1}}}}),Cle=Vt("div",{$flex:"",position:"relative",borderRadius:"$sm",overflow:"hidden",color:"inherit",height:"$rowHeight",backgroundColor:"$elevation3",$inputStyle:"$elevation1",$hover:"",$focusWithin:"",variants:{textArea:{true:{height:"auto"}}}}),Mle=["innerLabel","value","onUpdate","onChange","onKeyDown","type","id","inputType","rows"],Tle=["onUpdate"];function cT(t){let{innerLabel:e,value:n,onUpdate:r,onChange:i,onKeyDown:o,type:s,id:a,inputType:c="text",rows:d=0}=t,f=Gn(t,Mle);const{id:m,emitOnEditStart:g,emitOnEditEnd:y,disabled:x}=qi(),S=a||m,_=D.useRef(null),b=d>0,C=b?"textarea":"input",T=D.useCallback(R=>k=>{const z=k.currentTarget.value;R(z)},[]);ae.useEffect(()=>{const R=_.current,k=T(z=>{r(z),y()});return R==null||R.addEventListener("blur",k),()=>R==null?void 0:R.removeEventListener("blur",k)},[T,r,y]);const A=D.useCallback(R=>{R.key==="Enter"&&T(r)(R)},[T,r]),P=Object.assign({as:C},b?{rows:d}:{},f);return ae.createElement(Cle,{textArea:b},e&&typeof e=="string"?ae.createElement(a4,null,e):e,ae.createElement(s4,Pr({levaType:s,ref:_,id:S,type:c,autoComplete:"off",spellCheck:"false",value:n,onChange:T(i),onFocus:()=>g(),onKeyPress:A,onKeyDown:o,disabled:x},P)))}function Ple(t){let{onUpdate:e}=t,n=Gn(t,Tle);const r=D.useCallback(o=>e(rle(o)),[e]),i=D.useCallback(o=>{const s=o.key==="ArrowUp"?1:o.key==="ArrowDown"?-1:0;if(s){o.preventDefault();const a=o.altKey?.1:o.shiftKey?10:1;e(c=>parseFloat(c)+s*a)}},[e]);return ae.createElement(cT,Pr({},n,{onUpdate:r,onKeyDown:i,type:"number"}))}const H1=Vt("div",{}),oC=Vt("div",{position:"relative",background:"$elevation2",transition:"height 300ms ease",variants:{fill:{true:{},false:{}},flat:{false:{},true:{}},isRoot:{true:{},false:{paddingLeft:"$md","&::after":{content:'""',position:"absolute",left:0,top:0,width:"$borderWidths$folder",height:"100%",backgroundColor:"$folderWidgetColor",opacity:.4,transform:"translateX(-50%)"}}}},compoundVariants:[{isRoot:!0,fill:!1,css:{overflowY:"auto",maxHeight:"calc(100vh - 20px - $$titleBarHeight)"}},{isRoot:!0,flat:!1,css:{borderRadius:"$lg"}}]}),Rle=Vt("div",{$flex:"",color:"$folderTextColor",userSelect:"none",cursor:"pointer",height:"$folderTitleHeight",fontWeight:"$folder","> svg":{marginLeft:-4,marginRight:4,cursor:"pointer",fill:"$folderWidgetColor",opacity:.6},"&:hover > svg":{fill:"$folderWidgetColor"},[`&:hover + ${oC}::after`]:{opacity:.6},[`${H1}:hover > & + ${oC}::after`]:{opacity:.6},[`${H1}:hover > & > svg`]:{opacity:1}}),l4=Vt("div",{position:"relative",display:"grid",gridTemplateColumns:"100%",rowGap:"$rowGap",transition:"opacity 250ms ease",variants:{toggled:{true:{opacity:1,transitionDelay:"250ms"},false:{opacity:0,transitionDelay:"0ms",pointerEvents:"none"}},isRoot:{true:{"& > div":{paddingLeft:"$md",paddingRight:"$md"},"& > div:first-of-type":{paddingTop:"$sm"},"& > div:last-of-type":{paddingBottom:"$sm"},[`> ${H1}:not(:first-of-type)`]:{paddingTop:"$sm",marginTop:"$md",borderTop:"$borderWidths$folder solid $colors$elevation1"}}}}}),c4=Vt("div",{position:"relative",zIndex:100,display:"grid",rowGap:"$rowGap",gridTemplateRows:"minmax($sizes$rowHeight, max-content)",alignItems:"center",color:"$highlight2",[`${l4} > &`]:{"&:first-of-type":{marginTop:"$rowGap"},"&:last-of-type":{marginBottom:"$rowGap"}},variants:{disabled:{true:{pointerEvents:"none"},false:{"&:hover,&:focus-within":{color:"$highlight3"}}}}}),u4=Vt(c4,{gridTemplateColumns:"auto $sizes$controlWidth",columnGap:"$colGap"}),Ale=Vt("div",{$flex:"",height:"100%",position:"relative",overflow:"hidden","& > div":{marginLeft:"$colGap",padding:"0 $xs",opacity:.4},"& > div:hover":{opacity:.8},"& > div > svg":{display:"none",cursor:"pointer",width:13,minWidth:13,height:13,backgroundColor:"$elevation2"},"&:hover > div > svg":{display:"block"},variants:{align:{top:{height:"100%",alignItems:"flex-start",paddingTop:"$sm"}}}}),Ile=Vt("input",{$reset:"",height:0,width:0,opacity:0,margin:0,"& + label":{position:"relative",$flexCenter:"",height:"100%",userSelect:"none",cursor:"pointer",paddingLeft:2,paddingRight:"$sm",pointerEvents:"auto"},"& + label:after":{content:'""',width:6,height:6,backgroundColor:"$elevation3",borderRadius:"50%",$activeStyle:""},"&:focus + label:after":{$focusStyle:""},"& + label:active:after":{backgroundColor:"$accent1",$focusStyle:""},"&:checked + label:after":{backgroundColor:"$accent1"}}),sC=Vt("label",{fontWeight:"$label",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap","& > svg":{display:"block"}}),kle=Vt("div",{opacity:1,variants:{disabled:{true:{opacity:.6,pointerEvents:"none",[`& ${sC}`]:{pointerEvents:"auto"}}}}}),d4=Vt("div",{position:"fixed",top:0,bottom:0,right:0,left:0,zIndex:1e3,userSelect:"none"}),Ole=Vt("div",{background:"$toolTipBackground",fontFamily:"$sans",fontSize:"$toolTip",padding:"$xs $sm",color:"$toolTipText",borderRadius:"$xs",boxShadow:"$level2",maxWidth:260}),Lle=Vt(qae,{fill:"$toolTipBackground"});function uT({children:t}){const{className:e}=D.useContext(lT);return ae.createElement(Doe,{className:e},t)}const Nle=["align"];function Dle(){const{id:t,disable:e,disabled:n}=qi();return ae.createElement(ae.Fragment,null,ae.createElement(Ile,{id:t+"__disable",type:"checkbox",checked:!n,onChange:()=>e(!n)}),ae.createElement("label",{htmlFor:t+"__disable"}))}function Fle(t){const{id:e,optional:n,hint:r}=qi(),i=t.htmlFor||(e?{htmlFor:e}:null),o=!r&&typeof t.children=="string"?{title:t.children}:null;return ae.createElement(ae.Fragment,null,n&&ae.createElement(Dle,null),r!==void 0?ae.createElement(Gae,null,ae.createElement(jae,{asChild:!0},ae.createElement(sC,Pr({},i,t))),ae.createElement(Xae,{side:"top",sideOffset:2},ae.createElement(Ole,null,r,ae.createElement(Lle,null)))):ae.createElement(sC,Pr({},i,o,t)))}function wa(t){let{align:e}=t,n=Gn(t,Nle);const{value:r,label:i,key:o,disabled:s}=qi(),{hideCopyButton:a}=xle(),c=!a&&o!==void 0,[d,f]=D.useState(!1),m=async()=>{try{await navigator.clipboard.writeText(JSON.stringify({[o]:r??""})),f(!0)}catch{Zl(vr.CLIPBOARD_ERROR,{[o]:r})}};return ae.createElement(Ale,{align:e,onPointerLeave:()=>f(!1)},ae.createElement(Fle,n),c&&!s&&ae.createElement("div",{title:`Click to copy ${typeof i=="string"?i:o} value`},d?ae.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},ae.createElement("path",{d:"M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"}),ae.createElement("path",{fillRule:"evenodd",d:"M4 5a2 2 0 012-2 3 3 0 003 3h2a3 3 0 003-3 2 2 0 012 2v11a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm9.707 5.707a1 1 0 00-1.414-1.414L9 12.586l-1.293-1.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})):ae.createElement("svg",{onClick:m,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},ae.createElement("path",{d:"M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z"}),ae.createElement("path",{d:"M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z"}))))}const zle=["toggled"],Ule=Vt("svg",{fill:"currentColor",transition:"transform 350ms ease, fill 250ms ease"});function dT(t){let{toggled:e}=t,n=Gn(t,zle);return ae.createElement(Ule,Pr({width:"9",height:"5",viewBox:"0 0 9 5",xmlns:"http://www.w3.org/2000/svg",style:{transform:`rotate(${e?0:-90}deg)`}},n),ae.createElement("path",{d:"M3.8 4.4c.4.3 1 .3 1.4 0L8 1.7A1 1 0 007.4 0H1.6a1 1 0 00-.7 1.7l3 2.7z"}))}const Ble=["input"];function Ds(t){let{input:e}=t,n=Gn(t,Ble);return e?ae.createElement(u4,n):ae.createElement(c4,n)}function f4({value:t,type:e,settings:n,setValue:r}){const[i,o]=D.useState(JI(e,t,n)),s=D.useRef(t),a=D.useRef(n);a.current=n;const c=D.useCallback(f=>o(JI(e,f,a.current)),[e]),d=D.useCallback(f=>{try{r(f)}catch(m){const{type:g,previousValue:y}=m;if(g!=="LEVA_ERROR")throw m;c(y)}},[c,r]);return D.useEffect(()=>{xv(t,s.current)||c(t),s.current=t},[t,c]),{displayValue:i,onChange:o,onUpdate:d}}function Zv(t,e){const{emitOnEditStart:n,emitOnEditEnd:r}=qi();return soe(i=>{i.first&&(document.body.classList.add("leva__panel__dragged"),n==null||n());const o=t(i);return i.last&&(document.body.classList.remove("leva__panel__dragged"),r==null||r()),o},e)}function Vle(t){const e=D.useRef(null),n=D.useRef(null),r=D.useRef(!1);return D.useEffect(()=>{const i=K5(()=>{e.current.width=e.current.offsetWidth*window.devicePixelRatio,e.current.height=e.current.offsetHeight*window.devicePixelRatio,t(e.current,n.current)},250);return window.addEventListener("resize",i),r.current||(i(),r.current=!0),()=>window.removeEventListener("resize",i)},[t]),D.useEffect(()=>{n.current=e.current.getContext("2d")},[]),[e,n]}function h4(){const t=D.useRef(null),e=D.useRef({x:0,y:0}),n=D.useCallback(r=>{Object.assign(e.current,r),t.current&&(t.current.style.transform=`translate3d(${e.current.x}px, ${e.current.y}px, 0)`)},[]);return[t,n]}const $le=["__refCount"],Ew=(t,e)=>{if(!t[e])return null;const n=t[e];return Gn(n,$le)};function Hle(t){const e=Kv(),[n,r]=D.useState(Ew(e.getData(),t)),i=D.useCallback(d=>e.setValueAtPath(t,d,!0),[t,e]),o=D.useCallback(d=>e.setSettingsAtPath(t,d),[t,e]),s=D.useCallback(d=>e.disableInputAtPath(t,d),[t,e]),a=D.useCallback(()=>e.emitOnEditStart(t),[t,e]),c=D.useCallback(()=>e.emitOnEditEnd(t),[t,e]);return D.useEffect(()=>{r(Ew(e.getData(),t));const d=e.useStore.subscribe(f=>Ew(f.data,t),r,{equalityFn:t_});return()=>d()},[e,t]),[n,{set:i,setSettings:o,disable:s,storeId:e.storeId,emitOnEditStart:a,emitOnEditEnd:c}]}const Wle=Vt("div",{variants:{hasRange:{true:{position:"relative",display:"grid",gridTemplateColumns:"auto $sizes$numberInputMinWidth",columnGap:"$colGap",alignItems:"center"}}}}),p4=Vt("div",{position:"relative",width:"100%",height:2,borderRadius:"$xs",backgroundColor:"$elevation1"}),aC=Vt("div",{position:"absolute",width:"$scrubberWidth",height:"$scrubberHeight",borderRadius:"$xs",boxShadow:"0 0 0 2px $colors$elevation2",backgroundColor:"$accent2",cursor:"pointer",$active:"none $accent1",$hover:"none $accent3",variants:{position:{left:{borderTopRightRadius:0,borderBottomRightRadius:0,transform:"translateX(calc(-0.5 * ($sizes$scrubberWidth + 4px)))"},right:{borderTopLeftRadius:0,borderBottomLeftRadius:0,transform:"translateX(calc(0.5 * ($sizes$scrubberWidth + 4px)))"}}}}),m4=Vt("div",{position:"relative",$flex:"",height:"100%",cursor:"pointer",touchAction:"none"}),g4=Vt("div",{position:"absolute",height:"100%",backgroundColor:"$accent2"});function Gle({value:t,min:e,max:n,onDrag:r,step:i,initialValue:o}){const s=D.useRef(null),a=D.useRef(null),c=D.useRef(0),d=oc("sizes","scrubberWidth"),f=Zv(({event:g,first:y,xy:[x],movement:[S],memo:_})=>{if(y){const{width:C,left:T}=s.current.getBoundingClientRect();c.current=C-parseFloat(d),_=(g==null?void 0:g.target)===a.current?t:$1((x-T)/C,e,n)}const b=_+$1(S/c.current,0,n-e);return r(e4(b,{step:i,initialValue:o})),_}),m=V1(t,e,n);return ae.createElement(m4,Pr({ref:s},f()),ae.createElement(p4,null,ae.createElement(g4,{style:{left:0,right:`${(1-m)*100}%`}})),ae.createElement(aC,{ref:a,style:{left:`calc(${m} * (100% - ${d}))`}}))}const jle=ae.memo(({label:t,onUpdate:e,step:n,innerLabelTrim:r})=>{const[i,o]=D.useState(!1),s=Zv(({active:a,delta:[c],event:d,memo:f=0,first:m,last:g,target:y})=>(m&&y.requestPointerLock(),g&&document.exitPointerLock(),o(a),f+=c/2,Math.abs(f)>=1&&(e(x=>parseFloat(x)+Math.floor(f)*n*Z5(d)),f=0),f));return ae.createElement(Ele,Pr({dragging:i,title:t.length>1?t:""},s()),t.slice(0,r))});function v4({label:t,id:e,displayValue:n,onUpdate:r,onChange:i,settings:o,innerLabelTrim:s=1}){const a=s>0&&ae.createElement(jle,{label:t,step:o.step,onUpdate:r,innerLabelTrim:s});return ae.createElement(Ple,{id:e,value:String(n),onUpdate:r,onChange:i,innerLabel:a})}function Xle(){const t=qi(),{label:e,value:n,onUpdate:r,settings:i,id:o}=t,{min:s,max:a}=i,c=a!==1/0&&s!==-1/0;return ae.createElement(Ds,{input:!0},ae.createElement(wa,null,e),ae.createElement(Wle,{hasRange:c},c&&ae.createElement(Gle,Pr({value:parseFloat(n),onDrag:r},i)),ae.createElement(v4,Pr({},t,{id:o,label:"value",innerLabelTrim:c?0:1}))))}const{sanitizeStep:qle}=t4,Yle=Gn(t4,["sanitizeStep"]);var Kle=Wt({component:Xle},Yle);const Zle=(t,e)=>zo().schema({options:zo().passesAnyOf(zo().object(),zo().array())}).test(e),Jle=(t,{values:e})=>{if(e.indexOf(t)<0)throw Error("Selected value doesn't match Select options");return t},Qle=(t,{values:e})=>e.indexOf(t),ece=t=>{let{value:e,options:n}=t,r,i;return Array.isArray(n)?(i=n,r=n.map(o=>String(o))):(i=Object.values(n),r=Object.keys(n)),"value"in t?i.includes(e)||(r.unshift(String(e)),i.unshift(e)):e=i[0],Object.values(n).includes(e)||(n[String(e)]=e),{value:e,settings:{keys:r,values:i}}};var tce=Object.freeze({__proto__:null,schema:Zle,sanitize:Jle,format:Qle,normalize:ece});const nce=Vt("div",{$flexCenter:"",position:"relative","> svg":{pointerEvents:"none",position:"absolute",right:"$md"}}),lC=Vt("select",{position:"absolute",top:0,left:0,width:"100%",height:"100%",opacity:0}),rce=Vt("div",{display:"flex",alignItems:"center",width:"100%",height:"$rowHeight",backgroundColor:"$elevation3",borderRadius:"$sm",padding:"0 $sm",cursor:"pointer",[`${lC}:focus + &`]:{$focusStyle:""},[`${lC}:hover + &`]:{$hoverStyle:""}});function ice({displayValue:t,value:e,onUpdate:n,id:r,settings:i,disabled:o}){const{keys:s,values:a}=i,c=D.useRef();return e===a[t]&&(c.current=s[t]),ae.createElement(nce,null,ae.createElement(lC,{id:r,value:t,onChange:d=>n(a[Number(d.currentTarget.value)]),disabled:o},s.map((d,f)=>ae.createElement("option",{key:d,value:f},d))),ae.createElement(rce,null,c.current),ae.createElement(dT,{toggled:!0}))}function oce(){const{label:t,value:e,displayValue:n,onUpdate:r,id:i,disabled:o,settings:s}=qi();return ae.createElement(Ds,{input:!0},ae.createElement(wa,null,t),ae.createElement(ice,{id:i,value:e,displayValue:n,onUpdate:r,settings:s,disabled:o}))}var sce=Wt({component:oce},tce);const ace=t=>zo().string().test(t),lce=t=>{if(typeof t!="string")throw Error("Invalid string");return t},cce=({value:t,editable:e=!0,rows:n=!1})=>({value:t,settings:{editable:e,rows:typeof n=="number"?n:n?5:0}});var uce=Object.freeze({__proto__:null,schema:ace,sanitize:lce,normalize:cce});const dce=["displayValue","onUpdate","onChange","editable"],fce=Vt("div",{whiteSpace:"pre-wrap"});function hce(t){let{displayValue:e,onUpdate:n,onChange:r,editable:i=!0}=t,o=Gn(t,dce);return i?ae.createElement(cT,Pr({value:e,onUpdate:n,onChange:r},o)):ae.createElement(fce,null,e)}function pce(){const{label:t,settings:e,displayValue:n,onUpdate:r,onChange:i}=qi();return ae.createElement(Ds,{input:!0},ae.createElement(wa,null,t),ae.createElement(hce,Pr({displayValue:n,onUpdate:r,onChange:i},e)))}var mce=Wt({component:pce},uce);const gce=t=>zo().boolean().test(t),vce=t=>{if(typeof t!="boolean")throw Error("Invalid boolean");return t};var yce=Object.freeze({__proto__:null,schema:gce,sanitize:vce});const xce=Vt("div",{position:"relative",$flex:"",height:"$rowHeight",input:{$reset:"",height:0,width:0,opacity:0,margin:0},label:{position:"relative",$flexCenter:"",userSelect:"none",cursor:"pointer",height:"$checkboxSize",width:"$checkboxSize",backgroundColor:"$elevation3",borderRadius:"$sm",$hover:""},"input:focus + label":{$focusStyle:""},"input:focus:checked + label, input:checked + label:hover":{$hoverStyle:"$accent3"},"input + label:active":{backgroundColor:"$accent1"},"input:checked + label:active":{backgroundColor:"$accent1"},"label > svg":{display:"none",width:"90%",height:"90%",stroke:"$highlight3"},"input:checked + label":{backgroundColor:"$accent2"},"input:checked + label > svg":{display:"block"}});function bce({value:t,onUpdate:e,id:n,disabled:r}){return ae.createElement(xce,null,ae.createElement("input",{id:n,type:"checkbox",checked:t,onChange:i=>e(i.currentTarget.checked),disabled:r}),ae.createElement("label",{htmlFor:n},ae.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},ae.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"}))))}function _ce(){const{label:t,value:e,onUpdate:n,disabled:r,id:i}=qi();return ae.createElement(Ds,{input:!0},ae.createElement(wa,null,t),ae.createElement(bce,{value:e,onUpdate:n,id:i,disabled:r}))}var Sce=Wt({component:_ce},yce);const wce=["locked"];function Ece({value:t,id:e,valueKey:n,settings:r,onUpdate:i,innerLabelTrim:o}){const s=D.useRef(t[n]);s.current=t[n];const a=D.useCallback(d=>i({[n]:Y5({type:"NUMBER",value:s.current,settings:r},d)}),[i,r,n]),c=f4({type:"NUMBER",value:t[n],settings:r,setValue:a});return ae.createElement(v4,{id:e,label:n,value:t[n],displayValue:c.displayValue,onUpdate:c.onUpdate,onChange:c.onChange,settings:r,innerLabelTrim:o})}const Cce=Vt("div",{display:"grid",columnGap:"$colGap",gridAutoFlow:"column dense",alignItems:"center",variants:{withLock:{true:{gridTemplateColumns:"10px auto","> svg":{cursor:"pointer"}}}}});function Mce(t){let{locked:e}=t,n=Gn(t,wce);return ae.createElement("svg",Pr({width:"10",height:"10",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n),e?ae.createElement("path",{d:"M5 4.63601C5 3.76031 5.24219 3.1054 5.64323 2.67357C6.03934 2.24705 6.64582 1.9783 7.5014 1.9783C8.35745 1.9783 8.96306 2.24652 9.35823 2.67208C9.75838 3.10299 10 3.75708 10 4.63325V5.99999H5V4.63601ZM4 5.99999V4.63601C4 3.58148 4.29339 2.65754 4.91049 1.99307C5.53252 1.32329 6.42675 0.978302 7.5014 0.978302C8.57583 0.978302 9.46952 1.32233 10.091 1.99162C10.7076 2.65557 11 3.57896 11 4.63325V5.99999H12C12.5523 5.99999 13 6.44771 13 6.99999V13C13 13.5523 12.5523 14 12 14H3C2.44772 14 2 13.5523 2 13V6.99999C2 6.44771 2.44772 5.99999 3 5.99999H4ZM3 6.99999H12V13H3V6.99999Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}):ae.createElement("path",{d:"M9 3.63601C9 2.76044 9.24207 2.11211 9.64154 1.68623C10.0366 1.26502 10.6432 1 11.5014 1C12.4485 1 13.0839 1.30552 13.4722 1.80636C13.8031 2.23312 14 2.84313 14 3.63325H15C15 2.68242 14.7626 1.83856 14.2625 1.19361C13.6389 0.38943 12.6743 0 11.5014 0C10.4294 0 9.53523 0.337871 8.91218 1.0021C8.29351 1.66167 8 2.58135 8 3.63601V6H1C0.447715 6 0 6.44772 0 7V13C0 13.5523 0.447715 14 1 14H10C10.5523 14 11 13.5523 11 13V7C11 6.44772 10.5523 6 10 6H9V3.63601ZM1 7H10V13H1V7Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}))}function fT({value:t,onUpdate:e,settings:n,innerLabelTrim:r}){const{id:i,setSettings:o}=qi(),{lock:s,locked:a}=n;return ae.createElement(Cce,{withLock:s},s&&ae.createElement(Mce,{locked:a,onClick:()=>o({locked:!a})}),Object.keys(t).map((c,d)=>ae.createElement(Ece,{id:d===0?i:`${i}.${c}`,key:c,valueKey:c,value:t,settings:n[c],onUpdate:e,innerLabelTrim:r})))}const y4=(t,e)=>{const n={};let r=0,i=1/0;Object.entries(t).forEach(([o,s])=>{n[o]=Q5(Wt({value:s},e[o])).settings,r=Math.max(r,n[o].step),i=Math.min(i,n[o].pad)});for(let o in n){const{step:s,min:a,max:c}=e[o]||{};!isFinite(s)&&(!isFinite(a)||!isFinite(c))&&(n[o].step=r,n[o].pad=i)}return n},Tce=["lock"],Pce=["value"];function Rce(t){const e=zo().array().length(t).every.number(),n=r=>{if(!r||typeof r!="object")return!1;const i=Object.values(r);return i.length===t&&i.every(o=>isFinite(o))};return r=>e.test(r)||n(r)}function Ace(t){return Array.isArray(t)?"array":"object"}function jg(t,e,n){return Ace(t)===e?t:e==="array"?Object.values(t):lle(t,n)}const Ice=(t,e,n)=>{const r=jg(t,"object",e.keys);for(let s in r)r[s]=J5(r[s],e[s]);const i=Object.keys(r);let o={};if(i.length===e.keys.length)o=r;else{const s=jg(n,"object",e.keys);if(i.length===1&&e.locked){const a=i[0],c=r[a],d=s[a],f=d!==0?c/d:1;for(let m in s)m===a?o[a]=c:o[m]=s[m]*f}else o=Wt(Wt({},s),r)}return jg(o,e.format,e.keys)},kce=(t,e)=>jg(t,"object",e.keys),Oce=t=>!!t&&("step"in t||"min"in t||"max"in t);function Lce(t,e,n=[]){const{lock:r=!1}=e,i=Gn(e,Tce),o=Array.isArray(t)?"array":"object",s=o==="object"?Object.keys(t):n,a=jg(t,"object",s),c=Oce(i)?s.reduce((f,m)=>Object.assign(f,{[m]:i}),{}):i,d=y4(a,c);return{value:o==="array"?t:a,settings:Wt(Wt({},d),{},{format:o,keys:s,lock:r,locked:!1})}}function x4(t){return{schema:Rce(t.length),normalize:e=>{let{value:n}=e,r=Gn(e,Pce);return Lce(n,r,t)},format:(e,n)=>kce(e,n),sanitize:(e,n,r)=>Ice(e,n,r)}}var Nce={grad:.9,turn:360,rad:360/(2*Math.PI)},Wl=function(t){return typeof t=="string"?t.length>0:typeof t=="number"},hi=function(t,e,n){return e===void 0&&(e=0),n===void 0&&(n=Math.pow(10,e)),Math.round(n*t)/n+0},As=function(t,e,n){return e===void 0&&(e=0),n===void 0&&(n=1),t>n?n:t>e?t:e},b4=function(t){return(t=isFinite(t)?t%360:0)>0?t:t+360},lk=function(t){return{r:As(t.r,0,255),g:As(t.g,0,255),b:As(t.b,0,255),a:As(t.a)}},Cw=function(t){return{r:hi(t.r),g:hi(t.g),b:hi(t.b),a:hi(t.a,3)}},Dce=/^#([0-9a-f]{3,8})$/i,ix=function(t){var e=t.toString(16);return e.length<2?"0"+e:e},_4=function(t){var e=t.r,n=t.g,r=t.b,i=t.a,o=Math.max(e,n,r),s=o-Math.min(e,n,r),a=s?o===e?(n-r)/s:o===n?2+(r-e)/s:4+(e-n)/s:0;return{h:60*(a<0?a+6:a),s:o?s/o*100:0,v:o/255*100,a:i}},S4=function(t){var e=t.h,n=t.s,r=t.v,i=t.a;e=e/360*6,n/=100,r/=100;var o=Math.floor(e),s=r*(1-n),a=r*(1-(e-o)*n),c=r*(1-(1-e+o)*n),d=o%6;return{r:255*[r,a,s,s,c,r][d],g:255*[c,r,r,a,s,s][d],b:255*[s,s,c,r,r,a][d],a:i}},ck=function(t){return{h:b4(t.h),s:As(t.s,0,100),l:As(t.l,0,100),a:As(t.a)}},uk=function(t){return{h:hi(t.h),s:hi(t.s),l:hi(t.l),a:hi(t.a,3)}},dk=function(t){return S4((n=(e=t).s,{h:e.h,s:(n*=((r=e.l)<50?r:100-r)/100)>0?2*n/(r+n)*100:0,v:r+n,a:e.a}));var e,n,r},Xg=function(t){return{h:(e=_4(t)).h,s:(i=(200-(n=e.s))*(r=e.v)/100)>0&&i<200?n*r/100/(i<=100?i:200-i)*100:0,l:i/2,a:e.a};var e,n,r,i},Fce=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,zce=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Uce=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Bce=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,cC={string:[[function(t){var e=Dce.exec(t);return e?(t=e[1]).length<=4?{r:parseInt(t[0]+t[0],16),g:parseInt(t[1]+t[1],16),b:parseInt(t[2]+t[2],16),a:t.length===4?hi(parseInt(t[3]+t[3],16)/255,2):1}:t.length===6||t.length===8?{r:parseInt(t.substr(0,2),16),g:parseInt(t.substr(2,2),16),b:parseInt(t.substr(4,2),16),a:t.length===8?hi(parseInt(t.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(t){var e=Uce.exec(t)||Bce.exec(t);return e?e[2]!==e[4]||e[4]!==e[6]?null:lk({r:Number(e[1])/(e[2]?100/255:1),g:Number(e[3])/(e[4]?100/255:1),b:Number(e[5])/(e[6]?100/255:1),a:e[7]===void 0?1:Number(e[7])/(e[8]?100:1)}):null},"rgb"],[function(t){var e=Fce.exec(t)||zce.exec(t);if(!e)return null;var n,r,i=ck({h:(n=e[1],r=e[2],r===void 0&&(r="deg"),Number(n)*(Nce[r]||1)),s:Number(e[3]),l:Number(e[4]),a:e[5]===void 0?1:Number(e[5])/(e[6]?100:1)});return dk(i)},"hsl"]],object:[[function(t){var e=t.r,n=t.g,r=t.b,i=t.a,o=i===void 0?1:i;return Wl(e)&&Wl(n)&&Wl(r)?lk({r:Number(e),g:Number(n),b:Number(r),a:Number(o)}):null},"rgb"],[function(t){var e=t.h,n=t.s,r=t.l,i=t.a,o=i===void 0?1:i;if(!Wl(e)||!Wl(n)||!Wl(r))return null;var s=ck({h:Number(e),s:Number(n),l:Number(r),a:Number(o)});return dk(s)},"hsl"],[function(t){var e=t.h,n=t.s,r=t.v,i=t.a,o=i===void 0?1:i;if(!Wl(e)||!Wl(n)||!Wl(r))return null;var s=function(a){return{h:b4(a.h),s:As(a.s,0,100),v:As(a.v,0,100),a:As(a.a)}}({h:Number(e),s:Number(n),v:Number(r),a:Number(o)});return S4(s)},"hsv"]]},fk=function(t,e){for(var n=0;n<e.length;n++){var r=e[n][0](t);if(r)return[r,e[n][1]]}return[null,void 0]},w4=function(t){return typeof t=="string"?fk(t.trim(),cC.string):typeof t=="object"&&t!==null?fk(t,cC.object):[null,void 0]},Vce=function(t){return w4(t)[1]},Mw=function(t,e){var n=Xg(t);return{h:n.h,s:As(n.s+100*e,0,100),l:n.l,a:n.a}},Tw=function(t){return(299*t.r+587*t.g+114*t.b)/1e3/255},hk=function(t,e){var n=Xg(t);return{h:n.h,s:n.s,l:As(n.l+100*e,0,100),a:n.a}},uC=function(){function t(e){this.parsed=w4(e)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return t.prototype.isValid=function(){return this.parsed!==null},t.prototype.brightness=function(){return hi(Tw(this.rgba),2)},t.prototype.isDark=function(){return Tw(this.rgba)<.5},t.prototype.isLight=function(){return Tw(this.rgba)>=.5},t.prototype.toHex=function(){return e=Cw(this.rgba),n=e.r,r=e.g,i=e.b,s=(o=e.a)<1?ix(hi(255*o)):"","#"+ix(n)+ix(r)+ix(i)+s;var e,n,r,i,o,s},t.prototype.toRgb=function(){return Cw(this.rgba)},t.prototype.toRgbString=function(){return e=Cw(this.rgba),n=e.r,r=e.g,i=e.b,(o=e.a)<1?"rgba("+n+", "+r+", "+i+", "+o+")":"rgb("+n+", "+r+", "+i+")";var e,n,r,i,o},t.prototype.toHsl=function(){return uk(Xg(this.rgba))},t.prototype.toHslString=function(){return e=uk(Xg(this.rgba)),n=e.h,r=e.s,i=e.l,(o=e.a)<1?"hsla("+n+", "+r+"%, "+i+"%, "+o+")":"hsl("+n+", "+r+"%, "+i+"%)";var e,n,r,i,o},t.prototype.toHsv=function(){return e=_4(this.rgba),{h:hi(e.h),s:hi(e.s),v:hi(e.v),a:hi(e.a,3)};var e},t.prototype.invert=function(){return lo({r:255-(e=this.rgba).r,g:255-e.g,b:255-e.b,a:e.a});var e},t.prototype.saturate=function(e){return e===void 0&&(e=.1),lo(Mw(this.rgba,e))},t.prototype.desaturate=function(e){return e===void 0&&(e=.1),lo(Mw(this.rgba,-e))},t.prototype.grayscale=function(){return lo(Mw(this.rgba,-1))},t.prototype.lighten=function(e){return e===void 0&&(e=.1),lo(hk(this.rgba,e))},t.prototype.darken=function(e){return e===void 0&&(e=.1),lo(hk(this.rgba,-e))},t.prototype.rotate=function(e){return e===void 0&&(e=15),this.hue(this.hue()+e)},t.prototype.alpha=function(e){return typeof e=="number"?lo({r:(n=this.rgba).r,g:n.g,b:n.b,a:e}):hi(this.rgba.a,3);var n},t.prototype.hue=function(e){var n=Xg(this.rgba);return typeof e=="number"?lo({h:e,s:n.s,l:n.l,a:n.a}):hi(n.h)},t.prototype.isEqual=function(e){return this.toHex()===lo(e).toHex()},t}(),lo=function(t){return t instanceof uC?t:new uC(t)},pk=[],$ce=function(t){t.forEach(function(e){pk.indexOf(e)<0&&(e(uC,cC),pk.push(e))})};function Hce(t,e){var n={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},r={};for(var i in n)r[n[i]]=i;var o={};t.prototype.toName=function(s){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var a,c,d=r[this.toHex()];if(d)return d;if(s!=null&&s.closest){var f=this.toRgb(),m=1/0,g="black";if(!o.length)for(var y in n)o[y]=new t(n[y]).toRgb();for(var x in n){var S=(a=f,c=o[x],Math.pow(a.r-c.r,2)+Math.pow(a.g-c.g,2)+Math.pow(a.b-c.b,2));S<m&&(m=S,g=x)}return g}},e.string.push([function(s){var a=s.toLowerCase(),c=a==="transparent"?"#0000":n[a];return c?new t(c).toRgb():null},"name"])}function Kp(){return(Kp=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function hT(t,e){if(t==null)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)e.indexOf(n=o[r])>=0||(i[n]=t[n]);return i}function dC(t){var e=D.useRef(t),n=D.useRef(function(r){e.current&&e.current(r)});return e.current=t,n.current}var Ip=function(t,e,n){return e===void 0&&(e=0),n===void 0&&(n=1),t>n?n:t<e?e:t},qg=function(t){return"touches"in t},fC=function(t){return t&&t.ownerDocument.defaultView||self},mk=function(t,e,n){var r=t.getBoundingClientRect(),i=qg(e)?function(o,s){for(var a=0;a<o.length;a++)if(o[a].identifier===s)return o[a];return o[0]}(e.touches,n):e;return{left:Ip((i.pageX-(r.left+fC(t).pageXOffset))/r.width),top:Ip((i.pageY-(r.top+fC(t).pageYOffset))/r.height)}},gk=function(t){!qg(t)&&t.preventDefault()},pT=ae.memo(function(t){var e=t.onMove,n=t.onKey,r=hT(t,["onMove","onKey"]),i=D.useRef(null),o=dC(e),s=dC(n),a=D.useRef(null),c=D.useRef(!1),d=D.useMemo(function(){var y=function(_){gk(_),(qg(_)?_.touches.length>0:_.buttons>0)&&i.current?o(mk(i.current,_,a.current)):S(!1)},x=function(){return S(!1)};function S(_){var b=c.current,C=fC(i.current),T=_?C.addEventListener:C.removeEventListener;T(b?"touchmove":"mousemove",y),T(b?"touchend":"mouseup",x)}return[function(_){var b=_.nativeEvent,C=i.current;if(C&&(gk(b),!function(A,P){return P&&!qg(A)}(b,c.current)&&C)){if(qg(b)){c.current=!0;var T=b.changedTouches||[];T.length&&(a.current=T[0].identifier)}C.focus(),o(mk(C,b,a.current)),S(!0)}},function(_){var b=_.which||_.keyCode;b<37||b>40||(_.preventDefault(),s({left:b===39?.05:b===37?-.05:0,top:b===40?.05:b===38?-.05:0}))},S]},[s,o]),f=d[0],m=d[1],g=d[2];return D.useEffect(function(){return g},[g]),ae.createElement("div",Kp({},r,{onTouchStart:f,onMouseDown:f,className:"react-colorful__interactive",ref:i,onKeyDown:m,tabIndex:0,role:"slider"}))}),Jv=function(t){return t.filter(Boolean).join(" ")},mT=function(t){var e=t.color,n=t.left,r=t.top,i=r===void 0?.5:r,o=Jv(["react-colorful__pointer",t.className]);return ae.createElement("div",{className:o,style:{top:100*i+"%",left:100*n+"%"}},ae.createElement("div",{className:"react-colorful__pointer-fill",style:{backgroundColor:e}}))},fo=function(t,e,n){return e===void 0&&(e=0),n===void 0&&(n=Math.pow(10,e)),Math.round(n*t)/n},E4=function(t){var e=t.s,n=t.v,r=t.a,i=(200-e)*n/100;return{h:fo(t.h),s:fo(i>0&&i<200?e*n/100/(i<=100?i:200-i)*100:0),l:fo(i/2),a:fo(r,2)}},hC=function(t){var e=E4(t);return"hsl("+e.h+", "+e.s+"%, "+e.l+"%)"},Pw=function(t){var e=E4(t);return"hsla("+e.h+", "+e.s+"%, "+e.l+"%, "+e.a+")"},C4=function(t){var e=t.h,n=t.s,r=t.v,i=t.a;e=e/360*6,n/=100,r/=100;var o=Math.floor(e),s=r*(1-n),a=r*(1-(e-o)*n),c=r*(1-(1-e+o)*n),d=o%6;return{r:fo(255*[r,a,s,s,c,r][d]),g:fo(255*[c,r,r,a,s,s][d]),b:fo(255*[s,s,c,r,r,a][d]),a:fo(i,2)}},M4=function(t){var e=t.r,n=t.g,r=t.b,i=t.a,o=Math.max(e,n,r),s=o-Math.min(e,n,r),a=s?o===e?(n-r)/s:o===n?2+(r-e)/s:4+(e-n)/s:0;return{h:fo(60*(a<0?a+6:a)),s:fo(o?s/o*100:0),v:fo(o/255*100),a:i}},T4=ae.memo(function(t){var e=t.hue,n=t.onChange,r=Jv(["react-colorful__hue",t.className]);return ae.createElement("div",{className:r},ae.createElement(pT,{onMove:function(i){n({h:360*i.left})},onKey:function(i){n({h:Ip(e+360*i.left,0,360)})},"aria-label":"Hue","aria-valuenow":fo(e),"aria-valuemax":"360","aria-valuemin":"0"},ae.createElement(mT,{className:"react-colorful__hue-pointer",left:e/360,color:hC({h:e,s:100,v:100,a:1})})))}),P4=ae.memo(function(t){var e=t.hsva,n=t.onChange,r={backgroundColor:hC({h:e.h,s:100,v:100,a:1})};return ae.createElement("div",{className:"react-colorful__saturation",style:r},ae.createElement(pT,{onMove:function(i){n({s:100*i.left,v:100-100*i.top})},onKey:function(i){n({s:Ip(e.s+100*i.left,0,100),v:Ip(e.v-100*i.top,0,100)})},"aria-label":"Color","aria-valuetext":"Saturation "+fo(e.s)+"%, Brightness "+fo(e.v)+"%"},ae.createElement(mT,{className:"react-colorful__saturation-pointer",top:1-e.v/100,left:e.s/100,color:hC(e)})))}),gT=function(t,e){if(t===e)return!0;for(var n in t)if(t[n]!==e[n])return!1;return!0};function R4(t,e,n){var r=dC(n),i=D.useState(function(){return t.toHsva(e)}),o=i[0],s=i[1],a=D.useRef({color:e,hsva:o});D.useEffect(function(){if(!t.equal(e,a.current.color)){var d=t.toHsva(e);a.current={hsva:d,color:e},s(d)}},[e,t]),D.useEffect(function(){var d;gT(o,a.current.hsva)||t.equal(d=t.fromHsva(o),a.current.color)||(a.current={hsva:o,color:d},r(d))},[o,t,r]);var c=D.useCallback(function(d){s(function(f){return Object.assign({},f,d)})},[]);return[o,c]}var Wce=typeof window<"u"?D.useLayoutEffect:D.useEffect,Gce=function(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:void 0},vk=new Map,A4=function(t){Wce(function(){var e=t.current?t.current.ownerDocument:document;if(e!==void 0&&!vk.has(e)){var n=e.createElement("style");n.innerHTML=`.react-colorful{position:relative;display:flex;flex-direction:column;width:200px;height:200px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.react-colorful__saturation{position:relative;flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(0deg,#000,transparent),linear-gradient(90deg,#fff,hsla(0,0%,100%,0))}.react-colorful__alpha-gradient,.react-colorful__pointer-fill{content:"";position:absolute;left:0;top:0;right:0;bottom:0;pointer-events:none;border-radius:inherit}.react-colorful__alpha-gradient,.react-colorful__saturation{box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}.react-colorful__alpha,.react-colorful__hue{position:relative;height:24px}.react-colorful__hue{background:linear-gradient(90deg,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red)}.react-colorful__last-control{border-radius:0 0 8px 8px}.react-colorful__interactive{position:absolute;left:0;top:0;right:0;bottom:0;border-radius:inherit;outline:none;touch-action:none}.react-colorful__pointer{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}.react-colorful__interactive:focus .react-colorful__pointer{transform:translate(-50%,-50%) scale(1.1)}.react-colorful__alpha,.react-colorful__alpha-pointer{background-color:#fff;background-image:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>')}.react-colorful__saturation-pointer{z-index:3}.react-colorful__hue-pointer{z-index:2}`,vk.set(e,n);var r=Gce();r&&n.setAttribute("nonce",r),e.head.appendChild(n)}},[])},jce=function(t){var e=t.className,n=t.colorModel,r=t.color,i=r===void 0?n.defaultColor:r,o=t.onChange,s=hT(t,["className","colorModel","color","onChange"]),a=D.useRef(null);A4(a);var c=R4(n,i,o),d=c[0],f=c[1],m=Jv(["react-colorful",e]);return ae.createElement("div",Kp({},s,{ref:a,className:m}),ae.createElement(P4,{hsva:d,onChange:f}),ae.createElement(T4,{hue:d.h,onChange:f,className:"react-colorful__last-control"}))},Xce=function(t){var e=t.className,n=t.hsva,r=t.onChange,i={backgroundImage:"linear-gradient(90deg, "+Pw(Object.assign({},n,{a:0}))+", "+Pw(Object.assign({},n,{a:1}))+")"},o=Jv(["react-colorful__alpha",e]),s=fo(100*n.a);return ae.createElement("div",{className:o},ae.createElement("div",{className:"react-colorful__alpha-gradient",style:i}),ae.createElement(pT,{onMove:function(a){r({a:a.left})},onKey:function(a){r({a:Ip(n.a+a.left)})},"aria-label":"Alpha","aria-valuetext":s+"%","aria-valuenow":s,"aria-valuemin":"0","aria-valuemax":"100"},ae.createElement(mT,{className:"react-colorful__alpha-pointer",left:n.a,color:Pw(n)})))},qce=function(t){var e=t.className,n=t.colorModel,r=t.color,i=r===void 0?n.defaultColor:r,o=t.onChange,s=hT(t,["className","colorModel","color","onChange"]),a=D.useRef(null);A4(a);var c=R4(n,i,o),d=c[0],f=c[1],m=Jv(["react-colorful",e]);return ae.createElement("div",Kp({},s,{ref:a,className:m}),ae.createElement(P4,{hsva:d,onChange:f}),ae.createElement(T4,{hue:d.h,onChange:f}),ae.createElement(Xce,{hsva:d,onChange:f,className:"react-colorful__last-control"}))},Yce={defaultColor:{r:0,g:0,b:0,a:1},toHsva:M4,fromHsva:C4,equal:gT},Kce=function(t){return ae.createElement(qce,Kp({},t,{colorModel:Yce}))},Zce={defaultColor:{r:0,g:0,b:0},toHsva:function(t){return M4({r:t.r,g:t.g,b:t.b,a:1})},fromHsva:function(t){return{r:(e=C4(t)).r,g:e.g,b:e.b};var e},equal:gT},Jce=function(t){return ae.createElement(jce,Kp({},t,{colorModel:Zce}))};function Zp(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(f){try{d(r.next(f))}catch(m){s(m)}}function c(f){try{d(r.throw(f))}catch(m){s(m)}}function d(f){f.done?o(f.value):i(f.value).then(a,c)}d((r=r.apply(t,e||[])).next())})}function Jp(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return s.next=a(0),s.throw=a(1),s.return=a(2),typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(d){return function(f){return c([d,f])}}function c(d){if(r)throw new TypeError("Generator is already executing.");for(;s&&(s=0,d[0]&&(n=0)),n;)try{if(r=1,i&&(o=d[0]&2?i.return:d[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,d[1])).done)return o;switch(i=0,o&&(d=[d[0]&2,o.value]),d[0]){case 0:case 1:o=d;break;case 4:return n.label++,{value:d[1],done:!1};case 5:n.label++,i=d[1],d=[0];continue;case 7:d=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(d[0]===6||d[0]===2)){n=0;continue}if(d[0]===3&&(!o||d[1]>o[0]&&d[1]<o[3])){n.label=d[1];break}if(d[0]===6&&n.label<o[1]){n.label=o[1],o=d;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(d);break}o[2]&&n.ops.pop(),n.trys.pop();continue}d=e.call(t,n)}catch(f){d=[6,f],i=0}finally{r=o=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}function Qce(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return o}function eue(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Qce(arguments[e]));return t}var tue=new Map([["aac","audio/aac"],["abw","application/x-abiword"],["arc","application/x-freearc"],["avif","image/avif"],["avi","video/x-msvideo"],["azw","application/vnd.amazon.ebook"],["bin","application/octet-stream"],["bmp","image/bmp"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["cda","application/x-cdf"],["csh","application/x-csh"],["css","text/css"],["csv","text/csv"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["eot","application/vnd.ms-fontobject"],["epub","application/epub+zip"],["gz","application/gzip"],["gif","image/gif"],["heic","image/heic"],["heif","image/heif"],["htm","text/html"],["html","text/html"],["ico","image/vnd.microsoft.icon"],["ics","text/calendar"],["jar","application/java-archive"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["js","text/javascript"],["json","application/json"],["jsonld","application/ld+json"],["mid","audio/midi"],["midi","audio/midi"],["mjs","text/javascript"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mpeg","video/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["opus","audio/opus"],["otf","font/otf"],["png","image/png"],["pdf","application/pdf"],["php","application/x-httpd-php"],["ppt","application/vnd.ms-powerpoint"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["rar","application/vnd.rar"],["rtf","application/rtf"],["sh","application/x-sh"],["svg","image/svg+xml"],["swf","application/x-shockwave-flash"],["tar","application/x-tar"],["tif","image/tiff"],["tiff","image/tiff"],["ts","video/mp2t"],["ttf","font/ttf"],["txt","text/plain"],["vsd","application/vnd.visio"],["wav","audio/wav"],["weba","audio/webm"],["webm","video/webm"],["webp","image/webp"],["woff","font/woff"],["woff2","font/woff2"],["xhtml","application/xhtml+xml"],["xls","application/vnd.ms-excel"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xml","application/xml"],["xul","application/vnd.mozilla.xul+xml"],["zip","application/zip"],["7z","application/x-7z-compressed"],["mkv","video/x-matroska"],["mov","video/quicktime"],["msg","application/vnd.ms-outlook"]]);function Qv(t,e){var n=nue(t);if(typeof n.path!="string"){var r=t.webkitRelativePath;Object.defineProperty(n,"path",{value:typeof e=="string"?e:typeof r=="string"&&r.length>0?r:t.name,writable:!1,configurable:!1,enumerable:!0})}return n}function nue(t){var e=t.name,n=e&&e.lastIndexOf(".")!==-1;if(n&&!t.type){var r=e.split(".").pop().toLowerCase(),i=tue.get(r);i&&Object.defineProperty(t,"type",{value:i,writable:!1,configurable:!1,enumerable:!0})}return t}var rue=[".DS_Store","Thumbs.db"];function iue(t){return Zp(this,void 0,void 0,function(){return Jp(this,function(e){return W1(t)&&oue(t)?[2,cue(t.dataTransfer,t.type)]:sue(t)?[2,aue(t)]:Array.isArray(t)&&t.every(function(n){return"getFile"in n&&typeof n.getFile=="function"})?[2,lue(t)]:[2,[]]})})}function oue(t){return W1(t.dataTransfer)}function sue(t){return W1(t)&&W1(t.target)}function W1(t){return typeof t=="object"&&t!==null}function aue(t){return pC(t.target.files).map(function(e){return Qv(e)})}function lue(t){return Zp(this,void 0,void 0,function(){var e;return Jp(this,function(n){switch(n.label){case 0:return[4,Promise.all(t.map(function(r){return r.getFile()}))];case 1:return e=n.sent(),[2,e.map(function(r){return Qv(r)})]}})})}function cue(t,e){return Zp(this,void 0,void 0,function(){var n,r;return Jp(this,function(i){switch(i.label){case 0:return t===null?[2,[]]:t.items?(n=pC(t.items).filter(function(o){return o.kind==="file"}),e!=="drop"?[2,n]:[4,Promise.all(n.map(uue))]):[3,2];case 1:return r=i.sent(),[2,yk(I4(r))];case 2:return[2,yk(pC(t.files).map(function(o){return Qv(o)}))]}})})}function yk(t){return t.filter(function(e){return rue.indexOf(e.name)===-1})}function pC(t){if(t===null)return[];for(var e=[],n=0;n<t.length;n++){var r=t[n];e.push(r)}return e}function uue(t){if(typeof t.webkitGetAsEntry!="function")return xk(t);var e=t.webkitGetAsEntry();return e&&e.isDirectory?k4(e):xk(t)}function I4(t){return t.reduce(function(e,n){return eue(e,Array.isArray(n)?I4(n):[n])},[])}function xk(t){var e=t.getAsFile();if(!e)return Promise.reject(t+" is not a File");var n=Qv(e);return Promise.resolve(n)}function due(t){return Zp(this,void 0,void 0,function(){return Jp(this,function(e){return[2,t.isDirectory?k4(t):fue(t)]})})}function k4(t){var e=t.createReader();return new Promise(function(n,r){var i=[];function o(){var s=this;e.readEntries(function(a){return Zp(s,void 0,void 0,function(){var c,d,f;return Jp(this,function(m){switch(m.label){case 0:if(a.length)return[3,5];m.label=1;case 1:return m.trys.push([1,3,,4]),[4,Promise.all(i)];case 2:return c=m.sent(),n(c),[3,4];case 3:return d=m.sent(),r(d),[3,4];case 4:return[3,6];case 5:f=Promise.all(a.map(due)),i.push(f),o(),m.label=6;case 6:return[2]}})})},function(a){r(a)})}o()})}function fue(t){return Zp(this,void 0,void 0,function(){return Jp(this,function(e){return[2,new Promise(function(n,r){t.file(function(i){var o=Qv(i,t.fullPath);n(o)},function(i){r(i)})})]})})}var ox={},bk;function hue(){return bk||(bk=1,ox.__esModule=!0,ox.default=function(t,e){if(t&&e){var n=Array.isArray(e)?e:e.split(",");if(n.length===0)return!0;var r=t.name||"",i=(t.type||"").toLowerCase(),o=i.replace(/\/.*$/,"");return n.some(function(s){var a=s.trim().toLowerCase();return a.charAt(0)==="."?r.toLowerCase().endsWith(a):a.endsWith("/*")?o===a.replace(/\/.*$/,""):i===a})}return!0}),ox}var pue=hue();const mue=wu(pue);function _k(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Sk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_k(Object(n),!0).forEach(function(r){O4(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_k(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function O4(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wk(t,e){return xue(t)||yue(t,e)||vue(t,e)||gue()}function gue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vue(t,e){if(t){if(typeof t=="string")return Ek(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ek(t,e)}}function Ek(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function yue(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],i=!0,o=!1,s,a;try{for(n=n.call(t);!(i=(s=n.next()).done)&&(r.push(s.value),!(e&&r.length===e));i=!0);}catch(c){o=!0,a=c}finally{try{!i&&n.return!=null&&n.return()}finally{if(o)throw a}}return r}}function xue(t){if(Array.isArray(t))return t}var bue="file-invalid-type",_ue="file-too-large",Sue="file-too-small",wue="too-many-files",Eue=function(e){e=Array.isArray(e)&&e.length===1?e[0]:e;var n=Array.isArray(e)?"one of ".concat(e.join(", ")):e;return{code:bue,message:"File type must be ".concat(n)}},Ck=function(e){return{code:_ue,message:"File is larger than ".concat(e," ").concat(e===1?"byte":"bytes")}},Mk=function(e){return{code:Sue,message:"File is smaller than ".concat(e," ").concat(e===1?"byte":"bytes")}},Cue={code:wue,message:"Too many files"};function L4(t,e){var n=t.type==="application/x-moz-file"||mue(t,e);return[n,n?null:Eue(e)]}function N4(t,e,n){if(gg(t.size))if(gg(e)&&gg(n)){if(t.size>n)return[!1,Ck(n)];if(t.size<e)return[!1,Mk(e)]}else{if(gg(e)&&t.size<e)return[!1,Mk(e)];if(gg(n)&&t.size>n)return[!1,Ck(n)]}return[!0,null]}function gg(t){return t!=null}function Mue(t){var e=t.files,n=t.accept,r=t.minSize,i=t.maxSize,o=t.multiple,s=t.maxFiles;return!o&&e.length>1||o&&s>=1&&e.length>s?!1:e.every(function(a){var c=L4(a,n),d=wk(c,1),f=d[0],m=N4(a,r,i),g=wk(m,1),y=g[0];return f&&y})}function G1(t){return typeof t.isPropagationStopped=="function"?t.isPropagationStopped():typeof t.cancelBubble<"u"?t.cancelBubble:!1}function sx(t){return t.dataTransfer?Array.prototype.some.call(t.dataTransfer.types,function(e){return e==="Files"||e==="application/x-moz-file"}):!!t.target&&!!t.target.files}function Tk(t){t.preventDefault()}function Tue(t){return t.indexOf("MSIE")!==-1||t.indexOf("Trident/")!==-1}function Pue(t){return t.indexOf("Edge/")!==-1}function Rue(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return Tue(t)||Pue(t)}function Va(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(r){for(var i=arguments.length,o=new Array(i>1?i-1:0),s=1;s<i;s++)o[s-1]=arguments[s];return e.some(function(a){return!G1(r)&&a&&a.apply(void 0,[r].concat(o)),G1(r)})}}function Aue(){return"showOpenFilePicker"in window}function Iue(t){return t=typeof t=="string"?t.split(","):t,[{description:"everything",accept:Array.isArray(t)?t.filter(function(e){return e==="audio/*"||e==="video/*"||e==="image/*"||e==="text/*"||/\w+\/[-+.\w]+/g.test(e)}).reduce(function(e,n){return Sk(Sk({},e),{},O4({},n,[]))},{}):{}}]}function kue(t){return t instanceof DOMException&&(t.name==="AbortError"||t.code===t.ABORT_ERR)}function Oue(t){return t instanceof DOMException&&(t.name==="SecurityError"||t.code===t.SECURITY_ERR)}var Lue=["children"],Nue=["open"],Due=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],Fue=["refKey","onChange","onClick"];function zue(t){return Vue(t)||Bue(t)||D4(t)||Uue()}function Uue(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bue(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Vue(t){if(Array.isArray(t))return mC(t)}function Rw(t,e){return Wue(t)||Hue(t,e)||D4(t,e)||$ue()}function $ue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function D4(t,e){if(t){if(typeof t=="string")return mC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return mC(t,e)}}function mC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Hue(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],i=!0,o=!1,s,a;try{for(n=n.call(t);!(i=(s=n.next()).done)&&(r.push(s.value),!(e&&r.length===e));i=!0);}catch(c){o=!0,a=c}finally{try{!i&&n.return!=null&&n.return()}finally{if(o)throw a}}return r}}function Wue(t){if(Array.isArray(t))return t}function Pk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Pk(Object(n),!0).forEach(function(r){gC(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Pk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gC(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function j1(t,e){if(t==null)return{};var n=Gue(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Gue(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var vT=D.forwardRef(function(t,e){var n=t.children,r=j1(t,Lue),i=z4(r),o=i.open,s=j1(i,Nue);return D.useImperativeHandle(e,function(){return{open:o}},[o]),ae.createElement(D.Fragment,null,n(gr(gr({},s),{},{open:o})))});vT.displayName="Dropzone";var F4={disabled:!1,getFilesFromEvent:iue,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!0};vT.defaultProps=F4;vT.propTypes={children:er.func,accept:er.oneOfType([er.string,er.arrayOf(er.string)]),multiple:er.bool,preventDropOnDocument:er.bool,noClick:er.bool,noKeyboard:er.bool,noDrag:er.bool,noDragEventsBubbling:er.bool,minSize:er.number,maxSize:er.number,maxFiles:er.number,disabled:er.bool,getFilesFromEvent:er.func,onFileDialogCancel:er.func,onFileDialogOpen:er.func,useFsAccessApi:er.bool,onDragEnter:er.func,onDragLeave:er.func,onDragOver:er.func,onDrop:er.func,onDropAccepted:er.func,onDropRejected:er.func,validator:er.func};var vC={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,draggedFiles:[],acceptedFiles:[],fileRejections:[]};function z4(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=gr(gr({},F4),t),n=e.accept,r=e.disabled,i=e.getFilesFromEvent,o=e.maxSize,s=e.minSize,a=e.multiple,c=e.maxFiles,d=e.onDragEnter,f=e.onDragLeave,m=e.onDragOver,g=e.onDrop,y=e.onDropAccepted,x=e.onDropRejected,S=e.onFileDialogCancel,_=e.onFileDialogOpen,b=e.useFsAccessApi,C=e.preventDropOnDocument,T=e.noClick,A=e.noKeyboard,P=e.noDrag,R=e.noDragEventsBubbling,k=e.validator,z=D.useMemo(function(){return typeof _=="function"?_:Rk},[_]),L=D.useMemo(function(){return typeof S=="function"?S:Rk},[S]),O=D.useRef(null),B=D.useRef(null),j=D.useReducer(jue,vC),X=Rw(j,2),ee=X[0],K=X[1],ne=ee.isFocused,se=ee.isFileDialogActive,V=ee.draggedFiles,Q=D.useRef(typeof window<"u"&&window.isSecureContext&&b&&Aue()),Z=function(){!Q.current&&se&&setTimeout(function(){if(B.current){var pe=B.current.files;pe.length||(K({type:"closeDialog"}),L())}},300)};D.useEffect(function(){return window.addEventListener("focus",Z,!1),function(){window.removeEventListener("focus",Z,!1)}},[B,se,L,Q]);var W=D.useRef([]),le=function(pe){O.current&&O.current.contains(pe.target)||(pe.preventDefault(),W.current=[])};D.useEffect(function(){return C&&(document.addEventListener("dragover",Tk,!1),document.addEventListener("drop",le,!1)),function(){C&&(document.removeEventListener("dragover",Tk),document.removeEventListener("drop",le))}},[O,C]);var Ie=D.useCallback(function(re){re.preventDefault(),re.persist(),Ve(re),W.current=[].concat(zue(W.current),[re.target]),sx(re)&&Promise.resolve(i(re)).then(function(pe){G1(re)&&!R||(K({draggedFiles:pe,isDragActive:!0,type:"setDraggedFiles"}),d&&d(re))})},[i,d,R]),fe=D.useCallback(function(re){re.preventDefault(),re.persist(),Ve(re);var pe=sx(re);if(pe&&re.dataTransfer)try{re.dataTransfer.dropEffect="copy"}catch{}return pe&&m&&m(re),!1},[m,R]),Me=D.useCallback(function(re){re.preventDefault(),re.persist(),Ve(re);var pe=W.current.filter(function(Ce){return O.current&&O.current.contains(Ce)}),ke=pe.indexOf(re.target);ke!==-1&&pe.splice(ke,1),W.current=pe,!(pe.length>0)&&(K({isDragActive:!1,type:"setDraggedFiles",draggedFiles:[]}),sx(re)&&f&&f(re))},[O,f,R]),De=D.useCallback(function(re,pe){var ke=[],Ce=[];re.forEach(function(tt){var Qe=L4(tt,n),St=Rw(Qe,2),Mt=St[0],We=St[1],dt=N4(tt,s,o),Pt=Rw(dt,2),Lt=Pt[0],pt=Pt[1],ue=k?k(tt):null;if(Mt&&Lt&&!ue)ke.push(tt);else{var Ne=[We,pt];ue&&(Ne=Ne.concat(ue)),Ce.push({file:tt,errors:Ne.filter(function(st){return st})})}}),(!a&&ke.length>1||a&&c>=1&&ke.length>c)&&(ke.forEach(function(tt){Ce.push({file:tt,errors:[Cue]})}),ke.splice(0)),K({acceptedFiles:ke,fileRejections:Ce,type:"setFiles"}),g&&g(ke,Ce,pe),Ce.length>0&&x&&x(Ce,pe),ke.length>0&&y&&y(ke,pe)},[K,a,n,s,o,c,g,y,x,k]),Le=D.useCallback(function(re){re.preventDefault(),re.persist(),Ve(re),W.current=[],sx(re)&&Promise.resolve(i(re)).then(function(pe){G1(re)&&!R||De(pe,re)}),K({type:"reset"})},[i,De,R]),ge=D.useCallback(function(){if(Q.current){K({type:"openDialog"}),z();var re={multiple:a,types:Iue(n)};window.showOpenFilePicker(re).then(function(pe){return i(pe)}).then(function(pe){De(pe,null),K({type:"closeDialog"})}).catch(function(pe){kue(pe)?(L(pe),K({type:"closeDialog"})):Oue(pe)&&(Q.current=!1,B.current&&(B.current.value=null,B.current.click()))});return}B.current&&(K({type:"openDialog"}),z(),B.current.value=null,B.current.click())},[K,z,L,b,De,n,a]),be=D.useCallback(function(re){!O.current||!O.current.isEqualNode(re.target)||(re.key===" "||re.key==="Enter"||re.keyCode===32||re.keyCode===13)&&(re.preventDefault(),ge())},[O,ge]),Fe=D.useCallback(function(){K({type:"focus"})},[]),Ye=D.useCallback(function(){K({type:"blur"})},[]),at=D.useCallback(function(){T||(Rue()?setTimeout(ge,0):ge())},[T,ge]),Ge=function(pe){return r?null:pe},q=function(pe){return A?null:Ge(pe)},Xe=function(pe){return P?null:Ge(pe)},Ve=function(pe){R&&pe.stopPropagation()},He=D.useMemo(function(){return function(){var re=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},pe=re.refKey,ke=pe===void 0?"ref":pe,Ce=re.role,tt=re.onKeyDown,Qe=re.onFocus,St=re.onBlur,Mt=re.onClick,We=re.onDragEnter,dt=re.onDragOver,Pt=re.onDragLeave,Lt=re.onDrop,pt=j1(re,Due);return gr(gr(gC({onKeyDown:q(Va(tt,be)),onFocus:q(Va(Qe,Fe)),onBlur:q(Va(St,Ye)),onClick:Ge(Va(Mt,at)),onDragEnter:Xe(Va(We,Ie)),onDragOver:Xe(Va(dt,fe)),onDragLeave:Xe(Va(Pt,Me)),onDrop:Xe(Va(Lt,Le)),role:typeof Ce=="string"&&Ce!==""?Ce:"button"},ke,O),!r&&!A?{tabIndex:0}:{}),pt)}},[O,be,Fe,Ye,at,Ie,fe,Me,Le,A,P,r]),ze=D.useCallback(function(re){re.stopPropagation()},[]),ot=D.useMemo(function(){return function(){var re=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},pe=re.refKey,ke=pe===void 0?"ref":pe,Ce=re.onChange,tt=re.onClick,Qe=j1(re,Fue),St=gC({accept:n,multiple:a,type:"file",style:{display:"none"},onChange:Ge(Va(Ce,Le)),onClick:Ge(Va(tt,ze)),tabIndex:-1},ke,B);return gr(gr({},St),Qe)}},[B,n,a,Le,r]),Be=V.length,Y=Be>0&&Mue({files:V,accept:n,minSize:s,maxSize:o,multiple:a,maxFiles:c}),$=Be>0&&!Y;return gr(gr({},ee),{},{isDragAccept:Y,isDragReject:$,isFocused:ne&&!r,getRootProps:He,getInputProps:ot,rootRef:O,inputRef:B,open:Ge(ge)})}function jue(t,e){switch(e.type){case"focus":return gr(gr({},t),{},{isFocused:!0});case"blur":return gr(gr({},t),{},{isFocused:!1});case"openDialog":return gr(gr({},vC),{},{isFileDialogActive:!0});case"closeDialog":return gr(gr({},t),{},{isFileDialogActive:!1});case"setDraggedFiles":var n=e.isDragActive,r=e.draggedFiles;return gr(gr({},t),{},{draggedFiles:r,isDragActive:n});case"setFiles":return gr(gr({},t),{},{acceptedFiles:e.acceptedFiles,fileRejections:e.fileRejections});case"reset":return gr({},vC);default:return t}}function Rk(){}/*!
 * isobject <https://github.com/jonschlinkert/isobject>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var Aw,Ak;function Xue(){return Ak||(Ak=1,Aw=function(e){return e!=null&&typeof e=="object"&&Array.isArray(e)===!1}),Aw}/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var Iw,Ik;function U4(){if(Ik)return Iw;Ik=1;var t=Xue();function e(n){return t(n)===!0&&Object.prototype.toString.call(n)==="[object Object]"}return Iw=function(r){var i,o;return!(e(r)===!1||(i=r.constructor,typeof i!="function")||(o=i.prototype,e(o)===!1)||o.hasOwnProperty("isPrototypeOf")===!1)},Iw}/*!
 * is-extendable <https://github.com/jonschlinkert/is-extendable>
 *
 * Copyright (c) 2015-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var kw,kk;function yT(){if(kk)return kw;kk=1;var t=U4();return kw=function(n){return t(n)||typeof n=="function"||Array.isArray(n)},kw}/*!
 * for-in <https://github.com/jonschlinkert/for-in>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var Ow,Ok;function que(){return Ok||(Ok=1,Ow=function(e,n,r){for(var i in e)if(n.call(r,e[i],i,e)===!1)break}),Ow}var Lw,Lk;function Yue(){if(Lk)return Lw;Lk=1;var t=yT(),e=que();function n(s,a){for(var c=arguments.length,d=0;++d<c;){var f=arguments[d];i(f)&&e(f,r,s)}return s}function r(s,a){if(o(a)){var c=this[a];i(s)&&i(c)?n(c,s):this[a]=s}}function i(s){return t(s)&&!Array.isArray(s)}function o(s){return s!=="__proto__"&&s!=="constructor"&&s!=="prototype"}return Lw=n,Lw}/*!
 * get-value <https://github.com/jonschlinkert/get-value>
 *
 * Copyright (c) 2014-2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */var Nw,Nk;function Kue(){if(Nk)return Nw;Nk=1,Nw=function(n,r,i,o,s){if(!t(n)||!r)return n;if(r=e(r),i&&(r+="."+e(i)),o&&(r+="."+e(o)),s&&(r+="."+e(s)),r in n)return n[r];for(var a=r.split("."),c=a.length,d=-1;n&&++d<c;){for(var f=a[d];f[f.length-1]==="\\";)f=f.slice(0,-1)+"."+a[++d];n=n[f]}return n};function t(n){return n!==null&&(typeof n=="object"||typeof n=="function")}function e(n){return n?Array.isArray(n)?n.join("."):n:""}return Nw}/*!
 * assign-symbols <https://github.com/jonschlinkert/assign-symbols>
 *
 * Copyright (c) 2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */var Dw,Dk;function Zue(){return Dk||(Dk=1,Dw=function(t,e){if(t===null||typeof t>"u")throw new TypeError("expected first argument to be an object.");if(typeof e>"u"||typeof Symbol>"u"||typeof Object.getOwnPropertySymbols!="function")return t;for(var n=Object.prototype.propertyIsEnumerable,r=Object(t),i=arguments.length,o=0;++o<i;)for(var s=Object(arguments[o]),a=Object.getOwnPropertySymbols(s),c=0;c<a.length;c++){var d=a[c];n.call(s,d)&&(r[d]=s[d])}return r}),Dw}var Fw,Fk;function Jue(){if(Fk)return Fw;Fk=1;var t=yT(),e=Zue();Fw=Object.assign||function(a){if(a===null||typeof a>"u")throw new TypeError("Cannot convert undefined or null to object");o(a)||(a={});for(var c=1;c<arguments.length;c++){var d=arguments[c];r(d)&&(d=i(d)),o(d)&&(n(a,d),e(a,d))}return a};function n(a,c){for(var d in c)s(c,d)&&(a[d]=c[d])}function r(a){return a&&typeof a=="string"}function i(a){var c={};for(var d in a)c[d]=a[d];return c}function o(a){return a&&typeof a=="object"||t(a)}function s(a,c){return Object.prototype.hasOwnProperty.call(a,c)}return Fw}/*!
 * split-string <https://github.com/jonschlinkert/split-string>
 *
 * Copyright (c) 2015-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var zw,zk;function Que(){if(zk)return zw;zk=1;var t=Jue();zw=function(i,o,s){if(typeof i!="string")throw new TypeError("expected a string");typeof o=="function"&&(s=o,o=null),typeof o=="string"&&(o={sep:o});var a=t({sep:"."},o),c=a.quotes||['"',"'","`"],d;a.brackets===!0?d={"<":">","(":")","[":"]","{":"}"}:a.brackets&&(d=a.brackets);var f=[],m=[],g=[""],y=a.sep,x=i.length,S=-1,_;function b(){if(d&&m.length)return d[m[m.length-1]]}for(;++S<x;){var C=i[S],T=i[S+1],A={val:C,idx:S,arr:g,str:i};if(f.push(A),C==="\\"){A.val=r(a,i,S)===!0?C+T:T,A.escaped=!0,typeof s=="function"&&s(A),g[g.length-1]+=A.val,S++;continue}if(d&&d[C]){m.push(C);var P=b(),R=S+1;if(i.indexOf(P,R+1)!==-1)for(;m.length&&R<x;){var k=i[++R];if(k==="\\"){k++;continue}if(c.indexOf(k)!==-1){R=e(i,k,R+1);continue}if(P=b(),m.length&&i.indexOf(P,R+1)===-1)break;if(d[k]){m.push(k);continue}P===k&&m.pop()}if(_=R,_===-1){g[g.length-1]+=C;continue}C=i.slice(S,_+1),A.val=C,A.idx=S=_}if(c.indexOf(C)!==-1){if(_=e(i,C,S+1),_===-1){g[g.length-1]+=C;continue}n(C,a)===!0?C=i.slice(S,_+1):C=i.slice(S+1,_),A.val=C,A.idx=S=_}if(typeof s=="function"&&(s(A,f),C=A.val,S=A.idx),A.val===y&&A.split!==!1){g.push("");continue}g[g.length-1]+=A.val}return g};function e(i,o,s,a){var c=i.indexOf(o,s);return i.charAt(c-1)==="\\"?e(i,o,c+1):c}function n(i,o){return o.keepDoubleQuotes===!0&&i==='"'||o.keepSingleQuotes===!0&&i==="'"?!0:o.keepQuotes}function r(i,o,s){return typeof i.keepEscaping=="function"?i.keepEscaping(o,s):i.keepEscaping===!0||o[s+1]==="\\"}return zw}/*!
 * is-extendable <https://github.com/jonschlinkert/is-extendable>
 *
 * Copyright (c) 2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */var Uw,Uk;function ede(){return Uk||(Uk=1,Uw=function(e){return typeof e<"u"&&e!==null&&(typeof e=="object"||typeof e=="function")}),Uw}var Bw,Bk;function tde(){if(Bk)return Bw;Bk=1;var t=ede();Bw=function(i){t(i)||(i={});for(var o=arguments.length,s=1;s<o;s++){var a=arguments[s];t(a)&&e(i,a)}return i};function e(r,i){for(var o in i)n(i,o)&&(r[o]=i[o])}function n(r,i){return Object.prototype.hasOwnProperty.call(r,i)}return Bw}/*!
 * is-extendable <https://github.com/jonschlinkert/is-extendable>
 *
 * Copyright (c) 2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */var Vw,Vk;function nde(){return Vk||(Vk=1,Vw=function(e){return typeof e<"u"&&e!==null&&(typeof e=="object"||typeof e=="function")}),Vw}/*!
 * set-value <https://github.com/jonschlinkert/set-value>
 *
 * Copyright (c) 2014-2015, 2017, Jon Schlinkert.
 * Released under the MIT License.
 */var $w,$k;function rde(){if($k)return $w;$k=1;var t=Que(),e=tde(),n=U4(),r=nde();$w=function(o,s,a){if(!r(o)||(Array.isArray(s)&&(s=[].concat.apply([],s).join(".")),typeof s!="string"))return o;for(var c=t(s,{sep:".",brackets:!0}).filter(i),d=c.length,f=-1,m=o;++f<d;){var g=c[f];if(f!==d-1){r(m[g])||(m[g]={}),m=m[g];continue}n(m[g])&&n(a)?m[g]=e({},m[g],a):m[g]=a}return o};function i(o){return o!=="__proto__"&&o!=="constructor"&&o!=="prototype"}return $w}var Hw,Hk;function ide(){if(Hk)return Hw;Hk=1;var t=yT(),e=Yue(),n=Kue(),r=rde();return Hw=function(o,s,a){if(!t(o))throw new TypeError("expected an object");if(typeof s!="string"||a==null)return e.apply(null,arguments);if(typeof a=="string")return r(o,s,a),o;var c=n(o,s);return t(a)&&t(c)&&(a=e({},c,a)),r(o,s,a),o},Hw}var ode=ide();const sde=wu(ode),xT=(...t)=>t.filter(Boolean).join(".");function ade(t){const e=t.split(".");return[e.pop(),e.join(".")||void 0]}function lde(t,e){return Object.entries(sle(t,e)).reduce((n,[,{value:r,disabled:i,key:o}])=>(n[o]=i?void 0:r,n),{})}function cde(t,e){const n=D.useRef();return xv(t,n.current)||(n.current=t),n.current}function B4(t,e){return D.useMemo(t,cde(e))}function ude(t){const e=D.useRef(null),n=D.useRef(null),r=D.useRef(!0);return D.useLayoutEffect(()=>{t||(e.current.style.height="0px",e.current.style.overflow="hidden")},[]),D.useEffect(()=>{if(r.current){r.current=!1;return}let i;const o=e.current,s=()=>{t&&(o.style.removeProperty("height"),o.style.removeProperty("overflow"),n.current.scrollIntoView({behavior:"smooth",block:"nearest"}))};o.addEventListener("transitionend",s,{once:!0});const{height:a}=n.current.getBoundingClientRect();return o.style.height=a+"px",t||(o.style.overflow="hidden",i=window.setTimeout(()=>o.style.height="0px",50)),()=>{o.removeEventListener("transitionend",s),clearTimeout(i)}},[t]),{wrapperRef:e,contentRef:n}}const dde=t=>{const[e,n]=D.useState(t.getVisiblePaths());return D.useEffect(()=>{n(t.getVisiblePaths());const r=t.useStore.subscribe(t.getVisiblePaths,n,{equalityFn:t_});return()=>r()},[t]),e};function fde(t,e,n){return t.useStore(i=>{const o=Wt(Wt({},n),i.data);return lde(o,e)},t_)}function V4(t=3){const e=D.useRef(null),n=D.useRef(null),[r,i]=D.useState(!1),o=D.useCallback(()=>i(!0),[]),s=D.useCallback(()=>i(!1),[]);return D.useLayoutEffect(()=>{if(r){const{bottom:a,top:c,left:d}=e.current.getBoundingClientRect(),{height:f}=n.current.getBoundingClientRect(),m=a+f>window.innerHeight-40?"up":"down";n.current.style.position="fixed",n.current.style.zIndex="10000",n.current.style.left=d+"px",m==="down"?n.current.style.top=a+t+"px":n.current.style.bottom=window.innerHeight-c+t+"px"}},[t,r]),{popinRef:e,wrapperRef:n,shown:r,show:o,hide:s}}$ce([Hce]);const hde={rgb:"toRgb",hsl:"toHsl",hsv:"toHsv",hex:"toHex"};zo.extend({color:()=>t=>lo(t).isValid()});const pde=t=>zo().color().test(t);function $4(t,{format:e,hasAlpha:n,isString:r}){const i=hde[e]+(r&&e!=="hex"?"String":""),o=t[i]();return typeof o=="object"&&!n?ale(o,["a"]):o}const H4=(t,e)=>{const n=lo(t);if(!n.isValid())throw Error("Invalid color");return $4(n,e)},mde=(t,e)=>$4(lo(t),Wt(Wt({},e),{},{isString:!0,format:"hex"})),gde=({value:t})=>{const e=Vce(t),n=e==="name"?"hex":e,r=typeof t=="object"?"a"in t:e==="hex"&&t.length===8||/^(rgba)|(hsla)|(hsva)/.test(t),i={format:n,hasAlpha:r,isString:typeof t=="string"};return{value:H4(t,i),settings:i}};var vde=Object.freeze({__proto__:null,schema:pde,sanitize:H4,format:mde,normalize:gde});const yde=Vt("div",{position:"relative",boxSizing:"border-box",borderRadius:"$sm",overflow:"hidden",cursor:"pointer",height:"$rowHeight",width:"$rowHeight",backgroundColor:"#fff",backgroundImage:`url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>')`,$inputStyle:"",$hover:"",zIndex:1,variants:{active:{true:{$inputStyle:"$accent1"}}},"&::before":{content:'""',position:"absolute",top:0,bottom:0,right:0,left:0,backgroundColor:"currentColor",zIndex:1}}),xde=Vt("div",{position:"relative",display:"grid",gridTemplateColumns:"$sizes$rowHeight auto",columnGap:"$colGap",alignItems:"center"}),bde=Vt("div",{width:"$colorPickerWidth",height:"$colorPickerHeight",".react-colorful":{width:"100%",height:"100%",boxShadow:"$level2",cursor:"crosshair"},".react-colorful__saturation":{borderRadius:"$sm $sm 0 0"},".react-colorful__alpha, .react-colorful__hue":{height:10},".react-colorful__last-control":{borderRadius:"0 0 $sm $sm"},".react-colorful__pointer":{height:12,width:12}});function Wk(t,e){return e!=="rgb"?lo(t).toRgb():t}function _de({value:t,displayValue:e,settings:n,onUpdate:r}){const{emitOnEditStart:i,emitOnEditEnd:o}=qi(),{format:s,hasAlpha:a}=n,{popinRef:c,wrapperRef:d,shown:f,show:m,hide:g}=V4(),y=D.useRef(0),[x,S]=D.useState(()=>Wk(t,s)),_=a?Kce:Jce,b=()=>{S(Wk(t,s)),m(),i()},C=()=>{g(),o(),window.clearTimeout(y.current)},T=()=>{y.current=window.setTimeout(C,500)};return D.useEffect(()=>()=>window.clearTimeout(y.current),[]),ae.createElement(ae.Fragment,null,ae.createElement(yde,{ref:c,active:f,onClick:()=>b(),style:{color:e}}),f&&ae.createElement(uT,null,ae.createElement(d4,{onPointerUp:C}),ae.createElement(bde,{ref:d,onMouseEnter:()=>window.clearTimeout(y.current),onMouseLeave:A=>A.buttons===0&&T()},ae.createElement(_,{color:x,onChange:r}))))}function Sde(){const{value:t,displayValue:e,label:n,onChange:r,onUpdate:i,settings:o}=qi();return ae.createElement(Ds,{input:!0},ae.createElement(wa,null,n),ae.createElement(xde,null,ae.createElement(_de,{value:t,displayValue:e,onChange:r,onUpdate:i,settings:o}),ae.createElement(cT,{value:e,onChange:r,onUpdate:i})))}var wde=Wt({component:Sde},vde);function Ede(){const{label:t,displayValue:e,onUpdate:n,settings:r}=qi();return ae.createElement(Ds,{input:!0},ae.createElement(wa,null,t),ae.createElement(fT,{value:e,settings:r,onUpdate:n}))}var Cde=Wt({component:Ede},x4(["x","y","z"]));const Mde=Vt("div",{$flexCenter:"",position:"relative",backgroundColor:"$elevation3",borderRadius:"$sm",cursor:"pointer",height:"$rowHeight",width:"$rowHeight",touchAction:"none",$draggable:"",$hover:"","&:active":{cursor:"none"},"&::after":{content:'""',backgroundColor:"$accent2",height:4,width:4,borderRadius:2}}),Tde=Vt("div",{$flexCenter:"",width:"$joystickWidth",height:"$joystickHeight",borderRadius:"$sm",boxShadow:"$level2",position:"fixed",zIndex:1e4,overflow:"hidden",$draggable:"",transform:"translate(-50%, -50%)",variants:{isOutOfBounds:{true:{backgroundColor:"$elevation1"},false:{backgroundColor:"$elevation3"}}},"> div":{position:"absolute",$flexCenter:"",borderStyle:"solid",borderWidth:1,borderColor:"$highlight1",backgroundColor:"$elevation3",width:"80%",height:"80%","&::after,&::before":{content:'""',position:"absolute",zindex:10,backgroundColor:"$highlight1"},"&::before":{width:"100%",height:1},"&::after":{height:"100%",width:1}},"> span":{position:"relative",zindex:100,width:10,height:10,backgroundColor:"$accent2",borderRadius:"50%"}});function Pde({value:t,settings:e,onUpdate:n}){const r=D.useRef(),i=D.useRef(0),o=D.useRef(0),s=D.useRef(1),[a,c]=D.useState(!1),[d,f]=D.useState(!1),[m,g]=h4(),y=D.useRef(null),x=D.useRef(null);D.useLayoutEffect(()=>{if(a){const{top:j,left:X,width:ee,height:K}=y.current.getBoundingClientRect();x.current.style.left=X+ee/2+"px",x.current.style.top=j+K/2+"px"}},[a]);const{keys:[S,_],joystick:b}=e,C=b==="invertY"?1:-1,{[S]:{step:T},[_]:{step:A}}=e,P=oc("sizes","joystickWidth"),R=oc("sizes","joystickHeight"),k=parseFloat(P)*.8/2,z=parseFloat(R)*.8/2,L=D.useCallback(()=>{r.current||(f(!0),i.current&&g({x:i.current*k}),o.current&&g({y:o.current*-z}),r.current=window.setInterval(()=>{n(j=>{const X=T*i.current*s.current,ee=C*A*o.current*s.current;return Array.isArray(j)?{[S]:j[0]+X,[_]:j[1]+ee}:{[S]:j[S]+X,[_]:j[_]+ee}})},16))},[k,z,n,g,T,A,S,_,C]),O=D.useCallback(()=>{window.clearTimeout(r.current),r.current=void 0,f(!1)},[]);D.useEffect(()=>{function j(X){s.current=Z5(X)}return window.addEventListener("keydown",j),window.addEventListener("keyup",j),()=>{window.clearTimeout(r.current),window.removeEventListener("keydown",j),window.removeEventListener("keyup",j)}},[]);const B=Zv(({first:j,active:X,delta:[ee,K],movement:[ne,se]})=>{j&&c(!0);const V=Su(ne,-k,k),Q=Su(se,-z,z);i.current=Math.abs(ne)>Math.abs(V)?Math.sign(ne-V):0,o.current=Math.abs(se)>Math.abs(Q)?Math.sign(Q-se):0;let Z=t[S],W=t[_];X?(i.current||(Z+=ee*T*s.current,g({x:V})),o.current||(W-=C*K*A*s.current,g({y:Q})),i.current||o.current?L():O(),n({[S]:Z,[_]:W})):(c(!1),i.current=0,o.current=0,g({x:0,y:0}),O())});return ae.createElement(Mde,Pr({ref:y},B()),a&&ae.createElement(uT,null,ae.createElement(Tde,{ref:x,isOutOfBounds:d},ae.createElement("div",null),ae.createElement("span",{ref:m}))))}const Rde=Vt("div",{display:"grid",columnGap:"$colGap",variants:{withJoystick:{true:{gridTemplateColumns:"$sizes$rowHeight auto"},false:{gridTemplateColumns:"auto"}}}});function Ade(){const{label:t,displayValue:e,onUpdate:n,settings:r}=qi();return ae.createElement(Ds,{input:!0},ae.createElement(wa,null,t),ae.createElement(Rde,{withJoystick:!!r.joystick},r.joystick&&ae.createElement(Pde,{value:e,settings:r,onUpdate:n}),ae.createElement(fT,{value:e,settings:r,onUpdate:n})))}const Ide=["joystick"],W4=x4(["x","y"]),kde=t=>{let{joystick:e=!0}=t,n=Gn(t,Ide);const{value:r,settings:i}=W4.normalize(n);return{value:r,settings:Wt(Wt({},i),{},{joystick:e})}};var Ode=Wt(Wt({component:Ade},W4),{},{normalize:kde});const Lde=t=>{if(t!==void 0){if(t instanceof File)try{return URL.createObjectURL(t)}catch{return}if(typeof t=="string"&&t.indexOf("blob:")===0)return t;throw Error("Invalid image format [undefined | blob |File].")}},Nde=(t,e)=>typeof e=="object"&&"image"in e,Dde=({image:t})=>({value:t});var Fde=Object.freeze({__proto__:null,sanitize:Lde,schema:Nde,normalize:Dde});const zde=Vt("div",{position:"relative",display:"grid",gridTemplateColumns:"$sizes$rowHeight auto 20px",columnGap:"$colGap",alignItems:"center"}),Ude=Vt("div",{$flexCenter:"",overflow:"hidden",height:"$rowHeight",background:"$elevation3",textAlign:"center",color:"inherit",borderRadius:"$sm",outline:"none",userSelect:"none",cursor:"pointer",$inputStyle:"",$hover:"",$focusWithin:"",$active:"$accent1 $elevation1",variants:{isDragAccept:{true:{$inputStyle:"$accent1",backgroundColor:"$elevation1"}}}}),Bde=Vt("div",{boxSizing:"border-box",borderRadius:"$sm",height:"$rowHeight",width:"$rowHeight",$inputStyle:"",backgroundSize:"cover",backgroundPosition:"center",variants:{hasImage:{true:{cursor:"pointer",$hover:"",$active:""}}}}),Vde=Vt("div",{$flexCenter:"",width:"$imagePreviewWidth",height:"$imagePreviewHeight",borderRadius:"$sm",boxShadow:"$level2",pointerEvents:"none",$inputStyle:"",backgroundSize:"cover",backgroundPosition:"center"}),$de=Vt("div",{fontSize:"0.8em",height:"100%",padding:"$rowGap $md"}),Hde=Vt("div",{$flexCenter:"",top:"0",right:"0",marginRight:"$sm",height:"100%",cursor:"pointer",variants:{disabled:{true:{color:"$elevation3",cursor:"default"}}},"&::after,&::before":{content:'""',position:"absolute",height:2,width:10,borderRadius:1,backgroundColor:"currentColor"},"&::after":{transform:"rotate(45deg)"},"&::before":{transform:"rotate(-45deg)"}});function Wde(){const{label:t,value:e,onUpdate:n,disabled:r}=qi(),{popinRef:i,wrapperRef:o,shown:s,show:a,hide:c}=V4(),d=D.useCallback(x=>{x.length&&n(x[0])},[n]),f=D.useCallback(x=>{x.stopPropagation(),n(void 0)},[n]),{getRootProps:m,getInputProps:g,isDragAccept:y}=z4({maxFiles:1,accept:"image/*",onDrop:d,disabled:r});return ae.createElement(Ds,{input:!0},ae.createElement(wa,null,t),ae.createElement(zde,null,ae.createElement(Bde,{ref:i,hasImage:!!e,onPointerDown:()=>!!e&&a(),onPointerUp:c,style:{backgroundImage:e?`url(${e})`:"none"}}),s&&!!e&&ae.createElement(uT,null,ae.createElement(d4,{onPointerUp:c,style:{cursor:"pointer"}}),ae.createElement(Vde,{ref:o,style:{backgroundImage:`url(${e})`}})),ae.createElement(Ude,m({isDragAccept:y}),ae.createElement("input",g()),ae.createElement($de,null,y?"drop image":"click or drop")),ae.createElement(Hde,{onClick:f,disabled:!e})))}var Gde=Wt({component:Wde},Fde);const Gk=zo().number(),jde=(t,e)=>zo().array().length(2).every.number().test(t)&&zo().schema({min:Gk,max:Gk}).test(e),X1=t=>({min:t[0],max:t[1]}),G4=(t,{bounds:[e,n]},r)=>{const i=Array.isArray(t)?X1(t):t,o={min:r[0],max:r[1]},{min:s,max:a}=Wt(Wt({},o),i);return[Su(Number(s),e,Math.max(e,a)),Su(Number(a),Math.min(n,s),n)]},Xde=({value:t,min:e,max:n})=>{const r={min:e,max:n},i=y4(X1(t),{min:r,max:r}),o=[e,n],s=Wt(Wt({},i),{},{bounds:o});return{value:G4(X1(t),s,t),settings:s}};var qde=Object.freeze({__proto__:null,schema:jde,format:X1,sanitize:G4,normalize:Xde});const Yde=["value","bounds","onDrag"],Kde=["bounds"],Zde=Vt("div",{display:"grid",columnGap:"$colGap",gridTemplateColumns:"auto calc($sizes$numberInputMinWidth * 2 + $space$rowGap)"});function Jde(t){let{value:e,bounds:[n,r],onDrag:i}=t,o=Gn(t,Yde);const s=D.useRef(null),a=D.useRef(null),c=D.useRef(null),d=D.useRef(0),f=oc("sizes","scrubberWidth"),m=Zv(({event:x,first:S,xy:[_],movement:[b],memo:C={}})=>{if(S){const{width:A,left:P}=s.current.getBoundingClientRect();d.current=A-parseFloat(f);const R=(x==null?void 0:x.target)===a.current||(x==null?void 0:x.target)===c.current;C.pos=$1((_-P)/A,n,r);const k=Math.abs(C.pos-e.min)-Math.abs(C.pos-e.max);C.key=k<0||k===0&&C.pos<=e.min?"min":"max",R&&(C.pos=e[C.key])}const T=C.pos+$1(b/d.current,0,r-n);return i({[C.key]:qle(T,o[C.key])}),C}),g=`calc(${V1(e.min,n,r)} * (100% - ${f} - 8px) + 4px)`,y=`calc(${1-V1(e.max,n,r)} * (100% - ${f} - 8px) + 4px)`;return ae.createElement(m4,Pr({ref:s},m()),ae.createElement(p4,null,ae.createElement(g4,{style:{left:g,right:y}})),ae.createElement(aC,{position:"left",ref:a,style:{left:g}}),ae.createElement(aC,{position:"right",ref:c,style:{right:y}}))}function Qde(){const{label:t,displayValue:e,onUpdate:n,settings:r}=qi(),i=Gn(r,Kde);return ae.createElement(ae.Fragment,null,ae.createElement(Ds,{input:!0},ae.createElement(wa,null,t),ae.createElement(Zde,null,ae.createElement(Jde,Pr({value:e},r,{onDrag:n})),ae.createElement(fT,{value:e,settings:i,onUpdate:n,innerLabelTrim:0}))))}var efe=Wt({component:Qde},qde);const tfe=()=>{const t=new Map;return{on:(e,n)=>{let r=t.get(e);r===void 0&&(r=new Set,t.set(e,r)),r.add(n)},off:(e,n)=>{const r=t.get(e);r!==void 0&&(r.delete(n),r.size===0&&t.delete(e))},emit:(e,...n)=>{const r=t.get(e);if(r!==void 0)for(const i of r)i(...n)}}},nfe=["type","value"],rfe=["onChange","transient","onEditStart","onEditEnd"],ife=function(){const e=YM(aoe(()=>({data:{}}))),n=tfe();this.storeId=ole(),this.useStore=e;const r={},i=new Set;this.getVisiblePaths=()=>{const s=this.getData(),a=Object.keys(s),c=[];Object.entries(r).forEach(([f,m])=>{m.render&&a.some(g=>g.indexOf(f)===0)&&!m.render(this.get)&&c.push(f+".")});const d=[];return i.forEach(f=>{f in s&&s[f].__refCount>0&&c.every(m=>f.indexOf(m)===-1)&&(!s[f].render||s[f].render(this.get))&&d.push(f)}),d},this.setOrderedPaths=s=>{s.forEach(a=>i.add(a))},this.orderPaths=s=>(this.setOrderedPaths(s),s),this.disposePaths=s=>{e.setState(a=>{const c=a.data;return s.forEach(d=>{if(d in c){const f=c[d];f.__refCount--,f.__refCount===0&&f.type in va&&delete c[d]}}),{data:c}})},this.dispose=()=>{e.setState(()=>({data:{}}))},this.getFolderSettings=s=>r[s]||{},this.getData=()=>e.getState().data,this.addData=(s,a)=>{e.setState(c=>{const d=c.data;return Object.entries(s).forEach(([f,m])=>{let g=d[f];if(g){const{type:y,value:x}=m,S=Gn(m,nfe);y!==g.type?Zl(vr.INPUT_TYPE_OVERRIDE,y):((g.__refCount===0||a)&&Object.assign(g,S),g.__refCount++)}else d[f]=Wt(Wt({},m),{},{__refCount:1})}),{data:d}})},this.setValueAtPath=(s,a,c)=>{e.setState(d=>{const f=d.data;return ak(f[s],a,s,this,c),{data:f}})},this.setSettingsAtPath=(s,a)=>{e.setState(c=>{const d=c.data;return d[s].settings=Wt(Wt({},d[s].settings),a),{data:d}})},this.disableInputAtPath=(s,a)=>{e.setState(c=>{const d=c.data;return d[s].disabled=a,{data:d}})},this.set=(s,a)=>{e.setState(c=>{const d=c.data;return Object.entries(s).forEach(([f,m])=>{try{ak(d[f],m,void 0,void 0,a)}catch{}}),{data:d}})},this.getInput=s=>{try{return this.getData()[s]}catch{Zl(vr.PATH_DOESNT_EXIST,s)}},this.get=s=>{var a;return(a=this.getInput(s))===null||a===void 0?void 0:a.value},this.emitOnEditStart=s=>{n.emit(`onEditStart:${s}`,this.get(s),s,Wt(Wt({},this.getInput(s)),{},{get:this.get}))},this.emitOnEditEnd=s=>{n.emit(`onEditEnd:${s}`,this.get(s),s,Wt(Wt({},this.getInput(s)),{},{get:this.get}))},this.subscribeToEditStart=(s,a)=>{const c=`onEditStart:${s}`;return n.on(c,a),()=>n.off(c,a)},this.subscribeToEditEnd=(s,a)=>{const c=`onEditEnd:${s}`;return n.on(c,a),()=>n.off(c,a)};const o=(s,a,c)=>{const d={};return Object.entries(s).forEach(([f,m])=>{if(f==="")return Zl(vr.EMPTY_KEY);let g=xT(a,f);if(m.type===va.FOLDER){const y=o(m.schema,g,c);Object.assign(d,y),g in r||(r[g]=m.settings)}else if(f in c)Zl(vr.DUPLICATE_KEYS,f,g,c[f].path);else{const y=hle(m,f,g,d);if(y){const{type:x,options:S,input:_}=y,{onChange:b,transient:C,onEditStart:T,onEditEnd:A}=S,P=Gn(S,rfe);d[g]=Wt(Wt(Wt({type:x},P),_),{},{fromPanel:!0}),c[f]={path:g,onChange:b,transient:C,onEditStart:T,onEditEnd:A}}else Zl(vr.UNKNOWN_INPUT,g,m)}}),d};this.getDataFromSchema=s=>{const a={};return[o(s,"",a),a]}},j4=new ife,ofe={collapsed:!1};function sfe(t,e){return{type:va.FOLDER,schema:t,settings:Wt(Wt({},ofe),e)}}const jk=t=>"__levaInput"in t,afe=(t,e)=>{const n={},r=e?e.toLowerCase():null;return t.forEach(i=>{const[o,s]=ade(i);(!r||o.toLowerCase().indexOf(r)>-1)&&sde(n,s,{[o]:{__levaInput:!0,path:i}})}),n},lfe=["type","label","path","valueKey","value","settings","setValue","disabled"];function cfe(t){let{type:e,label:n,path:r,valueKey:i,value:o,settings:s,setValue:a,disabled:c}=t,d=Gn(t,lfe);const{displayValue:f,onChange:m,onUpdate:g}=f4({type:e,value:o,settings:s,setValue:a}),y=af[e].component;return y?ae.createElement(n4.Provider,{value:Wt({key:i,path:r,id:""+r,label:n,displayValue:f,value:o,onChange:m,onUpdate:g,settings:s,setValue:a,disabled:c},d)},ae.createElement(kle,{disabled:c},ae.createElement(y,null))):(Zl(vr.NO_COMPONENT_FOR_TYPE,e,r),null)}const ufe=Vt("button",{display:"block",$reset:"",fontWeight:"$button",height:"$rowHeight",borderStyle:"none",borderRadius:"$sm",backgroundColor:"$elevation1",color:"$highlight1","&:not(:disabled)":{color:"$highlight3",backgroundColor:"$accent2",cursor:"pointer",$hover:"$accent3",$active:"$accent3 $accent1",$focus:""}});function dfe({onClick:t,settings:e,label:n}){const r=Kv();return ae.createElement(Ds,null,ae.createElement(ufe,{disabled:e.disabled,onClick:()=>t(r.get)},n))}const ffe=Vt("div",{$flex:"",justifyContent:"flex-end",gap:"$colGap"}),hfe=Vt("button",{$reset:"",cursor:"pointer",borderRadius:"$xs","&:hover":{backgroundColor:"$elevation3"}}),pfe=({label:t,opts:e})=>{let n=typeof t=="string"&&t.trim()===""?null:t,r=e;return typeof e.opts=="object"&&(r.label!==void 0&&(n=e.label),r=e.opts),{label:n,opts:r}};function mfe(t){const{label:e,opts:n}=pfe(t),r=Kv();return ae.createElement(Ds,{input:!!e},e&&ae.createElement(wa,null,e),ae.createElement(ffe,null,Object.entries(n).map(([i,o])=>ae.createElement(hfe,{key:i,onClick:()=>o(r.get)},i))))}const gfe=Vt("canvas",{height:"$monitorHeight",width:"100%",display:"block",borderRadius:"$sm"}),X4=100;function vfe(t,e){t.push(e),t.length>X4&&t.shift()}const yfe=D.forwardRef(function({initialValue:t},e){const n=oc("colors","highlight3"),r=oc("colors","elevation2"),i=oc("colors","highlight1"),[o,s]=D.useMemo(()=>[lo(i).alpha(.4).toRgbString(),lo(i).alpha(.1).toRgbString()],[i]),a=D.useRef([t]),c=D.useRef(t),d=D.useRef(t),f=D.useRef(),m=D.useCallback((x,S)=>{if(!x)return;const{width:_,height:b}=x,C=new Path2D,T=_/X4,A=b*.05;for(let k=0;k<a.current.length;k++){const z=V1(a.current[k],c.current,d.current),L=T*k,O=b-z*(b-A*2)-A;C.lineTo(L,O)}S.clearRect(0,0,_,b);const P=new Path2D(C);P.lineTo(T*(a.current.length+1),b),P.lineTo(0,b),P.lineTo(0,0);const R=S.createLinearGradient(0,0,0,b);R.addColorStop(0,o),R.addColorStop(1,s),S.fillStyle=R,S.fill(P),S.strokeStyle=r,S.lineJoin="round",S.lineWidth=14,S.stroke(C),S.strokeStyle=n,S.lineWidth=2,S.stroke(C)},[n,r,o,s]),[g,y]=Vle(m);return D.useImperativeHandle(e,()=>({frame:x=>{(c.current===void 0||x<c.current)&&(c.current=x),(d.current===void 0||x>d.current)&&(d.current=x),vfe(a.current,x),f.current=requestAnimationFrame(()=>m(g.current,y.current))}}),[g,y,m]),D.useEffect(()=>()=>cancelAnimationFrame(f.current),[]),ae.createElement(gfe,{ref:g})}),Xk=t=>Number.isFinite(t)?t.toPrecision(2):t.toString(),xfe=D.forwardRef(function({initialValue:t},e){const[n,r]=D.useState(Xk(t));return D.useImperativeHandle(e,()=>({frame:i=>r(Xk(i))}),[]),ae.createElement("div",null,n)});function qk(t){return typeof t=="function"?t():t.current}function bfe({label:t,objectOrFn:e,settings:n}){const r=D.useRef(),i=D.useRef(qk(e));return D.useEffect(()=>{const o=window.setInterval(()=>{var s;document.hidden||(s=r.current)===null||s===void 0||s.frame(qk(e))},n.interval);return()=>window.clearInterval(o)},[e,n.interval]),ae.createElement(Ds,{input:!0},ae.createElement(wa,{align:"top"},t),n.graph?ae.createElement(yfe,{ref:r,initialValue:i.current}):ae.createElement(xfe,{ref:r,initialValue:i.current}))}const _fe=["type","label","key"],Sfe={[va.BUTTON]:dfe,[va.BUTTON_GROUP]:mfe,[va.MONITOR]:bfe},wfe=ae.memo(({path:t})=>{const[e,{set:n,setSettings:r,disable:i,storeId:o,emitOnEditStart:s,emitOnEditEnd:a}]=Hle(t);if(!e)return null;const{type:c,label:d,key:f}=e,m=Gn(e,_fe);if(c in va){const g=Sfe[c];return ae.createElement(g,Pr({label:d,path:t},m))}return c in af?ae.createElement(cfe,Pr({key:o+t,type:c,label:d,storeId:o,path:t,valueKey:f,setValue:n,setSettings:r,disable:i,emitOnEditStart:s,emitOnEditEnd:a},m)):(Zae(vr.UNSUPPORTED_INPUT,c,t),null)});function Efe({toggle:t,toggled:e,name:n}){return ae.createElement(Rle,{onClick:()=>t()},ae.createElement(dT,{toggled:e}),ae.createElement("div",null,n))}const Cfe=({name:t,path:e,tree:n})=>{const r=Kv(),i=xT(e,t),{collapsed:o,color:s}=r.getFolderSettings(i),[a,c]=D.useState(!o),d=D.useRef(null),f=oc("colors","folderWidgetColor"),m=oc("colors","folderTextColor");return D.useLayoutEffect(()=>{d.current.style.setProperty("--leva-colors-folderWidgetColor",s||f),d.current.style.setProperty("--leva-colors-folderTextColor",s||m)},[s,f,m]),ae.createElement(H1,{ref:d},ae.createElement(Efe,{name:t,toggled:a,toggle:()=>c(g=>!g)}),ae.createElement(q4,{parent:i,tree:n,toggled:a}))},q4=ae.memo(({isRoot:t=!1,fill:e=!1,flat:n=!1,parent:r,tree:i,toggled:o})=>{const{wrapperRef:s,contentRef:a}=ude(o),c=Kv(),d=([m,g])=>{var y;return(jk(g)?(y=c.getInput(g.path))===null||y===void 0?void 0:y.order:c.getFolderSettings(xT(r,m)).order)||0},f=Object.entries(i).sort((m,g)=>d(m)-d(g));return ae.createElement(oC,{ref:s,isRoot:t,fill:e,flat:n},ae.createElement(l4,{ref:a,isRoot:t,toggled:o},f.map(([m,g])=>jk(g)?ae.createElement(wfe,{key:g.path,valueKey:g.valueKey,path:g.path}):ae.createElement(Cfe,{key:m,name:m,path:r,tree:g}))))}),Mfe=Vt("div",{position:"relative",fontFamily:"$mono",fontSize:"$root",color:"$rootText",backgroundColor:"$elevation1",variants:{fill:{false:{position:"fixed",top:"10px",right:"10px",zIndex:1e3,width:"$rootWidth"},true:{position:"relative",width:"100%"}},flat:{false:{borderRadius:"$lg",boxShadow:"$level1"}},oneLineLabels:{true:{[`${u4}`]:{gridTemplateColumns:"auto",gridAutoColumns:"minmax(max-content, 1fr)",gridAutoRows:"minmax($sizes$rowHeight), auto)",rowGap:0,columnGap:0,marginTop:"$rowGap"}}},hideTitleBar:{true:{$$titleBarHeight:"0px"},false:{$$titleBarHeight:"$sizes$titleBarHeight"}}},"&,*,*:after,*:before":{boxSizing:"border-box"},"*::selection":{backgroundColor:"$accent2"}}),Y4=40,q1=Vt("i",{$flexCenter:"",width:Y4,userSelect:"none",cursor:"pointer","> svg":{fill:"$highlight1",transition:"transform 350ms ease, fill 250ms ease"},"&:hover > svg":{fill:"$highlight3"},variants:{active:{true:{"> svg":{fill:"$highlight2"}}}}}),Tfe=Vt("div",{display:"flex",alignItems:"stretch",justifyContent:"space-between",height:"$titleBarHeight",variants:{mode:{drag:{cursor:"grab"}}}}),Pfe=Vt("div",{$flex:"",position:"relative",width:"100%",overflow:"hidden",transition:"height 250ms ease",color:"$highlight3",paddingLeft:"$md",[`> ${q1}`]:{height:30},variants:{toggled:{true:{height:30},false:{height:0}}}}),Rfe=Vt("input",{$reset:"",flex:1,position:"relative",height:30,width:"100%",backgroundColor:"transparent",fontSize:"10px",borderRadius:"$root","&:focus":{},"&::placeholder":{color:"$highlight2"}}),Afe=Vt("div",{touchAction:"none",$flexCenter:"",flex:1,"> svg":{fill:"$highlight1"},color:"$highlight1",variants:{drag:{true:{$draggable:"","> svg":{transition:"fill 250ms ease"},"&:hover":{color:"$highlight3"},"&:hover > svg":{fill:"$highlight3"}}},filterEnabled:{false:{paddingRight:Y4}}}}),Ife=ae.forwardRef(({setFilter:t,toggle:e},n)=>{const[r,i]=D.useState(""),o=D.useMemo(()=>K5(t,250),[t]),s=()=>{t(""),i("")},a=c=>{const d=c.currentTarget.value;e(!0),i(d)};return D.useEffect(()=>{o(r)},[r,o]),ae.createElement(ae.Fragment,null,ae.createElement(Rfe,{ref:n,value:r,placeholder:"[Open filter with CMD+SHIFT+L]",onPointerDown:c=>c.stopPropagation(),onChange:a}),ae.createElement(q1,{onClick:()=>s(),style:{visibility:r?"visible":"hidden"}},ae.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:"14",width:"14",viewBox:"0 0 20 20",fill:"currentColor"},ae.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"}))))});function kfe({setFilter:t,onDrag:e,onDragStart:n,onDragEnd:r,toggle:i,toggled:o,title:s,drag:a,filterEnabled:c,from:d}){const[f,m]=D.useState(!1),g=D.useRef(null);D.useEffect(()=>{var x,S;f?(x=g.current)===null||x===void 0||x.focus():(S=g.current)===null||S===void 0||S.blur()},[f]);const y=Zv(({offset:[x,S],first:_,last:b})=>{e({x,y:S}),_&&n({x,y:S}),b&&r({x,y:S})},{filterTaps:!0,from:({offset:[x,S]})=>[(d==null?void 0:d.x)||x,(d==null?void 0:d.y)||S]});return D.useEffect(()=>{const x=S=>{S.key==="L"&&S.shiftKey&&S.metaKey&&m(_=>!_)};return window.addEventListener("keydown",x),()=>window.removeEventListener("keydown",x)},[]),ae.createElement(ae.Fragment,null,ae.createElement(Tfe,{mode:a?"drag":void 0},ae.createElement(q1,{active:!o,onClick:()=>i()},ae.createElement(dT,{toggled:o,width:12,height:8})),ae.createElement(Afe,Pr({},a?y():{},{drag:a,filterEnabled:c}),s===void 0&&a?ae.createElement("svg",{width:"20",height:"10",viewBox:"0 0 28 14",xmlns:"http://www.w3.org/2000/svg"},ae.createElement("circle",{cx:"2",cy:"2",r:"2"}),ae.createElement("circle",{cx:"14",cy:"2",r:"2"}),ae.createElement("circle",{cx:"26",cy:"2",r:"2"}),ae.createElement("circle",{cx:"2",cy:"12",r:"2"}),ae.createElement("circle",{cx:"14",cy:"12",r:"2"}),ae.createElement("circle",{cx:"26",cy:"12",r:"2"})):s),c&&ae.createElement(q1,{active:f,onClick:()=>m(x=>!x)},ae.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:"20",viewBox:"0 0 20 20"},ae.createElement("path",{d:"M9 9a2 2 0 114 0 2 2 0 01-4 0z"}),ae.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-13a4 4 0 00-3.446 6.032l-2.261 2.26a1 1 0 101.414 1.415l2.261-2.261A4 4 0 1011 5z",clipRule:"evenodd"})))),ae.createElement(Pfe,{toggled:f},ae.createElement(Ife,{ref:g,setFilter:t,toggle:i})))}const Ofe=["store","hidden","theme","collapsed"];function Lfe(t){let{store:e,hidden:n=!1,theme:r,collapsed:i=!1}=t,o=Gn(t,Ofe);const s=B4(()=>wle(r),[r]),[a,c]=D.useState(!i),d=typeof i=="object"?!i.collapsed:a,f=D.useMemo(()=>typeof i=="object"?m=>{typeof m=="function"?i.onChange(!m(!i.collapsed)):i.onChange(!m)}:c,[i]);return!e||n?null:ae.createElement(lT.Provider,{value:s},ae.createElement(Nfe,Pr({store:e},o,{toggled:d,setToggle:f,rootClass:s.className})))}const Nfe=ae.memo(({store:t,rootClass:e,fill:n=!1,flat:r=!1,neverHide:i=!1,oneLineLabels:o=!1,titleBar:s={title:void 0,drag:!0,filter:!0,position:void 0,onDrag:void 0,onDragStart:void 0,onDragEnd:void 0},hideCopyButton:a=!1,toggled:c,setToggle:d})=>{var f,m;const g=dde(t),[y,x]=D.useState(""),S=D.useMemo(()=>afe(g,y),[g,y]),[_,b]=h4(),C=i||g.length>0,T=typeof s=="object"&&s.title||void 0,A=typeof s=="object"&&(f=s.drag)!==null&&f!==void 0?f:!0,P=typeof s=="object"&&(m=s.filter)!==null&&m!==void 0?m:!0,R=typeof s=="object"&&s.position||void 0,k=typeof s=="object"&&s.onDrag||void 0,z=typeof s=="object"&&s.onDragStart||void 0,L=typeof s=="object"&&s.onDragEnd||void 0;return ae.useEffect(()=>{b({x:R==null?void 0:R.x,y:R==null?void 0:R.y})},[R,b]),Sle(),ae.createElement(i4.Provider,{value:{hideCopyButton:a}},ae.createElement(Mfe,{ref:_,className:e,fill:n,flat:r,oneLineLabels:o,hideTitleBar:!s,style:{display:C?"block":"none"}},s&&ae.createElement(kfe,{onDrag:O=>{b(O),k==null||k(O)},onDragStart:O=>z==null?void 0:z(O),onDragEnd:O=>L==null?void 0:L(O),setFilter:x,toggle:O=>d(B=>O??!B),toggled:c,title:T,drag:A,filterEnabled:P,from:R}),C&&ae.createElement(r4.Provider,{value:t},ae.createElement(q4,{isRoot:!0,fill:n,flat:r,tree:S,toggled:c}))))}),Dfe=["isRoot"];let Y1=!1,Xd=null;function K4(t){let{isRoot:e=!1}=t,n=Gn(t,Dfe);return D.useEffect(()=>(Y1=!0,!e&&Xd&&(Xd.remove(),Xd=null),()=>{e||(Y1=!1)}),[e]),ae.createElement(Lfe,Pr({store:j4},n))}function Ffe(t){D.useEffect(()=>{t&&!Y1&&(Xd||(Xd=document.getElementById("leva__root")||Object.assign(document.createElement("div"),{id:"leva__root"}),document.body&&(document.body.appendChild(Xd),dM.createRoot(Xd).render(ae.createElement(K4,{isRoot:!0})))),Y1=!0)},[t])}function zfe(t,e,n,r,i){let o,s,a,c,d;return typeof t=="string"?(s=t,o=e,Array.isArray(n)&&(d=n)):(o=t,Array.isArray(e)?d=e:(c=e,d=n)),{schema:o,folderName:s,folderSettings:a,hookSettings:c,deps:d||[]}}function Ufe(t,e,n,r,i){const{folderName:o,schema:s,folderSettings:a,hookSettings:c,deps:d}=zfe(t,e,n),f=typeof s=="function",m=D.useRef(!1),g=D.useRef(!0),y=B4(()=>{m.current=!0;const B=typeof s=="function"?s():s;return o?{[o]:sfe(B,a)}:B},d),x=!(c!=null&&c.store);Ffe(x);const[S]=D.useState(()=>(c==null?void 0:c.store)||j4),[_,b]=D.useMemo(()=>S.getDataFromSchema(y),[S,y]),[C,T,A,P,R]=D.useMemo(()=>{const B=[],j=[],X={},ee={},K={};return Object.values(b).forEach(({path:ne,onChange:se,onEditStart:V,onEditEnd:Q,transient:Z})=>{B.push(ne),se?(X[ne]=se,Z||j.push(ne)):j.push(ne),V&&(ee[ne]=V),Q&&(K[ne]=Q)}),[B,j,X,ee,K]},[b]),k=D.useMemo(()=>S.orderPaths(C),[C,S]),z=fde(S,T,_),L=D.useCallback(B=>{const j=Object.entries(B).reduce((X,[ee,K])=>Object.assign(X,{[b[ee].path]:K}),{});S.set(j,!1)},[S,b]),O=D.useCallback(B=>S.get(b[B].path),[S,b]);return D.useEffect(()=>{const B=!g.current&&m.current;return S.addData(_,B),g.current=!1,m.current=!1,()=>S.disposePaths(k)},[S,k,_]),D.useEffect(()=>{const B=[];return Object.entries(A).forEach(([j,X])=>{X(S.get(j),j,Wt({initial:!0,get:S.get},S.getInput(j)));const ee=S.useStore.subscribe(K=>{const ne=K.data[j];return[ne.disabled?void 0:ne.value,ne]},([K,ne])=>X(K,j,Wt({initial:!1,get:S.get},ne)),{equalityFn:t_});B.push(ee)}),()=>B.forEach(j=>j())},[S,A]),D.useEffect(()=>{const B=[];return Object.entries(P).forEach(([j,X])=>B.push(S.subscribeToEditStart(j,X))),Object.entries(R).forEach(([j,X])=>B.push(S.subscribeToEditEnd(j,X))),()=>B.forEach(j=>j())},[P,R,S]),f?[z,L,O]:z}xc(ba.SELECT,sce);xc(ba.IMAGE,Gde);xc(ba.NUMBER,Kle);xc(ba.COLOR,wde);xc(ba.STRING,mce);xc(ba.BOOLEAN,Sce);xc(ba.INTERVAL,efe);xc(ba.VECTOR3D,Cde);xc(ba.VECTOR2D,Ode);var bT=t0(),Tn=t=>e0(t,bT),_T=t0();Tn.write=t=>e0(t,_T);var l_=t0();Tn.onStart=t=>e0(t,l_);var ST=t0();Tn.onFrame=t=>e0(t,ST);var wT=t0();Tn.onFinish=t=>e0(t,wT);var gp=[];Tn.setTimeout=(t,e)=>{const n=Tn.now()+e,r=()=>{const o=gp.findIndex(s=>s.cancel==r);~o&&gp.splice(o,1),du-=~o?1:0},i={time:n,handler:t,cancel:r};return gp.splice(Z4(n),0,i),du+=1,J4(),i};var Z4=t=>~(~gp.findIndex(e=>e.time>t)||~gp.length);Tn.cancel=t=>{l_.delete(t),ST.delete(t),wT.delete(t),bT.delete(t),_T.delete(t)};Tn.sync=t=>{yC=!0,Tn.batchedUpdates(t),yC=!1};Tn.throttle=t=>{let e;function n(){try{t(...e)}finally{e=null}}function r(...i){e=i,Tn.onStart(n)}return r.handler=t,r.cancel=()=>{l_.delete(n),e=null},r};var ET=typeof window<"u"?window.requestAnimationFrame:()=>{};Tn.use=t=>ET=t;Tn.now=typeof performance<"u"?()=>performance.now():Date.now;Tn.batchedUpdates=t=>t();Tn.catch=console.error;Tn.frameLoop="always";Tn.advance=()=>{Tn.frameLoop!=="demand"?console.warn("Cannot call the manual advancement of rafz whilst frameLoop is not set as demand"):eU()};var uu=-1,du=0,yC=!1;function e0(t,e){yC?(e.delete(t),t(0)):(e.add(t),J4())}function J4(){uu<0&&(uu=0,Tn.frameLoop!=="demand"&&ET(Q4))}function Bfe(){uu=-1}function Q4(){~uu&&(ET(Q4),Tn.batchedUpdates(eU))}function eU(){const t=uu;uu=Tn.now();const e=Z4(uu);if(e&&(tU(gp.splice(0,e),n=>n.handler()),du-=e),!du){Bfe();return}l_.flush(),bT.flush(t?Math.min(64,uu-t):16.667),ST.flush(),_T.flush(),wT.flush()}function t0(){let t=new Set,e=t;return{add(n){du+=e==t&&!t.has(n)?1:0,t.add(n)},delete(n){return du-=e==t&&t.has(n)?1:0,t.delete(n)},flush(n){e.size&&(t=new Set,du-=e.size,tU(e,r=>r(n)&&t.add(r)),du+=t.size,e=t)}}}function tU(t,e){t.forEach(n=>{try{e(n)}catch(r){Tn.catch(r)}})}var Vfe=Object.defineProperty,$fe=(t,e)=>{for(var n in e)Vfe(t,n,{get:e[n],enumerable:!0})},kp={};$fe(kp,{assign:()=>jfe,colors:()=>hu,createStringInterpolator:()=>MT,skipAnimation:()=>rU,to:()=>nU,willAdvance:()=>TT});function Hfe(){}var Wfe=(t,e,n)=>Object.defineProperty(t,e,{value:n,writable:!0,configurable:!0}),Kn={arr:Array.isArray,obj:t=>!!t&&t.constructor.name==="Object",fun:t=>typeof t=="function",str:t=>typeof t=="string",num:t=>typeof t=="number",und:t=>t===void 0};function Gfe(t,e){if(Kn.arr(t)){if(!Kn.arr(e)||t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}return t===e}var No=(t,e)=>t.forEach(e);function K1(t,e,n){if(Kn.arr(t)){for(let r=0;r<t.length;r++)e.call(n,t[r],`${r}`);return}for(const r in t)t.hasOwnProperty(r)&&e.call(n,t[r],r)}var Ag=t=>Kn.und(t)?[]:Kn.arr(t)?t:[t],CT=()=>typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),MT,nU,hu=null,rU=!1,TT=Hfe,jfe=t=>{t.to&&(nU=t.to),t.now&&(Tn.now=t.now),t.colors!==void 0&&(hu=t.colors),t.skipAnimation!=null&&(rU=t.skipAnimation),t.createStringInterpolator&&(MT=t.createStringInterpolator),t.requestAnimationFrame&&Tn.use(t.requestAnimationFrame),t.batchedUpdates&&(Tn.batchedUpdates=t.batchedUpdates),t.willAdvance&&(TT=t.willAdvance),t.frameLoop&&(Tn.frameLoop=t.frameLoop)},Yg=new Set,Ts=[],Ww=[],Z1=0,PT={get idle(){return!Yg.size&&!Ts.length},start(t){Z1>t.priority?(Yg.add(t),Tn.onStart(Xfe)):(iU(t),Tn(xC))},advance:xC,sort(t){if(Z1)Tn.onFrame(()=>PT.sort(t));else{const e=Ts.indexOf(t);~e&&(Ts.splice(e,1),oU(t))}},clear(){Ts=[],Yg.clear()}};function Xfe(){Yg.forEach(iU),Yg.clear(),Tn(xC)}function iU(t){Ts.includes(t)||oU(t)}function oU(t){Ts.splice(qfe(Ts,e=>e.priority>t.priority),0,t)}function xC(t){const e=Ww;for(let n=0;n<Ts.length;n++){const r=Ts[n];Z1=r.priority,r.idle||(TT(r),r.advance(t),r.idle||e.push(r))}return Z1=0,Ww=Ts,Ww.length=0,Ts=e,Ts.length>0}function qfe(t,e){const n=t.findIndex(e);return n<0?t.length:n}var Yfe={transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199},ga="[-+]?\\d*\\.?\\d+",J1=ga+"%";function c_(...t){return"\\(\\s*("+t.join(")\\s*,\\s*(")+")\\s*\\)"}var Kfe=new RegExp("rgb"+c_(ga,ga,ga)),Zfe=new RegExp("rgba"+c_(ga,ga,ga,ga)),Jfe=new RegExp("hsl"+c_(ga,J1,J1)),Qfe=new RegExp("hsla"+c_(ga,J1,J1,ga)),ehe=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,the=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,nhe=/^#([0-9a-fA-F]{6})$/,rhe=/^#([0-9a-fA-F]{8})$/;function ihe(t){let e;return typeof t=="number"?t>>>0===t&&t>=0&&t<=4294967295?t:null:(e=nhe.exec(t))?parseInt(e[1]+"ff",16)>>>0:hu&&hu[t]!==void 0?hu[t]:(e=Kfe.exec(t))?(Xh(e[1])<<24|Xh(e[2])<<16|Xh(e[3])<<8|255)>>>0:(e=Zfe.exec(t))?(Xh(e[1])<<24|Xh(e[2])<<16|Xh(e[3])<<8|Zk(e[4]))>>>0:(e=ehe.exec(t))?parseInt(e[1]+e[1]+e[2]+e[2]+e[3]+e[3]+"ff",16)>>>0:(e=rhe.exec(t))?parseInt(e[1],16)>>>0:(e=the.exec(t))?parseInt(e[1]+e[1]+e[2]+e[2]+e[3]+e[3]+e[4]+e[4],16)>>>0:(e=Jfe.exec(t))?(Yk(Kk(e[1]),ax(e[2]),ax(e[3]))|255)>>>0:(e=Qfe.exec(t))?(Yk(Kk(e[1]),ax(e[2]),ax(e[3]))|Zk(e[4]))>>>0:null}function Gw(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function Yk(t,e,n){const r=n<.5?n*(1+e):n+e-n*e,i=2*n-r,o=Gw(i,r,t+1/3),s=Gw(i,r,t),a=Gw(i,r,t-1/3);return Math.round(o*255)<<24|Math.round(s*255)<<16|Math.round(a*255)<<8}function Xh(t){const e=parseInt(t,10);return e<0?0:e>255?255:e}function Kk(t){return(parseFloat(t)%360+360)%360/360}function Zk(t){const e=parseFloat(t);return e<0?0:e>1?255:Math.round(e*255)}function ax(t){const e=parseFloat(t);return e<0?0:e>100?1:e/100}function Jk(t){let e=ihe(t);if(e===null)return t;e=e||0;const n=(e&4278190080)>>>24,r=(e&16711680)>>>16,i=(e&65280)>>>8,o=(e&255)/255;return`rgba(${n}, ${r}, ${i}, ${o})`}var wv=(t,e,n)=>{if(Kn.fun(t))return t;if(Kn.arr(t))return wv({range:t,output:e,extrapolate:n});if(Kn.str(t.output[0]))return MT(t);const r=t,i=r.output,o=r.range||[0,1],s=r.extrapolateLeft||r.extrapolate||"extend",a=r.extrapolateRight||r.extrapolate||"extend",c=r.easing||(d=>d);return d=>{const f=she(d,o);return ohe(d,o[f],o[f+1],i[f],i[f+1],c,s,a,r.map)}};function ohe(t,e,n,r,i,o,s,a,c){let d=c?c(t):t;if(d<e){if(s==="identity")return d;s==="clamp"&&(d=e)}if(d>n){if(a==="identity")return d;a==="clamp"&&(d=n)}return r===i?r:e===n?t<=e?r:i:(e===-1/0?d=-d:n===1/0?d=d-e:d=(d-e)/(n-e),d=o(d),r===-1/0?d=-d:i===1/0?d=d+r:d=d*(i-r)+r,d)}function she(t,e){for(var n=1;n<e.length-1&&!(e[n]>=t);++n);return n-1}var Ev=Symbol.for("FluidValue.get"),Cv=Symbol.for("FluidValue.observers"),Op=t=>!!(t&&t[Ev]),Lp=t=>t&&t[Ev]?t[Ev]():t;function ahe(t,e){t.eventObserved?t.eventObserved(e):t(e)}function Q1(t,e){const n=t[Cv];n&&n.forEach(r=>{ahe(r,e)})}var sU=class{constructor(t){if(!t&&!(t=this.get))throw Error("Unknown getter");lhe(this,t)}},lhe=(t,e)=>aU(t,Ev,e);function RT(t,e){if(t[Ev]){let n=t[Cv];n||aU(t,Cv,n=new Set),n.has(e)||(n.add(e),t.observerAdded&&t.observerAdded(n.size,e))}return e}function eb(t,e){const n=t[Cv];if(n&&n.has(e)){const r=n.size-1;r?n.delete(e):t[Cv]=null,t.observerRemoved&&t.observerRemoved(r,e)}}var aU=(t,e,n)=>Object.defineProperty(t,e,{value:n,writable:!0,configurable:!0}),Ax=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,che=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,Qk=new RegExp(`(${Ax.source})(%|[a-z]+)`,"i"),uhe=/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,u_=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/,lU=t=>{const[e,n]=dhe(t);if(!e||CT())return t;const r=window.getComputedStyle(document.documentElement).getPropertyValue(e);if(r)return r.trim();if(n&&n.startsWith("--")){const i=window.getComputedStyle(document.documentElement).getPropertyValue(n);return i||t}else{if(n&&u_.test(n))return lU(n);if(n)return n}return t},dhe=t=>{const e=u_.exec(t);if(!e)return[,];const[,n,r]=e;return[n,r]},jw,fhe=(t,e,n,r,i)=>`rgba(${Math.round(e)}, ${Math.round(n)}, ${Math.round(r)}, ${i})`,cU=t=>{jw||(jw=hu?new RegExp(`(${Object.keys(hu).join("|")})(?!\\w)`,"g"):/^\b$/);const e=t.output.map(o=>Lp(o).replace(u_,lU).replace(che,Jk).replace(jw,Jk)),n=e.map(o=>o.match(Ax).map(Number)),i=n[0].map((o,s)=>n.map(a=>{if(!(s in a))throw Error('The arity of each "output" value must be equal');return a[s]})).map(o=>wv({...t,output:o}));return o=>{var c;const s=!Qk.test(e[0])&&((c=e.find(d=>Qk.test(d)))==null?void 0:c.replace(Ax,""));let a=0;return e[0].replace(Ax,()=>`${i[a++](o)}${s||""}`).replace(uhe,fhe)}},uU="react-spring: ",dU=t=>{const e=t;let n=!1;if(typeof e!="function")throw new TypeError(`${uU}once requires a function parameter`);return(...r)=>{n||(e(...r),n=!0)}},hhe=dU(console.warn);function phe(){hhe(`${uU}The "interpolate" function is deprecated in v9 (use "to" instead)`)}dU(console.warn);function fU(t){return Kn.str(t)&&(t[0]=="#"||/\d/.test(t)||!CT()&&u_.test(t)||t in(hu||{}))}var hU=CT()?D.useEffect:D.useLayoutEffect,mhe=()=>{const t=D.useRef(!1);return hU(()=>(t.current=!0,()=>{t.current=!1}),[]),t};function ghe(){const t=D.useState()[1],e=mhe();return()=>{e.current&&t(Math.random())}}function vhe(t,e){const[n]=D.useState(()=>({inputs:e,result:t()})),r=D.useRef(),i=r.current;let o=i;return o?e&&o.inputs&&yhe(e,o.inputs)||(o={inputs:e,result:t()}):o=n,D.useEffect(()=>{r.current=o,i==n&&(n.inputs=n.result=void 0)},[o]),o.result}function yhe(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}var xhe=t=>D.useEffect(t,bhe),bhe=[],Mv=Symbol.for("Animated:node"),_he=t=>!!t&&t[Mv]===t,AT=t=>t&&t[Mv],pU=(t,e)=>Wfe(t,Mv,e),IT=t=>t&&t[Mv]&&t[Mv].getPayload(),mU=class{constructor(){pU(this,this)}getPayload(){return this.payload||[]}},d_=class extends mU{constructor(t){super(),this._value=t,this.done=!0,this.durationProgress=0,Kn.num(this._value)&&(this.lastPosition=this._value)}static create(t){return new d_(t)}getPayload(){return[this]}getValue(){return this._value}setValue(t,e){return Kn.num(t)&&(this.lastPosition=t,e&&(t=Math.round(t/e)*e,this.done&&(this.lastPosition=t))),this._value===t?!1:(this._value=t,!0)}reset(){const{done:t}=this;this.done=!1,Kn.num(this._value)&&(this.elapsedTime=0,this.durationProgress=0,this.lastPosition=this._value,t&&(this.lastVelocity=null),this.v0=null)}},kT=class extends d_{constructor(t){super(0),this._string=null,this._toString=wv({output:[t,t]})}static create(t){return new kT(t)}getValue(){const t=this._string;return t??(this._string=this._toString(this._value))}setValue(t){if(Kn.str(t)){if(t==this._string)return!1;this._string=t,this._value=1}else if(super.setValue(t))this._string=null;else return!1;return!0}reset(t){t&&(this._toString=wv({output:[this.getValue(),t]})),this._value=0,super.reset()}},tb={dependencies:null},f_=class extends mU{constructor(t){super(),this.source=t,this.setValue(t)}getValue(t){const e={};return K1(this.source,(n,r)=>{_he(n)?e[r]=n.getValue(t):Op(n)?e[r]=Lp(n):t||(e[r]=n)}),e}setValue(t){this.source=t,this.payload=this._makePayload(t)}reset(){this.payload&&No(this.payload,t=>t.reset())}_makePayload(t){if(t){const e=new Set;return K1(t,this._addToPayload,e),Array.from(e)}}_addToPayload(t){tb.dependencies&&Op(t)&&tb.dependencies.add(t);const e=IT(t);e&&No(e,n=>this.add(n))}},gU=class extends f_{constructor(t){super(t)}static create(t){return new gU(t)}getValue(){return this.source.map(t=>t.getValue())}setValue(t){const e=this.getPayload();return t.length==e.length?e.map((n,r)=>n.setValue(t[r])).some(Boolean):(super.setValue(t.map(She)),!0)}};function She(t){return(fU(t)?kT:d_).create(t)}function whe(t){const e=AT(t);return e?e.constructor:Kn.arr(t)?gU:fU(t)?kT:d_}var e3=(t,e)=>{const n=!Kn.fun(t)||t.prototype&&t.prototype.isReactComponent;return D.forwardRef((r,i)=>{const o=D.useRef(null),s=n&&D.useCallback(x=>{o.current=Mhe(i,x)},[i]),[a,c]=Che(r,e),d=ghe(),f=()=>{const x=o.current;if(n&&!x)return;(x?e.applyAnimatedValues(x,a.getValue(!0)):!1)===!1&&d()},m=new Ehe(f,c),g=D.useRef();hU(()=>(g.current=m,No(c,x=>RT(x,m)),()=>{g.current&&(No(g.current.deps,x=>eb(x,g.current)),Tn.cancel(g.current.update))})),D.useEffect(f,[]),xhe(()=>()=>{const x=g.current;No(x.deps,S=>eb(S,x))});const y=e.getComponentProps(a.getValue());return D.createElement(t,{...y,ref:s})})},Ehe=class{constructor(t,e){this.update=t,this.deps=e}eventObserved(t){t.type=="change"&&Tn.write(this.update)}};function Che(t,e){const n=new Set;return tb.dependencies=n,t.style&&(t={...t,style:e.createAnimatedStyle(t.style)}),t=new f_(t),tb.dependencies=null,[t,n]}function Mhe(t,e){return t&&(Kn.fun(t)?t(e):t.current=e),e}var t3=Symbol.for("AnimatedComponent"),The=(t,{applyAnimatedValues:e=()=>!1,createAnimatedStyle:n=i=>new f_(i),getComponentProps:r=i=>i}={})=>{const i={applyAnimatedValues:e,createAnimatedStyle:n,getComponentProps:r},o=s=>{const a=n3(s)||"Anonymous";return Kn.str(s)?s=o[s]||(o[s]=e3(s,i)):s=s[t3]||(s[t3]=e3(s,i)),s.displayName=`Animated(${a})`,s};return K1(t,(s,a)=>{Kn.arr(t)&&(a=n3(s)),o[a]=o(s)}),{animated:o}},n3=t=>Kn.str(t)?t:t&&Kn.str(t.displayName)?t.displayName:Kn.fun(t)&&t.name||null,r3=t=>t instanceof vU,Phe=1,vU=class extends sU{constructor(){super(...arguments),this.id=Phe++,this._priority=0}get priority(){return this._priority}set priority(t){this._priority!=t&&(this._priority=t,this._onPriorityChange(t))}get(){const t=AT(this);return t&&t.getValue()}to(...t){return kp.to(this,t)}interpolate(...t){return phe(),kp.to(this,t)}toJSON(){return this.get()}observerAdded(t){t==1&&this._attach()}observerRemoved(t){t==0&&this._detach()}_attach(){}_detach(){}_onChange(t,e=!1){Q1(this,{type:"change",parent:this,value:t,idle:e})}_onPriorityChange(t){this.idle||PT.sort(this),Q1(this,{type:"priority",parent:this,priority:t})}},OT=({children:t,...e})=>{const n=D.useContext(nb),r=e.pause||!!n.pause,i=e.immediate||!!n.immediate;e=vhe(()=>({pause:r,immediate:i}),[r,i]);const{Provider:o}=nb;return D.createElement(o,{value:e},t)},nb=Rhe(OT,{});OT.Provider=nb.Provider;OT.Consumer=nb.Consumer;function Rhe(t,e){return Object.assign(t,D.createContext(e)),t.Provider._context=t,t.Consumer._context=t,t}var Ahe=class extends vU{constructor(t,e){super(),this.source=t,this.idle=!0,this._active=new Set,this.calc=wv(...e);const n=this._get(),r=whe(n);pU(this,r.create(n))}advance(t){const e=this._get(),n=this.get();Gfe(e,n)||(AT(this).setValue(e),this._onChange(e,this.idle)),!this.idle&&i3(this._active)&&Xw(this)}_get(){const t=Kn.arr(this.source)?this.source.map(Lp):Ag(Lp(this.source));return this.calc(...t)}_start(){this.idle&&!i3(this._active)&&(this.idle=!1,No(IT(this),t=>{t.done=!1}),kp.skipAnimation?(Tn.batchedUpdates(()=>this.advance()),Xw(this)):PT.start(this))}_attach(){let t=1;No(Ag(this.source),e=>{Op(e)&&RT(e,this),r3(e)&&(e.idle||this._active.add(e),t=Math.max(t,e.priority+1))}),this.priority=t,this._start()}_detach(){No(Ag(this.source),t=>{Op(t)&&eb(t,this)}),this._active.clear(),Xw(this)}eventObserved(t){t.type=="change"?t.idle?this.advance():(this._active.add(t.parent),this._start()):t.type=="idle"?this._active.delete(t.parent):t.type=="priority"&&(this.priority=Ag(this.source).reduce((e,n)=>Math.max(e,(r3(n)?n.priority:0)+1),0))}};function Ihe(t){return t.idle!==!1}function i3(t){return!t.size||Array.from(t).every(Ihe)}function Xw(t){t.idle||(t.idle=!0,No(IT(t),e=>{e.done=!0}),Q1(t,{type:"idle",parent:t}))}kp.assign({createStringInterpolator:cU,to:(t,e)=>new Ahe(t,e)});var yU=/^--/;function khe(t,e){return e==null||typeof e=="boolean"||e===""?"":typeof e=="number"&&e!==0&&!yU.test(t)&&!(Kg.hasOwnProperty(t)&&Kg[t])?e+"px":(""+e).trim()}var o3={};function Ohe(t,e){if(!t.nodeType||!t.setAttribute)return!1;const n=t.nodeName==="filter"||t.parentNode&&t.parentNode.nodeName==="filter",{className:r,style:i,children:o,scrollTop:s,scrollLeft:a,viewBox:c,...d}=e,f=Object.values(d),m=Object.keys(d).map(g=>n||t.hasAttribute(g)?g:o3[g]||(o3[g]=g.replace(/([A-Z])/g,y=>"-"+y.toLowerCase())));o!==void 0&&(t.textContent=o);for(const g in i)if(i.hasOwnProperty(g)){const y=khe(g,i[g]);yU.test(g)?t.style.setProperty(g,y):t.style[g]=y}m.forEach((g,y)=>{t.setAttribute(g,f[y])}),r!==void 0&&(t.className=r),s!==void 0&&(t.scrollTop=s),a!==void 0&&(t.scrollLeft=a),c!==void 0&&t.setAttribute("viewBox",c)}var Kg={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Lhe=(t,e)=>t+e.charAt(0).toUpperCase()+e.substring(1),Nhe=["Webkit","Ms","Moz","O"];Kg=Object.keys(Kg).reduce((t,e)=>(Nhe.forEach(n=>t[Lhe(n,e)]=t[e]),t),Kg);var Dhe=/^(matrix|translate|scale|rotate|skew)/,Fhe=/^(translate)/,zhe=/^(rotate|skew)/,qw=(t,e)=>Kn.num(t)&&t!==0?t+e:t,Ix=(t,e)=>Kn.arr(t)?t.every(n=>Ix(n,e)):Kn.num(t)?t===e:parseFloat(t)===e,Uhe=class extends f_{constructor({x:t,y:e,z:n,...r}){const i=[],o=[];(t||e||n)&&(i.push([t||0,e||0,n||0]),o.push(s=>[`translate3d(${s.map(a=>qw(a,"px")).join(",")})`,Ix(s,0)])),K1(r,(s,a)=>{if(a==="transform")i.push([s||""]),o.push(c=>[c,c===""]);else if(Dhe.test(a)){if(delete r[a],Kn.und(s))return;const c=Fhe.test(a)?"px":zhe.test(a)?"deg":"";i.push(Ag(s)),o.push(a==="rotate3d"?([d,f,m,g])=>[`rotate3d(${d},${f},${m},${qw(g,c)})`,Ix(g,0)]:d=>[`${a}(${d.map(f=>qw(f,c)).join(",")})`,Ix(d,a.startsWith("scale")?1:0)])}}),i.length&&(r.transform=new Bhe(i,o)),super(r)}},Bhe=class extends sU{constructor(t,e){super(),this.inputs=t,this.transforms=e,this._value=null}get(){return this._value||(this._value=this._get())}_get(){let t="",e=!0;return No(this.inputs,(n,r)=>{const i=Lp(n[0]),[o,s]=this.transforms[r](Kn.arr(i)?i:n.map(Lp));t+=" "+o,e=e&&s}),e?"none":t}observerAdded(t){t==1&&No(this.inputs,e=>No(e,n=>Op(n)&&RT(n,this)))}observerRemoved(t){t==0&&No(this.inputs,e=>No(e,n=>Op(n)&&eb(n,this)))}eventObserved(t){t.type=="change"&&(this._value=null),Q1(this,t)}},Vhe=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"];kp.assign({batchedUpdates:gc.unstable_batchedUpdates,createStringInterpolator:cU,colors:Yfe});The(Vhe,{applyAnimatedValues:Ohe,createAnimatedStyle:t=>new Uhe(t),getComponentProps:({scrollTop:t,scrollLeft:e,...n})=>n});function $he({showPoints:t,showEdges:e}){const[n,r]=D.useState(null),i=D.useRef(),o=D.useRef(),s=new Toe("cooltowarm",512),a=-.08,c=.08,d=_=>{const b=Math.max(0,Math.min(1,(_-a)/(c-a))),C=s.getColor(b);return[C.r,C.g,C.b]};if(D.useEffect(()=>{fetch("/TetWeave/shapes/crab_tets.json").then(_=>{if(!_.ok)throw new Error("Failed to load JSON");return _.json()}).then(_=>{console.log("Loaded TetWeave data:",_),r(_)}).catch(_=>console.error("Error loading JSON:",_))},[]),D.useEffect(()=>{if(n&&i.current){const _=new Ht,b=new J(0,1,0);n.edges.forEach(([C,T],A)=>{if(C<n.points.length&&T<n.points.length){const P=new J(...n.points[C]),R=new J(...n.points[T]),k=R.clone().sub(P),z=k.length();k.normalize();const L=new Ri().setFromUnitVectors(b,k);_.compose(P.clone().lerp(R,.5),L,new J(1,z,1)),i.current.setMatrixAt(A,_)}}),i.current.instanceMatrix.needsUpdate=!0}},[n]),D.useEffect(()=>{if(n&&o.current){const _=new Ht;n.points.forEach((b,C)=>{if(C<n.points.length){const T=new J(...b),A=d(n.sdf[C]);_.setPosition(T),o.current.setMatrixAt(C,_),o.current.setColorAt(C,new ct(A[0],A[1],A[2]))}}),o.current.instanceMatrix.needsUpdate=!0,o.current.instanceColor.needsUpdate=!0}},[n]),!n)return null;const{points:f,edges:m,sdf:g}=n,y="rgb(255, 253, 208)",x=3e-4;return ie.jsxs("group",{scale:[1,1,1],children:[ie.jsxs("instancedMesh",{ref:o,args:[null,null,f.length],children:[ie.jsx("sphereGeometry",{args:[.0025,8,8]}),ie.jsx("meshBasicMaterial",{visible:t})]}),ie.jsxs("instancedMesh",{ref:i,args:[null,null,m.length],children:[ie.jsx("cylinderGeometry",{args:[x,x,1,6]}),ie.jsx("meshBasicMaterial",{color:y,visible:e})]})]})}function Hhe({showMesh:t}){const e=ZM(Moe,"/TetWeave/shapes/crab.obj",o=>{o.manager.onError=s=>console.error("OBJLoader error for:",s),o.manager.onLoad=()=>console.log("OBJLoader loaded successfully")});if(!e||!e.isObject3D)return console.error("Invalid OBJ object:",e),null;const n=new Zb({color:"rgb(210, 144, 236)",side:ns,flatShading:!0}),r=new Os({uniforms:{offset:{value:1e-5}},vertexShader:`
        varying vec3 vNormal;
        uniform float offset;
        void main() {
          vNormal = normal;
          vec3 offsetPosition = position + normal * offset;
          gl_Position = projectionMatrix * modelViewMatrix * vec4(offsetPosition, 1.0);
        }
      `,fragmentShader:`
        void main() {
          gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0); // rgb(100, 50, 150)
        }
      `,wireframe:!0,side:ns});e.traverse(o=>{o instanceof ar&&(o.material=n)});const i=[];return e.traverse(o=>{if(o instanceof ar&&o.geometry){const s=new ar(o.geometry,r);i.push(s)}}),ie.jsxs("group",{scale:[1,1,1],children:[ie.jsx("primitive",{object:e,visible:t}),i.map((o,s)=>ie.jsx("primitive",{object:o,visible:t},s))]})}function Whe(){const{progress:t}=hie();return ie.jsxs(fie,{center:!0,children:[t," % loaded"]})}function Ghe(){const[t,e]=D.useState(!0),[n,r]=D.useState(!1),[i,o]=D.useState(!1),[s,a]=D.useState("rgb(0, 0, 0)"),[c,d]=D.useState(hE("#000000"));Ufe({Points:{value:t,onChange:m=>e(m),transient:!0},Edges:{value:n,onChange:m=>{r(m)},transient:!0},Mesh:{value:i,onChange:m=>o(m),transient:!0},Background:{value:s,onChange:m=>{a(m)},transient:!0}});const f=vc({base:0,sm:1,md:2,lg:3});return ie.jsxs(Hi,{children:[ie.jsx(Ql,{as:"h2",size:f>=2?"3xl":"xl",mb:2,children:"Shape Representation"}),ie.jsx(po,{mt:2,textStyle:f>=2?"lg":"sm",children:"Meshes are a common representation of 3D shapes, but they are ill-suited for gradient-based optimization pipelines. TetWeave is a new, particularly simple, surface representation that consists of a set of points in 3D space, each with a corresponding signed distance value and spherical harmonics coefficients. We first compute a tetrahedral grid on the fly using Delaunay triangulation, then compute a directional signed distance using spherical harmonics, and finally use Marching Tetrahedra to extract the surface."}),ie.jsxs(Hi,{p:8,children:[f<=1&&ie.jsxs(cq,{gap:4,flexDirection:"row",alignItems:"center",children:[ie.jsxs(UX,{mb:2,size:"sm",colorPalette:"red",children:[ie.jsx(Jl,{onClick:()=>e(!t),variant:t?"subtle":"solid",children:"Points"}),ie.jsx(Jl,{onClick:()=>r(!n),variant:n?"subtle":"solid",children:"Edges"}),ie.jsx(Jl,{onClick:()=>o(!i),variant:i?"subtle":"solid",children:"Mesh"})]}),ie.jsxs(WX,{value:c,format:"hsla",onValueChange:m=>{d(m.value);const g=m.value.toRGB();a(`rgb(${g.red}, ${g.green}, ${g.blue})`)},maxW:"200px",children:[ie.jsx(aq,{}),ie.jsx(GX,{children:"Background Color"}),ie.jsxs(jX,{children:[ie.jsx(oq,{}),ie.jsx(qX,{})]}),ie.jsx(c9,{children:ie.jsx(YX,{children:ie.jsxs(KX,{children:[ie.jsx(QX,{}),ie.jsxs(VD,{children:[ie.jsx(sq,{size:"xs",variant:"outline"}),ie.jsx(rq,{})]})]})})})]})]}),ie.jsxs(Hi,{mt:8,height:f>=2?"800px":"400px",borderRadius:"md",boxShadow:"lg",position:"relative",overflow:"visible",backgroundColor:s,children:[f>=2&&ie.jsx(Hi,{width:"280px",position:"absolute",top:"0px",right:"0px",zIndex:"1",opacity:"0.8",children:ie.jsx(K4,{fill:!0,titleBar:{drag:!1,filter:!1,title:"UI - Display Options"},hideCopyButton:!0})}),ie.jsxs(nie,{camera:{position:f==3?[0,0,1.7]:f==2?[0,0,2.5]:f==1?[0,0,1.7]:[0,0,2.5],fov:50,near:.01,far:100},children:[ie.jsx("ambientLight",{intensity:3}),ie.jsx("pointLight",{position:[2,2,2],intensity:10}),ie.jsx("pointLight",{position:[0,0,2],intensity:2}),ie.jsx("pointLight",{position:[0,0,-2],intensity:2}),ie.jsxs(D.Suspense,{fallback:ie.jsx(Whe,{}),children:[ie.jsx(Hhe,{showMesh:i}),ie.jsx($he,{showPoints:t,showEdges:n})]}),ie.jsx(goe,{enablePan:!0,enableZoom:!0,enableRotate:!0})]})]})]})]})}var vg={},qh={},lx={},kd={},Od={},Yw={},s3;function xU(){return s3||(s3=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Doctype=t.CDATA=t.Tag=t.Style=t.Script=t.Comment=t.Directive=t.Text=t.Root=t.isTag=t.ElementType=void 0;var e;(function(r){r.Root="root",r.Text="text",r.Directive="directive",r.Comment="comment",r.Script="script",r.Style="style",r.Tag="tag",r.CDATA="cdata",r.Doctype="doctype"})(e=t.ElementType||(t.ElementType={}));function n(r){return r.type===e.Tag||r.type===e.Script||r.type===e.Style}t.isTag=n,t.Root=e.Root,t.Text=e.Text,t.Directive=e.Directive,t.Comment=e.Comment,t.Script=e.Script,t.Style=e.Style,t.Tag=e.Tag,t.CDATA=e.CDATA,t.Doctype=e.Doctype}(Yw)),Yw}var ln={},a3;function l3(){if(a3)return ln;a3=1;var t=ln&&ln.__extends||function(){var P=function(R,k){return P=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(z,L){z.__proto__=L}||function(z,L){for(var O in L)Object.prototype.hasOwnProperty.call(L,O)&&(z[O]=L[O])},P(R,k)};return function(R,k){if(typeof k!="function"&&k!==null)throw new TypeError("Class extends value "+String(k)+" is not a constructor or null");P(R,k);function z(){this.constructor=R}R.prototype=k===null?Object.create(k):(z.prototype=k.prototype,new z)}}(),e=ln&&ln.__assign||function(){return e=Object.assign||function(P){for(var R,k=1,z=arguments.length;k<z;k++){R=arguments[k];for(var L in R)Object.prototype.hasOwnProperty.call(R,L)&&(P[L]=R[L])}return P},e.apply(this,arguments)};Object.defineProperty(ln,"__esModule",{value:!0}),ln.cloneNode=ln.hasChildren=ln.isDocument=ln.isDirective=ln.isComment=ln.isText=ln.isCDATA=ln.isTag=ln.Element=ln.Document=ln.CDATA=ln.NodeWithChildren=ln.ProcessingInstruction=ln.Comment=ln.Text=ln.DataNode=ln.Node=void 0;var n=xU(),r=function(){function P(){this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}return Object.defineProperty(P.prototype,"parentNode",{get:function(){return this.parent},set:function(R){this.parent=R},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"previousSibling",{get:function(){return this.prev},set:function(R){this.prev=R},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"nextSibling",{get:function(){return this.next},set:function(R){this.next=R},enumerable:!1,configurable:!0}),P.prototype.cloneNode=function(R){return R===void 0&&(R=!1),T(this,R)},P}();ln.Node=r;var i=function(P){t(R,P);function R(k){var z=P.call(this)||this;return z.data=k,z}return Object.defineProperty(R.prototype,"nodeValue",{get:function(){return this.data},set:function(k){this.data=k},enumerable:!1,configurable:!0}),R}(r);ln.DataNode=i;var o=function(P){t(R,P);function R(){var k=P!==null&&P.apply(this,arguments)||this;return k.type=n.ElementType.Text,k}return Object.defineProperty(R.prototype,"nodeType",{get:function(){return 3},enumerable:!1,configurable:!0}),R}(i);ln.Text=o;var s=function(P){t(R,P);function R(){var k=P!==null&&P.apply(this,arguments)||this;return k.type=n.ElementType.Comment,k}return Object.defineProperty(R.prototype,"nodeType",{get:function(){return 8},enumerable:!1,configurable:!0}),R}(i);ln.Comment=s;var a=function(P){t(R,P);function R(k,z){var L=P.call(this,z)||this;return L.name=k,L.type=n.ElementType.Directive,L}return Object.defineProperty(R.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),R}(i);ln.ProcessingInstruction=a;var c=function(P){t(R,P);function R(k){var z=P.call(this)||this;return z.children=k,z}return Object.defineProperty(R.prototype,"firstChild",{get:function(){var k;return(k=this.children[0])!==null&&k!==void 0?k:null},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"lastChild",{get:function(){return this.children.length>0?this.children[this.children.length-1]:null},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"childNodes",{get:function(){return this.children},set:function(k){this.children=k},enumerable:!1,configurable:!0}),R}(r);ln.NodeWithChildren=c;var d=function(P){t(R,P);function R(){var k=P!==null&&P.apply(this,arguments)||this;return k.type=n.ElementType.CDATA,k}return Object.defineProperty(R.prototype,"nodeType",{get:function(){return 4},enumerable:!1,configurable:!0}),R}(c);ln.CDATA=d;var f=function(P){t(R,P);function R(){var k=P!==null&&P.apply(this,arguments)||this;return k.type=n.ElementType.Root,k}return Object.defineProperty(R.prototype,"nodeType",{get:function(){return 9},enumerable:!1,configurable:!0}),R}(c);ln.Document=f;var m=function(P){t(R,P);function R(k,z,L,O){L===void 0&&(L=[]),O===void 0&&(O=k==="script"?n.ElementType.Script:k==="style"?n.ElementType.Style:n.ElementType.Tag);var B=P.call(this,L)||this;return B.name=k,B.attribs=z,B.type=O,B}return Object.defineProperty(R.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"tagName",{get:function(){return this.name},set:function(k){this.name=k},enumerable:!1,configurable:!0}),Object.defineProperty(R.prototype,"attributes",{get:function(){var k=this;return Object.keys(this.attribs).map(function(z){var L,O;return{name:z,value:k.attribs[z],namespace:(L=k["x-attribsNamespace"])===null||L===void 0?void 0:L[z],prefix:(O=k["x-attribsPrefix"])===null||O===void 0?void 0:O[z]}})},enumerable:!1,configurable:!0}),R}(c);ln.Element=m;function g(P){return(0,n.isTag)(P)}ln.isTag=g;function y(P){return P.type===n.ElementType.CDATA}ln.isCDATA=y;function x(P){return P.type===n.ElementType.Text}ln.isText=x;function S(P){return P.type===n.ElementType.Comment}ln.isComment=S;function _(P){return P.type===n.ElementType.Directive}ln.isDirective=_;function b(P){return P.type===n.ElementType.Root}ln.isDocument=b;function C(P){return Object.prototype.hasOwnProperty.call(P,"children")}ln.hasChildren=C;function T(P,R){R===void 0&&(R=!1);var k;if(x(P))k=new o(P.data);else if(S(P))k=new s(P.data);else if(g(P)){var z=R?A(P.children):[],L=new m(P.name,e({},P.attribs),z);z.forEach(function(X){return X.parent=L}),P.namespace!=null&&(L.namespace=P.namespace),P["x-attribsNamespace"]&&(L["x-attribsNamespace"]=e({},P["x-attribsNamespace"])),P["x-attribsPrefix"]&&(L["x-attribsPrefix"]=e({},P["x-attribsPrefix"])),k=L}else if(y(P)){var z=R?A(P.children):[],O=new d(z);z.forEach(function(ee){return ee.parent=O}),k=O}else if(b(P)){var z=R?A(P.children):[],B=new f(z);z.forEach(function(ee){return ee.parent=B}),P["x-mode"]&&(B["x-mode"]=P["x-mode"]),k=B}else if(_(P)){var j=new a(P.name,P.data);P["x-name"]!=null&&(j["x-name"]=P["x-name"],j["x-publicId"]=P["x-publicId"],j["x-systemId"]=P["x-systemId"]),k=j}else throw new Error("Not implemented yet: ".concat(P.type));return k.startIndex=P.startIndex,k.endIndex=P.endIndex,P.sourceCodeLocation!=null&&(k.sourceCodeLocation=P.sourceCodeLocation),k}ln.cloneNode=T;function A(P){for(var R=P.map(function(z){return T(z,!0)}),k=1;k<R.length;k++)R[k].prev=R[k-1],R[k-1].next=R[k];return R}return ln}var c3;function bU(){return c3||(c3=1,function(t){var e=Od&&Od.__createBinding||(Object.create?function(a,c,d,f){f===void 0&&(f=d);var m=Object.getOwnPropertyDescriptor(c,d);(!m||("get"in m?!c.__esModule:m.writable||m.configurable))&&(m={enumerable:!0,get:function(){return c[d]}}),Object.defineProperty(a,f,m)}:function(a,c,d,f){f===void 0&&(f=d),a[f]=c[d]}),n=Od&&Od.__exportStar||function(a,c){for(var d in a)d!=="default"&&!Object.prototype.hasOwnProperty.call(c,d)&&e(c,a,d)};Object.defineProperty(t,"__esModule",{value:!0}),t.DomHandler=void 0;var r=xU(),i=l3();n(l3(),t);var o={withStartIndices:!1,withEndIndices:!1,xmlMode:!1},s=function(){function a(c,d,f){this.dom=[],this.root=new i.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null,typeof d=="function"&&(f=d,d=o),typeof c=="object"&&(d=c,c=void 0),this.callback=c??null,this.options=d??o,this.elementCB=f??null}return a.prototype.onparserinit=function(c){this.parser=c},a.prototype.onreset=function(){this.dom=[],this.root=new i.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null},a.prototype.onend=function(){this.done||(this.done=!0,this.parser=null,this.handleCallback(null))},a.prototype.onerror=function(c){this.handleCallback(c)},a.prototype.onclosetag=function(){this.lastNode=null;var c=this.tagStack.pop();this.options.withEndIndices&&(c.endIndex=this.parser.endIndex),this.elementCB&&this.elementCB(c)},a.prototype.onopentag=function(c,d){var f=this.options.xmlMode?r.ElementType.Tag:void 0,m=new i.Element(c,d,void 0,f);this.addNode(m),this.tagStack.push(m)},a.prototype.ontext=function(c){var d=this.lastNode;if(d&&d.type===r.ElementType.Text)d.data+=c,this.options.withEndIndices&&(d.endIndex=this.parser.endIndex);else{var f=new i.Text(c);this.addNode(f),this.lastNode=f}},a.prototype.oncomment=function(c){if(this.lastNode&&this.lastNode.type===r.ElementType.Comment){this.lastNode.data+=c;return}var d=new i.Comment(c);this.addNode(d),this.lastNode=d},a.prototype.oncommentend=function(){this.lastNode=null},a.prototype.oncdatastart=function(){var c=new i.Text(""),d=new i.CDATA([c]);this.addNode(d),c.parent=d,this.lastNode=c},a.prototype.oncdataend=function(){this.lastNode=null},a.prototype.onprocessinginstruction=function(c,d){var f=new i.ProcessingInstruction(c,d);this.addNode(f)},a.prototype.handleCallback=function(c){if(typeof this.callback=="function")this.callback(c,this.dom);else if(c)throw c},a.prototype.addNode=function(c){var d=this.tagStack[this.tagStack.length-1],f=d.children[d.children.length-1];this.options.withStartIndices&&(c.startIndex=this.parser.startIndex),this.options.withEndIndices&&(c.endIndex=this.parser.endIndex),d.children.push(c),f&&(c.prev=f,f.next=c),c.parent=d,this.lastNode=null},a}();t.DomHandler=s,t.default=s}(Od)),Od}var Kw={},u3;function jhe(){return u3||(u3=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.CARRIAGE_RETURN_PLACEHOLDER_REGEX=t.CARRIAGE_RETURN_PLACEHOLDER=t.CARRIAGE_RETURN_REGEX=t.CARRIAGE_RETURN=t.CASE_SENSITIVE_TAG_NAMES_MAP=t.CASE_SENSITIVE_TAG_NAMES=void 0,t.CASE_SENSITIVE_TAG_NAMES=["animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","linearGradient","radialGradient","textPath"],t.CASE_SENSITIVE_TAG_NAMES_MAP=t.CASE_SENSITIVE_TAG_NAMES.reduce(function(e,n){return e[n.toLowerCase()]=n,e},{}),t.CARRIAGE_RETURN="\r",t.CARRIAGE_RETURN_REGEX=new RegExp(t.CARRIAGE_RETURN,"g"),t.CARRIAGE_RETURN_PLACEHOLDER="__HTML_DOM_PARSER_CARRIAGE_RETURN_PLACEHOLDER_".concat(Date.now(),"__"),t.CARRIAGE_RETURN_PLACEHOLDER_REGEX=new RegExp(t.CARRIAGE_RETURN_PLACEHOLDER,"g")}(Kw)),Kw}var d3;function _U(){if(d3)return kd;d3=1,Object.defineProperty(kd,"__esModule",{value:!0}),kd.formatAttributes=r,kd.escapeSpecialCharacters=o,kd.revertEscapedCharacters=s,kd.formatDOM=a;var t=bU(),e=jhe();function n(c){return e.CASE_SENSITIVE_TAG_NAMES_MAP[c]}function r(c){for(var d={},f=0,m=c.length;f<m;f++){var g=c[f];d[g.name]=g.value}return d}function i(c){c=c.toLowerCase();var d=n(c);return d||c}function o(c){return c.replace(e.CARRIAGE_RETURN_REGEX,e.CARRIAGE_RETURN_PLACEHOLDER)}function s(c){return c.replace(e.CARRIAGE_RETURN_PLACEHOLDER_REGEX,e.CARRIAGE_RETURN)}function a(c,d,f){d===void 0&&(d=null);for(var m=[],g,y=0,x=c.length;y<x;y++){var S=c[y];switch(S.nodeType){case 1:{var _=i(S.nodeName);g=new t.Element(_,r(S.attributes)),g.children=a(_==="template"?S.content.childNodes:S.childNodes,g);break}case 3:g=new t.Text(s(S.nodeValue));break;case 8:g=new t.Comment(S.nodeValue);break;default:continue}var b=m[y-1]||null;b&&(b.next=g),g.parent=d,g.prev=b,g.next=null,m.push(g)}return f&&(g=new t.ProcessingInstruction(f.substring(0,f.indexOf(" ")).toLowerCase(),f),g.next=m[0]||null,g.parent=d,m.unshift(g),m[1]&&(m[1].prev=m[0])),m}return kd}var f3;function Xhe(){if(f3)return lx;f3=1,Object.defineProperty(lx,"__esModule",{value:!0}),lx.default=S;var t=_U(),e="html",n="head",r="body",i=/<([a-zA-Z]+[0-9]?)/,o=/<head[^]*>/i,s=/<body[^]*>/i,a=function(_,b){throw new Error("This browser does not support `document.implementation.createHTMLDocument`")},c=function(_,b){throw new Error("This browser does not support `DOMParser.prototype.parseFromString`")},d=typeof window=="object"&&window.DOMParser;if(typeof d=="function"){var f=new d,m="text/html";c=function(_,b){return b&&(_="<".concat(b,">").concat(_,"</").concat(b,">")),f.parseFromString(_,m)},a=c}if(typeof document=="object"&&document.implementation){var g=document.implementation.createHTMLDocument();a=function(_,b){if(b){var C=g.documentElement.querySelector(b);return C&&(C.innerHTML=_),g}return g.documentElement.innerHTML=_,g}}var y=typeof document=="object"&&document.createElement("template"),x;y&&y.content&&(x=function(_){return y.innerHTML=_,y.content.childNodes});function S(_){var b,C;_=(0,t.escapeSpecialCharacters)(_);var T=_.match(i),A=T&&T[1]?T[1].toLowerCase():"";switch(A){case e:{var P=c(_);if(!o.test(_)){var R=P.querySelector(n);(b=R==null?void 0:R.parentNode)===null||b===void 0||b.removeChild(R)}if(!s.test(_)){var R=P.querySelector(r);(C=R==null?void 0:R.parentNode)===null||C===void 0||C.removeChild(R)}return P.querySelectorAll(e)}case n:case r:{var k=a(_).querySelectorAll(A);return s.test(_)&&o.test(_)?k[0].parentNode.childNodes:k}default:{if(x)return x(_);var R=a(_,r).querySelector(r);return R.childNodes}}}return lx}var h3;function qhe(){if(h3)return qh;h3=1;var t=qh&&qh.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(qh,"__esModule",{value:!0}),qh.default=i;var e=t(Xhe()),n=_U(),r=/<(![a-zA-Z\s]+)>/;function i(o){if(typeof o!="string")throw new TypeError("First argument must be a string");if(!o)return[];var s=o.match(r),a=s?s[1]:void 0;return(0,n.formatDOM)((0,e.default)(o),null,a)}return qh}var cx={},Es={},yg={},p3;function Yhe(){if(p3)return yg;p3=1;var t=0;yg.SAME=t;var e=1;return yg.CAMELCASE=e,yg.possibleStandardNames={accept:0,acceptCharset:1,"accept-charset":"acceptCharset",accessKey:1,action:0,allowFullScreen:1,alt:0,as:0,async:0,autoCapitalize:1,autoComplete:1,autoCorrect:1,autoFocus:1,autoPlay:1,autoSave:1,capture:0,cellPadding:1,cellSpacing:1,challenge:0,charSet:1,checked:0,children:0,cite:0,class:"className",classID:1,className:1,cols:0,colSpan:1,content:0,contentEditable:1,contextMenu:1,controls:0,controlsList:1,coords:0,crossOrigin:1,dangerouslySetInnerHTML:1,data:0,dateTime:1,default:0,defaultChecked:1,defaultValue:1,defer:0,dir:0,disabled:0,disablePictureInPicture:1,disableRemotePlayback:1,download:0,draggable:0,encType:1,enterKeyHint:1,for:"htmlFor",form:0,formMethod:1,formAction:1,formEncType:1,formNoValidate:1,formTarget:1,frameBorder:1,headers:0,height:0,hidden:0,high:0,href:0,hrefLang:1,htmlFor:1,httpEquiv:1,"http-equiv":"httpEquiv",icon:0,id:0,innerHTML:1,inputMode:1,integrity:0,is:0,itemID:1,itemProp:1,itemRef:1,itemScope:1,itemType:1,keyParams:1,keyType:1,kind:0,label:0,lang:0,list:0,loop:0,low:0,manifest:0,marginWidth:1,marginHeight:1,max:0,maxLength:1,media:0,mediaGroup:1,method:0,min:0,minLength:1,multiple:0,muted:0,name:0,noModule:1,nonce:0,noValidate:1,open:0,optimum:0,pattern:0,placeholder:0,playsInline:1,poster:0,preload:0,profile:0,radioGroup:1,readOnly:1,referrerPolicy:1,rel:0,required:0,reversed:0,role:0,rows:0,rowSpan:1,sandbox:0,scope:0,scoped:0,scrolling:0,seamless:0,selected:0,shape:0,size:0,sizes:0,span:0,spellCheck:1,src:0,srcDoc:1,srcLang:1,srcSet:1,start:0,step:0,style:0,summary:0,tabIndex:1,target:0,title:0,type:0,useMap:1,value:0,width:0,wmode:0,wrap:0,about:0,accentHeight:1,"accent-height":"accentHeight",accumulate:0,additive:0,alignmentBaseline:1,"alignment-baseline":"alignmentBaseline",allowReorder:1,alphabetic:0,amplitude:0,arabicForm:1,"arabic-form":"arabicForm",ascent:0,attributeName:1,attributeType:1,autoReverse:1,azimuth:0,baseFrequency:1,baselineShift:1,"baseline-shift":"baselineShift",baseProfile:1,bbox:0,begin:0,bias:0,by:0,calcMode:1,capHeight:1,"cap-height":"capHeight",clip:0,clipPath:1,"clip-path":"clipPath",clipPathUnits:1,clipRule:1,"clip-rule":"clipRule",color:0,colorInterpolation:1,"color-interpolation":"colorInterpolation",colorInterpolationFilters:1,"color-interpolation-filters":"colorInterpolationFilters",colorProfile:1,"color-profile":"colorProfile",colorRendering:1,"color-rendering":"colorRendering",contentScriptType:1,contentStyleType:1,cursor:0,cx:0,cy:0,d:0,datatype:0,decelerate:0,descent:0,diffuseConstant:1,direction:0,display:0,divisor:0,dominantBaseline:1,"dominant-baseline":"dominantBaseline",dur:0,dx:0,dy:0,edgeMode:1,elevation:0,enableBackground:1,"enable-background":"enableBackground",end:0,exponent:0,externalResourcesRequired:1,fill:0,fillOpacity:1,"fill-opacity":"fillOpacity",fillRule:1,"fill-rule":"fillRule",filter:0,filterRes:1,filterUnits:1,floodOpacity:1,"flood-opacity":"floodOpacity",floodColor:1,"flood-color":"floodColor",focusable:0,fontFamily:1,"font-family":"fontFamily",fontSize:1,"font-size":"fontSize",fontSizeAdjust:1,"font-size-adjust":"fontSizeAdjust",fontStretch:1,"font-stretch":"fontStretch",fontStyle:1,"font-style":"fontStyle",fontVariant:1,"font-variant":"fontVariant",fontWeight:1,"font-weight":"fontWeight",format:0,from:0,fx:0,fy:0,g1:0,g2:0,glyphName:1,"glyph-name":"glyphName",glyphOrientationHorizontal:1,"glyph-orientation-horizontal":"glyphOrientationHorizontal",glyphOrientationVertical:1,"glyph-orientation-vertical":"glyphOrientationVertical",glyphRef:1,gradientTransform:1,gradientUnits:1,hanging:0,horizAdvX:1,"horiz-adv-x":"horizAdvX",horizOriginX:1,"horiz-origin-x":"horizOriginX",ideographic:0,imageRendering:1,"image-rendering":"imageRendering",in2:0,in:0,inlist:0,intercept:0,k1:0,k2:0,k3:0,k4:0,k:0,kernelMatrix:1,kernelUnitLength:1,kerning:0,keyPoints:1,keySplines:1,keyTimes:1,lengthAdjust:1,letterSpacing:1,"letter-spacing":"letterSpacing",lightingColor:1,"lighting-color":"lightingColor",limitingConeAngle:1,local:0,markerEnd:1,"marker-end":"markerEnd",markerHeight:1,markerMid:1,"marker-mid":"markerMid",markerStart:1,"marker-start":"markerStart",markerUnits:1,markerWidth:1,mask:0,maskContentUnits:1,maskUnits:1,mathematical:0,mode:0,numOctaves:1,offset:0,opacity:0,operator:0,order:0,orient:0,orientation:0,origin:0,overflow:0,overlinePosition:1,"overline-position":"overlinePosition",overlineThickness:1,"overline-thickness":"overlineThickness",paintOrder:1,"paint-order":"paintOrder",panose1:0,"panose-1":"panose1",pathLength:1,patternContentUnits:1,patternTransform:1,patternUnits:1,pointerEvents:1,"pointer-events":"pointerEvents",points:0,pointsAtX:1,pointsAtY:1,pointsAtZ:1,prefix:0,preserveAlpha:1,preserveAspectRatio:1,primitiveUnits:1,property:0,r:0,radius:0,refX:1,refY:1,renderingIntent:1,"rendering-intent":"renderingIntent",repeatCount:1,repeatDur:1,requiredExtensions:1,requiredFeatures:1,resource:0,restart:0,result:0,results:0,rotate:0,rx:0,ry:0,scale:0,security:0,seed:0,shapeRendering:1,"shape-rendering":"shapeRendering",slope:0,spacing:0,specularConstant:1,specularExponent:1,speed:0,spreadMethod:1,startOffset:1,stdDeviation:1,stemh:0,stemv:0,stitchTiles:1,stopColor:1,"stop-color":"stopColor",stopOpacity:1,"stop-opacity":"stopOpacity",strikethroughPosition:1,"strikethrough-position":"strikethroughPosition",strikethroughThickness:1,"strikethrough-thickness":"strikethroughThickness",string:0,stroke:0,strokeDasharray:1,"stroke-dasharray":"strokeDasharray",strokeDashoffset:1,"stroke-dashoffset":"strokeDashoffset",strokeLinecap:1,"stroke-linecap":"strokeLinecap",strokeLinejoin:1,"stroke-linejoin":"strokeLinejoin",strokeMiterlimit:1,"stroke-miterlimit":"strokeMiterlimit",strokeWidth:1,"stroke-width":"strokeWidth",strokeOpacity:1,"stroke-opacity":"strokeOpacity",suppressContentEditableWarning:1,suppressHydrationWarning:1,surfaceScale:1,systemLanguage:1,tableValues:1,targetX:1,targetY:1,textAnchor:1,"text-anchor":"textAnchor",textDecoration:1,"text-decoration":"textDecoration",textLength:1,textRendering:1,"text-rendering":"textRendering",to:0,transform:0,typeof:0,u1:0,u2:0,underlinePosition:1,"underline-position":"underlinePosition",underlineThickness:1,"underline-thickness":"underlineThickness",unicode:0,unicodeBidi:1,"unicode-bidi":"unicodeBidi",unicodeRange:1,"unicode-range":"unicodeRange",unitsPerEm:1,"units-per-em":"unitsPerEm",unselectable:0,vAlphabetic:1,"v-alphabetic":"vAlphabetic",values:0,vectorEffect:1,"vector-effect":"vectorEffect",version:0,vertAdvY:1,"vert-adv-y":"vertAdvY",vertOriginX:1,"vert-origin-x":"vertOriginX",vertOriginY:1,"vert-origin-y":"vertOriginY",vHanging:1,"v-hanging":"vHanging",vIdeographic:1,"v-ideographic":"vIdeographic",viewBox:1,viewTarget:1,visibility:0,vMathematical:1,"v-mathematical":"vMathematical",vocab:0,widths:0,wordSpacing:1,"word-spacing":"wordSpacing",writingMode:1,"writing-mode":"writingMode",x1:0,x2:0,x:0,xChannelSelector:1,xHeight:1,"x-height":"xHeight",xlinkActuate:1,"xlink:actuate":"xlinkActuate",xlinkArcrole:1,"xlink:arcrole":"xlinkArcrole",xlinkHref:1,"xlink:href":"xlinkHref",xlinkRole:1,"xlink:role":"xlinkRole",xlinkShow:1,"xlink:show":"xlinkShow",xlinkTitle:1,"xlink:title":"xlinkTitle",xlinkType:1,"xlink:type":"xlinkType",xmlBase:1,"xml:base":"xmlBase",xmlLang:1,"xml:lang":"xmlLang",xmlns:0,"xml:space":"xmlSpace",xmlnsXlink:1,"xmlns:xlink":"xmlnsXlink",xmlSpace:1,y1:0,y2:0,y:0,yChannelSelector:1,z:0,zoomAndPan:1},yg}var m3;function Khe(){if(m3)return Es;m3=1;const t=0,e=1,n=2,r=3,i=4,o=5,s=6;function a(P){return d.hasOwnProperty(P)?d[P]:null}function c(P,R,k,z,L,O,B){this.acceptsBooleans=R===n||R===r||R===i,this.attributeName=z,this.attributeNamespace=L,this.mustUseProperty=k,this.propertyName=P,this.type=R,this.sanitizeURL=O,this.removeEmptyString=B}const d={};["children","dangerouslySetInnerHTML","defaultValue","defaultChecked","innerHTML","suppressContentEditableWarning","suppressHydrationWarning","style"].forEach(P=>{d[P]=new c(P,t,!1,P,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(([P,R])=>{d[P]=new c(P,e,!1,R,null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(P=>{d[P]=new c(P,n,!1,P.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(P=>{d[P]=new c(P,n,!1,P,null,!1,!1)}),["allowFullScreen","async","autoFocus","autoPlay","controls","default","defer","disabled","disablePictureInPicture","disableRemotePlayback","formNoValidate","hidden","loop","noModule","noValidate","open","playsInline","readOnly","required","reversed","scoped","seamless","itemScope"].forEach(P=>{d[P]=new c(P,r,!1,P.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(P=>{d[P]=new c(P,r,!0,P,null,!1,!1)}),["capture","download"].forEach(P=>{d[P]=new c(P,i,!1,P,null,!1,!1)}),["cols","rows","size","span"].forEach(P=>{d[P]=new c(P,s,!1,P,null,!1,!1)}),["rowSpan","start"].forEach(P=>{d[P]=new c(P,o,!1,P.toLowerCase(),null,!1,!1)});const m=/[\-\:]([a-z])/g,g=P=>P[1].toUpperCase();["accent-height","alignment-baseline","arabic-form","baseline-shift","cap-height","clip-path","clip-rule","color-interpolation","color-interpolation-filters","color-profile","color-rendering","dominant-baseline","enable-background","fill-opacity","fill-rule","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","glyph-name","glyph-orientation-horizontal","glyph-orientation-vertical","horiz-adv-x","horiz-origin-x","image-rendering","letter-spacing","lighting-color","marker-end","marker-mid","marker-start","overline-position","overline-thickness","paint-order","panose-1","pointer-events","rendering-intent","shape-rendering","stop-color","stop-opacity","strikethrough-position","strikethrough-thickness","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-anchor","text-decoration","text-rendering","underline-position","underline-thickness","unicode-bidi","unicode-range","units-per-em","v-alphabetic","v-hanging","v-ideographic","v-mathematical","vector-effect","vert-adv-y","vert-origin-x","vert-origin-y","word-spacing","writing-mode","xmlns:xlink","x-height"].forEach(P=>{const R=P.replace(m,g);d[R]=new c(R,e,!1,P,null,!1,!1)}),["xlink:actuate","xlink:arcrole","xlink:role","xlink:show","xlink:title","xlink:type"].forEach(P=>{const R=P.replace(m,g);d[R]=new c(R,e,!1,P,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(P=>{const R=P.replace(m,g);d[R]=new c(R,e,!1,P,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(P=>{d[P]=new c(P,e,!1,P.toLowerCase(),null,!1,!1)});const y="xlinkHref";d[y]=new c("xlinkHref",e,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(P=>{d[P]=new c(P,e,!1,P.toLowerCase(),null,!0,!0)});const{CAMELCASE:x,SAME:S,possibleStandardNames:_}=Yhe(),C=":A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD"+"\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040",T=RegExp.prototype.test.bind(new RegExp("^(data|aria)-["+C+"]*$")),A=Object.keys(_).reduce((P,R)=>{const k=_[R];return k===S?P[R]=R:k===x?P[R.toLowerCase()]=R:P[R]=k,P},{});return Es.BOOLEAN=r,Es.BOOLEANISH_STRING=n,Es.NUMERIC=o,Es.OVERLOADED_BOOLEAN=i,Es.POSITIVE_NUMERIC=s,Es.RESERVED=t,Es.STRING=e,Es.getPropertyInfo=a,Es.isCustomAttribute=T,Es.possibleStandardNames=A,Es}var xg={},Yh={},Zw,g3;function Zhe(){if(g3)return Zw;g3=1;var t=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,e=/\n/g,n=/^\s*/,r=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,i=/^:\s*/,o=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,s=/^[;\s]*/,a=/^\s+|\s+$/g,c=`
`,d="/",f="*",m="",g="comment",y="declaration";Zw=function(S,_){if(typeof S!="string")throw new TypeError("First argument must be a string");if(!S)return[];_=_||{};var b=1,C=1;function T(X){var ee=X.match(e);ee&&(b+=ee.length);var K=X.lastIndexOf(c);C=~K?X.length-K:C+X.length}function A(){var X={line:b,column:C};return function(ee){return ee.position=new P(X),z(),ee}}function P(X){this.start=X,this.end={line:b,column:C},this.source=_.source}P.prototype.content=S;function R(X){var ee=new Error(_.source+":"+b+":"+C+": "+X);if(ee.reason=X,ee.filename=_.source,ee.line=b,ee.column=C,ee.source=S,!_.silent)throw ee}function k(X){var ee=X.exec(S);if(ee){var K=ee[0];return T(K),S=S.slice(K.length),ee}}function z(){k(n)}function L(X){var ee;for(X=X||[];ee=O();)ee!==!1&&X.push(ee);return X}function O(){var X=A();if(!(d!=S.charAt(0)||f!=S.charAt(1))){for(var ee=2;m!=S.charAt(ee)&&(f!=S.charAt(ee)||d!=S.charAt(ee+1));)++ee;if(ee+=2,m===S.charAt(ee-1))return R("End of comment missing");var K=S.slice(2,ee-2);return C+=2,T(K),S=S.slice(ee),C+=2,X({type:g,comment:K})}}function B(){var X=A(),ee=k(r);if(ee){if(O(),!k(i))return R("property missing ':'");var K=k(o),ne=X({type:y,property:x(ee[0].replace(t,m)),value:K?x(K[0].replace(t,m)):m});return k(s),ne}}function j(){var X=[];L(X);for(var ee;ee=B();)ee!==!1&&(X.push(ee),L(X));return X}return z(),j()};function x(S){return S?S.replace(a,m):m}return Zw}var v3;function Jhe(){if(v3)return Yh;v3=1;var t=Yh&&Yh.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Yh,"__esModule",{value:!0}),Yh.default=n;var e=t(Zhe());function n(r,i){var o=null;if(!r||typeof r!="string")return o;var s=(0,e.default)(r),a=typeof i=="function";return s.forEach(function(c){if(c.type==="declaration"){var d=c.property,f=c.value;a?i(d,f,c):f&&(o=o||{},o[d]=f)}}),o}return Yh}var bg={},y3;function Qhe(){if(y3)return bg;y3=1,Object.defineProperty(bg,"__esModule",{value:!0}),bg.camelCase=void 0;var t=/^--[a-zA-Z0-9_-]+$/,e=/-([a-z])/g,n=/^[^-]+$/,r=/^-(webkit|moz|ms|o|khtml)-/,i=/^-(ms)-/,o=function(d){return!d||n.test(d)||t.test(d)},s=function(d,f){return f.toUpperCase()},a=function(d,f){return"".concat(f,"-")},c=function(d,f){return f===void 0&&(f={}),o(d)?d:(d=d.toLowerCase(),f.reactCompat?d=d.replace(i,a):d=d.replace(r,a),d.replace(e,s))};return bg.camelCase=c,bg}var _g,x3;function epe(){if(x3)return _g;x3=1;var t=_g&&_g.__importDefault||function(i){return i&&i.__esModule?i:{default:i}},e=t(Jhe()),n=Qhe();function r(i,o){var s={};return!i||typeof i!="string"||(0,e.default)(i,function(a,c){a&&c&&(s[(0,n.camelCase)(a,o)]=c)}),s}return r.default=r,_g=r,_g}var b3;function SU(){return b3||(b3=1,function(t){var e=xg&&xg.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(t,"__esModule",{value:!0}),t.returnFirstArg=t.canTextBeChildOfNode=t.ELEMENTS_WITH_NO_TEXT_CHILDREN=t.PRESERVE_CUSTOM_ATTRIBUTES=void 0,t.isCustomComponent=o,t.setStyleProp=a;var n=Np(),r=e(epe()),i=new Set(["annotation-xml","color-profile","font-face","font-face-src","font-face-uri","font-face-format","font-face-name","missing-glyph"]);function o(f,m){return f.includes("-")?!i.has(f):!!(m&&typeof m.is=="string")}var s={reactCompat:!0};function a(f,m){if(typeof f=="string"){if(!f.trim()){m.style={};return}try{m.style=(0,r.default)(f,s)}catch{m.style={}}}}t.PRESERVE_CUSTOM_ATTRIBUTES=Number(n.version.split(".")[0])>=16,t.ELEMENTS_WITH_NO_TEXT_CHILDREN=new Set(["tr","tbody","thead","tfoot","colgroup","table","head","html","frameset"]);var c=function(f){return!t.ELEMENTS_WITH_NO_TEXT_CHILDREN.has(f.name)};t.canTextBeChildOfNode=c;var d=function(f){return f};t.returnFirstArg=d}(xg)),xg}var _3;function wU(){if(_3)return cx;_3=1,Object.defineProperty(cx,"__esModule",{value:!0}),cx.default=o;var t=Khe(),e=SU(),n=["checked","value"],r=["input","select","textarea"],i={reset:!0,submit:!0};function o(a,c){a===void 0&&(a={});var d={},f=!!(a.type&&i[a.type]);for(var m in a){var g=a[m];if((0,t.isCustomAttribute)(m)){d[m]=g;continue}var y=m.toLowerCase(),x=s(y);if(x){var S=(0,t.getPropertyInfo)(x);switch(n.includes(x)&&r.includes(c)&&!f&&(x=s("default"+y)),d[x]=g,S&&S.type){case t.BOOLEAN:d[x]=!0;break;case t.OVERLOADED_BOOLEAN:g===""&&(d[x]=!0);break}continue}e.PRESERVE_CUSTOM_ATTRIBUTES&&(d[m]=g)}return(0,e.setStyleProp)(a.style,d),d}function s(a){return t.possibleStandardNames[a]}return cx}var Kh={},S3;function tpe(){if(S3)return Kh;S3=1;var t=Kh&&Kh.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(Kh,"__esModule",{value:!0}),Kh.default=o;var e=Np(),n=t(wU()),r=SU(),i={cloneElement:e.cloneElement,createElement:e.createElement,isValidElement:e.isValidElement};function o(a,c){c===void 0&&(c={});for(var d=[],f=typeof c.replace=="function",m=c.transform||r.returnFirstArg,g=c.library||i,y=g.cloneElement,x=g.createElement,S=g.isValidElement,_=a.length,b=0;b<_;b++){var C=a[b];if(f){var T=c.replace(C,b);if(S(T)){_>1&&(T=y(T,{key:T.key||b})),d.push(m(T,C,b));continue}}if(C.type==="text"){var A=!C.data.trim().length;if(A&&C.parent&&!(0,r.canTextBeChildOfNode)(C.parent)||c.trim&&A)continue;d.push(m(C.data,C,b));continue}var P=C,R={};s(P)?((0,r.setStyleProp)(P.attribs.style,P.attribs),R=P.attribs):P.attribs&&(R=(0,n.default)(P.attribs,P.name));var k=void 0;switch(C.type){case"script":case"style":C.children[0]&&(R.dangerouslySetInnerHTML={__html:C.children[0].data});break;case"tag":C.name==="textarea"&&C.children[0]?R.defaultValue=C.children[0].data:C.children&&C.children.length&&(k=o(C.children,c));break;default:continue}_>1&&(R.key=b),d.push(m(x(C.name,R,k),C,b))}return d.length===1?d[0]:d}function s(a){return r.PRESERVE_CUSTOM_ATTRIBUTES&&a.type==="tag"&&(0,r.isCustomComponent)(a.name,a.attribs)}return Kh}var w3;function npe(){return w3||(w3=1,function(t){var e=vg&&vg.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(t,"__esModule",{value:!0}),t.htmlToDOM=t.domToReact=t.attributesToProps=t.Text=t.ProcessingInstruction=t.Element=t.Comment=void 0,t.default=a;var n=e(qhe());t.htmlToDOM=n.default;var r=e(wU());t.attributesToProps=r.default;var i=e(tpe());t.domToReact=i.default;var o=bU();Object.defineProperty(t,"Comment",{enumerable:!0,get:function(){return o.Comment}}),Object.defineProperty(t,"Element",{enumerable:!0,get:function(){return o.Element}}),Object.defineProperty(t,"ProcessingInstruction",{enumerable:!0,get:function(){return o.ProcessingInstruction}}),Object.defineProperty(t,"Text",{enumerable:!0,get:function(){return o.Text}});var s={lowerCaseAttributeNames:!1};function a(c,d){if(typeof c!="string")throw new TypeError("First argument must be a string");return c?(0,i.default)((0,n.default)(c,(d==null?void 0:d.htmlparser2)||s),d):[]}}(vg)),vg}var rpe=npe();const E3=wu(rpe),ipe=E3.default||E3;function Jw({image_path:t,figure_description:e}){const n=vc({base:0,sm:1,md:2});return ie.jsxs(Hi,{textAlign:"center",mt:4,children:[ie.jsx(BD,{src:t,alt:t,width:"100%"}),ie.jsx(po,{textStyle:n==2?"md":"xs",color:"gray.600",mt:2,children:ipe(e)})]})}function ope(){const t=vc({base:0,sm:1,md:2});return ie.jsxs(Hi,{children:[ie.jsx(Ql,{as:"h2",size:t==2?"3xl":"xl",mb:2,children:"Applications"}),ie.jsx(po,{mt:2,textStyle:t==2?"lg":"sm",children:"TetWeave is a versatile tool that can be applied to various domains, including compression, creation of geometric textures, and photogrammetry."}),ie.jsx(Ql,{as:"h3",size:t==2?"2xl":"lg",mb:2,mt:4,id:"compression",children:"Compression"}),ie.jsx(Jw,{image_path:"/TetWeave/paper/figures/compression.png",figure_description:'Comparison of our representation against two mesh-compression techniques, Draco <a style="font-weight:bold" href="https://github.com/google/draco">[Google 2017]</a> and Neural Geometry Fields (NGF) <a style="font-weight:bold" href="https://doi.org/10.1145/3641519.3657399">[Sivaram et al. 2024]</a>, on a high-resolution statue. The reference mesh occupies 37.4MB with single precision. Draco compresses it to 2.3MB by quantizing vertex connectivity, but suffers from high-frequency artifacts. NGF requires only 267.3kB but produces non-adaptive patches, can over-smoothen the result and self-intersect. Our approach achieves a 319.8kB file size by discarding non-active points, using 16-bit floats, and inferring connectivity from Delaunay triangulation.'}),ie.jsx(Ql,{as:"h3",size:t==2?"2xl":"lg",mb:2,mt:4,id:"geometric textures",children:"Geometric textures"}),ie.jsx(Jw,{image_path:"/TetWeave/paper/figures/geometric_textures.png",figure_description:"We showcase how gradientbased optimization allows for creating geometric textures by finetuning highfrequency details. The reference is obtained by optimizing our representation of the Stanford bunny. Using gradient-based optimization, we can create geometric textures by applying a style to high-frequency details of a mesh. With Paparazzi's approach <a style='font-weight:bold' href='https://doi.org/10.1145/3272127.3275047'>[Liu et al. 2018]</a>, we can use any image filter for stylization. We display the stylization using Guided filter, L<sub>0</sub>-smoothing, and K-means color quantization. Our method also allows us to backpropagate gradients from any energy function.  We also apply a CLIP loss on the rendered normal maps with the prompt ''a wave-like style'', and a developability energy <a style='font-weight:bold' href='https://doi.org/10.1145/3197517.3201303'>[Stein et al. 2018]</a> directly on the reconstructed mesh, yielding piecewise developable surfaces."}),ie.jsx(Ql,{as:"h3",size:t==2?"2xl":"lg",mb:2,mt:4,id:"photogrammetry",children:"Photogrammetry"}),ie.jsx(Jw,{image_path:"/TetWeave/paper/figures/photogrammetry.png",figure_description:'We demonstrate the applicability of our method to photogrammetry by integrating it into the nvdiffrec pipeline <a style="font-weight:bold" href="https://www.doi.org/10.1109/CVPR52688.2022.00810">[Munkberg et al. 2022]</a>. Nvdiffrec uses differentiable rasterization to jointly optimize PBR material properties, the environment map, and geometry to match a target rendered shape. In our approach, we employ our method as the geometry representation in a multi-stage process. We initialize a blue-noise point cloud and jointly optimize the point positions along with their SDF values, compute the tetrahedral grid on the fly, and reconstruct a coarse shape. Second, we fit our representation to the coarse mesh, resulting in a point cloud that closely matches the reconstructed shape. Finally, we use nvdiffrec to refine high-frequency details, optimizing only the SDF values in the last stage.'})]})}function spe(){const t=vc({base:0,sm:1,md:2});return ie.jsx("div",{className:"paper-container",children:ie.jsxs(Hi,{maxWidth:"1280px",margin:"auto",padding:"4",children:[ie.jsx(Bq,{}),ie.jsx(iy,{my:4,variant:"dashed",colorPalette:"gray.800"}),ie.jsx(Ghe,{}),ie.jsx(iy,{my:4,variant:"dashed",colorPalette:"gray.800"}),ie.jsx(ope,{}),ie.jsx(iy,{my:4,variant:"dashed",colorPalette:"gray.800"}),ie.jsxs(Hi,{children:[ie.jsx(Ql,{as:"h2",size:t==2?"3xl":"xl",mb:2,children:"Citation"}),ie.jsx(Vq,{path:"/TetWeave/paper/cite.bib"})]}),ie.jsx(iy,{my:4,variant:"dashed",colorPalette:"gray.800"}),ie.jsxs(Hi,{children:[ie.jsx(Ql,{as:"h2",size:t==2?"3xl":"xl",children:"Acknowledgments"}),ie.jsx(po,{textStyle:t==2?"lg":"sm",mt:2,children:"We thank the anonymous reviewers for their constructive feedback. This work was supported in part by the European Research Council (ERC) under the European Union's Horizon 2020 research and innovation program (grant agreement No. 101003104, ERC CoG MYCLOTH)."})]})]})})}dM.createRoot(document.getElementById("root")).render(ie.jsx(D.StrictMode,{children:ie.jsx(Iq,{children:ie.jsx(spe,{})})}));
